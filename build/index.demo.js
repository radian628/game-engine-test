import{a as Ut,b as ht,c as tn}from"./chunk-RFBBAUMM.js";var mp=Ut((kS,fp)=>{"use strict";function Ke(t){if(this.size=t|0,this.size<=1||(this.size&this.size-1)!==0)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=t<<1;for(var e=new Array(this.size*2),n=0;n<e.length;n+=2){let c=Math.PI*n/this.size;e[n]=Math.cos(c),e[n+1]=-Math.sin(c)}this.table=e;for(var r=0,o=1;this.size>o;o<<=1)r++;this._width=r%2===0?r-1:r,this._bitrev=new Array(1<<this._width);for(var s=0;s<this._bitrev.length;s++){this._bitrev[s]=0;for(var i=0;i<this._width;i+=2){var a=this._width-i-2;this._bitrev[s]|=(s>>>i&3)<<a}}this._out=null,this._data=null,this._inv=0}fp.exports=Ke;Ke.prototype.fromComplexArray=function(e,n){for(var r=n||new Array(e.length>>>1),o=0;o<e.length;o+=2)r[o>>>1]=e[o];return r};Ke.prototype.createComplexArray=function(){let e=new Array(this._csize);for(var n=0;n<e.length;n++)e[n]=0;return e};Ke.prototype.toComplexArray=function(e,n){for(var r=n||this.createComplexArray(),o=0;o<r.length;o+=2)r[o]=e[o>>>1],r[o+1]=0;return r};Ke.prototype.completeSpectrum=function(e){for(var n=this._csize,r=n>>>1,o=2;o<r;o+=2)e[n-o]=e[o],e[n-o+1]=-e[o+1]};Ke.prototype.transform=function(e,n){if(e===n)throw new Error("Input and output buffers must be different");this._out=e,this._data=n,this._inv=0,this._transform4(),this._out=null,this._data=null};Ke.prototype.realTransform=function(e,n){if(e===n)throw new Error("Input and output buffers must be different");this._out=e,this._data=n,this._inv=0,this._realTransform4(),this._out=null,this._data=null};Ke.prototype.inverseTransform=function(e,n){if(e===n)throw new Error("Input and output buffers must be different");this._out=e,this._data=n,this._inv=1,this._transform4();for(var r=0;r<e.length;r++)e[r]/=this.size;this._out=null,this._data=null};Ke.prototype._transform4=function(){var e=this._out,n=this._csize,r=this._width,o=1<<r,s=n/o<<1,i,a,c=this._bitrev;if(s===4)for(i=0,a=0;i<n;i+=s,a++){let E=c[a];this._singleTransform2(i,E,o)}else for(i=0,a=0;i<n;i+=s,a++){let E=c[a];this._singleTransform4(i,E,o)}var u=this._inv?-1:1,l=this.table;for(o>>=2;o>=2;o>>=2){s=n/o<<1;var f=s>>>2;for(i=0;i<n;i+=s)for(var m=i+f,d=i,v=0;d<m;d+=2,v+=o){let E=d,S=E+f,x=S+f,g=x+f,y=e[E],A=e[E+1],V=e[S],I=e[S+1],D=e[x],k=e[x+1],O=e[g],G=e[g+1],ue=y,en=A,mr=l[v],dr=u*l[v+1],hr=V*mr-I*dr,pr=V*dr+I*mr,Bs=l[2*v],ws=u*l[2*v+1],Es=D*Bs-k*ws,Ss=D*ws+k*Bs,Cs=l[3*v],Ms=u*l[3*v+1],Vs=O*Cs-G*Ms,Ds=O*Ms+G*Cs,Rs=ue+Es,Wr=en+Ss,$r=ue-Es,Is=en-Ss,ks=hr+Vs,Zr=pr+Ds,eo=u*(hr-Vs),Os=u*(pr-Ds),fa=Rs+ks,sl=Wr+Zr,il=Rs-ks,al=Wr-Zr,cl=$r+Os,ul=Is-eo,ll=$r-Os,fl=Is+eo;e[E]=fa,e[E+1]=sl,e[S]=cl,e[S+1]=ul,e[x]=il,e[x+1]=al,e[g]=ll,e[g+1]=fl}}};Ke.prototype._singleTransform2=function(e,n,r){let o=this._out,s=this._data,i=s[n],a=s[n+1],c=s[n+r],u=s[n+r+1],l=i+c,f=a+u,m=i-c,d=a-u;o[e]=l,o[e+1]=f,o[e+2]=m,o[e+3]=d};Ke.prototype._singleTransform4=function(e,n,r){let o=this._out,s=this._data,i=this._inv?-1:1,a=r*2,c=r*3,u=s[n],l=s[n+1],f=s[n+r],m=s[n+r+1],d=s[n+a],v=s[n+a+1],E=s[n+c],S=s[n+c+1],x=u+d,g=l+v,y=u-d,A=l-v,V=f+E,I=m+S,D=i*(f-E),k=i*(m-S),O=x+V,G=g+I,ue=y+k,en=A-D,mr=x-V,dr=g-I,hr=y-k,pr=A+D;o[e]=O,o[e+1]=G,o[e+2]=ue,o[e+3]=en,o[e+4]=mr,o[e+5]=dr,o[e+6]=hr,o[e+7]=pr};Ke.prototype._realTransform4=function(){var e=this._out,n=this._csize,r=this._width,o=1<<r,s=n/o<<1,i,a,c=this._bitrev;if(s===4)for(i=0,a=0;i<n;i+=s,a++){let ml=c[a];this._singleRealTransform2(i,ml>>>1,o>>>1)}else for(i=0,a=0;i<n;i+=s,a++){let ml=c[a];this._singleRealTransform4(i,ml>>>1,o>>>1)}var u=this._inv?-1:1,l=this.table;for(o>>=2;o>=2;o>>=2){s=n/o<<1;var f=s>>>1,m=f>>>1,d=m>>>1;for(i=0;i<n;i+=s)for(var v=0,E=0;v<=d;v+=2,E+=o){var S=i+v,x=S+m,g=x+m,y=g+m,A=e[S],V=e[S+1],I=e[x],D=e[x+1],k=e[g],O=e[g+1],G=e[y],ue=e[y+1],en=A,mr=V,dr=l[E],hr=u*l[E+1],pr=I*dr-D*hr,Bs=I*hr+D*dr,ws=l[2*E],Es=u*l[2*E+1],Ss=k*ws-O*Es,Cs=k*Es+O*ws,Ms=l[3*E],Vs=u*l[3*E+1],Ds=G*Ms-ue*Vs,Rs=G*Vs+ue*Ms,Wr=en+Ss,$r=mr+Cs,Is=en-Ss,ks=mr-Cs,Zr=pr+Ds,eo=Bs+Rs,Os=u*(pr-Ds),fa=u*(Bs-Rs),sl=Wr+Zr,il=$r+eo,al=Is+fa,cl=ks-Os;if(e[S]=sl,e[S+1]=il,e[x]=al,e[x+1]=cl,v===0){var ul=Wr-Zr,ll=$r-eo;e[g]=ul,e[g+1]=ll;continue}if(v!==d){var fl=Is,WA=-ks,$A=Wr,ZA=-$r,ev=-u*fa,tv=-u*Os,nv=-u*eo,rv=-u*Zr,ov=fl+ev,sv=WA+tv,iv=$A+rv,av=ZA-nv,op=i+m-v,sp=i+f-v;e[op]=ov,e[op+1]=sv,e[sp]=iv,e[sp+1]=av}}}};Ke.prototype._singleRealTransform2=function(e,n,r){let o=this._out,s=this._data,i=s[n],a=s[n+r],c=i+a,u=i-a;o[e]=c,o[e+1]=0,o[e+2]=u,o[e+3]=0};Ke.prototype._singleRealTransform4=function(e,n,r){let o=this._out,s=this._data,i=this._inv?-1:1,a=r*2,c=r*3,u=s[n],l=s[n+r],f=s[n+a],m=s[n+c],d=u+f,v=u-f,E=l+m,S=i*(l-m),x=d+E,g=v,y=-S,A=d-E,V=v,I=S;o[e]=x,o[e+1]=0,o[e+2]=g,o[e+3]=y,o[e+4]=A,o[e+5]=0,o[e+6]=V,o[e+7]=I}});var hp=Ut((OS,dp)=>{dp.exports=vv;function vv(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t+1)}});var Mp=Ut(F=>{"use strict";var gl=Symbol.for("react.transitional.element"),Iv=Symbol.for("react.portal"),kv=Symbol.for("react.fragment"),Ov=Symbol.for("react.strict_mode"),Gv=Symbol.for("react.profiler"),Uv=Symbol.for("react.consumer"),Lv=Symbol.for("react.context"),Fv=Symbol.for("react.forward_ref"),Nv=Symbol.for("react.suspense"),zv=Symbol.for("react.memo"),Tp=Symbol.for("react.lazy"),Hv=Symbol.for("react.activity"),Ap=Symbol.iterator;function Pv(t){return t===null||typeof t!="object"?null:(t=Ap&&t[Ap]||t["@@iterator"],typeof t=="function"?t:null)}var Bp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wp=Object.assign,Ep={};function so(t,e,n){this.props=t,this.context=e,this.refs=Ep,this.updater=n||Bp}so.prototype.isReactComponent={};so.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};so.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sp(){}Sp.prototype=so.prototype;function Al(t,e,n){this.props=t,this.context=e,this.refs=Ep,this.updater=n||Bp}var vl=Al.prototype=new Sp;vl.constructor=Al;wp(vl,so.prototype);vl.isPureReactComponent=!0;var vp=Array.isArray;function xl(){}var re={H:null,A:null,T:null,S:null},Cp=Object.prototype.hasOwnProperty;function bl(t,e,n){var r=n.ref;return{$$typeof:gl,type:t,key:e,ref:r!==void 0?r:null,props:n}}function Kv(t,e){return bl(t.type,e,t.props)}function _l(t){return typeof t=="object"&&t!==null&&t.$$typeof===gl}function Jv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bp=/\/+/g;function yl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jv(""+t.key):e.toString(36)}function jv(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(xl,xl):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function oo(t,e,n,r,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"bigint":case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case gl:case Iv:i=!0;break;case Tp:return i=t._init,oo(i(t._payload),e,n,r,o)}}if(i)return o=o(t),i=r===""?"."+yl(t,0):r,vp(o)?(n="",i!=null&&(n=i.replace(bp,"$&/")+"/"),oo(o,e,n,"",function(u){return u})):o!=null&&(_l(o)&&(o=Kv(o,n+(o.key==null||t&&t.key===o.key?"":(""+o.key).replace(bp,"$&/")+"/")+i)),e.push(o)),1;i=0;var a=r===""?".":r+":";if(vp(t))for(var c=0;c<t.length;c++)r=t[c],s=a+yl(r,c),i+=oo(r,e,n,s,o);else if(c=Pv(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,s=a+yl(r,c++),i+=oo(r,e,n,s,o);else if(s==="object"){if(typeof t.then=="function")return oo(jv(t),e,n,r,o);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return i}function pa(t,e,n){if(t==null)return t;var r=[],o=0;return oo(t,r,"","",function(s){return e.call(n,s,o++)}),r}function Xv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _p=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yv={map:pa,forEach:function(t,e,n){pa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pa(t,function(){e++}),e},toArray:function(t){return pa(t,function(e){return e})||[]},only:function(t){if(!_l(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Activity=Hv;F.Children=Yv;F.Component=so;F.Fragment=kv;F.Profiler=Gv;F.PureComponent=Al;F.StrictMode=Ov;F.Suspense=Nv;F.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re;F.__COMPILER_RUNTIME={__proto__:null,c:function(t){return re.H.useMemoCache(t)}};F.cache=function(t){return function(){return t.apply(null,arguments)}};F.cacheSignal=function(){return null};F.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=wp({},t.props),o=t.key;if(e!=null)for(s in e.key!==void 0&&(o=""+e.key),e)!Cp.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(r[s]=e[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var i=Array(s),a=0;a<s;a++)i[a]=arguments[a+2];r.children=i}return bl(t.type,o,r)};F.createContext=function(t){return t={$$typeof:Lv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Uv,_context:t},t};F.createElement=function(t,e,n){var r,o={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)Cp.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(o[r]=e[r]);var i=arguments.length-2;if(i===1)o.children=n;else if(1<i){for(var a=Array(i),c=0;c<i;c++)a[c]=arguments[c+2];o.children=a}if(t&&t.defaultProps)for(r in i=t.defaultProps,i)o[r]===void 0&&(o[r]=i[r]);return bl(t,s,o)};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:Fv,render:t}};F.isValidElement=_l;F.lazy=function(t){return{$$typeof:Tp,_payload:{_status:-1,_result:t},_init:Xv}};F.memo=function(t,e){return{$$typeof:zv,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=re.T,n={};re.T=n;try{var r=t(),o=re.S;o!==null&&o(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(xl,_p)}catch(s){_p(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),re.T=e}};F.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()};F.use=function(t){return re.H.use(t)};F.useActionState=function(t,e,n){return re.H.useActionState(t,e,n)};F.useCallback=function(t,e){return re.H.useCallback(t,e)};F.useContext=function(t){return re.H.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t,e){return re.H.useDeferredValue(t,e)};F.useEffect=function(t,e){return re.H.useEffect(t,e)};F.useEffectEvent=function(t){return re.H.useEffectEvent(t)};F.useId=function(){return re.H.useId()};F.useImperativeHandle=function(t,e,n){return re.H.useImperativeHandle(t,e,n)};F.useInsertionEffect=function(t,e){return re.H.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return re.H.useLayoutEffect(t,e)};F.useMemo=function(t,e){return re.H.useMemo(t,e)};F.useOptimistic=function(t,e){return re.H.useOptimistic(t,e)};F.useReducer=function(t,e,n){return re.H.useReducer(t,e,n)};F.useRef=function(t){return re.H.useRef(t)};F.useState=function(t){return re.H.useState(t)};F.useSyncExternalStore=function(t,e,n){return re.H.useSyncExternalStore(t,e,n)};F.useTransition=function(){return re.H.useTransition()};F.version="19.2.0"});var rn=Ut((VC,Vp)=>{"use strict";Vp.exports=Mp()});var zp=Ut(ae=>{"use strict";function El(t,e){var n=t.length;t.push(e);e:for(;0<n;){var r=n-1>>>1,o=t[r];if(0<ga(o,e))t[r]=e,t[n]=o,n=r;else break e}}function Ft(t){return t.length===0?null:t[0]}function va(t){if(t.length===0)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;e:for(var r=0,o=t.length,s=o>>>1;r<s;){var i=2*(r+1)-1,a=t[i],c=i+1,u=t[c];if(0>ga(a,n))c<o&&0>ga(u,a)?(t[r]=u,t[c]=n,r=c):(t[r]=a,t[i]=n,r=i);else if(c<o&&0>ga(u,n))t[r]=u,t[c]=n,r=c;else break e}}return e}function ga(t,e){var n=t.sortIndex-e.sortIndex;return n!==0?n:t.id-e.id}ae.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(Rp=performance,ae.unstable_now=function(){return Rp.now()}):(Tl=Date,Ip=Tl.now(),ae.unstable_now=function(){return Tl.now()-Ip});var Rp,Tl,Ip,on=[],Vn=[],qv=1,pt=null,Oe=3,Sl=!1,Gs=!1,Us=!1,Cl=!1,Gp=typeof setTimeout=="function"?setTimeout:null,Up=typeof clearTimeout=="function"?clearTimeout:null,kp=typeof setImmediate<"u"?setImmediate:null;function Aa(t){for(var e=Ft(Vn);e!==null;){if(e.callback===null)va(Vn);else if(e.startTime<=t)va(Vn),e.sortIndex=e.expirationTime,El(on,e);else break;e=Ft(Vn)}}function Ml(t){if(Us=!1,Aa(t),!Gs)if(Ft(on)!==null)Gs=!0,ao||(ao=!0,io());else{var e=Ft(Vn);e!==null&&Vl(Ml,e.startTime-t)}}var ao=!1,Ls=-1,Lp=5,Fp=-1;function Np(){return Cl?!0:!(ae.unstable_now()-Fp<Lp)}function Bl(){if(Cl=!1,ao){var t=ae.unstable_now();Fp=t;var e=!0;try{e:{Gs=!1,Us&&(Us=!1,Up(Ls),Ls=-1),Sl=!0;var n=Oe;try{t:{for(Aa(t),pt=Ft(on);pt!==null&&!(pt.expirationTime>t&&Np());){var r=pt.callback;if(typeof r=="function"){pt.callback=null,Oe=pt.priorityLevel;var o=r(pt.expirationTime<=t);if(t=ae.unstable_now(),typeof o=="function"){pt.callback=o,Aa(t),e=!0;break t}pt===Ft(on)&&va(on),Aa(t)}else va(on);pt=Ft(on)}if(pt!==null)e=!0;else{var s=Ft(Vn);s!==null&&Vl(Ml,s.startTime-t),e=!1}}break e}finally{pt=null,Oe=n,Sl=!1}e=void 0}}finally{e?io():ao=!1}}}var io;typeof kp=="function"?io=function(){kp(Bl)}:typeof MessageChannel<"u"?(wl=new MessageChannel,Op=wl.port2,wl.port1.onmessage=Bl,io=function(){Op.postMessage(null)}):io=function(){Gp(Bl,0)};var wl,Op;function Vl(t,e){Ls=Gp(function(){t(ae.unstable_now())},e)}ae.unstable_IdlePriority=5;ae.unstable_ImmediatePriority=1;ae.unstable_LowPriority=4;ae.unstable_NormalPriority=3;ae.unstable_Profiling=null;ae.unstable_UserBlockingPriority=2;ae.unstable_cancelCallback=function(t){t.callback=null};ae.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Lp=0<t?Math.floor(1e3/t):5};ae.unstable_getCurrentPriorityLevel=function(){return Oe};ae.unstable_next=function(t){switch(Oe){case 1:case 2:case 3:var e=3;break;default:e=Oe}var n=Oe;Oe=e;try{return t()}finally{Oe=n}};ae.unstable_requestPaint=function(){Cl=!0};ae.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=Oe;Oe=t;try{return e()}finally{Oe=n}};ae.unstable_scheduleCallback=function(t,e,n){var r=ae.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,t){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,t={id:qv++,callback:e,priorityLevel:t,startTime:n,expirationTime:o,sortIndex:-1},n>r?(t.sortIndex=n,El(Vn,t),Ft(on)===null&&t===Ft(Vn)&&(Us?(Up(Ls),Ls=-1):Us=!0,Vl(Ml,n-r))):(t.sortIndex=o,El(on,t),Gs||Sl||(Gs=!0,ao||(ao=!0,io()))),t};ae.unstable_shouldYield=Np;ae.unstable_wrapCallback=function(t){var e=Oe;return function(){var n=Oe;Oe=e;try{return t.apply(this,arguments)}finally{Oe=n}}}});var Pp=Ut((FC,Hp)=>{"use strict";Hp.exports=zp()});var Jp=Ut(Fe=>{"use strict";var Wv=rn();function Kp(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Dn(){}var Le={d:{f:Dn,r:function(){throw Error(Kp(522))},D:Dn,C:Dn,L:Dn,m:Dn,X:Dn,S:Dn,M:Dn},p:0,findDOMNode:null},$v=Symbol.for("react.portal");function Zv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$v,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Fs=Wv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ba(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Le;Fe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Kp(299));return Zv(t,e,null,n)};Fe.flushSync=function(t){var e=Fs.T,n=Le.p;try{if(Fs.T=null,Le.p=2,t)return t()}finally{Fs.T=e,Le.p=n,Le.d.f()}};Fe.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Le.d.C(t,e))};Fe.prefetchDNS=function(t){typeof t=="string"&&Le.d.D(t)};Fe.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=ba(n,e.crossOrigin),o=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Le.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:s}):n==="script"&&Le.d.X(t,{crossOrigin:r,integrity:o,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Fe.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=ba(e.as,e.crossOrigin);Le.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Le.d.M(t)};Fe.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=ba(n,e.crossOrigin);Le.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Fe.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=ba(e.as,e.crossOrigin);Le.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Le.d.m(t)};Fe.requestFormReset=function(t){Le.d.r(t)};Fe.unstable_batchedUpdates=function(t,e){return t(e)};Fe.useFormState=function(t,e,n){return Fs.H.useFormState(t,e,n)};Fe.useFormStatus=function(){return Fs.H.useHostTransitionStatus()};Fe.version="19.2.0"});var Yp=Ut((zC,Xp)=>{"use strict";function jp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jp)}catch(t){console.error(t)}}jp(),Xp.exports=Jp()});var i1=Ut(jc=>{"use strict";var _e=Pp(),vx=rn(),eb=Yp();function C(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function bx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _x(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tx(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qp(t){if(wi(t)!==t)throw Error(C(188))}function tb(t){var e=t.alternate;if(!e){if(e=wi(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Qp(o),t;if(s===r)return Qp(o),e;s=s.sibling}throw Error(C(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function Bx(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Bx(t),e!==null)return e;t=t.sibling}return null}var ie=Object.assign,nb=Symbol.for("react.element"),_a=Symbol.for("react.transitional.element"),Xs=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),wx=Symbol.for("react.strict_mode"),ff=Symbol.for("react.profiler"),Ex=Symbol.for("react.consumer"),dn=Symbol.for("react.context"),im=Symbol.for("react.forward_ref"),mf=Symbol.for("react.suspense"),df=Symbol.for("react.suspense_list"),am=Symbol.for("react.memo"),Rn=Symbol.for("react.lazy");Symbol.for("react.scope");var hf=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var rb=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var qp=Symbol.iterator;function Ns(t){return t===null||typeof t!="object"?null:(t=qp&&t[qp]||t["@@iterator"],typeof t=="function"?t:null)}var ob=Symbol.for("react.client.reference");function pf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ob?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ho:return"Fragment";case ff:return"Profiler";case wx:return"StrictMode";case mf:return"Suspense";case df:return"SuspenseList";case hf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Xs:return"Portal";case dn:return t.displayName||"Context";case Ex:return(t._context.displayName||"Context")+".Consumer";case im:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case am:return e=t.displayName||null,e!==null?e:pf(t.type)||"Memo";case Rn:e=t._payload,t=t._init;try{return pf(t(e))}catch{}}return null}var Ys=Array.isArray,L=vx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=eb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,br={pending:!1,data:null,method:null,action:null},yf=[],po=-1;function Kt(t){return{current:t}}function Ee(t){0>po||(t.current=yf[po],yf[po]=null,po--)}function te(t,e){po++,yf[po]=t.current,t.current=e}var Pt=Kt(null),fi=Kt(null),Pn=Kt(null),tc=Kt(null);function nc(t,e){switch(te(Pn,e),te(fi,t),te(Pt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?rx(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=rx(e),t=j0(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ee(Pt),te(Pt,t)}function Io(){Ee(Pt),Ee(fi),Ee(Pn)}function xf(t){t.memoizedState!==null&&te(tc,t);var e=Pt.current,n=j0(e,t.type);e!==n&&(te(fi,t),te(Pt,n))}function rc(t){fi.current===t&&(Ee(Pt),Ee(fi)),tc.current===t&&(Ee(tc),_i._currentValue=br)}var Dl,Wp;function xr(t){if(Dl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dl=e&&e[1]||"",Wp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dl+t+Wp}var Rl=!1;function Il(t,e){if(!t||Rl)return"";Rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(d){var m=d}Reflect.construct(t,[],f)}else{try{f.call()}catch(d){m=d}t.call(f.prototype)}}else{try{throw Error()}catch(d){m=d}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(d){if(d&&m&&typeof d.stack=="string")return[d.stack,m.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],a=s[1];if(i&&a){var c=i.split(`
`),u=a.split(`
`);for(o=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;o<u.length&&!u[o].includes("DetermineComponentFrameRoot");)o++;if(r===c.length||o===u.length)for(r=c.length-1,o=u.length-1;1<=r&&0<=o&&c[r]!==u[o];)o--;for(;1<=r&&0<=o;r--,o--)if(c[r]!==u[o]){if(r!==1||o!==1)do if(r--,o--,0>o||c[r]!==u[o]){var l=`
`+c[r].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=r&&0<=o);break}}}finally{Rl=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?xr(n):""}function sb(t,e){switch(t.tag){case 26:case 27:case 5:return xr(t.type);case 16:return xr("Lazy");case 13:return t.child!==e&&e!==null?xr("Suspense Fallback"):xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return Il(t.type,!1);case 11:return Il(t.type.render,!1);case 1:return Il(t.type,!0);case 31:return xr("Activity");default:return""}}function $p(t){try{var e="",n=null;do e+=sb(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var gf=Object.prototype.hasOwnProperty,cm=_e.unstable_scheduleCallback,kl=_e.unstable_cancelCallback,ib=_e.unstable_shouldYield,ab=_e.unstable_requestPaint,ot=_e.unstable_now,ub=_e.unstable_getCurrentPriorityLevel,Sx=_e.unstable_ImmediatePriority,Cx=_e.unstable_UserBlockingPriority,oc=_e.unstable_NormalPriority,lb=_e.unstable_LowPriority,Mx=_e.unstable_IdlePriority,fb=_e.log,mb=_e.unstable_setDisableYieldValue,Ei=null,st=null;function Ln(t){if(typeof fb=="function"&&mb(t),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(Ei,t)}catch{}}var it=Math.clz32?Math.clz32:pb,db=Math.log,hb=Math.LN2;function pb(t){return t>>>=0,t===0?32:31-(db(t)/hb|0)|0}var Ta=256,Ba=262144,wa=4194304;function gr(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vc(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var o=0,s=t.suspendedLanes,i=t.pingedLanes;t=t.warmLanes;var a=r&134217727;return a!==0?(r=a&~s,r!==0?o=gr(r):(i&=a,i!==0?o=gr(i):n||(n=a&~t,n!==0&&(o=gr(n))))):(a=r&~s,a!==0?o=gr(a):i!==0?o=gr(i):n||(n=r&~t,n!==0&&(o=gr(n)))),o===0?0:e!==0&&e!==o&&(e&s)===0&&(s=o&-o,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:o}function Si(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function yb(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vx(){var t=wa;return wa<<=1,(wa&62914560)===0&&(wa=4194304),t}function Ol(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ci(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xb(t,e,n,r,o,s){var i=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var a=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=i&~n;0<n;){var l=31-it(n),f=1<<l;a[l]=0,c[l]=-1;var m=u[l];if(m!==null)for(u[l]=null,l=0;l<m.length;l++){var d=m[l];d!==null&&(d.lane&=-536870913)}n&=~f}r!==0&&Dx(t,r,0),s!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=s&~(i&~e))}function Dx(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-it(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function Rx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-it(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}function Ix(t,e){var n=e&-e;return n=(n&42)!==0?1:um(n),(n&(t.suspendedLanes|e))!==0?0:n}function um(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function lm(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function kx(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:r1(t.type))}function Zp(t,e){var n=X.p;try{return X.p=t,e()}finally{X.p=n}}var nr=Math.random().toString(36).slice(2),Me="__reactFiber$"+nr,qe="__reactProps$"+nr,Ko="__reactContainer$"+nr,Af="__reactEvents$"+nr,gb="__reactListeners$"+nr,Ab="__reactHandles$"+nr,ey="__reactResources$"+nr,Mi="__reactMarker$"+nr;function fm(t){delete t[Me],delete t[qe],delete t[Af],delete t[gb],delete t[Ab]}function yo(t){var e=t[Me];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ko]||n[Me]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cx(t);t!==null;){if(n=t[Me])return n;t=cx(t)}return e}t=n,n=t.parentNode}return null}function Jo(t){if(t=t[Me]||t[Ko]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Qs(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(C(33))}function Eo(t){var e=t[ey];return e||(e=t[ey]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function we(t){t[Mi]=!0}var Ox=new Set,Gx={};function Dr(t,e){ko(t,e),ko(t+"Capture",e)}function ko(t,e){for(Gx[t]=e,t=0;t<e.length;t++)Ox.add(e[t])}var vb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ty={},ny={};function bb(t){return gf.call(ny,t)?!0:gf.call(ty,t)?!1:vb.test(t)?ny[t]=!0:(ty[t]=!0,!1)}function Na(t,e,n){if(bb(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Ea(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function sn(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function xt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ux(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _b(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vf(t){if(!t._valueTracker){var e=Ux(t)?"checked":"value";t._valueTracker=_b(t,e,""+t[e])}}function Lx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ux(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Tb=/[\n"\\]/g;function vt(t){return t.replace(Tb,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bf(t,e,n,r,o,s,i,a){t.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?t.type=i:t.removeAttribute("type"),e!=null?i==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+xt(e)):t.value!==""+xt(e)&&(t.value=""+xt(e)):i!=="submit"&&i!=="reset"||t.removeAttribute("value"),e!=null?_f(t,i,xt(e)):n!=null?_f(t,i,xt(n)):r!=null&&t.removeAttribute("value"),o==null&&s!=null&&(t.defaultChecked=!!s),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.name=""+xt(a):t.removeAttribute("name")}function Fx(t,e,n,r,o,s,i,a){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){vf(t);return}n=n!=null?""+xt(n):"",e=e!=null?""+xt(e):n,a||e===t.value||(t.value=e),t.defaultValue=e}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=a?t.checked:!!r,t.defaultChecked=!!r,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.name=i),vf(t)}function _f(t,e,n){e==="number"&&sc(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function So(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xt(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Nx(t,e,n){if(e!=null&&(e=""+xt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+xt(n):""}function zx(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(C(92));if(Ys(r)){if(1<r.length)throw Error(C(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=xt(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),vf(t)}function Oo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ry(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||Bb.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Hx(t,e,n){if(e!=null&&typeof e!="object")throw Error(C(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var o in e)r=e[o],e.hasOwnProperty(o)&&n[o]!==r&&ry(t,o,r)}else for(var s in e)e.hasOwnProperty(s)&&ry(t,s,e[s])}function mm(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(t){return Eb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hn(){}var Tf=null;function dm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xo=null,Co=null;function oy(t){var e=Jo(t);if(e&&(t=e.stateNode)){var n=t[qe]||null;e:switch(t=e.stateNode,e.type){case"input":if(bf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=r[qe]||null;if(!o)throw Error(C(90));bf(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&Lx(r)}break e;case"textarea":Nx(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&So(t,!!n.multiple,e,!1)}}}var Gl=!1;function Px(t,e,n){if(Gl)return t(e,n);Gl=!0;try{var r=t(e);return r}finally{if(Gl=!1,(xo!==null||Co!==null)&&(Hc(),xo&&(e=xo,t=Co,Co=xo=null,oy(e),t)))for(e=0;e<t.length;e++)oy(t[e])}}function mi(t,e){var n=t.stateNode;if(n===null)return null;var r=n[qe]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bf=!1;if(An)try{co={},Object.defineProperty(co,"passive",{get:function(){Bf=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{Bf=!1}var co,Fn=null,hm=null,Ha=null;function Kx(){if(Ha)return Ha;var t,e=hm,n=e.length,r,o="value"in Fn?Fn.value:Fn.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===o[s-r];r++);return Ha=o.slice(t,1<r?1-r:void 0)}function Pa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sa(){return!0}function sy(){return!1}function We(t){function e(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Sa:sy,this.isPropagationStopped=sy,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sa)},persist:function(){},isPersistent:Sa}),e}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dc=We(Rr),Vi=ie({},Rr,{view:0,detail:0}),Sb=We(Vi),Ul,Ll,zs,Rc=ie({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zs&&(zs&&t.type==="mousemove"?(Ul=t.screenX-zs.screenX,Ll=t.screenY-zs.screenY):Ll=Ul=0,zs=t),Ul)},movementY:function(t){return"movementY"in t?t.movementY:Ll}}),iy=We(Rc),Cb=ie({},Rc,{dataTransfer:0}),Mb=We(Cb),Vb=ie({},Vi,{relatedTarget:0}),Fl=We(Vb),Db=ie({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Rb=We(Db),Ib=ie({},Rr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kb=We(Ib),Ob=ie({},Rr,{data:0}),ay=We(Ob),Gb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ub={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lb[t])?!!e[t]:!1}function pm(){return Fb}var Nb=ie({},Vi,{key:function(t){if(t.key){var e=Gb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ub[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pm,charCode:function(t){return t.type==="keypress"?Pa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zb=We(Nb),Hb=ie({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cy=We(Hb),Pb=ie({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pm}),Kb=We(Pb),Jb=ie({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),jb=We(Jb),Xb=ie({},Rc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yb=We(Xb),Qb=ie({},Rr,{newState:0,oldState:0}),qb=We(Qb),Wb=[9,13,27,32],ym=An&&"CompositionEvent"in window,$s=null;An&&"documentMode"in document&&($s=document.documentMode);var $b=An&&"TextEvent"in window&&!$s,Jx=An&&(!ym||$s&&8<$s&&11>=$s),uy=" ",ly=!1;function jx(t,e){switch(t){case"keyup":return Wb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var go=!1;function Zb(t,e){switch(t){case"compositionend":return Xx(e);case"keypress":return e.which!==32?null:(ly=!0,uy);case"textInput":return t=e.data,t===uy&&ly?null:t;default:return null}}function e_(t,e){if(go)return t==="compositionend"||!ym&&jx(t,e)?(t=Kx(),Ha=hm=Fn=null,go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jx&&e.locale!=="ko"?null:e.data;default:return null}}var t_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!t_[t.type]:e==="textarea"}function Yx(t,e,n,r){xo?Co?Co.push(r):Co=[r]:xo=r,e=Tc(e,"onChange"),0<e.length&&(n=new Dc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zs=null,di=null;function n_(t){P0(t,0)}function Ic(t){var e=Qs(t);if(Lx(e))return t}function my(t,e){if(t==="change")return e}var Qx=!1;An&&(An?(Ma="oninput"in document,Ma||(Nl=document.createElement("div"),Nl.setAttribute("oninput","return;"),Ma=typeof Nl.oninput=="function"),Ca=Ma):Ca=!1,Qx=Ca&&(!document.documentMode||9<document.documentMode));var Ca,Ma,Nl;function dy(){Zs&&(Zs.detachEvent("onpropertychange",qx),di=Zs=null)}function qx(t){if(t.propertyName==="value"&&Ic(di)){var e=[];Yx(e,di,t,dm(t)),Px(n_,e)}}function r_(t,e,n){t==="focusin"?(dy(),Zs=e,di=n,Zs.attachEvent("onpropertychange",qx)):t==="focusout"&&dy()}function o_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ic(di)}function s_(t,e){if(t==="click")return Ic(e)}function i_(t,e){if(t==="input"||t==="change")return Ic(e)}function a_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ct=typeof Object.is=="function"?Object.is:a_;function hi(t,e){if(ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!gf.call(e,o)||!ct(t[o],e[o]))return!1}return!0}function hy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function py(t,e){var n=hy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hy(n)}}function Wx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $x(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=sc(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sc(t.document)}return e}function xm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var c_=An&&"documentMode"in document&&11>=document.documentMode,Ao=null,wf=null,ei=null,Ef=!1;function yy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ef||Ao==null||Ao!==sc(r)||(r=Ao,"selectionStart"in r&&xm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ei&&hi(ei,r)||(ei=r,r=Tc(wf,"onSelect"),0<r.length&&(e=new Dc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ao)))}function yr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vo={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},zl={},Zx={};An&&(Zx=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function Ir(t){if(zl[t])return zl[t];if(!vo[t])return t;var e=vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zx)return zl[t]=e[n];return t}var eg=Ir("animationend"),tg=Ir("animationiteration"),ng=Ir("animationstart"),u_=Ir("transitionrun"),l_=Ir("transitionstart"),f_=Ir("transitioncancel"),rg=Ir("transitionend"),og=new Map,Sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sf.push("scrollEnd");function It(t,e){og.set(t,e),Dr(e,[t])}var ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},yt=[],bo=0,gm=0;function kc(){for(var t=bo,e=gm=bo=0;e<t;){var n=yt[e];yt[e++]=null;var r=yt[e];yt[e++]=null;var o=yt[e];yt[e++]=null;var s=yt[e];if(yt[e++]=null,r!==null&&o!==null){var i=r.pending;i===null?o.next=o:(o.next=i.next,i.next=o),r.pending=o}s!==0&&sg(n,o,s)}}function Oc(t,e,n,r){yt[bo++]=t,yt[bo++]=e,yt[bo++]=n,yt[bo++]=r,gm|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Am(t,e,n,r){return Oc(t,e,n,r),ac(t)}function kr(t,e){return Oc(t,null,null,e),ac(t)}function sg(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var o=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(o=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,o&&e!==null&&(o=31-it(n),t=s.hiddenUpdates,r=t[o],r===null?t[o]=[e]:r.push(e),e.lane=n|536870912),s):null}function ac(t){if(50<ui)throw ui=0,Yf=null,Error(C(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var _o={};function m_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(t,e,n,r){return new m_(t,e,n,r)}function vm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yn(t,e){var n=t.alternate;return n===null?(n=nt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function ig(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ka(t,e,n,r,o,s){var i=0;if(r=t,typeof t=="function")vm(t)&&(i=1);else if(typeof t=="string")i=p3(t,n,Pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case hf:return t=nt(31,n,e,o),t.elementType=hf,t.lanes=s,t;case ho:return _r(n.children,o,s,e);case wx:i=8,o|=24;break;case ff:return t=nt(12,n,e,o|2),t.elementType=ff,t.lanes=s,t;case mf:return t=nt(13,n,e,o),t.elementType=mf,t.lanes=s,t;case df:return t=nt(19,n,e,o),t.elementType=df,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dn:i=10;break e;case Ex:i=9;break e;case im:i=11;break e;case am:i=14;break e;case Rn:i=16,r=null;break e}i=29,n=Error(C(130,t===null?"null":typeof t,"")),r=null}return e=nt(i,n,e,o),e.elementType=t,e.type=r,e.lanes=s,e}function _r(t,e,n,r){return t=nt(7,t,r,e),t.lanes=n,t}function Hl(t,e,n){return t=nt(6,t,null,e),t.lanes=n,t}function ag(t){var e=nt(18,null,null,0);return e.stateNode=t,e}function Pl(t,e,n){return e=nt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var xy=new WeakMap;function bt(t,e){if(typeof t=="object"&&t!==null){var n=xy.get(t);return n!==void 0?n:(e={value:t,source:e,stack:$p(e)},xy.set(t,e),e)}return{value:t,source:e,stack:$p(e)}}var To=[],Bo=0,cc=null,pi=0,gt=[],At=0,$n=null,Nt=1,zt="";function fn(t,e){To[Bo++]=pi,To[Bo++]=cc,cc=t,pi=e}function cg(t,e,n){gt[At++]=Nt,gt[At++]=zt,gt[At++]=$n,$n=t;var r=Nt;t=zt;var o=32-it(r)-1;r&=~(1<<o),n+=1;var s=32-it(e)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Nt=1<<32-it(e)+o|n<<o|r,zt=s+t}else Nt=1<<s|n<<o|r,zt=t}function bm(t){t.return!==null&&(fn(t,1),cg(t,1,0))}function _m(t){for(;t===cc;)cc=To[--Bo],To[Bo]=null,pi=To[--Bo],To[Bo]=null;for(;t===$n;)$n=gt[--At],gt[At]=null,zt=gt[--At],gt[At]=null,Nt=gt[--At],gt[At]=null}function ug(t,e){gt[At++]=Nt,gt[At++]=zt,gt[At++]=$n,Nt=e.id,zt=e.overflow,$n=t}var Ve=null,se=null,K=!1,Kn=null,_t=!1,Cf=Error(C(519));function Zn(t){var e=Error(C(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yi(bt(e,t)),Cf}function gy(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Me]=t,e[qe]=r,n){case"dialog":z("cancel",e),z("close",e);break;case"iframe":case"object":case"embed":z("load",e);break;case"video":case"audio":for(n=0;n<vi.length;n++)z(vi[n],e);break;case"source":z("error",e);break;case"img":case"image":case"link":z("error",e),z("load",e);break;case"details":z("toggle",e);break;case"input":z("invalid",e),Fx(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":z("invalid",e);break;case"textarea":z("invalid",e),zx(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||J0(e.textContent,n)?(r.popover!=null&&(z("beforetoggle",e),z("toggle",e)),r.onScroll!=null&&z("scroll",e),r.onScrollEnd!=null&&z("scrollend",e),r.onClick!=null&&(e.onclick=hn),e=!0):e=!1,e||Zn(t,!0)}function Ay(t){for(Ve=t.return;Ve;)switch(Ve.tag){case 5:case 31:case 13:_t=!1;return;case 27:case 3:_t=!0;return;default:Ve=Ve.return}}function uo(t){if(t!==Ve)return!1;if(!K)return Ay(t),K=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Zf(t.type,t.memoizedProps)),n=!n),n&&se&&Zn(t),Ay(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));se=ax(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));se=ax(t)}else e===27?(e=se,rr(t.type)?(t=rm,rm=null,se=t):se=e):se=Ve?Bt(t.stateNode.nextSibling):null;return!0}function Er(){se=Ve=null,K=!1}function Kl(){var t=Kn;return t!==null&&(Ye===null?Ye=t:Ye.push.apply(Ye,t),Kn=null),t}function yi(t){Kn===null?Kn=[t]:Kn.push(t)}var Mf=Kt(null),Or=null,pn=null;function kn(t,e,n){te(Mf,e._currentValue),e._currentValue=n}function xn(t){t._currentValue=Mf.current,Ee(Mf)}function Vf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Df(t,e,n,r){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){var i=o.child;s=s.firstContext;e:for(;s!==null;){var a=s;s=o;for(var c=0;c<e.length;c++)if(a.context===e[c]){s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Vf(s.return,n,t),r||(i=null);break e}s=a.next}}else if(o.tag===18){if(i=o.return,i===null)throw Error(C(341));i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),Vf(i,n,t),i=null}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}}function jo(t,e,n,r){t=null;for(var o=e,s=!1;o!==null;){if(!s){if((o.flags&524288)!==0)s=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var i=o.alternate;if(i===null)throw Error(C(387));if(i=i.memoizedProps,i!==null){var a=o.type;ct(o.pendingProps.value,i.value)||(t!==null?t.push(a):t=[a])}}else if(o===tc.current){if(i=o.alternate,i===null)throw Error(C(387));i.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(_i):t=[_i])}o=o.return}t!==null&&Df(e,t,n,r),e.flags|=262144}function uc(t){for(t=t.firstContext;t!==null;){if(!ct(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Sr(t){Or=t,pn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function De(t){return lg(Or,t)}function Va(t,e){return Or===null&&Sr(t),lg(t,e)}function lg(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},pn===null){if(t===null)throw Error(C(308));pn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else pn=pn.next=e;return n}var d_=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},h_=_e.unstable_scheduleCallback,p_=_e.unstable_NormalPriority,ge={$$typeof:dn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tm(){return{controller:new d_,data:new Map,refCount:0}}function Di(t){t.refCount--,t.refCount===0&&h_(p_,function(){t.controller.abort()})}var ti=null,Rf=0,Go=0,Mo=null;function y_(t,e){if(ti===null){var n=ti=[];Rf=0,Go=Ym(),Mo={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Rf++,e.then(vy,vy),e}function vy(){if(--Rf===0&&ti!==null){Mo!==null&&(Mo.status="fulfilled");var t=ti;ti=null,Go=0,Mo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function x_(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var o=0;o<n.length;o++)(0,n[o])(e)},function(o){for(r.status="rejected",r.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),r}var by=L.S;L.S=function(t,e){B0=ot(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&y_(t,e),by!==null&&by(t,e)};var Tr=Kt(null);function Bm(){var t=Tr.current;return t!==null?t:ee.pooledCache}function Ja(t,e){e===null?te(Tr,Tr.current):te(Tr,e.pool)}function fg(){var t=Bm();return t===null?null:{parent:ge._currentValue,pool:t}}var Xo=Error(C(460)),wm=Error(C(474)),Gc=Error(C(542)),lc={then:function(){}};function _y(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mg(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(hn,hn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,By(t),t;default:if(typeof e.status=="string")e.then(hn,hn);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(C(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=r}},function(r){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,By(t),t}throw Br=e,Xo}}function Ar(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Br=n,Xo):n}}var Br=null;function Ty(){if(Br===null)throw Error(C(459));var t=Br;return Br=null,t}function By(t){if(t===Xo||t===Gc)throw Error(C(483))}var Vo=null,xi=0;function Da(t){var e=xi;return xi+=1,Vo===null&&(Vo=[]),mg(Vo,t,e)}function Hs(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ra(t,e){throw e.$$typeof===nb?Error(C(525)):(t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function dg(t){function e(x,g){if(t){var y=x.deletions;y===null?(x.deletions=[g],x.flags|=16):y.push(g)}}function n(x,g){if(!t)return null;for(;g!==null;)e(x,g),g=g.sibling;return null}function r(x){for(var g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function o(x,g){return x=yn(x,g),x.index=0,x.sibling=null,x}function s(x,g,y){return x.index=y,t?(y=x.alternate,y!==null?(y=y.index,y<g?(x.flags|=67108866,g):y):(x.flags|=67108866,g)):(x.flags|=1048576,g)}function i(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function a(x,g,y,A){return g===null||g.tag!==6?(g=Hl(y,x.mode,A),g.return=x,g):(g=o(g,y),g.return=x,g)}function c(x,g,y,A){var V=y.type;return V===ho?l(x,g,y.props.children,A,y.key):g!==null&&(g.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Rn&&Ar(V)===g.type)?(g=o(g,y.props),Hs(g,y),g.return=x,g):(g=Ka(y.type,y.key,y.props,null,x.mode,A),Hs(g,y),g.return=x,g)}function u(x,g,y,A){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Pl(y,x.mode,A),g.return=x,g):(g=o(g,y.children||[]),g.return=x,g)}function l(x,g,y,A,V){return g===null||g.tag!==7?(g=_r(y,x.mode,A,V),g.return=x,g):(g=o(g,y),g.return=x,g)}function f(x,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Hl(""+g,x.mode,y),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case _a:return y=Ka(g.type,g.key,g.props,null,x.mode,y),Hs(y,g),y.return=x,y;case Xs:return g=Pl(g,x.mode,y),g.return=x,g;case Rn:return g=Ar(g),f(x,g,y)}if(Ys(g)||Ns(g))return g=_r(g,x.mode,y,null),g.return=x,g;if(typeof g.then=="function")return f(x,Da(g),y);if(g.$$typeof===dn)return f(x,Va(x,g),y);Ra(x,g)}return null}function m(x,g,y,A){var V=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return V!==null?null:a(x,g,""+y,A);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _a:return y.key===V?c(x,g,y,A):null;case Xs:return y.key===V?u(x,g,y,A):null;case Rn:return y=Ar(y),m(x,g,y,A)}if(Ys(y)||Ns(y))return V!==null?null:l(x,g,y,A,null);if(typeof y.then=="function")return m(x,g,Da(y),A);if(y.$$typeof===dn)return m(x,g,Va(x,y),A);Ra(x,y)}return null}function d(x,g,y,A,V){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return x=x.get(y)||null,a(g,x,""+A,V);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _a:return x=x.get(A.key===null?y:A.key)||null,c(g,x,A,V);case Xs:return x=x.get(A.key===null?y:A.key)||null,u(g,x,A,V);case Rn:return A=Ar(A),d(x,g,y,A,V)}if(Ys(A)||Ns(A))return x=x.get(y)||null,l(g,x,A,V,null);if(typeof A.then=="function")return d(x,g,y,Da(A),V);if(A.$$typeof===dn)return d(x,g,y,Va(g,A),V);Ra(g,A)}return null}function v(x,g,y,A){for(var V=null,I=null,D=g,k=g=0,O=null;D!==null&&k<y.length;k++){D.index>k?(O=D,D=null):O=D.sibling;var G=m(x,D,y[k],A);if(G===null){D===null&&(D=O);break}t&&D&&G.alternate===null&&e(x,D),g=s(G,g,k),I===null?V=G:I.sibling=G,I=G,D=O}if(k===y.length)return n(x,D),K&&fn(x,k),V;if(D===null){for(;k<y.length;k++)D=f(x,y[k],A),D!==null&&(g=s(D,g,k),I===null?V=D:I.sibling=D,I=D);return K&&fn(x,k),V}for(D=r(D);k<y.length;k++)O=d(D,x,k,y[k],A),O!==null&&(t&&O.alternate!==null&&D.delete(O.key===null?k:O.key),g=s(O,g,k),I===null?V=O:I.sibling=O,I=O);return t&&D.forEach(function(ue){return e(x,ue)}),K&&fn(x,k),V}function E(x,g,y,A){if(y==null)throw Error(C(151));for(var V=null,I=null,D=g,k=g=0,O=null,G=y.next();D!==null&&!G.done;k++,G=y.next()){D.index>k?(O=D,D=null):O=D.sibling;var ue=m(x,D,G.value,A);if(ue===null){D===null&&(D=O);break}t&&D&&ue.alternate===null&&e(x,D),g=s(ue,g,k),I===null?V=ue:I.sibling=ue,I=ue,D=O}if(G.done)return n(x,D),K&&fn(x,k),V;if(D===null){for(;!G.done;k++,G=y.next())G=f(x,G.value,A),G!==null&&(g=s(G,g,k),I===null?V=G:I.sibling=G,I=G);return K&&fn(x,k),V}for(D=r(D);!G.done;k++,G=y.next())G=d(D,x,k,G.value,A),G!==null&&(t&&G.alternate!==null&&D.delete(G.key===null?k:G.key),g=s(G,g,k),I===null?V=G:I.sibling=G,I=G);return t&&D.forEach(function(en){return e(x,en)}),K&&fn(x,k),V}function S(x,g,y,A){if(typeof y=="object"&&y!==null&&y.type===ho&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case _a:e:{for(var V=y.key;g!==null;){if(g.key===V){if(V=y.type,V===ho){if(g.tag===7){n(x,g.sibling),A=o(g,y.props.children),A.return=x,x=A;break e}}else if(g.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Rn&&Ar(V)===g.type){n(x,g.sibling),A=o(g,y.props),Hs(A,y),A.return=x,x=A;break e}n(x,g);break}else e(x,g);g=g.sibling}y.type===ho?(A=_r(y.props.children,x.mode,A,y.key),A.return=x,x=A):(A=Ka(y.type,y.key,y.props,null,x.mode,A),Hs(A,y),A.return=x,x=A)}return i(x);case Xs:e:{for(V=y.key;g!==null;){if(g.key===V)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(x,g.sibling),A=o(g,y.children||[]),A.return=x,x=A;break e}else{n(x,g);break}else e(x,g);g=g.sibling}A=Pl(y,x.mode,A),A.return=x,x=A}return i(x);case Rn:return y=Ar(y),S(x,g,y,A)}if(Ys(y))return v(x,g,y,A);if(Ns(y)){if(V=Ns(y),typeof V!="function")throw Error(C(150));return y=V.call(y),E(x,g,y,A)}if(typeof y.then=="function")return S(x,g,Da(y),A);if(y.$$typeof===dn)return S(x,g,Va(x,y),A);Ra(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(x,g.sibling),A=o(g,y),A.return=x,x=A):(n(x,g),A=Hl(y,x.mode,A),A.return=x,x=A),i(x)):n(x,g)}return function(x,g,y,A){try{xi=0;var V=S(x,g,y,A);return Vo=null,V}catch(D){if(D===Xo||D===Gc)throw D;var I=nt(29,D,null,x.mode);return I.lanes=A,I.return=x,I}finally{}}}var Cr=dg(!0),hg=dg(!1),In=!1;function Em(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Jn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function jn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(j&2)!==0){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,e=ac(t),sg(t,null,n),e}return Oc(t,r,e,n),ac(t)}function ni(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rx(t,n)}}function Jl(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var kf=!1;function ri(){if(kf){var t=Mo;if(t!==null)throw t}}function oi(t,e,n,r){kf=!1;var o=t.updateQueue;In=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var l=t.alternate;l!==null&&(l=l.updateQueue,a=l.lastBaseUpdate,a!==i&&(a===null?l.firstBaseUpdate=u:a.next=u,l.lastBaseUpdate=c))}if(s!==null){var f=o.baseState;i=0,l=u=c=null,a=s;do{var m=a.lane&-536870913,d=m!==a.lane;if(d?(P&m)===m:(r&m)===m){m!==0&&m===Go&&(kf=!0),l!==null&&(l=l.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var v=t,E=a;m=e;var S=n;switch(E.tag){case 1:if(v=E.payload,typeof v=="function"){f=v.call(S,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,m=typeof v=="function"?v.call(S,f,m):v,m==null)break e;f=ie({},f,m);break e;case 2:In=!0}}m=a.callback,m!==null&&(t.flags|=64,d&&(t.flags|=8192),d=o.callbacks,d===null?o.callbacks=[m]:d.push(m))}else d={lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},l===null?(u=l=d,c=f):l=l.next=d,i|=m;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;d=a,a=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);l===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=l,s===null&&(o.shared.lanes=0),tr|=i,t.lanes=i,t.memoizedState=f}}function pg(t,e){if(typeof t!="function")throw Error(C(191,t));t.call(e)}function yg(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)pg(n[t],e)}var Uo=Kt(null),fc=Kt(0);function wy(t,e){t=Tn,te(fc,t),te(Uo,e),Tn=t|e.baseLanes}function Of(){te(fc,Tn),te(Uo,Uo.current)}function Sm(){Tn=fc.current,Ee(Uo),Ee(fc)}var ut=Kt(null),Tt=null;function On(t){var e=t.alternate;te(de,de.current&1),te(ut,t),Tt===null&&(e===null||Uo.current!==null||e.memoizedState!==null)&&(Tt=t)}function Gf(t){te(de,de.current),te(ut,t),Tt===null&&(Tt=t)}function xg(t){t.tag===22?(te(de,de.current),te(ut,t),Tt===null&&(Tt=t)):Gn(t)}function Gn(){te(de,de.current),te(ut,ut.current)}function tt(t){Ee(ut),Tt===t&&(Tt=null),Ee(de)}var de=Kt(0);function mc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||tm(n)||nm(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vn=0,N=null,Z=null,ye=null,dc=!1,Do=!1,Mr=!1,hc=0,gi=0,Ro=null,g_=0;function le(){throw Error(C(321))}function Cm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ct(t[n],e[n]))return!1;return!0}function Mm(t,e,n,r,o,s){return vn=s,N=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,L.H=t===null||t.memoizedState===null?Yg:Nm,Mr=!1,s=n(r,o),Mr=!1,Do&&(s=Ag(e,n,r,o)),gg(t),s}function gg(t){L.H=Ai;var e=Z!==null&&Z.next!==null;if(vn=0,ye=Z=N=null,dc=!1,gi=0,Ro=null,e)throw Error(C(300));t===null||Ae||(t=t.dependencies,t!==null&&uc(t)&&(Ae=!0))}function Ag(t,e,n,r){N=t;var o=0;do{if(Do&&(Ro=null),gi=0,Do=!1,25<=o)throw Error(C(301));if(o+=1,ye=Z=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}L.H=Qg,s=e(n,r)}while(Do);return s}function A_(){var t=L.H,e=t.useState()[0];return e=typeof e.then=="function"?Ri(e):e,t=t.useState()[0],(Z!==null?Z.memoizedState:null)!==t&&(N.flags|=1024),e}function Vm(){var t=hc!==0;return hc=0,t}function Dm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Rm(t){if(dc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}dc=!1}vn=0,ye=Z=N=null,Do=!1,gi=hc=0,Ro=null}function Ne(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?N.memoizedState=ye=t:ye=ye.next=t,ye}function he(){if(Z===null){var t=N.alternate;t=t!==null?t.memoizedState:null}else t=Z.next;var e=ye===null?N.memoizedState:ye.next;if(e!==null)ye=e,Z=t;else{if(t===null)throw N.alternate===null?Error(C(467)):Error(C(310));Z=t,t={memoizedState:Z.memoizedState,baseState:Z.baseState,baseQueue:Z.baseQueue,queue:Z.queue,next:null},ye===null?N.memoizedState=ye=t:ye=ye.next=t}return ye}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ri(t){var e=gi;return gi+=1,Ro===null&&(Ro=[]),t=mg(Ro,t,e),e=N,(ye===null?e.memoizedState:ye.next)===null&&(e=e.alternate,L.H=e===null||e.memoizedState===null?Yg:Nm),t}function Lc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ri(t);if(t.$$typeof===dn)return De(t)}throw Error(C(438,String(t)))}function Im(t){var e=null,n=N.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=N.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Uc(),N.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=rb;return e.index++,n}function bn(t,e){return typeof e=="function"?e(t):e}function ja(t){var e=he();return km(e,Z,t)}function km(t,e,n){var r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=n;var o=t.baseQueue,s=r.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}e.baseQueue=o=s,r.pending=null}if(s=t.baseState,o===null)t.memoizedState=s;else{e=o.next;var a=i=null,c=null,u=e,l=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(P&f)===f:(vn&f)===f){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Go&&(l=!0);else if((vn&m)===m){u=u.next,m===Go&&(l=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(a=c=f,i=s):c=c.next=f,N.lanes|=m,tr|=m;f=u.action,Mr&&n(s,f),s=u.hasEagerState?u.eagerState:n(s,f)}else m={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(a=c=m,i=s):c=c.next=m,N.lanes|=f,tr|=f;u=u.next}while(u!==null&&u!==e);if(c===null?i=s:c.next=a,!ct(s,t.memoizedState)&&(Ae=!0,l&&(n=Mo,n!==null)))throw n;t.memoizedState=s,t.baseState=i,t.baseQueue=c,r.lastRenderedState=s}return o===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function jl(t){var e=he(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=t(s,i.action),i=i.next;while(i!==o);ct(s,e.memoizedState)||(Ae=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function vg(t,e,n){var r=N,o=he(),s=K;if(s){if(n===void 0)throw Error(C(407));n=n()}else n=e();var i=!ct((Z||o).memoizedState,n);if(i&&(o.memoizedState=n,Ae=!0),o=o.queue,Om(Tg.bind(null,r,o,t),[t]),o.getSnapshot!==e||i||ye!==null&&ye.memoizedState.tag&1){if(r.flags|=2048,Lo(9,{destroy:void 0},_g.bind(null,r,o,n,e),null),ee===null)throw Error(C(349));s||(vn&127)!==0||bg(r,e,n)}return n}function bg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=N.updateQueue,e===null?(e=Uc(),N.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _g(t,e,n,r){e.value=n,e.getSnapshot=r,Bg(e)&&wg(t)}function Tg(t,e,n){return n(function(){Bg(e)&&wg(t)})}function Bg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ct(t,n)}catch{return!0}}function wg(t){var e=kr(t,2);e!==null&&Qe(e,t,2)}function Uf(t){var e=Ne();if(typeof t=="function"){var n=t;if(t=n(),Mr){Ln(!0);try{n()}finally{Ln(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:t},e}function Eg(t,e,n,r){return t.baseState=n,km(t,Z,typeof r=="function"?r:bn)}function v_(t,e,n,r,o){if(Nc(t))throw Error(C(485));if(t=e.action,t!==null){var s={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){s.listeners.push(i)}};L.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,Sg(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Sg(t,e){var n=e.action,r=e.payload,o=t.state;if(e.isTransition){var s=L.T,i={};L.T=i;try{var a=n(o,r),c=L.S;c!==null&&c(i,a),Ey(t,e,a)}catch(u){Lf(t,e,u)}finally{s!==null&&i.types!==null&&(s.types=i.types),L.T=s}}else try{s=n(o,r),Ey(t,e,s)}catch(u){Lf(t,e,u)}}function Ey(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Sy(t,e,r)},function(r){return Lf(t,e,r)}):Sy(t,e,n)}function Sy(t,e,n){e.status="fulfilled",e.value=n,Cg(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Sg(t,n)))}function Lf(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,Cg(e),e=e.next;while(e!==r)}t.action=null}function Cg(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Mg(t,e){return e}function Cy(t,e){if(K){var n=ee.formState;if(n!==null){e:{var r=N;if(K){if(se){t:{for(var o=se,s=_t;o.nodeType!==8;){if(!s){o=null;break t}if(o=Bt(o.nextSibling),o===null){o=null;break t}}s=o.data,o=s==="F!"||s==="F"?o:null}if(o){se=Bt(o.nextSibling),r=o.data==="F!";break e}}Zn(r)}r=!1}r&&(e=n[0])}}return n=Ne(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:e},n.queue=r,n=Jg.bind(null,N,r),r.dispatch=n,r=Uf(!1),s=Fm.bind(null,N,!1,r.queue),r=Ne(),o={state:e,dispatch:null,action:t,pending:null},r.queue=o,n=v_.bind(null,N,o,s,n),o.dispatch=n,r.memoizedState=t,[e,n,!1]}function My(t){var e=he();return Vg(e,Z,t)}function Vg(t,e,n){if(e=km(t,e,Mg)[0],t=ja(bn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Ri(e)}catch(i){throw i===Xo?Gc:i}else r=e;e=he();var o=e.queue,s=o.dispatch;return n!==e.memoizedState&&(N.flags|=2048,Lo(9,{destroy:void 0},b_.bind(null,o,n),null)),[r,s,t]}function b_(t,e){t.action=e}function Vy(t){var e=he(),n=Z;if(n!==null)return Vg(e,n,t);he(),e=e.memoizedState,n=he();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Lo(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=N.updateQueue,e===null&&(e=Uc(),N.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Dg(){return he().memoizedState}function Xa(t,e,n,r){var o=Ne();N.flags|=t,o.memoizedState=Lo(1|e,{destroy:void 0},n,r===void 0?null:r)}function Fc(t,e,n,r){var o=he();r=r===void 0?null:r;var s=o.memoizedState.inst;Z!==null&&r!==null&&Cm(r,Z.memoizedState.deps)?o.memoizedState=Lo(e,s,n,r):(N.flags|=t,o.memoizedState=Lo(1|e,s,n,r))}function Dy(t,e){Xa(8390656,8,t,e)}function Om(t,e){Fc(2048,8,t,e)}function __(t){N.flags|=4;var e=N.updateQueue;if(e===null)e=Uc(),N.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Rg(t){var e=he().memoizedState;return __({ref:e,nextImpl:t}),function(){if((j&2)!==0)throw Error(C(440));return e.impl.apply(void 0,arguments)}}function Ig(t,e){return Fc(4,2,t,e)}function kg(t,e){return Fc(4,4,t,e)}function Og(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gg(t,e,n){n=n!=null?n.concat([t]):null,Fc(4,4,Og.bind(null,e,t),n)}function Gm(){}function Ug(t,e){var n=he();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&Cm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Lg(t,e){var n=he();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&Cm(e,r[1]))return r[0];if(r=t(),Mr){Ln(!0);try{t()}finally{Ln(!1)}}return n.memoizedState=[r,e],r}function Um(t,e,n){return n===void 0||(vn&1073741824)!==0&&(P&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=E0(),N.lanes|=t,tr|=t,n)}function Fg(t,e,n,r){return ct(n,e)?n:Uo.current!==null?(t=Um(t,n,r),ct(t,e)||(Ae=!0),t):(vn&42)===0||(vn&1073741824)!==0&&(P&261930)===0?(Ae=!0,t.memoizedState=n):(t=E0(),N.lanes|=t,tr|=t,e)}function Ng(t,e,n,r,o){var s=X.p;X.p=s!==0&&8>s?s:8;var i=L.T,a={};L.T=a,Fm(t,!1,e,n);try{var c=o(),u=L.S;if(u!==null&&u(a,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=x_(c,r);si(t,e,l,at(t))}else si(t,e,r,at(t))}catch(f){si(t,e,{then:function(){},status:"rejected",reason:f},at())}finally{X.p=s,i!==null&&a.types!==null&&(i.types=a.types),L.T=i}}function T_(){}function Ff(t,e,n,r){if(t.tag!==5)throw Error(C(476));var o=zg(t).queue;Ng(t,o,e,br,n===null?T_:function(){return Hg(t),n(r)})}function zg(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:br,baseState:br,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:br},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Hg(t){var e=zg(t);e.next===null&&(e=t.alternate.memoizedState),si(t,e.next.queue,{},at())}function Lm(){return De(_i)}function Pg(){return he().memoizedState}function Kg(){return he().memoizedState}function B_(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=at();t=Jn(n);var r=jn(e,t,n);r!==null&&(Qe(r,e,n),ni(r,e,n)),e={cache:Tm()},t.payload=e;return}e=e.return}}function w_(t,e,n){var r=at();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Nc(t)?jg(e,n):(n=Am(t,e,n,r),n!==null&&(Qe(n,t,r),Xg(n,e,r)))}function Jg(t,e,n){var r=at();si(t,e,n,r)}function si(t,e,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nc(t))jg(e,o);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,ct(a,i))return Oc(t,e,o,0),ee===null&&kc(),!1}catch{}finally{}if(n=Am(t,e,o,r),n!==null)return Qe(n,t,r),Xg(n,e,r),!0}return!1}function Fm(t,e,n,r){if(r={lane:2,revertLane:Ym(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Nc(t)){if(e)throw Error(C(479))}else e=Am(t,n,r,2),e!==null&&Qe(e,t,2)}function Nc(t){var e=t.alternate;return t===N||e!==null&&e===N}function jg(t,e){Do=dc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Xg(t,e,n){if((n&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rx(t,n)}}var Ai={readContext:De,use:Lc,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Ai.useEffectEvent=le;var Yg={readContext:De,use:Lc,useCallback:function(t,e){return Ne().memoizedState=[t,e===void 0?null:e],t},useContext:De,useEffect:Dy,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Xa(4194308,4,Og.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xa(4194308,4,t,e)},useInsertionEffect:function(t,e){Xa(4,2,t,e)},useMemo:function(t,e){var n=Ne();e=e===void 0?null:e;var r=t();if(Mr){Ln(!0);try{t()}finally{Ln(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Ne();if(n!==void 0){var o=n(e);if(Mr){Ln(!0);try{n(e)}finally{Ln(!1)}}}else o=e;return r.memoizedState=r.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},r.queue=t,t=t.dispatch=w_.bind(null,N,t),[r.memoizedState,t]},useRef:function(t){var e=Ne();return t={current:t},e.memoizedState=t},useState:function(t){t=Uf(t);var e=t.queue,n=Jg.bind(null,N,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Gm,useDeferredValue:function(t,e){var n=Ne();return Um(n,t,e)},useTransition:function(){var t=Uf(!1);return t=Ng.bind(null,N,t.queue,!0,!1),Ne().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=N,o=Ne();if(K){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),ee===null)throw Error(C(349));(P&127)!==0||bg(r,e,n)}o.memoizedState=n;var s={value:n,getSnapshot:e};return o.queue=s,Dy(Tg.bind(null,r,s,t),[t]),r.flags|=2048,Lo(9,{destroy:void 0},_g.bind(null,r,s,n,e),null),n},useId:function(){var t=Ne(),e=ee.identifierPrefix;if(K){var n=zt,r=Nt;n=(r&~(1<<32-it(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=hc++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=g_++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Lm,useFormState:Cy,useActionState:Cy,useOptimistic:function(t){var e=Ne();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Fm.bind(null,N,!0,n),n.dispatch=e,[t,e]},useMemoCache:Im,useCacheRefresh:function(){return Ne().memoizedState=B_.bind(null,N)},useEffectEvent:function(t){var e=Ne(),n={impl:t};return e.memoizedState=n,function(){if((j&2)!==0)throw Error(C(440));return n.impl.apply(void 0,arguments)}}},Nm={readContext:De,use:Lc,useCallback:Ug,useContext:De,useEffect:Om,useImperativeHandle:Gg,useInsertionEffect:Ig,useLayoutEffect:kg,useMemo:Lg,useReducer:ja,useRef:Dg,useState:function(){return ja(bn)},useDebugValue:Gm,useDeferredValue:function(t,e){var n=he();return Fg(n,Z.memoizedState,t,e)},useTransition:function(){var t=ja(bn)[0],e=he().memoizedState;return[typeof t=="boolean"?t:Ri(t),e]},useSyncExternalStore:vg,useId:Pg,useHostTransitionStatus:Lm,useFormState:My,useActionState:My,useOptimistic:function(t,e){var n=he();return Eg(n,Z,t,e)},useMemoCache:Im,useCacheRefresh:Kg};Nm.useEffectEvent=Rg;var Qg={readContext:De,use:Lc,useCallback:Ug,useContext:De,useEffect:Om,useImperativeHandle:Gg,useInsertionEffect:Ig,useLayoutEffect:kg,useMemo:Lg,useReducer:jl,useRef:Dg,useState:function(){return jl(bn)},useDebugValue:Gm,useDeferredValue:function(t,e){var n=he();return Z===null?Um(n,t,e):Fg(n,Z.memoizedState,t,e)},useTransition:function(){var t=jl(bn)[0],e=he().memoizedState;return[typeof t=="boolean"?t:Ri(t),e]},useSyncExternalStore:vg,useId:Pg,useHostTransitionStatus:Lm,useFormState:Vy,useActionState:Vy,useOptimistic:function(t,e){var n=he();return Z!==null?Eg(n,Z,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Im,useCacheRefresh:Kg};Qg.useEffectEvent=Rg;function Xl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nf={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=at(),o=Jn(r);o.payload=e,n!=null&&(o.callback=n),e=jn(t,o,r),e!==null&&(Qe(e,t,r),ni(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=at(),o=Jn(r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=jn(t,o,r),e!==null&&(Qe(e,t,r),ni(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=at(),r=Jn(n);r.tag=2,e!=null&&(r.callback=e),e=jn(t,r,n),e!==null&&(Qe(e,t,n),ni(e,t,n))}};function Ry(t,e,n,r,o,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,i):e.prototype&&e.prototype.isPureReactComponent?!hi(n,r)||!hi(o,s):!0}function Iy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nf.enqueueReplaceState(e,e.state,null)}function Vr(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=ie({},n));for(var o in t)n[o]===void 0&&(n[o]=t[o])}return n}function qg(t){ic(t)}function Wg(t){console.error(t)}function $g(t){ic(t)}function pc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function ky(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function zf(t,e,n){return n=Jn(n),n.tag=3,n.payload={element:null},n.callback=function(){pc(t,e)},n}function Zg(t){return t=Jn(t),t.tag=3,t}function e0(t,e,n,r){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var s=r.value;t.payload=function(){return o(s)},t.callback=function(){ky(e,n,r)}}var i=n.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){ky(e,n,r),typeof o!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var a=r.stack;this.componentDidCatch(r.value,{componentStack:a!==null?a:""})})}function E_(t,e,n,r,o){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&jo(e,n,o,!0),n=ut.current,n!==null){switch(n.tag){case 31:case 13:return Tt===null?vc():n.alternate===null&&fe===0&&(fe=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===lc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),of(t,r,o)),!1;case 22:return n.flags|=65536,r===lc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),of(t,r,o)),!1}throw Error(C(435,n.tag))}return of(t,r,o),vc(),!1}if(K)return e=ut.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=o,r!==Cf&&(t=Error(C(422),{cause:r}),yi(bt(t,n)))):(r!==Cf&&(e=Error(C(423),{cause:r}),yi(bt(e,n))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,r=bt(r,n),o=zf(t.stateNode,r,o),Jl(t,o),fe!==4&&(fe=2)),!1;var s=Error(C(520),{cause:r});if(s=bt(s,n),ci===null?ci=[s]:ci.push(s),fe!==4&&(fe=2),e===null)return!0;r=bt(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=o&-o,n.lanes|=t,t=zf(n.stateNode,r,t),Jl(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Xn===null||!Xn.has(s))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Zg(o),e0(o,t,n,r),Jl(n,o),!1}n=n.return}while(n!==null);return!1}var zm=Error(C(461)),Ae=!1;function Ce(t,e,n,r){e.child=t===null?hg(e,null,n,r):Cr(e,t.child,n,r)}function Oy(t,e,n,r,o){n=n.render;var s=e.ref;if("ref"in r){var i={};for(var a in r)a!=="ref"&&(i[a]=r[a])}else i=r;return Sr(e),r=Mm(t,e,n,i,s,o),a=Vm(),t!==null&&!Ae?(Dm(t,e,o),_n(t,e,o)):(K&&a&&bm(e),e.flags|=1,Ce(t,e,r,o),e.child)}function Gy(t,e,n,r,o){if(t===null){var s=n.type;return typeof s=="function"&&!vm(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,t0(t,e,s,r,o)):(t=Ka(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Hm(t,o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:hi,n(i,r)&&t.ref===e.ref)return _n(t,e,o)}return e.flags|=1,t=yn(s,r),t.ref=e.ref,t.return=e,e.child=t}function t0(t,e,n,r,o){if(t!==null){var s=t.memoizedProps;if(hi(s,r)&&t.ref===e.ref)if(Ae=!1,e.pendingProps=r=s,Hm(t,o))(t.flags&131072)!==0&&(Ae=!0);else return e.lanes=t.lanes,_n(t,e,o)}return Hf(t,e,n,r,o)}function n0(t,e,n,r){var o=r.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((e.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,t!==null){for(r=e.child=t.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~s}else r=0,e.child=null;return Uy(t,e,s,n,r)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ja(e,s!==null?s.cachePool:null),s!==null?wy(e,s):Of(),xg(e);else return r=e.lanes=536870912,Uy(t,e,s!==null?s.baseLanes|n:n,n,r)}else s!==null?(Ja(e,s.cachePool),wy(e,s),Gn(e),e.memoizedState=null):(t!==null&&Ja(e,null),Of(),Gn(e));return Ce(t,e,o,n),e.child}function qs(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Uy(t,e,n,r,o){var s=Bm();return s=s===null?null:{parent:ge._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Ja(e,null),Of(),xg(e),t!==null&&jo(t,e,r,!0),e.childLanes=o,null}function Ya(t,e){return e=yc({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Ly(t,e,n){return Cr(e,t.child,null,n),t=Ya(e,e.pendingProps),t.flags|=2,tt(e),e.memoizedState=null,t}function S_(t,e,n){var r=e.pendingProps,o=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(K){if(r.mode==="hidden")return t=Ya(e,r),e.lanes=536870912,qs(null,t);if(Gf(e),(t=se)?(t=Y0(t,_t),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:$n!==null?{id:Nt,overflow:zt}:null,retryLane:536870912,hydrationErrors:null},n=ag(t),n.return=e,e.child=n,Ve=e,se=null)):t=null,t===null)throw Zn(e);return e.lanes=536870912,null}return Ya(e,r)}var s=t.memoizedState;if(s!==null){var i=s.dehydrated;if(Gf(e),o)if(e.flags&256)e.flags&=-257,e=Ly(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(C(558));else if(Ae||jo(t,e,n,!1),o=(n&t.childLanes)!==0,Ae||o){if(r=ee,r!==null&&(i=Ix(r,n),i!==0&&i!==s.retryLane))throw s.retryLane=i,kr(t,i),Qe(r,t,i),zm;vc(),e=Ly(t,e,n)}else t=s.treeContext,se=Bt(i.nextSibling),Ve=e,K=!0,Kn=null,_t=!1,t!==null&&ug(e,t),e=Ya(e,r),e.flags|=4096;return e}return t=yn(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Qa(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(C(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Hf(t,e,n,r,o){return Sr(e),n=Mm(t,e,n,r,void 0,o),r=Vm(),t!==null&&!Ae?(Dm(t,e,o),_n(t,e,o)):(K&&r&&bm(e),e.flags|=1,Ce(t,e,n,o),e.child)}function Fy(t,e,n,r,o,s){return Sr(e),e.updateQueue=null,n=Ag(e,r,n,o),gg(t),r=Vm(),t!==null&&!Ae?(Dm(t,e,s),_n(t,e,s)):(K&&r&&bm(e),e.flags|=1,Ce(t,e,n,s),e.child)}function Ny(t,e,n,r,o){if(Sr(e),e.stateNode===null){var s=_o,i=n.contextType;typeof i=="object"&&i!==null&&(s=De(i)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Nf,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},Em(e),i=n.contextType,s.context=typeof i=="object"&&i!==null?De(i):_o,s.state=e.memoizedState,i=n.getDerivedStateFromProps,typeof i=="function"&&(Xl(e,n,i,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(i=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),i!==s.state&&Nf.enqueueReplaceState(s,s.state,null),oi(e,r,s,o),ri(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var a=e.memoizedProps,c=Vr(n,a);s.props=c;var u=s.context,l=n.contextType;i=_o,typeof l=="object"&&l!==null&&(i=De(l));var f=n.getDerivedStateFromProps;l=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",a=e.pendingProps!==a,l||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a||u!==i)&&Iy(e,s,r,i),In=!1;var m=e.memoizedState;s.state=m,oi(e,r,s,o),ri(),u=e.memoizedState,a||m!==u||In?(typeof f=="function"&&(Xl(e,n,f,r),u=e.memoizedState),(c=In||Ry(e,n,c,r,m,u,i))?(l||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=i,r=c):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,If(t,e),i=e.memoizedProps,l=Vr(n,i),s.props=l,f=e.pendingProps,m=s.context,u=n.contextType,c=_o,typeof u=="object"&&u!==null&&(c=De(u)),a=n.getDerivedStateFromProps,(u=typeof a=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==f||m!==c)&&Iy(e,s,r,c),In=!1,m=e.memoizedState,s.state=m,oi(e,r,s,o),ri();var d=e.memoizedState;i!==f||m!==d||In||t!==null&&t.dependencies!==null&&uc(t.dependencies)?(typeof a=="function"&&(Xl(e,n,a,r),d=e.memoizedState),(l=In||Ry(e,n,l,r,m,d,c)||t!==null&&t.dependencies!==null&&uc(t.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,d,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,d,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=d),s.props=r,s.state=d,s.context=c,r=l):(typeof s.componentDidUpdate!="function"||i===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,Qa(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=Cr(e,t.child,null,o),e.child=Cr(e,null,n,o)):Ce(t,e,n,o),e.memoizedState=s.state,t=e.child):t=_n(t,e,o),t}function zy(t,e,n,r){return Er(),e.flags|=256,Ce(t,e,n,r),e.child}var Yl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ql(t){return{baseLanes:t,cachePool:fg()}}function ql(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=rt),t}function r0(t,e,n){var r=e.pendingProps,o=!1,s=(e.flags&128)!==0,i;if((i=s)||(i=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),i&&(o=!0,e.flags&=-129),i=(e.flags&32)!==0,e.flags&=-33,t===null){if(K){if(o?On(e):Gn(e),(t=se)?(t=Y0(t,_t),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:$n!==null?{id:Nt,overflow:zt}:null,retryLane:536870912,hydrationErrors:null},n=ag(t),n.return=e,e.child=n,Ve=e,se=null)):t=null,t===null)throw Zn(e);return nm(t)?e.lanes=32:e.lanes=536870912,null}var a=r.children;return r=r.fallback,o?(Gn(e),o=e.mode,a=yc({mode:"hidden",children:a},o),r=_r(r,o,n,null),a.return=e,r.return=e,a.sibling=r,e.child=a,r=e.child,r.memoizedState=Ql(n),r.childLanes=ql(t,i,n),e.memoizedState=Yl,qs(null,r)):(On(e),Pf(e,a))}var c=t.memoizedState;if(c!==null&&(a=c.dehydrated,a!==null)){if(s)e.flags&256?(On(e),e.flags&=-257,e=Wl(t,e,n)):e.memoizedState!==null?(Gn(e),e.child=t.child,e.flags|=128,e=null):(Gn(e),a=r.fallback,o=e.mode,r=yc({mode:"visible",children:r.children},o),a=_r(a,o,n,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,Cr(e,t.child,null,n),r=e.child,r.memoizedState=Ql(n),r.childLanes=ql(t,i,n),e.memoizedState=Yl,e=qs(null,r));else if(On(e),nm(a)){if(i=a.nextSibling&&a.nextSibling.dataset,i)var u=i.dgst;i=u,r=Error(C(419)),r.stack="",r.digest=i,yi({value:r,source:null,stack:null}),e=Wl(t,e,n)}else if(Ae||jo(t,e,n,!1),i=(n&t.childLanes)!==0,Ae||i){if(i=ee,i!==null&&(r=Ix(i,n),r!==0&&r!==c.retryLane))throw c.retryLane=r,kr(t,r),Qe(i,t,r),zm;tm(a)||vc(),e=Wl(t,e,n)}else tm(a)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,se=Bt(a.nextSibling),Ve=e,K=!0,Kn=null,_t=!1,t!==null&&ug(e,t),e=Pf(e,r.children),e.flags|=4096);return e}return o?(Gn(e),a=r.fallback,o=e.mode,c=t.child,u=c.sibling,r=yn(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?a=yn(u,a):(a=_r(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,qs(null,r),r=e.child,a=t.child.memoizedState,a===null?a=Ql(n):(o=a.cachePool,o!==null?(c=ge._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=fg(),a={baseLanes:a.baseLanes|n,cachePool:o}),r.memoizedState=a,r.childLanes=ql(t,i,n),e.memoizedState=Yl,qs(t.child,r)):(On(e),n=t.child,t=n.sibling,n=yn(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(i=e.deletions,i===null?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=n,e.memoizedState=null,n)}function Pf(t,e){return e=yc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function yc(t,e){return t=nt(22,t,null,e),t.lanes=0,t}function Wl(t,e,n){return Cr(e,t.child,null,n),t=Pf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vf(t.return,e,n)}function $l(t,e,n,r,o,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o,i.treeForkCount=s)}function o0(t,e,n){var r=e.pendingProps,o=r.revealOrder,s=r.tail;r=r.children;var i=de.current,a=(i&2)!==0;if(a?(i=i&1|2,e.flags|=128):i&=1,te(de,i),Ce(t,e,r,n),r=K?pi:0,!a&&t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hy(t,n,e);else if(t.tag===19)Hy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&mc(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),$l(e,!1,o,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&mc(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}$l(e,!0,n,null,s,r);break;case"together":$l(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function _n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),tr|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(jo(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=yn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Hm(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&uc(t)))}function C_(t,e,n){switch(e.tag){case 3:nc(e,e.stateNode.containerInfo),kn(e,ge,t.memoizedState.cache),Er();break;case 27:case 5:xf(e);break;case 4:nc(e,e.stateNode.containerInfo);break;case 10:kn(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Gf(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(On(e),e.flags|=128,null):(n&e.child.childLanes)!==0?r0(t,e,n):(On(e),t=_n(t,e,n),t!==null?t.sibling:null);On(e);break;case 19:var o=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(jo(t,e,n,!1),r=(n&e.childLanes)!==0),o){if(r)return o0(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),te(de,de.current),r)break;return null;case 22:return e.lanes=0,n0(t,e,n,e.pendingProps);case 24:kn(e,ge,t.memoizedState.cache)}return _n(t,e,n)}function s0(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ae=!0;else{if(!Hm(t,n)&&(e.flags&128)===0)return Ae=!1,C_(t,e,n);Ae=(t.flags&131072)!==0}else Ae=!1,K&&(e.flags&1048576)!==0&&cg(e,pi,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Ar(e.elementType),e.type=t,typeof t=="function")vm(t)?(r=Vr(t,r),e.tag=1,e=Ny(null,e,t,r,n)):(e.tag=0,e=Hf(null,e,t,r,n));else{if(t!=null){var o=t.$$typeof;if(o===im){e.tag=11,e=Oy(null,e,t,r,n);break e}else if(o===am){e.tag=14,e=Gy(null,e,t,r,n);break e}}throw e=pf(t)||t,Error(C(306,e,""))}}return e;case 0:return Hf(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,o=Vr(r,e.pendingProps),Ny(t,e,r,o,n);case 3:e:{if(nc(e,e.stateNode.containerInfo),t===null)throw Error(C(387));r=e.pendingProps;var s=e.memoizedState;o=s.element,If(t,e),oi(e,r,null,n);var i=e.memoizedState;if(r=i.cache,kn(e,ge,r),r!==s.cache&&Df(e,[ge],n,!0),ri(),r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=zy(t,e,r,n);break e}else if(r!==o){o=bt(Error(C(424)),e),yi(o),e=zy(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=Bt(t.firstChild),Ve=e,K=!0,Kn=null,_t=!0,n=hg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Er(),r===o){e=_n(t,e,n);break e}Ce(t,e,r,n)}e=e.child}return e;case 26:return Qa(t,e),t===null?(n=lx(e.type,null,e.pendingProps,null))?e.memoizedState=n:K||(n=e.type,t=e.pendingProps,r=Bc(Pn.current).createElement(n),r[Me]=e,r[qe]=t,Re(r,n,t),we(r),e.stateNode=r):e.memoizedState=lx(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return xf(e),t===null&&K&&(r=e.stateNode=Q0(e.type,e.pendingProps,Pn.current),Ve=e,_t=!0,o=se,rr(e.type)?(rm=o,se=Bt(r.firstChild)):se=o),Ce(t,e,e.pendingProps.children,n),Qa(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&K&&((o=r=se)&&(r=n3(r,e.type,e.pendingProps,_t),r!==null?(e.stateNode=r,Ve=e,se=Bt(r.firstChild),_t=!1,o=!0):o=!1),o||Zn(e)),xf(e),o=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,r=s.children,Zf(o,s)?r=null:i!==null&&Zf(o,i)&&(e.flags|=32),e.memoizedState!==null&&(o=Mm(t,e,A_,null,null,n),_i._currentValue=o),Qa(t,e),Ce(t,e,r,n),e.child;case 6:return t===null&&K&&((t=n=se)&&(n=r3(n,e.pendingProps,_t),n!==null?(e.stateNode=n,Ve=e,se=null,t=!0):t=!1),t||Zn(e)),null;case 13:return r0(t,e,n);case 4:return nc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Cr(e,null,r,n):Ce(t,e,r,n),e.child;case 11:return Oy(t,e,e.type,e.pendingProps,n);case 7:return Ce(t,e,e.pendingProps,n),e.child;case 8:return Ce(t,e,e.pendingProps.children,n),e.child;case 12:return Ce(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,kn(e,e.type,r.value),Ce(t,e,r.children,n),e.child;case 9:return o=e.type._context,r=e.pendingProps.children,Sr(e),o=De(o),r=r(o),e.flags|=1,Ce(t,e,r,n),e.child;case 14:return Gy(t,e,e.type,e.pendingProps,n);case 15:return t0(t,e,e.type,e.pendingProps,n);case 19:return o0(t,e,n);case 31:return S_(t,e,n);case 22:return n0(t,e,n,e.pendingProps);case 24:return Sr(e),r=De(ge),t===null?(o=Bm(),o===null&&(o=ee,s=Tm(),o.pooledCache=s,s.refCount++,s!==null&&(o.pooledCacheLanes|=n),o=s),e.memoizedState={parent:r,cache:o},Em(e),kn(e,ge,o)):((t.lanes&n)!==0&&(If(t,e),oi(e,null,null,n),ri()),o=t.memoizedState,s=e.memoizedState,o.parent!==r?(o={parent:r,cache:r},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),kn(e,ge,r)):(r=s.cache,kn(e,ge,r),r!==o.cache&&Df(e,[ge],n,!0))),Ce(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(C(156,e.tag))}function an(t){t.flags|=4}function Zl(t,e,n,r,o){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(o&335544128)===o)if(t.stateNode.complete)t.flags|=8192;else if(M0())t.flags|=8192;else throw Br=lc,wm}else t.flags&=-16777217}function Py(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$0(e))if(M0())t.flags|=8192;else throw Br=lc,wm}function Ia(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Vx():536870912,t.lanes|=e,Fo|=e)}function Ps(t,e){if(!K)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function M_(t,e,n){var r=e.pendingProps;switch(_m(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(e),null;case 1:return oe(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),xn(ge),Io(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(uo(e)?an(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Kl())),oe(e),null;case 26:var o=e.type,s=e.memoizedState;return t===null?(an(e),s!==null?(oe(e),Py(e,s)):(oe(e),Zl(e,o,null,r,n))):s?s!==t.memoizedState?(an(e),oe(e),Py(e,s)):(oe(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&an(e),oe(e),Zl(e,o,t,r,n)),null;case 27:if(rc(e),n=Pn.current,o=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&an(e);else{if(!r){if(e.stateNode===null)throw Error(C(166));return oe(e),null}t=Pt.current,uo(e)?gy(e,t):(t=Q0(o,r,n),e.stateNode=t,an(e))}return oe(e),null;case 5:if(rc(e),o=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&an(e);else{if(!r){if(e.stateNode===null)throw Error(C(166));return oe(e),null}if(s=Pt.current,uo(e))gy(e,s);else{var i=Bc(Pn.current);switch(s){case 1:s=i.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:s=i.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":s=i.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":s=i.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":s=i.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s=typeof r.is=="string"?i.createElement(o,{is:r.is}):i.createElement(o)}}s[Me]=e,s[qe]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)s.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=s;e:switch(Re(s,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&an(e)}}return oe(e),Zl(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&an(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(t=Pn.current,uo(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,o=Ve,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}t[Me]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||J0(t.nodeValue,n)),t||Zn(e,!0)}else t=Bc(t).createTextNode(r),t[Me]=e,e.stateNode=t}return oe(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=uo(e),n!==null){if(t===null){if(!r)throw Error(C(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(557));t[Me]=e}else Er(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;oe(e),t=!1}else n=Kl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(tt(e),e):(tt(e),null);if((e.flags&128)!==0)throw Error(C(558))}return oe(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=uo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(C(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(C(317));o[Me]=e}else Er(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;oe(e),o=!1}else o=Kl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return e.flags&256?(tt(e),e):(tt(e),null)}return tt(e),(e.flags&128)!==0?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Ia(e,e.updateQueue),oe(e),null);case 4:return Io(),t===null&&Qm(e.stateNode.containerInfo),oe(e),null;case 10:return xn(e.type),oe(e),null;case 19:if(Ee(de),r=e.memoizedState,r===null)return oe(e),null;if(o=(e.flags&128)!==0,s=r.rendering,s===null)if(o)Ps(r,!1);else{if(fe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=mc(t),s!==null){for(e.flags|=128,Ps(r,!1),t=s.updateQueue,e.updateQueue=t,Ia(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)ig(n,t),n=n.sibling;return te(de,de.current&1|2),K&&fn(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&ot()>gc&&(e.flags|=128,o=!0,Ps(r,!1),e.lanes=4194304)}else{if(!o)if(t=mc(s),t!==null){if(e.flags|=128,o=!0,t=t.updateQueue,e.updateQueue=t,Ia(e,t),Ps(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!K)return oe(e),null}else 2*ot()-r.renderingStartTime>gc&&n!==536870912&&(e.flags|=128,o=!0,Ps(r,!1),e.lanes=4194304);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=ot(),t.sibling=null,n=de.current,te(de,o?n&1|2:n&1),K&&fn(e,r.treeForkCount),t):(oe(e),null);case 22:case 23:return tt(e),Sm(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(n&536870912)!==0&&(e.flags&128)===0&&(oe(e),e.subtreeFlags&6&&(e.flags|=8192)):oe(e),n=e.updateQueue,n!==null&&Ia(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Ee(Tr),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),xn(ge),oe(e),null;case 25:return null;case 30:return null}throw Error(C(156,e.tag))}function V_(t,e){switch(_m(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xn(ge),Io(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return rc(e),null;case 31:if(e.memoizedState!==null){if(tt(e),e.alternate===null)throw Error(C(340));Er()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(tt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Er()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(de),null;case 4:return Io(),null;case 10:return xn(e.type),null;case 22:case 23:return tt(e),Sm(),t!==null&&Ee(Tr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return xn(ge),null;case 25:return null;default:return null}}function i0(t,e){switch(_m(e),e.tag){case 3:xn(ge),Io();break;case 26:case 27:case 5:rc(e);break;case 4:Io();break;case 31:e.memoizedState!==null&&tt(e);break;case 13:tt(e);break;case 19:Ee(de);break;case 10:xn(e.type);break;case 22:case 23:tt(e),Sm(),t!==null&&Ee(Tr);break;case 24:xn(ge)}}function Ii(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var o=r.next;n=o;do{if((n.tag&t)===t){r=void 0;var s=n.create,i=n.inst;r=s(),i.destroy=r}n=n.next}while(n!==o)}}catch(a){W(e,e.return,a)}}function er(t,e,n){try{var r=e.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var s=o.next;r=s;do{if((r.tag&t)===t){var i=r.inst,a=i.destroy;if(a!==void 0){i.destroy=void 0,o=e;var c=n,u=a;try{u()}catch(l){W(o,c,l)}}}r=r.next}while(r!==s)}}catch(l){W(e,e.return,l)}}function a0(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{yg(e,n)}catch(r){W(t,t.return,r)}}}function c0(t,e,n){n.props=Vr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){W(t,e,r)}}function ii(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(o){W(t,e,o)}}function Ht(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(o){W(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){W(t,e,o)}else n.current=null}function u0(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){W(t,t.return,o)}}function ef(t,e,n){try{var r=t.stateNode;q_(r,t.type,n,e),r[qe]=e}catch(o){W(t,t.return,o)}}function l0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rr(t.type)||t.tag===4}function tf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||l0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hn));else if(r!==4&&(r===27&&rr(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Kf(t,e,n),t=t.sibling;t!==null;)Kf(t,e,n),t=t.sibling}function xc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&rr(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(xc(t,e,n),t=t.sibling;t!==null;)xc(t,e,n),t=t.sibling}function f0(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,o=e.attributes;o.length;)e.removeAttributeNode(o[0]);Re(e,r,n),e[Me]=t,e[qe]=n}catch(s){W(t,t.return,s)}}var mn=!1,xe=!1,nf=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,Be=null;function D_(t,e){if(t=t.containerInfo,Wf=Cc,t=$x(t),xm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,l=0,f=t,m=null;t:for(;;){for(var d;f!==n||o!==0&&f.nodeType!==3||(a=i+o),f!==s||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(d=f.firstChild)!==null;)m=f,f=d;for(;;){if(f===t)break t;if(m===n&&++u===o&&(a=i),m===s&&++l===r&&(c=i),(d=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=d}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($f={focusedElem:t,selectionRange:n},Cc=!1,Be=e;Be!==null;)if(e=Be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Be=t;else for(;Be!==null;){switch(e=Be,s=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)o=t[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&s!==null){t=void 0,n=e,o=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var v=Vr(n.type,o);t=r.getSnapshotBeforeUpdate(v,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(E){W(n,n.return,E)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)em(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(C(163))}if(t=e.sibling,t!==null){t.return=e.return,Be=t;break}Be=e.return}}function m0(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:un(t,n),r&4&&Ii(5,n);break;case 1:if(un(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(i){W(n,n.return,i)}else{var o=Vr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(i){W(n,n.return,i)}}r&64&&a0(n),r&512&&ii(n,n.return);break;case 3:if(un(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{yg(t,e)}catch(i){W(n,n.return,i)}}break;case 27:e===null&&r&4&&f0(n);case 26:case 5:un(t,n),e===null&&r&4&&u0(n),r&512&&ii(n,n.return);break;case 12:un(t,n);break;case 31:un(t,n),r&4&&p0(t,n);break;case 13:un(t,n),r&4&&y0(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=N_.bind(null,n),o3(t,n))));break;case 22:if(r=n.memoizedState!==null||mn,!r){e=e!==null&&e.memoizedState!==null||xe,o=mn;var s=xe;mn=r,(xe=e)&&!s?ln(t,n,(n.subtreeFlags&8772)!==0):un(t,n),mn=o,xe=s}break;case 30:break;default:un(t,n)}}function d0(t){var e=t.alternate;e!==null&&(t.alternate=null,d0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&fm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ce=null,Xe=!1;function cn(t,e,n){for(n=n.child;n!==null;)h0(t,e,n),n=n.sibling}function h0(t,e,n){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Ei,n)}catch{}switch(n.tag){case 26:xe||Ht(n,e),cn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:xe||Ht(n,e);var r=ce,o=Xe;rr(n.type)&&(ce=n.stateNode,Xe=!1),cn(t,e,n),li(n.stateNode),ce=r,Xe=o;break;case 5:xe||Ht(n,e);case 6:if(r=ce,o=Xe,ce=null,cn(t,e,n),ce=r,Xe=o,ce!==null)if(Xe)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(n.stateNode)}catch(s){W(n,e,s)}else try{ce.removeChild(n.stateNode)}catch(s){W(n,e,s)}break;case 18:ce!==null&&(Xe?(t=ce,sx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Po(t)):sx(ce,n.stateNode));break;case 4:r=ce,o=Xe,ce=n.stateNode.containerInfo,Xe=!0,cn(t,e,n),ce=r,Xe=o;break;case 0:case 11:case 14:case 15:er(2,n,e),xe||er(4,n,e),cn(t,e,n);break;case 1:xe||(Ht(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&c0(n,e,r)),cn(t,e,n);break;case 21:cn(t,e,n);break;case 22:xe=(r=xe)||n.memoizedState!==null,cn(t,e,n),xe=r;break;default:cn(t,e,n)}}function p0(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Po(t)}catch(n){W(e,e.return,n)}}}function y0(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Po(t)}catch(n){W(e,e.return,n)}}function R_(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ky),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ky),e;default:throw Error(C(435,t.tag))}}function ka(t,e){var n=R_(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var o=z_.bind(null,t,r);r.then(o,o)}})}function Je(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r],s=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 27:if(rr(a.type)){ce=a.stateNode,Xe=!1;break e}break;case 5:ce=a.stateNode,Xe=!1;break e;case 3:case 4:ce=a.stateNode.containerInfo,Xe=!0;break e}a=a.return}if(ce===null)throw Error(C(160));h0(s,i,o),ce=null,Xe=!1,s=o.alternate,s!==null&&(s.return=null),o.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)x0(e,t),e=e.sibling}var Rt=null;function x0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Je(e,t),je(t),r&4&&(er(3,t,t.return),Ii(3,t),er(5,t,t.return));break;case 1:Je(e,t),je(t),r&512&&(xe||n===null||Ht(n,n.return)),r&64&&mn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var o=Rt;if(Je(e,t),je(t),r&512&&(xe||n===null||Ht(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":s=o.getElementsByTagName("title")[0],(!s||s[Mi]||s[Me]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=o.createElement(r),o.head.insertBefore(s,o.querySelector("head > title"))),Re(s,r,n),s[Me]=t,we(s),r=s;break e;case"link":var i=mx("link","href",o).get(r+(n.href||""));if(i){for(var a=0;a<i.length;a++)if(s=i[a],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){i.splice(a,1);break t}}s=o.createElement(r),Re(s,r,n),o.head.appendChild(s);break;case"meta":if(i=mx("meta","content",o).get(r+(n.content||""))){for(a=0;a<i.length;a++)if(s=i[a],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){i.splice(a,1);break t}}s=o.createElement(r),Re(s,r,n),o.head.appendChild(s);break;default:throw Error(C(468,r))}s[Me]=t,we(s),r=s}t.stateNode=r}else dx(o,t.type,t.stateNode);else t.stateNode=fx(o,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?dx(o,t.type,t.stateNode):fx(o,r,t.memoizedProps)):r===null&&t.stateNode!==null&&ef(t,t.memoizedProps,n.memoizedProps)}break;case 27:Je(e,t),je(t),r&512&&(xe||n===null||Ht(n,n.return)),n!==null&&r&4&&ef(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Je(e,t),je(t),r&512&&(xe||n===null||Ht(n,n.return)),t.flags&32){o=t.stateNode;try{Oo(o,"")}catch(v){W(t,t.return,v)}}r&4&&t.stateNode!=null&&(o=t.memoizedProps,ef(t,o,n!==null?n.memoizedProps:o)),r&1024&&(nf=!0);break;case 6:if(Je(e,t),je(t),r&4){if(t.stateNode===null)throw Error(C(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(v){W(t,t.return,v)}}break;case 3:if($a=null,o=Rt,Rt=wc(e.containerInfo),Je(e,t),Rt=o,je(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Po(e.containerInfo)}catch(v){W(t,t.return,v)}nf&&(nf=!1,g0(t));break;case 4:r=Rt,Rt=wc(t.stateNode.containerInfo),Je(e,t),je(t),Rt=r;break;case 12:Je(e,t),je(t);break;case 31:Je(e,t),je(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ka(t,r)));break;case 13:Je(e,t),je(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(zc=ot()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ka(t,r)));break;case 22:o=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=mn,l=xe;if(mn=u||o,xe=l||c,Je(e,t),xe=l,mn=u,je(t),r&8192)e:for(e=t.stateNode,e._visibility=o?e._visibility&-2:e._visibility|1,o&&(n===null||c||mn||xe||vr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(s=c.stateNode,o)i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{a=c.stateNode;var f=c.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;a.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(v){W(c,c.return,v)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(v){W(c,c.return,v)}}}else if(e.tag===18){if(n===null){c=e;try{var d=c.stateNode;o?ix(d,!0):ix(c.stateNode,!1)}catch(v){W(c,c.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,ka(t,n))));break;case 19:Je(e,t),je(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ka(t,r)));break;case 30:break;case 21:break;default:Je(e,t),je(t)}}function je(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(l0(r)){n=r;break}r=r.return}if(n==null)throw Error(C(160));switch(n.tag){case 27:var o=n.stateNode,s=tf(t);xc(t,s,o);break;case 5:var i=n.stateNode;n.flags&32&&(Oo(i,""),n.flags&=-33);var a=tf(t);xc(t,a,i);break;case 3:case 4:var c=n.stateNode.containerInfo,u=tf(t);Kf(t,u,c);break;default:throw Error(C(161))}}catch(l){W(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function g0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;g0(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function un(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)m0(t,e.alternate,e),e=e.sibling}function vr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:er(4,e,e.return),vr(e);break;case 1:Ht(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&c0(e,e.return,n),vr(e);break;case 27:li(e.stateNode);case 26:case 5:Ht(e,e.return),vr(e);break;case 22:e.memoizedState===null&&vr(e);break;case 30:vr(e);break;default:vr(e)}t=t.sibling}}function ln(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,o=t,s=e,i=s.flags;switch(s.tag){case 0:case 11:case 15:ln(o,s,n),Ii(4,s);break;case 1:if(ln(o,s,n),r=s,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(u){W(r,r.return,u)}if(r=s,o=r.updateQueue,o!==null){var a=r.stateNode;try{var c=o.shared.hiddenCallbacks;if(c!==null)for(o.shared.hiddenCallbacks=null,o=0;o<c.length;o++)pg(c[o],a)}catch(u){W(r,r.return,u)}}n&&i&64&&a0(s),ii(s,s.return);break;case 27:f0(s);case 26:case 5:ln(o,s,n),n&&r===null&&i&4&&u0(s),ii(s,s.return);break;case 12:ln(o,s,n);break;case 31:ln(o,s,n),n&&i&4&&p0(o,s);break;case 13:ln(o,s,n),n&&i&4&&y0(o,s);break;case 22:s.memoizedState===null&&ln(o,s,n),ii(s,s.return);break;case 30:break;default:ln(o,s,n)}e=e.sibling}}function Pm(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Di(n))}function Km(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Di(t))}function Dt(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)A0(t,e,n,r),e=e.sibling}function A0(t,e,n,r){var o=e.flags;switch(e.tag){case 0:case 11:case 15:Dt(t,e,n,r),o&2048&&Ii(9,e);break;case 1:Dt(t,e,n,r);break;case 3:Dt(t,e,n,r),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Di(t)));break;case 12:if(o&2048){Dt(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,i=s.id,a=s.onPostCommit;typeof a=="function"&&a(i,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){W(e,e.return,c)}}else Dt(t,e,n,r);break;case 31:Dt(t,e,n,r);break;case 13:Dt(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,i=e.alternate,e.memoizedState!==null?s._visibility&2?Dt(t,e,n,r):ai(t,e):s._visibility&2?Dt(t,e,n,r):(s._visibility|=2,fo(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),o&2048&&Pm(i,e);break;case 24:Dt(t,e,n,r),o&2048&&Km(e.alternate,e);break;default:Dt(t,e,n,r)}}function fo(t,e,n,r,o){for(o=o&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,i=e,a=n,c=r,u=i.flags;switch(i.tag){case 0:case 11:case 15:fo(s,i,a,c,o),Ii(8,i);break;case 23:break;case 22:var l=i.stateNode;i.memoizedState!==null?l._visibility&2?fo(s,i,a,c,o):ai(s,i):(l._visibility|=2,fo(s,i,a,c,o)),o&&u&2048&&Pm(i.alternate,i);break;case 24:fo(s,i,a,c,o),o&&u&2048&&Km(i.alternate,i);break;default:fo(s,i,a,c,o)}e=e.sibling}}function ai(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,o=r.flags;switch(r.tag){case 22:ai(n,r),o&2048&&Pm(r.alternate,r);break;case 24:ai(n,r),o&2048&&Km(r.alternate,r);break;default:ai(n,r)}e=e.sibling}}var Ws=8192;function lo(t,e,n){if(t.subtreeFlags&Ws)for(t=t.child;t!==null;)v0(t,e,n),t=t.sibling}function v0(t,e,n){switch(t.tag){case 26:lo(t,e,n),t.flags&Ws&&t.memoizedState!==null&&y3(n,Rt,t.memoizedState,t.memoizedProps);break;case 5:lo(t,e,n);break;case 3:case 4:var r=Rt;Rt=wc(t.stateNode.containerInfo),lo(t,e,n),Rt=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Ws,Ws=16777216,lo(t,e,n),Ws=r):lo(t,e,n));break;default:lo(t,e,n)}}function b0(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ks(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Be=r,T0(r,t)}b0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_0(t),t=t.sibling}function _0(t){switch(t.tag){case 0:case 11:case 15:Ks(t),t.flags&2048&&er(9,t,t.return);break;case 3:Ks(t);break;case 12:Ks(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,qa(t)):Ks(t);break;default:Ks(t)}}function qa(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Be=r,T0(r,t)}b0(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:er(8,e,e.return),qa(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,qa(e));break;default:qa(e)}t=t.sibling}}function T0(t,e){for(;Be!==null;){var n=Be;switch(n.tag){case 0:case 11:case 15:er(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Di(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Be=r;else e:for(n=t;Be!==null;){r=Be;var o=r.sibling,s=r.return;if(d0(r),r===n){Be=null;break e}if(o!==null){o.return=s,Be=o;break e}Be=s}}}var I_={getCacheForType:function(t){var e=De(ge),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return De(ge).controller.signal}},k_=typeof WeakMap=="function"?WeakMap:Map,j=0,ee=null,H=null,P=0,q=0,et=null,Nn=!1,Yo=!1,Jm=!1,Tn=0,fe=0,tr=0,wr=0,jm=0,rt=0,Fo=0,ci=null,Ye=null,Jf=!1,zc=0,B0=0,gc=1/0,Ac=null,Xn=null,be=0,Yn=null,No=null,gn=0,jf=0,Xf=null,w0=null,ui=0,Yf=null;function at(){return(j&2)!==0&&P!==0?P&-P:L.T!==null?Ym():kx()}function E0(){if(rt===0)if((P&536870912)===0||K){var t=Ba;Ba<<=1,(Ba&3932160)===0&&(Ba=262144),rt=t}else rt=536870912;return t=ut.current,t!==null&&(t.flags|=32),rt}function Qe(t,e,n){(t===ee&&(q===2||q===9)||t.cancelPendingCommit!==null)&&(zo(t,0),zn(t,P,rt,!1)),Ci(t,n),((j&2)===0||t!==ee)&&(t===ee&&((j&2)===0&&(wr|=n),fe===4&&zn(t,P,rt,!1)),Jt(t))}function S0(t,e,n){if((j&6)!==0)throw Error(C(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Si(t,e),o=r?U_(t,e):rf(t,e,!0),s=r;do{if(o===0){Yo&&!r&&zn(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!O_(n)){o=rf(t,e,!1),s=!1;continue}if(o===2){if(s=e,t.errorRecoveryDisabledLanes&s)var i=0;else i=t.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){e=i;e:{var a=t;o=ci;var c=a.current.memoizedState.isDehydrated;if(c&&(zo(a,i).flags|=256),i=rf(a,i,!1),i!==2){if(Jm&&!c){a.errorRecoveryDisabledLanes|=s,wr|=s,o=4;break e}s=Ye,Ye=o,s!==null&&(Ye===null?Ye=s:Ye.push.apply(Ye,s))}o=i}if(s=!1,o!==2)continue}}if(o===1){zo(t,0),zn(t,e,0,!0);break}e:{switch(r=t,s=o,s){case 0:case 1:throw Error(C(345));case 4:if((e&4194048)!==e)break;case 6:zn(r,e,rt,!Nn);break e;case 2:Ye=null;break;case 3:case 5:break;default:throw Error(C(329))}if((e&62914560)===e&&(o=zc+300-ot(),10<o)){if(zn(r,e,rt,!Nn),Vc(r,0,!0)!==0)break e;gn=e,r.timeoutHandle=X0(Jy.bind(null,r,n,Ye,Ac,Jf,e,rt,wr,Fo,Nn,s,"Throttled",-0,0),o);break e}Jy(r,n,Ye,Ac,Jf,e,rt,wr,Fo,Nn,s,null,-0,0)}}break}while(!0);Jt(t)}function Jy(t,e,n,r,o,s,i,a,c,u,l,f,m,d){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hn},v0(e,s,f);var v=(s&62914560)===s?zc-ot():(s&4194048)===s?B0-ot():0;if(v=x3(f,v),v!==null){gn=s,t.cancelPendingCommit=v(Xy.bind(null,t,e,s,n,r,o,i,a,c,l,f,null,m,d)),zn(t,s,i,!u);return}}Xy(t,e,s,n,r,o,i,a,c)}function O_(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!ct(s(),o))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zn(t,e,n,r){e&=~jm,e&=~wr,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var o=e;0<o;){var s=31-it(o),i=1<<s;r[s]=-1,o&=~i}n!==0&&Dx(t,n,e)}function Hc(){return(j&6)===0?(ki(0,!1),!1):!0}function Xm(){if(H!==null){if(q===0)var t=H.return;else t=H,pn=Or=null,Rm(t),Vo=null,xi=0,t=H;for(;t!==null;)i0(t.alternate,t),t=t.return;H=null}}function zo(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Z_(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),gn=0,Xm(),ee=t,H=n=yn(t.current,null),P=e,q=0,et=null,Nn=!1,Yo=Si(t,e),Jm=!1,Fo=rt=jm=wr=tr=fe=0,Ye=ci=null,Jf=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var o=31-it(r),s=1<<o;e|=t[o],r&=~s}return Tn=e,kc(),n}function C0(t,e){N=null,L.H=Ai,e===Xo||e===Gc?(e=Ty(),q=3):e===wm?(e=Ty(),q=4):q=e===zm?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,et=e,H===null&&(fe=1,pc(t,bt(e,t.current)))}function M0(){var t=ut.current;return t===null?!0:(P&4194048)===P?Tt===null:(P&62914560)===P||(P&536870912)!==0?t===Tt:!1}function V0(){var t=L.H;return L.H=Ai,t===null?Ai:t}function D0(){var t=L.A;return L.A=I_,t}function vc(){fe=4,Nn||(P&4194048)!==P&&ut.current!==null||(Yo=!0),(tr&134217727)===0&&(wr&134217727)===0||ee===null||zn(ee,P,rt,!1)}function rf(t,e,n){var r=j;j|=2;var o=V0(),s=D0();(ee!==t||P!==e)&&(Ac=null,zo(t,e)),e=!1;var i=fe;e:do try{if(q!==0&&H!==null){var a=H,c=et;switch(q){case 8:Xm(),i=6;break e;case 3:case 2:case 9:case 6:ut.current===null&&(e=!0);var u=q;if(q=0,et=null,wo(t,a,c,u),n&&Yo){i=0;break e}break;default:u=q,q=0,et=null,wo(t,a,c,u)}}G_(),i=fe;break}catch(l){C0(t,l)}while(!0);return e&&t.shellSuspendCounter++,pn=Or=null,j=r,L.H=o,L.A=s,H===null&&(ee=null,P=0,kc()),i}function G_(){for(;H!==null;)R0(H)}function U_(t,e){var n=j;j|=2;var r=V0(),o=D0();ee!==t||P!==e?(Ac=null,gc=ot()+500,zo(t,e)):Yo=Si(t,e);e:do try{if(q!==0&&H!==null){e=H;var s=et;t:switch(q){case 1:q=0,et=null,wo(t,e,s,1);break;case 2:case 9:if(_y(s)){q=0,et=null,jy(e);break}e=function(){q!==2&&q!==9||ee!==t||(q=7),Jt(t)},s.then(e,e);break e;case 3:q=7;break e;case 4:q=5;break e;case 7:_y(s)?(q=0,et=null,jy(e)):(q=0,et=null,wo(t,e,s,7));break;case 5:var i=null;switch(H.tag){case 26:i=H.memoizedState;case 5:case 27:var a=H;if(i?$0(i):a.stateNode.complete){q=0,et=null;var c=a.sibling;if(c!==null)H=c;else{var u=a.return;u!==null?(H=u,Pc(u)):H=null}break t}}q=0,et=null,wo(t,e,s,5);break;case 6:q=0,et=null,wo(t,e,s,6);break;case 8:Xm(),fe=6;break e;default:throw Error(C(462))}}L_();break}catch(l){C0(t,l)}while(!0);return pn=Or=null,L.H=r,L.A=o,j=n,H!==null?0:(ee=null,P=0,kc(),fe)}function L_(){for(;H!==null&&!ib();)R0(H)}function R0(t){var e=s0(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?Pc(t):H=e}function jy(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Fy(n,e,e.pendingProps,e.type,void 0,P);break;case 11:e=Fy(n,e,e.pendingProps,e.type.render,e.ref,P);break;case 5:Rm(e);default:i0(n,e),e=H=ig(e,Tn),e=s0(n,e,Tn)}t.memoizedProps=t.pendingProps,e===null?Pc(t):H=e}function wo(t,e,n,r){pn=Or=null,Rm(e),Vo=null,xi=0;var o=e.return;try{if(E_(t,o,e,n,P)){fe=1,pc(t,bt(n,t.current)),H=null;return}}catch(s){if(o!==null)throw H=o,s;fe=1,pc(t,bt(n,t.current)),H=null;return}e.flags&32768?(K||r===1?t=!0:Yo||(P&536870912)!==0?t=!1:(Nn=t=!0,(r===2||r===9||r===3||r===6)&&(r=ut.current,r!==null&&r.tag===13&&(r.flags|=16384))),I0(e,t)):Pc(e)}function Pc(t){var e=t;do{if((e.flags&32768)!==0){I0(e,Nn);return}t=e.return;var n=M_(e.alternate,e,Tn);if(n!==null){H=n;return}if(e=e.sibling,e!==null){H=e;return}H=e=t}while(e!==null);fe===0&&(fe=5)}function I0(t,e){do{var n=V_(t.alternate,t);if(n!==null){n.flags&=32767,H=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){H=t;return}H=t=n}while(t!==null);fe=6,H=null}function Xy(t,e,n,r,o,s,i,a,c){t.cancelPendingCommit=null;do Kc();while(be!==0);if((j&6)!==0)throw Error(C(327));if(e!==null){if(e===t.current)throw Error(C(177));if(s=e.lanes|e.childLanes,s|=gm,xb(t,n,s,i,a,c),t===ee&&(H=ee=null,P=0),No=e,Yn=t,gn=n,jf=s,Xf=o,w0=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,H_(oc,function(){return L0(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=L.T,L.T=null,o=X.p,X.p=2,i=j,j|=4;try{D_(t,e,n)}finally{j=i,X.p=o,L.T=r}}be=1,k0(),O0(),G0()}}function k0(){if(be===1){be=0;var t=Yn,e=No,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=L.T,L.T=null;var r=X.p;X.p=2;var o=j;j|=4;try{x0(e,t);var s=$f,i=$x(t.containerInfo),a=s.focusedElem,c=s.selectionRange;if(i!==a&&a&&a.ownerDocument&&Wx(a.ownerDocument.documentElement,a)){if(c!==null&&xm(a)){var u=c.start,l=c.end;if(l===void 0&&(l=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(l,a.value.length);else{var f=a.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var d=m.getSelection(),v=a.textContent.length,E=Math.min(c.start,v),S=c.end===void 0?E:Math.min(c.end,v);!d.extend&&E>S&&(i=S,S=E,E=i);var x=py(a,E),g=py(a,S);if(x&&g&&(d.rangeCount!==1||d.anchorNode!==x.node||d.anchorOffset!==x.offset||d.focusNode!==g.node||d.focusOffset!==g.offset)){var y=f.createRange();y.setStart(x.node,x.offset),d.removeAllRanges(),E>S?(d.addRange(y),d.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),d.addRange(y))}}}}for(f=[],d=a;d=d.parentNode;)d.nodeType===1&&f.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<f.length;a++){var A=f[a];A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}Cc=!!Wf,$f=Wf=null}finally{j=o,X.p=r,L.T=n}}t.current=e,be=2}}function O0(){if(be===2){be=0;var t=Yn,e=No,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=L.T,L.T=null;var r=X.p;X.p=2;var o=j;j|=4;try{m0(t,e.alternate,e)}finally{j=o,X.p=r,L.T=n}}be=3}}function G0(){if(be===4||be===3){be=0,ab();var t=Yn,e=No,n=gn,r=w0;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?be=5:(be=0,No=Yn=null,U0(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(Xn=null),lm(n),e=e.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Ei,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=L.T,o=X.p,X.p=2,L.T=null;try{for(var s=t.onRecoverableError,i=0;i<r.length;i++){var a=r[i];s(a.value,{componentStack:a.stack})}}finally{L.T=e,X.p=o}}(gn&3)!==0&&Kc(),Jt(t),o=t.pendingLanes,(n&261930)!==0&&(o&42)!==0?t===Yf?ui++:(ui=0,Yf=t):ui=0,ki(0,!1)}}function U0(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Di(e)))}function Kc(){return k0(),O0(),G0(),L0()}function L0(){if(be!==5)return!1;var t=Yn,e=jf;jf=0;var n=lm(gn),r=L.T,o=X.p;try{X.p=32>n?32:n,L.T=null,n=Xf,Xf=null;var s=Yn,i=gn;if(be=0,No=Yn=null,gn=0,(j&6)!==0)throw Error(C(331));var a=j;if(j|=4,_0(s.current),A0(s,s.current,i,n),j=a,ki(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Ei,s)}catch{}return!0}finally{X.p=o,L.T=r,U0(t,e)}}function Yy(t,e,n){e=bt(n,e),e=zf(t.stateNode,e,2),t=jn(t,e,2),t!==null&&(Ci(t,2),Jt(t))}function W(t,e,n){if(t.tag===3)Yy(t,t,n);else for(;e!==null;){if(e.tag===3){Yy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xn===null||!Xn.has(r))){t=bt(n,t),n=Zg(2),r=jn(e,n,2),r!==null&&(e0(n,r,e,t),Ci(r,2),Jt(r));break}}e=e.return}}function of(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new k_;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(Jm=!0,o.add(n),t=F_.bind(null,t,e,n),e.then(t,t))}function F_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ee===t&&(P&n)===n&&(fe===4||fe===3&&(P&62914560)===P&&300>ot()-zc?(j&2)===0&&zo(t,0):jm|=n,Fo===P&&(Fo=0)),Jt(t)}function F0(t,e){e===0&&(e=Vx()),t=kr(t,e),t!==null&&(Ci(t,e),Jt(t))}function N_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),F0(t,n)}function z_(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(C(314))}r!==null&&r.delete(e),F0(t,n)}function H_(t,e){return cm(t,e)}var bc=null,mo=null,Qf=!1,_c=!1,sf=!1,Hn=0;function Jt(t){t!==mo&&t.next===null&&(mo===null?bc=mo=t:mo=mo.next=t),_c=!0,Qf||(Qf=!0,K_())}function ki(t,e){if(!sf&&_c){sf=!0;do for(var n=!1,r=bc;r!==null;){if(!e)if(t!==0){var o=r.pendingLanes;if(o===0)var s=0;else{var i=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-it(42|t)+1)-1,s&=o&~(i&~a),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Qy(r,s))}else s=P,s=Vc(r,r===ee?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(s&3)===0||Si(r,s)||(n=!0,Qy(r,s));r=r.next}while(n);sf=!1}}function P_(){N0()}function N0(){_c=Qf=!1;var t=0;Hn!==0&&$_()&&(t=Hn);for(var e=ot(),n=null,r=bc;r!==null;){var o=r.next,s=z0(r,e);s===0?(r.next=null,n===null?bc=o:n.next=o,o===null&&(mo=n)):(n=r,(t!==0||(s&3)!==0)&&(_c=!0)),r=o}be!==0&&be!==5||ki(t,!1),Hn!==0&&(Hn=0)}function z0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var i=31-it(s),a=1<<i,c=o[i];c===-1?((a&n)===0||(a&r)!==0)&&(o[i]=yb(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}if(e=ee,n=P,n=Vc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(q===2||q===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&kl(r),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||Si(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&kl(r),lm(n)){case 2:case 8:n=Cx;break;case 32:n=oc;break;case 268435456:n=Mx;break;default:n=oc}return r=H0.bind(null,t),n=cm(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&kl(r),t.callbackPriority=2,t.callbackNode=null,2}function H0(t,e){if(be!==0&&be!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Kc()&&t.callbackNode!==n)return null;var r=P;return r=Vc(t,t===ee?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(S0(t,r,e),z0(t,ot()),t.callbackNode!=null&&t.callbackNode===n?H0.bind(null,t):null)}function Qy(t,e){if(Kc())return null;S0(t,e,!0)}function K_(){e3(function(){(j&6)!==0?cm(Sx,P_):N0()})}function Ym(){if(Hn===0){var t=Go;t===0&&(t=Ta,Ta<<=1,(Ta&261888)===0&&(Ta=256)),Hn=t}return Hn}function qy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:za(""+t)}function Wy(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function J_(t,e,n,r,o){if(e==="submit"&&n&&n.stateNode===o){var s=qy((o[qe]||null).action),i=r.submitter;i&&(e=(e=i[qe]||null)?qy(e.formAction):i.getAttribute("formAction"),e!==null&&(s=e,i=null));var a=new Dc("action","action",null,r,o);t.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Hn!==0){var c=i?Wy(o,i):new FormData(o);Ff(n,{pending:!0,data:c,method:o.method,action:s},null,c)}}else typeof s=="function"&&(a.preventDefault(),c=i?Wy(o,i):new FormData(o),Ff(n,{pending:!0,data:c,method:o.method,action:s},s,c))},currentTarget:o}]})}}for(Oa=0;Oa<Sf.length;Oa++)Ga=Sf[Oa],$y=Ga.toLowerCase(),Zy=Ga[0].toUpperCase()+Ga.slice(1),It($y,"on"+Zy);var Ga,$y,Zy,Oa;It(eg,"onAnimationEnd");It(tg,"onAnimationIteration");It(ng,"onAnimationStart");It("dblclick","onDoubleClick");It("focusin","onFocus");It("focusout","onBlur");It(u_,"onTransitionRun");It(l_,"onTransitionStart");It(f_,"onTransitionCancel");It(rg,"onTransitionEnd");ko("onMouseEnter",["mouseout","mouseover"]);ko("onMouseLeave",["mouseout","mouseover"]);ko("onPointerEnter",["pointerout","pointerover"]);ko("onPointerLeave",["pointerout","pointerover"]);Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vi));function P0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&o.isPropagationStopped())break e;s=a,o.currentTarget=u;try{s(o)}catch(l){ic(l)}o.currentTarget=null,s=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&o.isPropagationStopped())break e;s=a,o.currentTarget=u;try{s(o)}catch(l){ic(l)}o.currentTarget=null,s=c}}}}function z(t,e){var n=e[Af];n===void 0&&(n=e[Af]=new Set);var r=t+"__bubble";n.has(r)||(K0(e,t,2,!1),n.add(r))}function af(t,e,n){var r=0;e&&(r|=4),K0(n,t,r,e)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function Qm(t){if(!t[Ua]){t[Ua]=!0,Ox.forEach(function(n){n!=="selectionchange"&&(j_.has(n)||af(n,!1,t),af(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ua]||(e[Ua]=!0,af("selectionchange",!1,e))}}function K0(t,e,n,r){switch(r1(e)){case 2:var o=v3;break;case 8:o=b3;break;default:o=Zm}n=o.bind(null,e,n,t),o=void 0,!Bf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function cf(t,e,n,r,o){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&i.stateNode.containerInfo===o)return;i=i.return}for(;a!==null;){if(i=yo(a),i===null)return;if(c=i.tag,c===5||c===6||c===26||c===27){r=s=i;continue e}a=a.parentNode}}r=r.return}Px(function(){var u=s,l=dm(n),f=[];e:{var m=og.get(t);if(m!==void 0){var d=Dc,v=t;switch(t){case"keypress":if(Pa(n)===0)break e;case"keydown":case"keyup":d=zb;break;case"focusin":v="focus",d=Fl;break;case"focusout":v="blur",d=Fl;break;case"beforeblur":case"afterblur":d=Fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Mb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Kb;break;case eg:case tg:case ng:d=Rb;break;case rg:d=jb;break;case"scroll":case"scrollend":d=Sb;break;case"wheel":d=Yb;break;case"copy":case"cut":case"paste":d=kb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=cy;break;case"toggle":case"beforetoggle":d=qb}var E=(e&4)!==0,S=!E&&(t==="scroll"||t==="scrollend"),x=E?m!==null?m+"Capture":null:m;E=[];for(var g=u,y;g!==null;){var A=g;if(y=A.stateNode,A=A.tag,A!==5&&A!==26&&A!==27||y===null||x===null||(A=mi(g,x),A!=null&&E.push(bi(g,A,y))),S)break;g=g.return}0<E.length&&(m=new d(m,v,null,n,l),f.push({event:m,listeners:E}))}}if((e&7)===0){e:{if(m=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",m&&n!==Tf&&(v=n.relatedTarget||n.fromElement)&&(yo(v)||v[Ko]))break e;if((d||m)&&(m=l.window===l?l:(m=l.ownerDocument)?m.defaultView||m.parentWindow:window,d?(v=n.relatedTarget||n.toElement,d=u,v=v?yo(v):null,v!==null&&(S=wi(v),E=v.tag,v!==S||E!==5&&E!==27&&E!==6)&&(v=null)):(d=null,v=u),d!==v)){if(E=iy,A="onMouseLeave",x="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(E=cy,A="onPointerLeave",x="onPointerEnter",g="pointer"),S=d==null?m:Qs(d),y=v==null?m:Qs(v),m=new E(A,g+"leave",d,n,l),m.target=S,m.relatedTarget=y,A=null,yo(l)===u&&(E=new E(x,g+"enter",v,n,l),E.target=y,E.relatedTarget=S,A=E),S=A,d&&v)t:{for(E=X_,x=d,g=v,y=0,A=x;A;A=E(A))y++;A=0;for(var V=g;V;V=E(V))A++;for(;0<y-A;)x=E(x),y--;for(;0<A-y;)g=E(g),A--;for(;y--;){if(x===g||g!==null&&x===g.alternate){E=x;break t}x=E(x),g=E(g)}E=null}else E=null;d!==null&&ex(f,m,d,E,!1),v!==null&&S!==null&&ex(f,S,v,E,!0)}}e:{if(m=u?Qs(u):window,d=m.nodeName&&m.nodeName.toLowerCase(),d==="select"||d==="input"&&m.type==="file")var I=my;else if(fy(m))if(Qx)I=i_;else{I=o_;var D=r_}else d=m.nodeName,!d||d.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&mm(u.elementType)&&(I=my):I=s_;if(I&&(I=I(t,u))){Yx(f,I,n,l);break e}D&&D(t,m,u),t==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&_f(m,"number",m.value)}switch(D=u?Qs(u):window,t){case"focusin":(fy(D)||D.contentEditable==="true")&&(Ao=D,wf=u,ei=null);break;case"focusout":ei=wf=Ao=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,yy(f,n,l);break;case"selectionchange":if(c_)break;case"keydown":case"keyup":yy(f,n,l)}var k;if(ym)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else go?jx(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Jx&&n.locale!=="ko"&&(go||O!=="onCompositionStart"?O==="onCompositionEnd"&&go&&(k=Kx()):(Fn=l,hm="value"in Fn?Fn.value:Fn.textContent,go=!0)),D=Tc(u,O),0<D.length&&(O=new ay(O,t,null,n,l),f.push({event:O,listeners:D}),k?O.data=k:(k=Xx(n),k!==null&&(O.data=k)))),(k=$b?Zb(t,n):e_(t,n))&&(O=Tc(u,"onBeforeInput"),0<O.length&&(D=new ay("onBeforeInput","beforeinput",null,n,l),f.push({event:D,listeners:O}),D.data=k)),J_(f,t,u,n,l)}P0(f,e)})}function bi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tc(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,s=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||s===null||(o=mi(t,n),o!=null&&r.unshift(bi(t,o,s)),o=mi(t,e),o!=null&&r.push(bi(t,o,s))),t.tag===3)return r;t=t.return}return[]}function X_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ex(t,e,n,r,o){for(var s=e._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(a=a.tag,c!==null&&c===r)break;a!==5&&a!==26&&a!==27||u===null||(c=u,o?(u=mi(n,s),u!=null&&i.unshift(bi(n,u,c))):o||(u=mi(n,s),u!=null&&i.push(bi(n,u,c)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var Y_=/\r\n?/g,Q_=/\u0000|\uFFFD/g;function tx(t){return(typeof t=="string"?t:""+t).replace(Y_,`
`).replace(Q_,"")}function J0(t,e){return e=tx(e),tx(t)===e}function $(t,e,n,r,o,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Oo(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Oo(t,""+r);break;case"className":Ea(t,"class",r);break;case"tabIndex":Ea(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ea(t,n,r);break;case"style":Hx(t,r,s);break;case"data":if(e!=="object"){Ea(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=za(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&$(t,e,"name",o.name,o,null),$(t,e,"formEncType",o.formEncType,o,null),$(t,e,"formMethod",o.formMethod,o,null),$(t,e,"formTarget",o.formTarget,o,null)):($(t,e,"encType",o.encType,o,null),$(t,e,"method",o.method,o,null),$(t,e,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=za(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=hn);break;case"onScroll":r!=null&&z("scroll",t);break;case"onScrollEnd":r!=null&&z("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(C(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(C(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=za(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":z("beforetoggle",t),z("toggle",t),Na(t,"popover",r);break;case"xlinkActuate":sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":sn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":sn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":sn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":sn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Na(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=wb.get(n)||n,Na(t,n,r))}}function qf(t,e,n,r,o,s){switch(n){case"style":Hx(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(C(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(C(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Oo(t,r):(typeof r=="number"||typeof r=="bigint")&&Oo(t,""+r);break;case"onScroll":r!=null&&z("scroll",t);break;case"onScrollEnd":r!=null&&z("scrollend",t);break;case"onClick":r!=null&&(t.onclick=hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gx.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),e=n.slice(2,o?n.length-7:void 0),s=t[qe]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,o),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,o);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Na(t,n,r)}}}function Re(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":z("error",t),z("load",t);var r=!1,o=!1,s;for(s in n)if(n.hasOwnProperty(s)){var i=n[s];if(i!=null)switch(s){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(C(137,e));default:$(t,e,s,i,n,null)}}o&&$(t,e,"srcSet",n.srcSet,n,null),r&&$(t,e,"src",n.src,n,null);return;case"input":z("invalid",t);var a=s=i=o=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var l=n[r];if(l!=null)switch(r){case"name":o=l;break;case"type":i=l;break;case"checked":c=l;break;case"defaultChecked":u=l;break;case"value":s=l;break;case"defaultValue":a=l;break;case"children":case"dangerouslySetInnerHTML":if(l!=null)throw Error(C(137,e));break;default:$(t,e,r,l,n,null)}}Fx(t,s,a,c,u,i,o,!1);return;case"select":z("invalid",t),r=i=s=null;for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"value":s=a;break;case"defaultValue":i=a;break;case"multiple":r=a;default:$(t,e,o,a,n,null)}e=s,n=i,t.multiple=!!r,e!=null?So(t,!!r,e,!1):n!=null&&So(t,!!r,n,!0);return;case"textarea":z("invalid",t),s=o=r=null;for(i in n)if(n.hasOwnProperty(i)&&(a=n[i],a!=null))switch(i){case"value":r=a;break;case"defaultValue":o=a;break;case"children":s=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(C(91));break;default:$(t,e,i,a,n,null)}zx(t,r,o,s);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:$(t,e,c,r,n,null)}return;case"dialog":z("beforetoggle",t),z("toggle",t),z("cancel",t),z("close",t);break;case"iframe":case"object":z("load",t);break;case"video":case"audio":for(r=0;r<vi.length;r++)z(vi[r],t);break;case"image":z("error",t),z("load",t);break;case"details":z("toggle",t);break;case"embed":case"source":case"link":z("error",t),z("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(C(137,e));default:$(t,e,u,r,n,null)}return;default:if(mm(e)){for(l in n)n.hasOwnProperty(l)&&(r=n[l],r!==void 0&&qf(t,e,l,r,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(r=n[a],r!=null&&$(t,e,a,r,n,null))}function q_(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,s=null,i=null,a=null,c=null,u=null,l=null;for(d in n){var f=n[d];if(n.hasOwnProperty(d)&&f!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(d)||$(t,e,d,null,r,f)}}for(var m in r){var d=r[m];if(f=n[m],r.hasOwnProperty(m)&&(d!=null||f!=null))switch(m){case"type":s=d;break;case"name":o=d;break;case"checked":u=d;break;case"defaultChecked":l=d;break;case"value":i=d;break;case"defaultValue":a=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(C(137,e));break;default:d!==f&&$(t,e,m,d,r,f)}}bf(t,i,a,c,u,l,s,o);return;case"select":d=i=a=m=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":d=c;default:r.hasOwnProperty(s)||$(t,e,s,null,r,c)}for(o in r)if(s=r[o],c=n[o],r.hasOwnProperty(o)&&(s!=null||c!=null))switch(o){case"value":m=s;break;case"defaultValue":a=s;break;case"multiple":i=s;default:s!==c&&$(t,e,o,s,r,c)}e=a,n=i,r=d,m!=null?So(t,!!n,m,!1):!!r!=!!n&&(e!=null?So(t,!!n,e,!0):So(t,!!n,n?[]:"",!1));return;case"textarea":d=m=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null&&!r.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:$(t,e,a,null,r,o)}for(i in r)if(o=r[i],s=n[i],r.hasOwnProperty(i)&&(o!=null||s!=null))switch(i){case"value":m=o;break;case"defaultValue":d=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(C(91));break;default:o!==s&&$(t,e,i,o,r,s)}Nx(t,m,d);return;case"option":for(var v in n)if(m=n[v],n.hasOwnProperty(v)&&m!=null&&!r.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:$(t,e,v,null,r,m)}for(c in r)if(m=r[c],d=n[c],r.hasOwnProperty(c)&&m!==d&&(m!=null||d!=null))switch(c){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:$(t,e,c,m,r,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)m=n[E],n.hasOwnProperty(E)&&m!=null&&!r.hasOwnProperty(E)&&$(t,e,E,null,r,m);for(u in r)if(m=r[u],d=n[u],r.hasOwnProperty(u)&&m!==d&&(m!=null||d!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(C(137,e));break;default:$(t,e,u,m,r,d)}return;default:if(mm(e)){for(var S in n)m=n[S],n.hasOwnProperty(S)&&m!==void 0&&!r.hasOwnProperty(S)&&qf(t,e,S,void 0,r,m);for(l in r)m=r[l],d=n[l],!r.hasOwnProperty(l)||m===d||m===void 0&&d===void 0||qf(t,e,l,m,r,d);return}}for(var x in n)m=n[x],n.hasOwnProperty(x)&&m!=null&&!r.hasOwnProperty(x)&&$(t,e,x,null,r,m);for(f in r)m=r[f],d=n[f],!r.hasOwnProperty(f)||m===d||m==null&&d==null||$(t,e,f,m,r,d)}function nx(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function W_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],s=o.transferSize,i=o.initiatorType,a=o.duration;if(s&&a&&nx(i)){for(i=0,a=o.responseEnd,r+=1;r<n.length;r++){var c=n[r],u=c.startTime;if(u>a)break;var l=c.transferSize,f=c.initiatorType;l&&nx(f)&&(c=c.responseEnd,i+=l*(c<a?1:(a-u)/(c-u)))}if(--r,e+=8*(s+i)/(o.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Wf=null,$f=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function rx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j0(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Zf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uf=null;function $_(){var t=window.event;return t&&t.type==="popstate"?t===uf?!1:(uf=t,!0):(uf=null,!1)}var X0=typeof setTimeout=="function"?setTimeout:void 0,Z_=typeof clearTimeout=="function"?clearTimeout:void 0,ox=typeof Promise=="function"?Promise:void 0,e3=typeof queueMicrotask=="function"?queueMicrotask:typeof ox<"u"?function(t){return ox.resolve(null).then(t).catch(t3)}:X0;function t3(t){setTimeout(function(){throw t})}function rr(t){return t==="head"}function sx(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(o),Po(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")li(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,li(n);for(var s=n.firstChild;s;){var i=s.nextSibling,a=s.nodeName;s[Mi]||a==="SCRIPT"||a==="STYLE"||a==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=i}}else n==="body"&&li(t.ownerDocument.body);n=o}while(n);Po(e)}function ix(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function em(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":em(n),fm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function n3(t,e,n,r){for(;t.nodeType===1;){var o=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Mi])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Bt(t.nextSibling),t===null)break}return null}function r3(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Bt(t.nextSibling),t===null))return null;return t}function Y0(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Bt(t.nextSibling),t===null))return null;return t}function tm(t){return t.data==="$?"||t.data==="$~"}function nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function o3(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Bt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var rm=null;function ax(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Bt(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function cx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Q0(t,e,n){switch(e=Bc(n),t){case"html":if(t=e.documentElement,!t)throw Error(C(452));return t;case"head":if(t=e.head,!t)throw Error(C(453));return t;case"body":if(t=e.body,!t)throw Error(C(454));return t;default:throw Error(C(451))}}function li(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);fm(t)}var wt=new Map,ux=new Set;function wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bn=X.d;X.d={f:s3,r:i3,D:a3,C:c3,L:u3,m:l3,X:m3,S:f3,M:d3};function s3(){var t=Bn.f(),e=Hc();return t||e}function i3(t){var e=Jo(t);e!==null&&e.tag===5&&e.type==="form"?Hg(e):Bn.r(t)}var Qo=typeof document>"u"?null:document;function q0(t,e,n){var r=Qo;if(r&&typeof e=="string"&&e){var o=vt(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),ux.has(o)||(ux.add(o),t={rel:t,crossOrigin:n,href:e},r.querySelector(o)===null&&(e=r.createElement("link"),Re(e,"link",t),we(e),r.head.appendChild(e)))}}function a3(t){Bn.D(t),q0("dns-prefetch",t,null)}function c3(t,e){Bn.C(t,e),q0("preconnect",t,e)}function u3(t,e,n){Bn.L(t,e,n);var r=Qo;if(r&&t&&e){var o='link[rel="preload"][as="'+vt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+vt(n.imageSizes)+'"]')):o+='[href="'+vt(t)+'"]';var s=o;switch(e){case"style":s=Ho(t);break;case"script":s=qo(t)}wt.has(s)||(t=ie({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),wt.set(s,t),r.querySelector(o)!==null||e==="style"&&r.querySelector(Oi(s))||e==="script"&&r.querySelector(Gi(s))||(e=r.createElement("link"),Re(e,"link",t),we(e),r.head.appendChild(e)))}}function l3(t,e){Bn.m(t,e);var n=Qo;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(t)+'"]',s=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=qo(t)}if(!wt.has(s)&&(t=ie({rel:"modulepreload",href:t},e),wt.set(s,t),n.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Gi(s)))return}r=n.createElement("link"),Re(r,"link",t),we(r),n.head.appendChild(r)}}}function f3(t,e,n){Bn.S(t,e,n);var r=Qo;if(r&&t){var o=Eo(r).hoistableStyles,s=Ho(t);e=e||"default";var i=o.get(s);if(!i){var a={loading:0,preload:null};if(i=r.querySelector(Oi(s)))a.loading=5;else{t=ie({rel:"stylesheet",href:t,"data-precedence":e},n),(n=wt.get(s))&&qm(t,n);var c=i=r.createElement("link");we(c),Re(c,"link",t),c._p=new Promise(function(u,l){c.onload=u,c.onerror=l}),c.addEventListener("load",function(){a.loading|=1}),c.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Wa(i,e,r)}i={type:"stylesheet",instance:i,count:1,state:a},o.set(s,i)}}}function m3(t,e){Bn.X(t,e);var n=Qo;if(n&&t){var r=Eo(n).hoistableScripts,o=qo(t),s=r.get(o);s||(s=n.querySelector(Gi(o)),s||(t=ie({src:t,async:!0},e),(e=wt.get(o))&&Wm(t,e),s=n.createElement("script"),we(s),Re(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(o,s))}}function d3(t,e){Bn.M(t,e);var n=Qo;if(n&&t){var r=Eo(n).hoistableScripts,o=qo(t),s=r.get(o);s||(s=n.querySelector(Gi(o)),s||(t=ie({src:t,async:!0,type:"module"},e),(e=wt.get(o))&&Wm(t,e),s=n.createElement("script"),we(s),Re(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(o,s))}}function lx(t,e,n,r){var o=(o=Pn.current)?wc(o):null;if(!o)throw Error(C(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ho(n.href),n=Eo(o).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ho(n.href);var s=Eo(o).hoistableStyles,i=s.get(t);if(i||(o=o.ownerDocument||o,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,i),(s=o.querySelector(Oi(t)))&&!s._p&&(i.instance=s,i.state.loading=5),wt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wt.set(t,n),s||h3(o,t,n,i.state))),e&&r===null)throw Error(C(528,""));return i}if(e&&r!==null)throw Error(C(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=qo(n),n=Eo(o).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(C(444,t))}}function Ho(t){return'href="'+vt(t)+'"'}function Oi(t){return'link[rel="stylesheet"]['+t+"]"}function W0(t){return ie({},t,{"data-precedence":t.precedence,precedence:null})}function h3(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Re(e,"link",n),we(e),t.head.appendChild(e))}function qo(t){return'[src="'+vt(t)+'"]'}function Gi(t){return"script[async]"+t}function fx(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return e.instance=r,we(r),r;var o=ie({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),we(r),Re(r,"style",o),Wa(r,n.precedence,t),e.instance=r;case"stylesheet":o=Ho(n.href);var s=t.querySelector(Oi(o));if(s)return e.state.loading|=4,e.instance=s,we(s),s;r=W0(n),(o=wt.get(o))&&qm(r,o),s=(t.ownerDocument||t).createElement("link"),we(s);var i=s;return i._p=new Promise(function(a,c){i.onload=a,i.onerror=c}),Re(s,"link",r),e.state.loading|=4,Wa(s,n.precedence,t),e.instance=s;case"script":return s=qo(n.src),(o=t.querySelector(Gi(s)))?(e.instance=o,we(o),o):(r=n,(o=wt.get(s))&&(r=ie({},n),Wm(r,o)),t=t.ownerDocument||t,o=t.createElement("script"),we(o),Re(o,"link",r),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(C(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,Wa(r,n.precedence,t));return e.instance}function Wa(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,s=o,i=0;i<r.length;i++){var a=r[i];if(a.dataset.precedence===e)s=a;else if(s!==o)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function qm(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Wm(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var $a=null;function mx(t,e,n){if($a===null){var r=new Map,o=$a=new Map;o.set(n,r)}else o=$a,r=o.get(n),r||(r=new Map,o.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),o=0;o<n.length;o++){var s=n[o];if(!(s[Mi]||s[Me]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var i=s.getAttribute(e)||"";i=t+i;var a=r.get(i);a?a.push(s):r.set(i,[s])}}return r}function dx(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function p3(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function $0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function y3(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Ho(r.href),s=e.querySelector(Oi(o));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Ec.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,we(s);return}s=e.ownerDocument||e,r=W0(r),(o=wt.get(o))&&qm(r,o),s=s.createElement("link"),we(s);var i=s;i._p=new Promise(function(a,c){i.onload=a,i.onerror=c}),Re(s,"link",r),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=Ec.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var lf=0;function x3(t,e){return t.stylesheets&&t.count===0&&Za(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Za(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&lf===0&&(lf=62500*W_());var o=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Za(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>lf?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Za(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sc=null;function Za(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sc=new Map,e.forEach(g3,t),Sc=null,Ec.call(t))}function g3(t,e){if(!(e.state.loading&4)){var n=Sc.get(t);if(n)var r=n.get(null);else{n=new Map,Sc.set(t,n);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<o.length;s++){var i=o[s];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}o=e.instance,i=o.getAttribute("data-precedence"),s=n.get(i)||r,s===r&&n.set(null,o),n.set(i,o),this.count++,r=Ec.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),s?s.parentNode.insertBefore(o,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var _i={$$typeof:dn,Provider:null,Consumer:null,_currentValue:br,_currentValue2:br,_threadCount:0};function A3(t,e,n,r,o,s,i,a,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ol(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.hiddenUpdates=Ol(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function Z0(t,e,n,r,o,s,i,a,c,u,l,f){return t=new A3(t,e,n,i,c,u,l,f,a),e=1,s===!0&&(e|=24),s=nt(3,null,null,e),t.current=s,s.stateNode=t,e=Tm(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},Em(s),t}function e1(t){return t?(t=_o,t):_o}function t1(t,e,n,r,o,s){o=e1(o),r.context===null?r.context=o:r.pendingContext=o,r=Jn(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=jn(t,r,e),n!==null&&(Qe(n,t,e),ni(n,t,e))}function hx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $m(t,e){hx(t,e),(t=t.alternate)&&hx(t,e)}function n1(t){if(t.tag===13||t.tag===31){var e=kr(t,67108864);e!==null&&Qe(e,t,67108864),$m(t,67108864)}}function px(t){if(t.tag===13||t.tag===31){var e=at();e=um(e);var n=kr(t,e);n!==null&&Qe(n,t,e),$m(t,e)}}var Cc=!0;function v3(t,e,n,r){var o=L.T;L.T=null;var s=X.p;try{X.p=2,Zm(t,e,n,r)}finally{X.p=s,L.T=o}}function b3(t,e,n,r){var o=L.T;L.T=null;var s=X.p;try{X.p=8,Zm(t,e,n,r)}finally{X.p=s,L.T=o}}function Zm(t,e,n,r){if(Cc){var o=om(r);if(o===null)cf(t,e,r,Mc,n),yx(t,r);else if(T3(o,t,e,n,r))r.stopPropagation();else if(yx(t,r),e&4&&-1<_3.indexOf(t)){for(;o!==null;){var s=Jo(o);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var i=gr(s.pendingLanes);if(i!==0){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;i;){var c=1<<31-it(i);a.entanglements[1]|=c,i&=~c}Jt(s),(j&6)===0&&(gc=ot()+500,ki(0,!1))}}break;case 31:case 13:a=kr(s,2),a!==null&&Qe(a,s,2),Hc(),$m(s,2)}if(s=om(r),s===null&&cf(t,e,r,Mc,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else cf(t,e,r,null,n)}}function om(t){return t=dm(t),ed(t)}var Mc=null;function ed(t){if(Mc=null,t=yo(t),t!==null){var e=wi(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=_x(e),t!==null)return t;t=null}else if(n===31){if(t=Tx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Mc=t,null}function r1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ub()){case Sx:return 2;case Cx:return 8;case oc:case lb:return 32;case Mx:return 268435456;default:return 32}default:return 32}}var sm=!1,Qn=null,qn=null,Wn=null,Ti=new Map,Bi=new Map,Un=[],_3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yx(t,e){switch(t){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Ti.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(e.pointerId)}}function Js(t,e,n,r,o,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},e!==null&&(e=Jo(e),e!==null&&n1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function T3(t,e,n,r,o){switch(e){case"focusin":return Qn=Js(Qn,t,e,n,r,o),!0;case"dragenter":return qn=Js(qn,t,e,n,r,o),!0;case"mouseover":return Wn=Js(Wn,t,e,n,r,o),!0;case"pointerover":var s=o.pointerId;return Ti.set(s,Js(Ti.get(s)||null,t,e,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Bi.set(s,Js(Bi.get(s)||null,t,e,n,r,o)),!0}return!1}function o1(t){var e=yo(t.target);if(e!==null){var n=wi(e);if(n!==null){if(e=n.tag,e===13){if(e=_x(n),e!==null){t.blockedOn=e,Zp(t.priority,function(){px(n)});return}}else if(e===31){if(e=Tx(n),e!==null){t.blockedOn=e,Zp(t.priority,function(){px(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=om(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tf=r,n.target.dispatchEvent(r),Tf=null}else return e=Jo(n),e!==null&&n1(e),t.blockedOn=n,!1;e.shift()}return!0}function xx(t,e,n){ec(t)&&n.delete(e)}function B3(){sm=!1,Qn!==null&&ec(Qn)&&(Qn=null),qn!==null&&ec(qn)&&(qn=null),Wn!==null&&ec(Wn)&&(Wn=null),Ti.forEach(xx),Bi.forEach(xx)}function La(t,e){t.blockedOn===e&&(t.blockedOn=null,sm||(sm=!0,_e.unstable_scheduleCallback(_e.unstable_NormalPriority,B3)))}var Fa=null;function gx(t){Fa!==t&&(Fa=t,_e.unstable_scheduleCallback(_e.unstable_NormalPriority,function(){Fa===t&&(Fa=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],o=t[e+2];if(typeof r!="function"){if(ed(r||n)===null)continue;break}var s=Jo(n);s!==null&&(t.splice(e,3),e-=3,Ff(s,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Po(t){function e(c){return La(c,t)}Qn!==null&&La(Qn,t),qn!==null&&La(qn,t),Wn!==null&&La(Wn,t),Ti.forEach(e),Bi.forEach(e);for(var n=0;n<Un.length;n++){var r=Un[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Un.length&&(n=Un[0],n.blockedOn===null);)o1(n),n.blockedOn===null&&Un.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var o=n[r],s=n[r+1],i=o[qe]||null;if(typeof s=="function")i||gx(n);else if(i){var a=null;if(s&&s.hasAttribute("formAction")){if(o=s,i=s[qe]||null)a=i.formAction;else if(ed(o)!==null)continue}else a=i.action;typeof a=="function"?n[r+1]=a:(n.splice(r,3),r-=3),gx(n)}}}function s1(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(i){return o=i})},focusReset:"manual",scroll:"manual"})}function e(){o!==null&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),o!==null&&(o(),o=null)}}}function td(t){this._internalRoot=t}Jc.prototype.render=td.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));var n=e.current,r=at();t1(n,r,t,e,null,null)};Jc.prototype.unmount=td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t1(t.current,2,null,t,null,null),Hc(),e[Ko]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var e=kx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Un.length&&e!==0&&e<Un[n].priority;n++);Un.splice(n,0,t),n===0&&o1(t)}};var Ax=vx.version;if(Ax!=="19.2.0")throw Error(C(527,Ax,"19.2.0"));X.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=tb(e),t=t!==null?Bx(t):null,t=t===null?null:t.stateNode,t};var w3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(js=__REACT_DEVTOOLS_GLOBAL_HOOK__,!js.isDisabled&&js.supportsFiber))try{Ei=js.inject(w3),st=js}catch{}var js;jc.createRoot=function(t,e){if(!bx(t))throw Error(C(299));var n=!1,r="",o=qg,s=Wg,i=$g;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Z0(t,1,!1,null,null,n,r,null,o,s,i,s1),t[Ko]=e.current,Qm(t),new td(e)};jc.hydrateRoot=function(t,e,n){if(!bx(t))throw Error(C(299));var r=!1,o="",s=qg,i=Wg,a=$g,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(i=n.onCaughtError),n.onRecoverableError!==void 0&&(a=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=Z0(t,1,!0,e,n??null,r,o,c,s,i,a,s1),e.context=e1(null),n=e.current,r=at(),r=um(r),o=Jn(r),o.callback=null,jn(n,o,r),n=r,e.current.lanes=n,Ci(e,n),Jt(e),t[Ko]=e.current,Qm(t),new Jc(e)};jc.version="19.2.0"});var u1=Ut((PC,c1)=>{"use strict";function a1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a1)}catch(t){console.error(t)}}a1(),c1.exports=i1()});function ip(t,e){let n=new Map;for(let r of t){let o=e(r),s=n.get(o)??[];s.push(r),n.set(o,s)}return n}function to(t){let e=[];for(let n=0;n<t&&n<1e7;n++)e.push(n);return e}function ma(t){return t}function da(t,e,n){return n||(n=()=>Math.random()),n()*(e-t)+t}function ap(t,e){return t.length===0?[e]:t[0].map(n=>ap(t.slice(1),[...e,n])).flat(1)}function ha(...t){return ap(t,[])}function QE(t){return Object.fromEntries(Array.from(ip(t,e=>e.name).entries()).map(([e,n])=>{let r=n.reduce((s,i)=>s+i.runtime,0)/n.length,o=n.length;return[e,{totalRuntime:r,invocationCount:o,averageRuntime:r/o,worstCaseRuntime:n.reduce((s,i)=>Math.max(s,i.runtime),0),bestCaseRuntime:n.reduce((s,i)=>Math.min(s,i.runtime),0)}]}))}function cv(t){return t instanceof Promise?t:Promise.resolve(t)}function uv(t,e,n,r){let o=e??navigator.hardwareConcurrency,s=[],i=[],a=0;for(let f=0;f<o;f++)i.push(new Worker(t));function c(){let f=a;return a=(a+1)%o,f}let u=0;function l(f,m,d){let v=i[d],E=n?.[f],S=performance.now();if((E?.runMode?.(m)??"worker")==="main"){if(!r)throw new Error("If a threadpool method is to run in the main thread, its interface should be provided to the main thread!");let y=r[f](...m);return s.push(cv(y).then(A=>({name:f,inputSize:E?.estimateInputSize?.(m)??1,runtime:performance.now()-S,metadata:E?.getRuntimeMetadata?.(m,A),thread:{type:"main"}}))),y}let g=new Promise(async(y,A)=>{let V=u;u++;let I=async k=>{if(k.data.id!==V)return;v.removeEventListener("message",I);let O=n?.[f]?.parseRetVal??(G=>G);y(await O(k.data.returnValue))};v.addEventListener("message",I);let D=n?.[f]?.serializeArgs??(k=>k);v.postMessage({type:f,args:await D(m),id:V},n?.[f]?.transferArgs?.(m)??[])});return s.push(g.then(y=>({name:f,inputSize:E?.estimateInputSize?.(m)??1,runtime:performance.now()-S,metadata:E?.getRuntimeMetadata?.(m,y),thread:{type:"worker",workerId:d}}))),g}return{threadCount:o,getCurrentPerformanceRecords(){return Promise.all(s)},send:new Proxy({},{get(f,m){return async(...d)=>{let v=c();return l(m,d,v)}}}),sendToThread:f=>new Proxy({},{get(m,d){return async(...v)=>l(d,v,f)}}),broadcast:new Proxy({},{get(f,m){return async(...d)=>await Promise.all(i.map((v,E)=>l(m,d,E)))}})}}function lv(t,e){self.addEventListener("message",async n=>{let o=await(e?.[n.data.type]?.parseArgs??ma)(n.data.args),s=await t[n.data.type](...o),i=e?.[n.data.type]?.serializeRetVal??ma;postMessage({returnValue:await i(s),id:n.data.id},e?.[n.data.type]?.transferRetVal?.(s)??[])})}function qE(getInterface,src,workerCount,serialization){if(eval("self.WorkerGlobalScope")){lv(getInterface(!1),serialization);return}else return uv(src??document.currentScript.src,workerCount,serialization,getInterface(!0))}async function WE(cb){if(!eval("self.WorkerGlobalScope"))return await cb()}function cp(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function up(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3]]}function nn(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]}function dl(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]}function fv(t,e){return[t[0]*e[0],t[1]*e[1],t[2]*e[2]]}function mv(t){return t[0]+t[1]+t[2]}function lp(t,e){return mv(fv(t,e))}function no(t,e){return[t[0]*e,t[1]*e,t[2]*e]}var dS=Symbol("allKeys");var hS=Symbol("all2");var bv=tn(mp()),_v=tn(hp());function wv(t,e){if(e)return e;if(t==="f32"||t==="i32"||t==="u32"||t==="f16")return t;if(t.startsWith("vec")||t.startsWith("mat")){if(t.endsWith("i"))return"i32";if(t.endsWith("u"))return"u32";if(t.endsWith("h"))return"f16"}return"f32"}function Ev(t){return t.startsWith("vec2")?2:t.startsWith("vec3")?3:t.startsWith("vec4")?4:t.startsWith("mat2x3")||t.startsWith("mat3x2")?6:t.startsWith("mat2x4")||t.startsWith("mat4x2")?8:t.startsWith("mat3x4")||t.startsWith("mat4x3")?12:t.startsWith("mat2")?4:t.startsWith("mat3")?9:t.startsWith("mat4")?16:1}function Sv(t,e,n,r,o){let s=wv(t,e),i=Ev(t),a={i32:4,f32:4,u32:4,f16:2}[s],c={i32:"setInt32",f32:"setFloat32",u32:"setUint32",f16:"setFloat16"}[s];for(let u=0;u<i;u++)n[c](r+a*u,o[u],!0)}function hl(t,e,n,r){if(t.members){for(let s of t.members)hl(s.type,e[s.name],n,r+s.offset);return}if(t.name==="array")for(let s=0;s<t.count;s++)hl(t.format,e[s],n,r+t.stride*s);else Sv(t.name,t.format?.name,n,r,Array.isArray(e)?e:[e])}function Cv(t,e){let n=new ArrayBuffer(t.size),r=new DataView(n);return hl(t,e,r,0),n}function ro(t,e,n,r){return Cv(t.bindGroups[e][n].type,r)}function Rv(t){let e=Math.hypot(...t);return no(t,1/e)}function pl(t,e,n){return e=Rv(e),dl(dl(no(t,Math.cos(n)),no(cp(e,t),Math.sin(n))),no(e,lp(e,t)*(1-Math.cos(n))))}function xp(t,e){return[...pl([1,0,0],t,e),0,...pl([0,1,0],t,e),0,...pl([0,0,1],t,e),0,0,0,0,1]}function gp(t){return[t[0],0,0,0,0,t[1],0,0,0,0,t[2],0,0,0,0,1]}function Lt(t){return[1,0,0,0,0,1,0,0,0,0,1,0,...t,1]}var Qv=tn(rn());var Dp=tn(rn());var ya=tn(rn());var xa=tn(rn());var nd=tn(rn()),E3=tn(u1());var rd=tn(rn());async function l1(t){let e=new Map,n=new Map;for(let o of t)for(let s of o.tags)e.set(s,(e.get(s)??new Set).add(o));function r(o){if(n.has(o))return;let s=(async()=>{let i=[];for(let a of o.waitFor)for(let c of e.get(a)??new Set)i.push(r(c));return await Promise.all(i),await o.task()})();return n.set(o,s),s}for(let o of t)r(o);return await Promise.all([...n.values()])}async function f1(t){let e={};async function n(s){e[s.brand]||(e[s.brand]=(async()=>({componentTemplate:s,instances:new Set,state:await s.init(async i=>(await n(i),(await e[i.brand]).state))}))())}for(let s of t)n(s);let r=Object.fromEntries(await Promise.all(Object.entries(e).map(async([s,i])=>[s,await i])));async function o(s){let i={},a=[];async function c(u){i[u.brand]||(i[u.brand]=u[s]?.({state:r[u.brand].state,instances:r[u.brand].instances,subsystem(l){return r[l.brand]},scheduleTask(l,f,m){a.push({task:l,tags:f??[],waitFor:m??[]})}})??Promise.resolve(),await i[u.brand])}await Promise.all(Object.values(r).map(async u=>await c(u.componentTemplate))),await l1(a)}return{subsystem(s){return{instances:r[s.brand].instances,global:r[s.brand].state}},async renderUpdate(){await o("renderUpdate")},async fixedUpdate(){await o("fixedUpdate")},entity(s){let i={};function a(c,u){if(i[c])return;let l=r[c].componentTemplate.create(u,r[c],r,f=>(a(f.brand,s[f.brand]),i[f.brand]));r[c].instances.add({data:l,entity:i}),i[c]=l}for(let[c,u]of Object.entries(s))a(c,u);return{component(c){return i[c.brand]},destroy(){for(let[c,u]of Object.entries(i))r[c]?.instances.delete(u)}}}}}var od=`struct DOFFragInput {\r
  @builtin(position) position : vec4f,\r
  @location(0) uv : vec2f,\r
}\r
\r
@group(0) @binding(0) var tex_sampler : sampler;\r
@group(0) @binding(1) var tex_color : texture_2d<f32>;\r
@group(0) @binding(2) var tex_position : texture_2d<f32>;\r
@group(0) @binding(3) var tex_linear_sampler : sampler;\r
\r
@vertex\r
fn VSMain(@builtin(vertex_index) vertexIndex: u32) -> DOFFragInput {\r
  var output: DOFFragInput;\r
\r
  output.position = vec4(array(\r
    vec2( 1.0,  1.0),\r
    vec2( 1.0, -1.0),\r
    vec2(-1.0, -1.0),\r
    vec2( 1.0,  1.0),\r
    vec2(-1.0, -1.0),\r
    vec2(-1.0,  1.0),\r
  )[vertexIndex], 0.5, 1.0);\r
\r
  output.uv = array(\r
    vec2(1.0, 0.0),\r
    vec2(1.0, 1.0),\r
    vec2(0.0, 1.0),\r
    vec2(1.0, 0.0),\r
    vec2(0.0, 1.0),\r
    vec2(0.0, 0.0),\r
  )[vertexIndex];\r
  return output;\r
}\r
\r
\r
fn get_individual_defocus_amount(dist: f32) -> f32 {\r
  return max(abs(dist - 10.0) / dist * 35.0 - 00.0, 0.01); \r
}\r
\r
fn get_defocus_amount(dists: vec2f) -> f32 {\r
  return max(\r
    get_individual_defocus_amount(dists.x),\r
    get_individual_defocus_amount(dists.y)\r
  );  \r
}\r
\r
fn logistic(x: f32) -> f32 {\r
  return 1.0 / (1.0 + exp(-x)); \r
}\r
\r
fn blur(uv: vec2f, size: f32) -> vec4f {\r
  let dims = vec2f(textureDimensions(tex_color, 0));\r
  var accum = vec4f(0.0);\r
  let mip_level = log2(f32(size)) * 1.0;\r
  var factor = 0.0;\r
  for (var i = 0; i < i32(floor(size)) + 1; i += 1) {\r
    let offset = OFFSET_LUT[i];\r
    let uv2 = uv + offset.xy / dims * 1.0;\r
    let pos = textureSampleLevel(tex_position, tex_sampler, uv2, 0.0);\r
    let f = \r
    select(\r
      0.0,\r
      clamp(size - offset.z, 0.0, 1.0),\r
      pos.y < 23 && pos.y > 17 \r
    );\r
    accum += textureSampleLevel(tex_color, tex_linear_sampler, uv2, 0.0) \r
      * f;\r
    factor += f;\r
  }\r
  return accum / factor;\r
}\r
\r
@fragment\r
fn FSMain(@location(0) uv:  vec2f) -> @location(0) vec4f {\r
  _ = tex_sampler;\r
  _ = tex_color;\r
  _ = tex_position;\r
\r
  let dims = vec2f(textureDimensions(tex_color, 0));\r
\r
  let pos = textureSampleLevel(tex_position, tex_linear_sampler, uv, 0.0);\r
  let center_color = textureSampleLevel(tex_color, tex_linear_sampler, uv, 0.0);\r
\r
  var factor = 0.0;\r
\r
  var accum = vec4f(0.0);\r
\r
  for (var i = 0; i < 30; i += 1) {\r
    let offset = OFFSET_LUT[i];\r
    let uv2 = uv + offset.xy / dims * 1.0;\r
    let pos_mip_level = min(log2(offset.z), 2.0);\r
    let pos2 = textureSampleLevel(tex_position, tex_linear_sampler, uv2, pos_mip_level);\r
\r
    let defocus = min(get_defocus_amount(pos2.xy), 30.0);\r
\r
    let mip_level = min(log2(defocus), 2.0);\r
    let f = (offset.z + 1.0)\r
      * logistic(defocus - offset.z)\r
      * select(0.0, 1.0, pos.y >= pos2.y);\r
      // * logistic(pos.y - pos2.y);\r
    accum += textureSampleLevel(tex_color, tex_linear_sampler, uv2, mip_level) \r
      * f;\r
    factor += f;\r
  }\r
\r
  return vec4f(\r
    accum.rgb / factor,\r
    1.0\r
  );\r
}\r
\r
/*\r
\`array(\r
	\${new Array(100).fill(0).map((e,i) => {\r
		const factor = i;\r
		const angle = factor * 2.399963;\r
		const x = factor * Math.cos(angle);\r
		const y = factor * Math.sin(angle);\r
		const dist = Math.hypot(x, y);\r
		return \`vec3f(\${x}, \${y}, \${dist})\`\r
	}).join(",\\n  ")}\r
)\`\r
*/\r
\r
const OFFSET_LUT = array(\r
	vec3f(0, 0, 0),\r
  vec3f(-0.7373687228988248, 0.6754904636562651, 1),\r
  vec3f(0.17485053403777584, -1.9923421620662212, 2),\r
  vec3f(1.8253182237516365, 2.3808009958919643, 3),\r
  vec3f(-3.938854581493409, -0.6967241820465114, 4),\r
  vec3f(4.218773391513887, -2.6836451089990305, 5),\r
  vec3f(-1.5576178427202265, 5.7942925932368645, 6),\r
  vec3f(-3.2263591627336985, -6.2121338164147994, 7),\r
  vec3f(7.5145754141516194, 2.7442952364911495, 8),\r
  vec3f(-8.319102905212844, 3.4340248765084995, 9),\r
  vec3f(4.238439143156467, -9.057352462489195, 10),\r
  vec3f(3.2921490319425093, 10.495797004109788, 11),\r
  vec3f(-10.382551104026392, -6.016862352778261, 12),\r
  vec3f(12.696776720811991, -2.791390496123163, 13),\r
  vec3f(-8.051775173168176, 11.452899919267285, 14),\r
  vec3f(-1.9277116073219824, -14.875615212790228, 15),\r
  vec3f(12.234421827485994, 10.311106756654898, 16),\r
  vec3f(-16.985480174838475, 0.702469380235959, 17),\r
  vec3f(12.758876954453681, -12.696891700771129, 18),\r
  vec3f(-0.8775546293360044, 18.979723334983863, 19),\r
  vec3f(-12.81425345190363, -15.355614884151525, 20),\r
  vec3f(20.81247117658233, 2.800186337358594, 21),\r
  vec3f(-18.058819909629094, 12.564991980561862, 22),\r
  vec3f(5.047952929355901, -22.43921057486219, 23),\r
  vec3f(11.932455809239883, 20.823460287870923, 24),\r
  vec3f(-23.81736306863295, -7.598237720479611, 25),\r
  vec3f(23.60250433789332, -10.905126729191508, 26),\r
  vec3f(-10.423494730711166, 24.906841582160443, 27),\r
  vec3f(-9.476833303072167, -26.347478637353184, 28),\r
  vec3f(25.670583567542433, 13.491521015134673, 29)\r
);`;var m1=`@group(0) @binding(0) \r
var tex_color_in : texture_storage_2d<rgba8unorm, read>;\r
@group(0) @binding(1) \r
var tex_depth_in : texture_storage_2d<rg32float, read>;\r
@group(0) @binding(2) \r
var tex_color_out : texture_storage_2d<rgba8unorm, write>;\r
@group(0) @binding(3) \r
var tex_depth_out : texture_storage_2d<rg32float, write>;\r
\r
@compute @workgroup_size(8, 8)\r
fn ComputeMain(\r
  @builtin(global_invocation_id) id : vec3<u32>\r
) {\r
  let i1 = id.xy * 2;\r
  let i2 = i1 + vec2u(1, 0);\r
  let i3 = i1 + vec2u(0, 1);\r
  let i4 = i1 + vec2u(1, 1);\r
\r
  let d1 = textureLoad(tex_depth_in, i1);\r
  let d2 = textureLoad(tex_depth_in, i2);\r
  let d3 = textureLoad(tex_depth_in, i3);\r
  let d4 = textureLoad(tex_depth_in, i4);\r
\r
  let c1 = textureLoad(tex_color_in, i1);\r
  let c2 = textureLoad(tex_color_in, i2);\r
  let c3 = textureLoad(tex_color_in, i3);\r
  let c4 = textureLoad(tex_color_in, i4);\r
\r
  let avg_color = (\r
    c1 + c2 + c3 + c4\r
  ) / 4.0;\r
\r
  let min_max_depth = vec4f(\r
    min(\r
      min(d1.x, d2.x),\r
      min(d3.x, d4.x)\r
    ),\r
    max(\r
      max(d1.y, d2.y),\r
      max(d3.y, d4.y)\r
    ),0.0,0.0\r
  );\r
\r
  textureStore(tex_color_out, id.xy, avg_color);\r
  textureStore(tex_depth_out, id.xy, min_max_depth);\r
}\r
`;var d1=`\r
@group(0) @binding(0)\r
var tex_src : texture_storage_2d<rgba32float, read>;\r
@group(0) @binding(1)\r
var tex_dst : texture_storage_2d<rg32float, write>;\r
\r
@compute @workgroup_size(8, 8)\r
fn ComputeMain(\r
  @builtin(global_invocation_id) id : vec3<u32>\r
) {\r
  var src_pixel = textureLoad(tex_src, id.xy);\r
  if (src_pixel.z == 0.0) {\r
    src_pixel.z = 100.0;\r
  }\r
  textureStore(tex_dst, id.xy, src_pixel.zzzz);\r
}`;function h1(t,e){let n=t.createBindGroupLayout({entries:[{binding:0,sampler:{type:"filtering"},visibility:GPUShaderStage.FRAGMENT},{binding:1,texture:{sampleType:"float",viewDimension:"2d"},visibility:GPUShaderStage.FRAGMENT},{binding:2,texture:{sampleType:"float",viewDimension:"2d"},visibility:GPUShaderStage.FRAGMENT},{binding:3,sampler:{type:"filtering"},visibility:GPUShaderStage.FRAGMENT}]}),r=t.createRenderPipeline({layout:t.createPipelineLayout({bindGroupLayouts:[n]}),vertex:{module:t.createShaderModule({code:od})},fragment:{module:t.createShaderModule({code:od}),targets:[{format:e}]},primitive:{topology:"triangle-list"}});return{dofBindGroupLayout:n,dofPipeline:r}}function p1(t){return{pipeline:t.createComputePipeline({compute:{module:t.createShaderModule({code:m1})},layout:"auto"})}}function y1(t){return{pipeline:t.createComputePipeline({compute:{module:t.createShaderModule({code:d1})},layout:"auto"})}}var x1=`@group(0) @binding(0)\r
var samp : sampler;\r
@group(0) @binding(1)\r
var tex_src : texture_2d<f32>;\r
\r
/*PASTE_START*/\r
const KERNEL = array(\r
);\r
\r
fn accumulate(acc: vec4f, curr: vec4f, k: vec4f) -> vec4f {\r
  return max(acc, curr); \r
}\r
\r
fn convert(acc: vec4f) -> vec4f {\r
  return acc;\r
}\r
/*PASTE_END*/\r
\r
struct FragInput {\r
  @builtin(position) position : vec4f,\r
  @location(0) uv : vec2f,\r
}\r
\r
@vertex\r
fn VSMain(@builtin(vertex_index) vertexIndex: u32) -> FragInput {\r
  var output: FragInput;\r
\r
  output.position = vec4(array(\r
    vec2( 1.0,  1.0),\r
    vec2( 1.0, -1.0),\r
    vec2(-1.0, -1.0),\r
    vec2( 1.0,  1.0),\r
    vec2(-1.0, -1.0),\r
    vec2(-1.0,  1.0),\r
  )[vertexIndex], 0.5, 1.0);\r
\r
  output.uv = array(\r
    vec2(1.0, 0.0),\r
    vec2(1.0, 1.0),\r
    vec2(0.0, 1.0),\r
    vec2(1.0, 0.0),\r
    vec2(0.0, 1.0),\r
    vec2(0.0, 0.0),\r
  )[vertexIndex];\r
  return output;\r
}\r
\r
@fragment\r
fn FSMain(@location(0) uv : vec2f) -> /*OUT_LOCATION*/@location(0)/*OUT_LOCATION*/ /*OUT_TYPE*/vec4f/*OUT_TYPE*/ {\r
  /*BODY_START*/\r
  var acc = vec4(0.0);\r
  let dims = textureDimensions(tex_src, 0);\r
  for (var i = 0; i < 10; i++) {\r
    let smpl = KERNEL[i];\r
    let uv2 = uv + smpl.xy / dims;\r
    acc = accumulate(acc, uv2, smpl);\r
  }\r
  /*BODY_END*/\r
  return convert(acc);\r
}`;function g1(t,e){return new RegExp(RegExp.escape(t)+"[\\s\\S]*?"+RegExp.escape(e),"g")}function Xc(t,e){for(let n of e)t=t.replaceAll(typeof n.delimiter=="string"?g1(n.delimiter,n.delimiter):g1(n.start,n.end),n.replaceWith);return t}function D3(t){return Xc(x1,[{start:"/*PASTE_START*/",end:"/*PASTE_END*/",replaceWith:t.paste},{start:"/*OUT_LOCATION*/",end:"/*OUT_LOCATION*/",replaceWith:t.outLocation},{start:"/*OUT_TYPE*/",end:"/*OUT_TYPE*/",replaceWith:t.outType},{start:"/*BODY_START*/",end:"/*BODY_END*/",replaceWith:t.body}])}function R3(t){let e=t.outType??"vec4f",n=t.accumulatorType??"vec4f",r=t.kernelType??"vec2f",o=t.extraGlobal??"",s=t.extraInMain??"",i=t.outLocation??"@location(0)";return D3({paste:`${o}const KERNEL = array(
  ${t.kernel.join(`,
  `)}
);

fn accumulate(acc: ${n}, curr: vec4f, k: ${r}) -> ${n} {
  return ${t.accumulate};
}

fn convert(acc: vec4f) -> vec4f {
  return ${t.convert};
}`,outType:e,outLocation:i,body:`${s}  var acc = ${t.initial};
  let dims = vec2f(textureDimensions(tex_src, 0).xy);
  for (var i = 0; i < ${t.kernel.length}; i++) {
    let smpl = KERNEL[i];
    let uv2 = uv + smpl.xy / dims;
    let pixel = textureSample(tex_src, samp, uv2);
    acc = accumulate(acc, pixel, smpl);
  }`})}function Yc(t,e,n){let r=R3(e),o=t.createShaderModule({code:r}),s=t.createRenderPipeline({layout:"auto",vertex:{module:o},fragment:{module:o,targets:[{format:n}]}});return{pipeline:s,drawUsing(i,a,c){i.setPipeline(s),i.setBindGroup(0,t.createBindGroup({layout:s.getBindGroupLayout(0),entries:[{binding:0,resource:a},{binding:1,resource:c}]})),i.draw(6)}}}var $e=class{constructor(e,n){this.name=e,this.attributes=n,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}get isPointer(){return!1}getTypeName(){return this.name}},Qc=class{constructor(e,n,r){this.name=e,this.type=n,this.attributes=r,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}},jt=class extends $e{constructor(e,n){super(e,n),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}},Xt=class extends $e{constructor(e,n){super(e,n),this.count=0,this.stride=0}get isArray(){return!0}getTypeName(){return`array<${this.format.getTypeName()}, ${this.count}>`}},Li=class extends $e{constructor(e,n,r){super(e,r),this.format=n}get isPointer(){return!0}getTypeName(){return`&${this.format.getTypeName()}`}},En=class extends $e{constructor(e,n,r,o){super(e,r),this.format=n,this.access=o}get isTemplate(){return!0}getTypeName(){let e=this.name;if(this.format!==null){if(e==="vec2"||e==="vec3"||e==="vec4"||e==="mat2x2"||e==="mat2x3"||e==="mat2x4"||e==="mat3x2"||e==="mat3x3"||e==="mat3x4"||e==="mat4x2"||e==="mat4x3"||e==="mat4x4"){if(this.format.name==="f32")return e+="f",e;if(this.format.name==="i32")return e+="i",e;if(this.format.name==="u32")return e+="u",e;if(this.format.name==="bool")return e+="b",e;if(this.format.name==="f16")return e+="h",e}e+=`<${this.format.name}>`}else if(e==="vec2"||e==="vec3"||e==="vec4")return e;return e}},or;(t=>{t[t.Uniform=0]="Uniform",t[t.Storage=1]="Storage",t[t.Texture=2]="Texture",t[t.Sampler=3]="Sampler",t[t.StorageTexture=4]="StorageTexture"})(or||(or={}));var Wo=class{constructor(e,n,r,o,s,i,a){this.name=e,this.type=n,this.group=r,this.binding=o,this.attributes=s,this.resourceType=i,this.access=a}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}},ad=class{constructor(e,n){this.name=e,this.type=n}},cd=class{constructor(e,n,r,o){this.name=e,this.type=n,this.locationType=r,this.location=o,this.interpolation=null}},qc=class{constructor(e,n,r,o){this.name=e,this.type=n,this.locationType=r,this.location=o}},ud=class{constructor(e,n,r,o){this.name=e,this.type=n,this.attributes=r,this.id=o}},ld=class{constructor(e,n,r){this.name=e,this.type=n,this.attributes=r}},fd=class{constructor(e,n=null,r){this.stage=null,this.inputs=[],this.outputs=[],this.arguments=[],this.returnType=null,this.resources=[],this.overrides=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=e,this.stage=n,this.attributes=r}},md=class{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}};function I3(t){var e=(32768&t)>>15,n=(31744&t)>>10,r=1023&t;return n==0?(e?-1:1)*Math.pow(2,-14)*(r/Math.pow(2,10)):n==31?r?NaN:1/0*(e?-1:1):(e?-1:1)*Math.pow(2,n-15)*(1+r/Math.pow(2,10))}var b1=new Float32Array(1),k3=new Int32Array(b1.buffer),Ge=new Uint16Array(1);function O3(t){b1[0]=t;let e=k3[0],n=e>>31&1,r=e>>23&255,o=8388607&e;if(r===255)return Ge[0]=n<<15|31744|(o!==0?512:0),Ge[0];if(r===0){if(o===0)return Ge[0]=n<<15,Ge[0];o|=8388608;let s=113;for(;!(8388608&o);)o<<=1,s--;return r=127-s,o&=8388607,r>0?(o=(o>>126-r)+(o>>127-r&1),Ge[0]=n<<15|r<<10|o>>13,Ge[0]):(Ge[0]=n<<15,Ge[0])}return r=r-127+15,r>=31?(Ge[0]=n<<15|31744,Ge[0]):r<=0?r<-10?(Ge[0]=n<<15,Ge[0]):(o=(8388608|o)>>1-r,Ge[0]=n<<15|o>>13,Ge[0]):(o>>=13,Ge[0]=n<<15|r<<10|o,Ge[0])}var Sd=new Uint32Array(1),_1=new Float32Array(Sd.buffer,0,1);function A1(t){let e=112+(t>>6&31)<<23|(63&t)<<17;return Sd[0]=e,_1[0]}function G3(t,e,n,r,o,s,i,a,c){let u=r*(i>>=o)*(s>>=o)+n*i+e*a;switch(c){case"r8unorm":return[Y(t,u,"8unorm",1)[0]];case"r8snorm":return[Y(t,u,"8snorm",1)[0]];case"r8uint":return[Y(t,u,"8uint",1)[0]];case"r8sint":return[Y(t,u,"8sint",1)[0]];case"rg8unorm":{let l=Y(t,u,"8unorm",2);return[l[0],l[1]]}case"rg8snorm":{let l=Y(t,u,"8snorm",2);return[l[0],l[1]]}case"rg8uint":{let l=Y(t,u,"8uint",2);return[l[0],l[1]]}case"rg8sint":{let l=Y(t,u,"8sint",2);return[l[0],l[1]]}case"rgba8unorm-srgb":case"rgba8unorm":{let l=Y(t,u,"8unorm",4);return[l[0],l[1],l[2],l[3]]}case"rgba8snorm":{let l=Y(t,u,"8snorm",4);return[l[0],l[1],l[2],l[3]]}case"rgba8uint":{let l=Y(t,u,"8uint",4);return[l[0],l[1],l[2],l[3]]}case"rgba8sint":{let l=Y(t,u,"8sint",4);return[l[0],l[1],l[2],l[3]]}case"bgra8unorm-srgb":case"bgra8unorm":{let l=Y(t,u,"8unorm",4);return[l[2],l[1],l[0],l[3]]}case"r16uint":return[Y(t,u,"16uint",1)[0]];case"r16sint":return[Y(t,u,"16sint",1)[0]];case"r16float":return[Y(t,u,"16float",1)[0]];case"rg16uint":{let l=Y(t,u,"16uint",2);return[l[0],l[1]]}case"rg16sint":{let l=Y(t,u,"16sint",2);return[l[0],l[1]]}case"rg16float":{let l=Y(t,u,"16float",2);return[l[0],l[1]]}case"rgba16uint":{let l=Y(t,u,"16uint",4);return[l[0],l[1],l[2],l[3]]}case"rgba16sint":{let l=Y(t,u,"16sint",4);return[l[0],l[1],l[2],l[3]]}case"rgba16float":{let l=Y(t,u,"16float",4);return[l[0],l[1],l[2],l[3]]}case"r32uint":return[Y(t,u,"32uint",1)[0]];case"r32sint":return[Y(t,u,"32sint",1)[0]];case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return[Y(t,u,"32float",1)[0]];case"rg32uint":{let l=Y(t,u,"32uint",2);return[l[0],l[1]]}case"rg32sint":{let l=Y(t,u,"32sint",2);return[l[0],l[1]]}case"rg32float":{let l=Y(t,u,"32float",2);return[l[0],l[1]]}case"rgba32uint":{let l=Y(t,u,"32uint",4);return[l[0],l[1],l[2],l[3]]}case"rgba32sint":{let l=Y(t,u,"32sint",4);return[l[0],l[1],l[2],l[3]]}case"rgba32float":{let l=Y(t,u,"32float",4);return[l[0],l[1],l[2],l[3]]}case"rg11b10ufloat":{let l=new Uint32Array(t.buffer,u,1)[0],f=(4192256&l)>>11,m=(4290772992&l)>>22;return[A1(2047&l),A1(f),(function(d){let v=112+(d>>5&31)<<23|(31&d)<<18;return Sd[0]=v,_1[0]})(m),1]}}return null}function Y(t,e,n,r){let o=[0,0,0,0];for(let s=0;s<r;++s)switch(n){case"8unorm":o[s]=t[e]/255,e++;break;case"8snorm":o[s]=t[e]/255*2-1,e++;break;case"8uint":o[s]=t[e],e++;break;case"8sint":o[s]=t[e]-127,e++;break;case"16uint":o[s]=t[e]|t[e+1]<<8,e+=2;break;case"16sint":o[s]=(t[e]|t[e+1]<<8)-32768,e+=2;break;case"16float":o[s]=I3(t[e]|t[e+1]<<8),e+=2;break;case"32uint":case"32sint":o[s]=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24,e+=4;break;case"32float":o[s]=new Float32Array(t.buffer,e,1)[0],e+=4}return o}function Q(t,e,n,r,o){for(let s=0;s<r;++s)switch(n){case"8unorm":t[e]=255*o[s],e++;break;case"8snorm":t[e]=.5*(o[s]+1)*255,e++;break;case"8uint":t[e]=o[s],e++;break;case"8sint":t[e]=o[s]+127,e++;break;case"16uint":new Uint16Array(t.buffer,e,1)[0]=o[s],e+=2;break;case"16sint":new Int16Array(t.buffer,e,1)[0]=o[s],e+=2;break;case"16float":{let i=O3(o[s]);new Uint16Array(t.buffer,e,1)[0]=i,e+=2;break}case"32uint":new Uint32Array(t.buffer,e,1)[0]=o[s],e+=4;break;case"32sint":new Int32Array(t.buffer,e,1)[0]=o[s],e+=4;break;case"32float":new Float32Array(t.buffer,e,1)[0]=o[s],e+=4}return o}var sd={r8unorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8snorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8uint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8sint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg8unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8snorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"rgba8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8snorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},bgra8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bgra8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r16uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16float:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg16uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba16uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r32uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg32uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba32uint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32sint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32float:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rg11b10ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},stencil8:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!1,hasStencil:!0,channels:1},depth16unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},depth24plus:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,depthOnlyFormat:"depth32float",channels:1},"depth24plus-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,depthOnlyFormat:"depth32float",channels:1},depth32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},"depth32float-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,stencilOnlyFormat:"depth32float",channels:1},rgb9e5ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bc1-rgba-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc1-rgba-unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc4-r-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc4-r-snorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc5-rg-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc5-rg-snorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc6h-rgb-ufloat":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc6h-rgb-float":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"eac-r11unorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-r11snorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-rg11unorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"eac-rg11snorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"astc-4x4-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-4x4-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x5-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-5x5-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x6-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-6x6-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-8x5-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x5-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x6-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x6-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x8-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-8x8-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-10x5-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x5-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x6-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x6-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x8-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x8-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x10-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-10x10-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x12-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4},"astc-12x12-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4}},St=class t{constructor(){this.id=t._id++,this.line=0}get isAstNode(){return!0}get astNodeType(){return""}search(e){e(this)}searchBlock(e,n){if(e){n(os.instance);for(let r of e)r instanceof Array?this.searchBlock(r,n):r.search(n);n(ss.instance)}}constEvaluate(e,n){throw new Error("Cannot evaluate node")}constEvaluateString(e){return this.constEvaluate(e).toString()}};St._id=0;var os=class extends St{};os.instance=new os;var ss=class extends St{};ss.instance=new ss;var T1=new Set(["all","all","any","select","arrayLength","abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","clamp","cos","cosh","countLeadingZeros","countOneBits","countTrailingZeros","cross","degrees","determinant","distance","dot","dot4U8Packed","dot4I8Packed","exp","exp2","extractBits","faceForward","firstLeadingBit","firstTrailingBit","floor","fma","fract","frexp","insertBits","inverseSqrt","ldexp","length","log","log2","max","min","mix","modf","normalize","pow","quantizeToF16","radians","reflect","refract","reverseBits","round","saturate","sign","sin","sinh","smoothStep","sqrt","step","tan","tanh","transpose","trunc","dpdx","dpdxCoarse","dpdxFine","dpdy","dpdyCoarse","dpdyFine","fwidth","fwidthCoarse","fwidthFine","textureDimensions","textureGather","textureGatherCompare","textureLoad","textureNumLayers","textureNumLevels","textureNumSamples","textureSample","textureSampleBias","textureSampleCompare","textureSampleCompareLevel","textureSampleGrad","textureSampleLevel","textureSampleBaseClampToEdge","textureStore","atomicLoad","atomicStore","atomicAdd","atomicSub","atomicMax","atomicMin","atomicAnd","atomicOr","atomicXor","atomicExchange","atomicCompareExchangeWeak","pack4x8snorm","pack4x8unorm","pack4xI8","pack4xU8","pack4x8Clamp","pack4xU8Clamp","pack2x16snorm","pack2x16unorm","pack2x16float","unpack4x8snorm","unpack4x8unorm","unpack4xI8","unpack4xU8","unpack2x16snorm","unpack2x16unorm","unpack2x16float","storageBarrier","textureBarrier","workgroupBarrier","workgroupUniformLoad","subgroupAdd","subgroupExclusiveAdd","subgroupInclusiveAdd","subgroupAll","subgroupAnd","subgroupAny","subgroupBallot","subgroupBroadcast","subgroupBroadcastFirst","subgroupElect","subgroupMax","subgroupMin","subgroupMul","subgroupExclusiveMul","subgroupInclusiveMul","subgroupOr","subgroupShuffle","subgroupShuffleDown","subgroupShuffleUp","subgroupShuffleXor","subgroupXor","quadBroadcast","quadSwapDiagonal","quadSwapX","quadSwapY"]),ne=class extends St{constructor(){super()}},Nr=class extends ne{constructor(e,n,r,o,s,i){super(),this.calls=new Set,this.name=e,this.args=n,this.returnType=r,this.body=o,this.startLine=s,this.endLine=i}get astNodeType(){return"function"}search(e){if(this.attributes)for(let n of this.attributes)e(n);e(this);for(let n of this.args)e(n);this.searchBlock(this.body,e)}},dd=class extends ne{constructor(e){super(),this.expression=e}get astNodeType(){return"staticAssert"}search(e){this.expression.search(e)}},Wc=class extends ne{constructor(e,n){super(),this.condition=e,this.body=n}get astNodeType(){return"while"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}},Fi=class extends ne{constructor(e,n){super(),this.body=e,this.loopId=n}get astNodeType(){return"continuing"}search(e){this.searchBlock(this.body,e)}},$c=class extends ne{constructor(e,n,r,o){super(),this.init=e,this.condition=n,this.increment=r,this.body=o}get astNodeType(){return"for"}search(e){var n,r,o;(n=this.init)===null||n===void 0||n.search(e),(r=this.condition)===null||r===void 0||r.search(e),(o=this.increment)===null||o===void 0||o.search(e),this.searchBlock(this.body,e)}},Ot=class extends ne{constructor(e,n,r,o,s){super(),this.attributes=null,this.name=e,this.type=n,this.storage=r,this.access=o,this.value=s}get astNodeType(){return"var"}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}},Ni=class extends ne{constructor(e,n,r){super(),this.attributes=null,this.name=e,this.type=n,this.value=r}get astNodeType(){return"override"}search(e){var n;(n=this.value)===null||n===void 0||n.search(e)}},Ur=class extends ne{constructor(e,n,r,o,s){super(),this.attributes=null,this.name=e,this.type=n,this.storage=r,this.access=o,this.value=s}get astNodeType(){return"let"}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}},es=class extends ne{constructor(e,n,r,o,s){super(),this.attributes=null,this.name=e,this.type=n,this.storage=r,this.access=o,this.value=s}get astNodeType(){return"const"}constEvaluate(e,n){return this.value.constEvaluate(e,n)}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}},$o,Ui,w,_;(t=>{t.increment="++",t.decrement="--"})($o||($o={})),(t=>{t.parse=function(e){let n=e;if(n=="parse")throw new Error("Invalid value for IncrementOperator");return t[n]}})($o||($o={}));var Zc=class extends ne{constructor(e,n){super(),this.operator=e,this.variable=n}get astNodeType(){return"increment"}search(e){this.variable.search(e)}};(t=>{t.assign="=",t.addAssign="+=",t.subtractAssin="-=",t.multiplyAssign="*=",t.divideAssign="/=",t.moduloAssign="%=",t.andAssign="&=",t.orAssign="|=",t.xorAssign="^=",t.shiftLeftAssign="<<=",t.shiftRightAssign=">>="})(Ui||(Ui={})),(t=>{t.parse=function(e){let n=e;if(n=="parse")throw new Error("Invalid value for AssignOperator");return n}})(Ui||(Ui={}));var eu=class extends ne{constructor(e,n,r){super(),this.operator=e,this.variable=n,this.value=r}get astNodeType(){return"assign"}search(e){this.variable.search(e),this.value.search(e)}},zi=class extends ne{constructor(e,n){super(),this.name=e,this.args=n}get astNodeType(){return"call"}isBuiltin(){return T1.has(this.name)}search(e){for(let n of this.args)n.search(e);e(this)}},tu=class extends ne{constructor(e,n){super(),this.body=e,this.continuing=n}get astNodeType(){return"loop"}search(e){var n;this.searchBlock(this.body,e),(n=this.continuing)===null||n===void 0||n.search(e)}},nu=class extends ne{constructor(e,n){super(),this.condition=e,this.cases=n}get astNodeType(){return"switch"}search(e){e(this);for(let n of this.cases)n.search(e)}},ru=class extends ne{constructor(e,n,r,o){super(),this.condition=e,this.body=n,this.elseif=r,this.else=o}get astNodeType(){return"if"}search(e){this.condition.search(e),this.searchBlock(this.body,e),this.searchBlock(this.elseif,e),this.searchBlock(this.else,e)}},ou=class extends ne{constructor(e){super(),this.value=e}get astNodeType(){return"return"}search(e){var n;(n=this.value)===null||n===void 0||n.search(e)}},hd=class extends ne{constructor(e){super(),this.name=e}get astNodeType(){return"enable"}},pd=class extends ne{constructor(e){super(),this.extensions=e}get astNodeType(){return"requires"}},su=class extends ne{constructor(e,n){super(),this.severity=e,this.rule=n}get astNodeType(){return"diagnostic"}},Hi=class extends ne{constructor(e,n){super(),this.name=e,this.type=n}get astNodeType(){return"alias"}},yd=class extends ne{constructor(){super()}get astNodeType(){return"discard"}},iu=class extends ne{constructor(){super(),this.condition=null,this.loopId=-1}get astNodeType(){return"break"}},au=class extends ne{constructor(){super(),this.loopId=-1}get astNodeType(){return"continue"}},M=class t extends ne{constructor(e){super(),this.attributes=null,this.name=e}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}static maxFormatType(e){let n=e[0];if(n.name==="f32")return n;for(let r=1;r<e.length;++r){let o=t._priority.get(n.name);t._priority.get(e[r].name)<o&&(n=e[r])}return n.name==="x32"?t.i32:n}getTypeName(){return this.name}};M.x32=new M("x32"),M.f32=new M("f32"),M.i32=new M("i32"),M.u32=new M("u32"),M.f16=new M("f16"),M.bool=new M("bool"),M.void=new M("void"),M._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);var cu=class extends M{constructor(e){super(e)}},kt=class extends M{constructor(e,n,r,o){super(e),this.members=n,this.startLine=r,this.endLine=o}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(e){for(let n=0;n<this.members.length;n++)if(this.members[n].name==e)return n;return-1}search(e){for(let n of this.members)e(n)}},B=class extends M{constructor(e,n,r){super(e),this.format=n,this.access=r}get astNodeType(){return"template"}getTypeName(){let e=this.name;if(this.format!==null){if(e==="vec2"||e==="vec3"||e==="vec4"||e==="mat2x2"||e==="mat2x3"||e==="mat2x4"||e==="mat3x2"||e==="mat3x3"||e==="mat3x4"||e==="mat4x2"||e==="mat4x3"||e==="mat4x4"){if(this.format.name==="f32")return e+="f",e;if(this.format.name==="i32")return e+="i",e;if(this.format.name==="u32")return e+="u",e;if(this.format.name==="bool")return e+="b",e;if(this.format.name==="f16")return e+="h",e}e+=`<${this.format.name}>`}else if(e==="vec2"||e==="vec3"||e==="vec4")return e;return e}};B.vec2f=new B("vec2",M.f32,null),B.vec3f=new B("vec3",M.f32,null),B.vec4f=new B("vec4",M.f32,null),B.vec2i=new B("vec2",M.i32,null),B.vec3i=new B("vec3",M.i32,null),B.vec4i=new B("vec4",M.i32,null),B.vec2u=new B("vec2",M.u32,null),B.vec3u=new B("vec3",M.u32,null),B.vec4u=new B("vec4",M.u32,null),B.vec2h=new B("vec2",M.f16,null),B.vec3h=new B("vec3",M.f16,null),B.vec4h=new B("vec4",M.f16,null),B.vec2b=new B("vec2",M.bool,null),B.vec3b=new B("vec3",M.bool,null),B.vec4b=new B("vec4",M.bool,null),B.mat2x2f=new B("mat2x2",M.f32,null),B.mat2x3f=new B("mat2x3",M.f32,null),B.mat2x4f=new B("mat2x4",M.f32,null),B.mat3x2f=new B("mat3x2",M.f32,null),B.mat3x3f=new B("mat3x3",M.f32,null),B.mat3x4f=new B("mat3x4",M.f32,null),B.mat4x2f=new B("mat4x2",M.f32,null),B.mat4x3f=new B("mat4x3",M.f32,null),B.mat4x4f=new B("mat4x4",M.f32,null),B.mat2x2h=new B("mat2x2",M.f16,null),B.mat2x3h=new B("mat2x3",M.f16,null),B.mat2x4h=new B("mat2x4",M.f16,null),B.mat3x2h=new B("mat3x2",M.f16,null),B.mat3x3h=new B("mat3x3",M.f16,null),B.mat3x4h=new B("mat3x4",M.f16,null),B.mat4x2h=new B("mat4x2",M.f16,null),B.mat4x3h=new B("mat4x3",M.f16,null),B.mat4x4h=new B("mat4x4",M.f16,null),B.mat2x2i=new B("mat2x2",M.i32,null),B.mat2x3i=new B("mat2x3",M.i32,null),B.mat2x4i=new B("mat2x4",M.i32,null),B.mat3x2i=new B("mat3x2",M.i32,null),B.mat3x3i=new B("mat3x3",M.i32,null),B.mat3x4i=new B("mat3x4",M.i32,null),B.mat4x2i=new B("mat4x2",M.i32,null),B.mat4x3i=new B("mat4x3",M.i32,null),B.mat4x4i=new B("mat4x4",M.i32,null),B.mat2x2u=new B("mat2x2",M.u32,null),B.mat2x3u=new B("mat2x3",M.u32,null),B.mat2x4u=new B("mat2x4",M.u32,null),B.mat3x2u=new B("mat3x2",M.u32,null),B.mat3x3u=new B("mat3x3",M.u32,null),B.mat3x4u=new B("mat3x4",M.u32,null),B.mat4x2u=new B("mat4x2",M.u32,null),B.mat4x3u=new B("mat4x3",M.u32,null),B.mat4x4u=new B("mat4x4",M.u32,null);var ts=class extends M{constructor(e,n,r,o){super(e),this.storage=n,this.type=r,this.access=o}get astNodeType(){return"pointer"}},Lr=class extends M{constructor(e,n,r,o){super(e),this.attributes=n,this.format=r,this.count=o}get astNodeType(){return"array"}get isArray(){return!0}},Gr=class extends M{constructor(e,n,r){super(e),this.format=n,this.access=r}get astNodeType(){return"sampler"}},ft=class extends St{constructor(){super(),this.postfix=null}},Sn=class extends ft{constructor(e){super(),this.value=e}get astNodeType(){return"stringExpr"}toString(){return this.value}constEvaluateString(){return this.value}},Et=class extends ft{constructor(e,n){super(),this.type=e,this.args=n}get astNodeType(){return"createExpr"}search(e){if(e(this),this.args)for(let n of this.args)n.search(e)}constEvaluate(e,n){return n&&(n[0]=this.type),e.evalExpression(this,e.context)}},Pi=class extends ft{constructor(e,n){super(),this.cachedReturnValue=null,this.name=e,this.args=n}get astNodeType(){return"callExpr"}setCachedReturnValue(e){this.cachedReturnValue=e}get isBuiltin(){return T1.has(this.name)}constEvaluate(e,n){return e.evalExpression(this,e.context)}search(e){for(let n of this.args)n.search(e);e(this)}},He=class extends ft{constructor(e){super(),this.name=e}get astNodeType(){return"varExpr"}search(e){e(this),this.postfix&&this.postfix.search(e)}constEvaluate(e,n){return e.evalExpression(this,e.context)}},uu=class extends ft{constructor(e,n){super(),this.name=e,this.initializer=n}get astNodeType(){return"constExpr"}constEvaluate(e,n){if(this.initializer){let r=e.evalExpression(this.initializer,e.context);return r!==null&&this.postfix?r.getSubData(e,this.postfix,e.context):r}return null}search(e){this.initializer.search(e)}},pe=class extends ft{constructor(e,n){super(),this.value=e,this.type=n}get astNodeType(){return"literalExpr"}constEvaluate(e,n){return n!==void 0&&(n[0]=this.type),this.value}get isScalar(){return this.value instanceof T}get isVector(){return this.value instanceof p||this.value instanceof U}get scalarValue(){return this.value instanceof T?this.value.value:(console.error("Value is not scalar."),0)}get vectorValue(){return this.value instanceof p||this.value instanceof U?this.value.data:(console.error("Value is not a vector or matrix."),new Float32Array(0))}},lu=class extends ft{constructor(e,n){super(),this.type=e,this.value=n}get astNodeType(){return"bitcastExpr"}search(e){this.value.search(e)}};var ir=class extends ft{constructor(e){super(),this.index=e}search(e){this.index.search(e)}},fu=class extends ft{constructor(){super()}},me=class extends fu{constructor(e,n){super(),this.operator=e,this.right=n}get astNodeType(){return"unaryOp"}constEvaluate(e,n){return e.evalExpression(this,e.context)}search(e){this.right.search(e)}},lt=class extends fu{constructor(e,n,r){super(),this.operator=e,this.left=n,this.right=r}get astNodeType(){return"binaryOp"}_getPromotedType(e,n){return e.name===n.name?e:e.name==="f32"||n.name==="f32"?M.f32:e.name==="u32"||n.name==="u32"?M.u32:M.i32}constEvaluate(e,n){return e.evalExpression(this,e.context)}search(e){this.left.search(e),this.right.search(e)}},mu=class extends St{constructor(e){super(),this.body=e}search(e){e(this),this.searchBlock(this.body,e)}},ns=class extends ft{constructor(){super()}get astNodeType(){return"default"}},du=class extends mu{constructor(e,n){super(n),this.selectors=e}get astNodeType(){return"case"}search(e){this.searchBlock(this.body,e)}},hu=class extends mu{constructor(e){super(e)}get astNodeType(){return"default"}search(e){this.searchBlock(this.body,e)}},pu=class extends St{constructor(e,n,r){super(),this.name=e,this.type=n,this.attributes=r}get astNodeType(){return"argument"}},xd=class extends St{constructor(e,n){super(),this.condition=e,this.body=n}get astNodeType(){return"elseif"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}},yu=class extends St{constructor(e,n,r){super(),this.name=e,this.type=n,this.attributes=r}get astNodeType(){return"member"}},xu=class extends St{constructor(e,n){super(),this.name=e,this.value=n}get astNodeType(){return"attribute"}},Ct=class t{constructor(e,n){this.parent=null,this.typeInfo=e,this.parent=n,this.id=t._id++}clone(){throw`Clone: Not implemented for ${this.constructor.name}`}setDataValue(e,n,r,o){console.error(`SetDataValue: Not implemented for ${this.constructor.name}`)}getSubData(e,n,r){return console.error(`GetDataValue: Not implemented for ${this.constructor.name}`),null}toString(){return`<${this.typeInfo.getTypeName()}>`}};Ct._id=0;var Ki=class extends Ct{constructor(){super(new $e("void",null),null)}toString(){return"void"}};Ki.void=new Ki;var sr=class extends Ct{constructor(e){super(new Li("pointer",e.typeInfo,null),null),this.reference=e}clone(){return this}setDataValue(e,n,r,o){this.reference.setDataValue(e,n,r,o)}getSubData(e,n,r){return n?this.reference.getSubData(e,n,r):this}toString(){return`&${this.reference.toString()}`}},T=class t extends Ct{constructor(e,n,r=null){super(n,r),e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array?this.data=e:this.typeInfo.name==="x32"?e-Math.floor(e)!==0?this.data=new Float32Array([e]):this.data=e>=0?new Uint32Array([e]):new Int32Array([e]):this.typeInfo.name==="i32"||this.typeInfo.name==="bool"?this.data=new Int32Array([e]):this.typeInfo.name==="u32"?this.data=new Uint32Array([e]):this.typeInfo.name==="f32"||this.typeInfo.name==="f16"?this.data=new Float32Array([e]):console.error("ScalarData2: Invalid type",n)}clone(){if(this.data instanceof Float32Array)return new t(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new t(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new t(new Uint32Array(this.data),this.typeInfo,null);throw"ScalarData: Invalid data type"}get value(){return this.data[0]}set value(e){this.data[0]=e}setDataValue(e,n,r,o){if(r)return void console.error("SetDataValue: Scalar data does not support postfix",r);if(!(n instanceof t))return void console.error("SetDataValue: Invalid value",n);let s=n.data[0];this.typeInfo.name==="i32"||this.typeInfo.name==="u32"?s=Math.floor(s):this.typeInfo.name==="bool"&&(s=s?1:0),this.data[0]=s}getSubData(e,n,r){return n?(console.error("getSubData: Scalar data does not support postfix",n),null):this}toString(){return`${this.value}`}};function U3(t,e,n){let r=e.length;return r===2?n==="f32"?new p(new Float32Array(e),t.getTypeInfo("vec2f")):n==="i32"||n==="bool"?new p(new Int32Array(e),t.getTypeInfo("vec2i")):n==="u32"?new p(new Uint32Array(e),t.getTypeInfo("vec2u")):n==="f16"?new p(new Float32Array(e),t.getTypeInfo("vec2h")):(console.error(`getSubData: Unknown format ${n}`),null):r===3?n==="f32"?new p(new Float32Array(e),t.getTypeInfo("vec3f")):n==="i32"||n==="bool"?new p(new Int32Array(e),t.getTypeInfo("vec3i")):n==="u32"?new p(new Uint32Array(e),t.getTypeInfo("vec3u")):n==="f16"?new p(new Float32Array(e),t.getTypeInfo("vec3h")):(console.error(`getSubData: Unknown format ${n}`),null):r===4?n==="f32"?new p(new Float32Array(e),t.getTypeInfo("vec4f")):n==="i32"||n==="bool"?new p(new Int32Array(e),t.getTypeInfo("vec4i")):n==="u32"?new p(new Uint32Array(e),t.getTypeInfo("vec4u")):n==="f16"?new p(new Float32Array(e),t.getTypeInfo("vec4h")):(console.error(`getSubData: Unknown format ${n}`),null):(console.error(`getSubData: Invalid vector size ${e.length}`),null)}var p=class t extends Ct{constructor(e,n,r=null){if(super(n,r),e instanceof Float32Array||e instanceof Uint32Array||e instanceof Int32Array)this.data=e;else{let o=this.typeInfo.name;o==="vec2f"||o==="vec3f"||o==="vec4f"?this.data=new Float32Array(e):o==="vec2i"||o==="vec3i"||o==="vec4i"?this.data=new Int32Array(e):o==="vec2u"||o==="vec3u"||o==="vec4u"?this.data=new Uint32Array(e):o==="vec2h"||o==="vec3h"||o==="vec4h"?this.data=new Float32Array(e):o==="vec2b"||o==="vec3b"||o==="vec4b"?this.data=new Int32Array(e):o==="vec2"||o==="vec3"||o==="vec4"?this.data=new Float32Array(e):console.error(`VectorData: Invalid type ${o}`)}}clone(){if(this.data instanceof Float32Array)return new t(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new t(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new t(new Uint32Array(this.data),this.typeInfo,null);throw"VectorData: Invalid data type"}setDataValue(e,n,r,o){r instanceof Sn?console.error("TODO: Set vector postfix"):n instanceof t?this.data=n.data:console.error("SetDataValue: Invalid value",n)}getSubData(e,n,r){if(n===null)return this;let o=e.getTypeInfo("f32");if(this.typeInfo instanceof En)o=this.typeInfo.format||o;else{let i=this.typeInfo.name;i==="vec2f"||i==="vec3f"||i==="vec4f"?o=e.getTypeInfo("f32"):i==="vec2i"||i==="vec3i"||i==="vec4i"?o=e.getTypeInfo("i32"):i==="vec2b"||i==="vec3b"||i==="vec4b"?o=e.getTypeInfo("bool"):i==="vec2u"||i==="vec3u"||i==="vec4u"?o=e.getTypeInfo("u32"):i==="vec2h"||i==="vec3h"||i==="vec4h"?o=e.getTypeInfo("f16"):console.error(`GetSubData: Unknown type ${i}`)}let s=this;for(;n!==null&&s!==null;){if(n instanceof ir){let i=n.index,a=-1;if(i instanceof pe){if(!(i.value instanceof T))return console.error(`GetSubData: Invalid array index ${i.value}`),null;a=i.value.value}else{let c=e.evalExpression(i,r);if(!(c instanceof T))return console.error("GetSubData: Unknown index type",i),null;a=c.value}if(a<0||a>=s.data.length)return console.error("GetSubData: Index out of range",a),null;if(s.data instanceof Float32Array){let c=new Float32Array(s.data.buffer,s.data.byteOffset+4*a,1);return new T(c,o)}if(s.data instanceof Int32Array){let c=new Int32Array(s.data.buffer,s.data.byteOffset+4*a,1);return new T(c,o)}if(s.data instanceof Uint32Array){let c=new Uint32Array(s.data.buffer,s.data.byteOffset+4*a,1);return new T(c,o)}throw"GetSubData: Invalid data type"}if(!(n instanceof Sn))return console.error("GetSubData: Unknown postfix",n),null;{let i=n.value.toLowerCase();if(i.length===1){let c=0;if(i==="x"||i==="r")c=0;else if(i==="y"||i==="g")c=1;else if(i==="z"||i==="b")c=2;else{if(i!=="w"&&i!=="a")return console.error(`GetSubData: Unknown member ${i}`),null;c=3}if(this.data instanceof Float32Array){let u=new Float32Array(this.data.buffer,this.data.byteOffset+4*c,1);return new T(u,o,this)}if(this.data instanceof Int32Array){let u=new Int32Array(this.data.buffer,this.data.byteOffset+4*c,1);return new T(u,o,this)}if(this.data instanceof Uint32Array){let u=new Uint32Array(this.data.buffer,this.data.byteOffset+4*c,1);return new T(u,o,this)}}let a=[];for(let c of i)c==="x"||c==="r"?a.push(this.data[0]):c==="y"||c==="g"?a.push(this.data[1]):c==="z"||c==="b"?a.push(this.data[2]):c==="w"||c==="a"?a.push(this.data[3]):console.error(`GetDataValue: Unknown member ${c}`);s=U3(e,a,o.name)}n=n.postfix}return s}toString(){let e=`${this.data[0]}`;for(let n=1;n<this.data.length;++n)e+=`, ${this.data[n]}`;return e}},U=class t extends Ct{constructor(e,n,r=null){super(n,r),e instanceof Float32Array?this.data=e:this.data=new Float32Array(e)}clone(){return new t(new Float32Array(this.data),this.typeInfo,null)}setDataValue(e,n,r,o){r instanceof Sn?console.error("TODO: Set matrix postfix"):n instanceof t?this.data=n.data:console.error("SetDataValue: Invalid value",n)}getSubData(e,n,r){if(n===null)return this;let o=this.typeInfo.name;if(e.getTypeInfo("f32"),this.typeInfo instanceof En)this.typeInfo.format;else if(o.endsWith("f"))e.getTypeInfo("f32");else if(o.endsWith("i"))e.getTypeInfo("i32");else if(o.endsWith("u"))e.getTypeInfo("u32");else{if(!o.endsWith("h"))return console.error(`GetDataValue: Unknown type ${o}`),null;e.getTypeInfo("f16")}if(n instanceof ir){let s=n.index,i=-1;if(s instanceof pe){if(!(s.value instanceof T))return console.error(`GetDataValue: Invalid array index ${s.value}`),null;i=s.value.value}else{let u=e.evalExpression(s,r);if(!(u instanceof T))return console.error("GetDataValue: Unknown index type",s),null;i=u.value}if(i<0||i>=this.data.length)return console.error("GetDataValue: Index out of range",i),null;let a=o.endsWith("h")?"h":"f",c;if(o==="mat2x2"||o==="mat2x2f"||o==="mat2x2h"||o==="mat3x2"||o==="mat3x2f"||o==="mat3x2h"||o==="mat4x2"||o==="mat4x2f"||o==="mat4x2h")c=new p(new Float32Array(this.data.buffer,this.data.byteOffset+2*i*4,2),e.getTypeInfo(`vec2${a}`));else if(o==="mat2x3"||o==="mat2x3f"||o==="mat2x3h"||o==="mat3x3"||o==="mat3x3f"||o==="mat3x3h"||o==="mat4x3"||o==="mat4x3f"||o==="mat4x3h")c=new p(new Float32Array(this.data.buffer,this.data.byteOffset+3*i*4,3),e.getTypeInfo(`vec3${a}`));else{if(o!=="mat2x4"&&o!=="mat2x4f"&&o!=="mat2x4h"&&o!=="mat3x4"&&o!=="mat3x4f"&&o!=="mat3x4h"&&o!=="mat4x4"&&o!=="mat4x4f"&&o!=="mat4x4h")return console.error(`GetDataValue: Unknown type ${o}`),null;c=new p(new Float32Array(this.data.buffer,this.data.byteOffset+4*i*4,4),e.getTypeInfo(`vec4${a}`))}return n.postfix?c.getSubData(e,n.postfix,r):c}return console.error("GetDataValue: Invalid postfix",n),null}toString(){let e=`${this.data[0]}`;for(let n=1;n<this.data.length;++n)e+=`, ${this.data[n]}`;return e}},ve=class t extends Ct{constructor(e,n,r=0,o=null){super(n,o),this.buffer=e instanceof ArrayBuffer?e:e.buffer,this.offset=r}clone(){let e=new Uint8Array(new Uint8Array(this.buffer,this.offset,this.typeInfo.size));return new t(e.buffer,this.typeInfo,0,null)}setDataValue(e,n,r,o){if(n===null)return void console.log("setDataValue: NULL data.");let s=this.offset,i=this.typeInfo;for(;r;){if(r instanceof ir)if(i instanceof Xt){let a=r.index;if(a instanceof pe){if(!(a.value instanceof T))return void console.error(`SetDataValue: Invalid index type ${a.value}`);s+=a.value.value*i.stride}else{let c=e.evalExpression(a,o);if(!(c instanceof T))return void console.error("SetDataValue: Unknown index type",a);s+=c.value*i.stride}i=i.format}else console.error(`SetDataValue: Type ${i.getTypeName()} is not an array`);else{if(!(r instanceof Sn))return void console.error("SetDataValue: Unknown postfix type",r);{let a=r.value;if(i instanceof jt){let c=!1;for(let u of i.members)if(u.name===a){s+=u.offset,i=u.type,c=!0;break}if(!c)return void console.error(`SetDataValue: Member ${a} not found`)}else if(i instanceof $e){let c=i.getTypeName(),u=0;if(a==="x"||a==="r")u=0;else if(a==="y"||a==="g")u=1;else if(a==="z"||a==="b")u=2;else{if(a!=="w"&&a!=="a")return void console.error(`SetDataValue: Unknown member ${a}`);u=3}if(!(n instanceof T))return void console.error("SetDataValue: Invalid value",n);let l=n.value;return c==="vec2f"?void(new Float32Array(this.buffer,s,2)[u]=l):c==="vec3f"?void(new Float32Array(this.buffer,s,3)[u]=l):c==="vec4f"?void(new Float32Array(this.buffer,s,4)[u]=l):c==="vec2i"?void(new Int32Array(this.buffer,s,2)[u]=l):c==="vec3i"?void(new Int32Array(this.buffer,s,3)[u]=l):c==="vec4i"?void(new Int32Array(this.buffer,s,4)[u]=l):c==="vec2u"?void(new Uint32Array(this.buffer,s,2)[u]=l):c==="vec3u"?void(new Uint32Array(this.buffer,s,3)[u]=l):c==="vec4u"?void(new Uint32Array(this.buffer,s,4)[u]=l):void console.error(`SetDataValue: Type ${c} is not a struct`)}}}r=r.postfix}this.setData(e,n,i,s,o)}setData(e,n,r,o,s){let i=r.getTypeName();if(i!=="f32"&&i!=="f16")if(i!=="i32"&&i!=="atomic<i32>"&&i!=="x32")if(i!=="u32"&&i!=="atomic<u32>")if(i!=="bool"){if(i==="vec2f"||i==="vec2h"){let a=new Float32Array(this.buffer,o,2);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1]):(a[0]=n[0],a[1]=n[1]))}if(i==="vec3f"||i==="vec3h"){let a=new Float32Array(this.buffer,o,3);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2]):(a[0]=n[0],a[1]=n[1],a[2]=n[2]))}if(i==="vec4f"||i==="vec4h"){let a=new Float32Array(this.buffer,o,4);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3]))}if(i==="vec2i"){let a=new Int32Array(this.buffer,o,2);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1]):(a[0]=n[0],a[1]=n[1]))}if(i==="vec3i"){let a=new Int32Array(this.buffer,o,3);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2]):(a[0]=n[0],a[1]=n[1],a[2]=n[2]))}if(i==="vec4i"){let a=new Int32Array(this.buffer,o,4);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3]))}if(i==="vec2u"){let a=new Uint32Array(this.buffer,o,2);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1]):(a[0]=n[0],a[1]=n[1]))}if(i==="vec3u"){let a=new Uint32Array(this.buffer,o,3);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2]):(a[0]=n[0],a[1]=n[1],a[2]=n[2]))}if(i==="vec4u"){let a=new Uint32Array(this.buffer,o,4);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3]))}if(i==="vec2b"){let a=new Uint32Array(this.buffer,o,2);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1]):(a[0]=n[0],a[1]=n[1]))}if(i==="vec3b"){let a=new Uint32Array(this.buffer,o,3);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2]):(a[0]=n[0],a[1]=n[1],a[2]=n[2]))}if(i==="vec4b"){let a=new Uint32Array(this.buffer,o,4);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3]))}if(i==="mat2x2f"||i==="mat2x2h"){let a=new Float32Array(this.buffer,o,4);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3]))}if(i==="mat2x3f"||i==="mat2x3h"){let a=new Float32Array(this.buffer,o,6);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3],a[4]=n.data[4],a[5]=n.data[5]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5]))}if(i==="mat2x4f"||i==="mat2x4h"){let a=new Float32Array(this.buffer,o,8);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3],a[4]=n.data[4],a[5]=n.data[5],a[6]=n.data[6],a[7]=n.data[7]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7]))}if(i==="mat3x2f"||i==="mat3x2h"){let a=new Float32Array(this.buffer,o,6);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3],a[4]=n.data[4],a[5]=n.data[5]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5]))}if(i==="mat3x3f"||i==="mat3x3h"){let a=new Float32Array(this.buffer,o,9);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3],a[4]=n.data[4],a[5]=n.data[5],a[6]=n.data[6],a[7]=n.data[7],a[8]=n.data[8]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7],a[8]=n[8]))}if(i==="mat3x4f"||i==="mat3x4h"){let a=new Float32Array(this.buffer,o,12);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3],a[4]=n.data[4],a[5]=n.data[5],a[6]=n.data[6],a[7]=n.data[7],a[8]=n.data[8],a[9]=n.data[9],a[10]=n.data[10],a[11]=n.data[11]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7],a[8]=n[8],a[9]=n[9],a[10]=n[10],a[11]=n[11]))}if(i==="mat4x2f"||i==="mat4x2h"){let a=new Float32Array(this.buffer,o,8);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3],a[4]=n.data[4],a[5]=n.data[5],a[6]=n.data[6],a[7]=n.data[7]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7]))}if(i==="mat4x3f"||i==="mat4x3h"){let a=new Float32Array(this.buffer,o,12);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3],a[4]=n.data[4],a[5]=n.data[5],a[6]=n.data[6],a[7]=n.data[7],a[8]=n.data[8],a[9]=n.data[9],a[10]=n.data[10],a[11]=n.data[11]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7],a[8]=n[8],a[9]=n[9],a[10]=n[10],a[11]=n[11]))}if(i==="mat4x4f"||i==="mat4x4h"){let a=new Float32Array(this.buffer,o,16);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3],a[4]=n.data[4],a[5]=n.data[5],a[6]=n.data[6],a[7]=n.data[7],a[8]=n.data[8],a[9]=n.data[9],a[10]=n.data[10],a[11]=n.data[11],a[12]=n.data[12],a[13]=n.data[13],a[14]=n.data[14],a[15]=n.data[15]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7],a[8]=n[8],a[9]=n[9],a[10]=n[10],a[11]=n[11],a[12]=n[12],a[13]=n[13],a[14]=n[14],a[15]=n[15]))}if(n instanceof t){if(r===n.typeInfo)return void new Uint8Array(this.buffer,o,n.buffer.byteLength).set(new Uint8Array(n.buffer));console.error("SetDataValue: Type mismatch",i,n.typeInfo.getTypeName())}else console.error(`SetData: Unknown type ${i}`)}else n instanceof T&&(new Int32Array(this.buffer,o,1)[0]=n.value);else n instanceof T&&(new Uint32Array(this.buffer,o,1)[0]=n.value);else n instanceof T&&(new Int32Array(this.buffer,o,1)[0]=n.value);else n instanceof T&&(new Float32Array(this.buffer,o,1)[0]=n.value)}getSubData(e,n,r){var o,s,i;if(n===null)return this;let a=this.offset,c=this.typeInfo;for(;n;){if(n instanceof ir){let l=n.index,f=l instanceof ft?e.evalExpression(l,r):l,m=0;if(f instanceof T?m=f.value:typeof f=="number"?m=f:console.error("GetDataValue: Invalid index type",l),c instanceof Xt)a+=m*c.stride,c=c.format;else{let d=c.getTypeName();d==="mat4x4"||d==="mat4x4f"||d==="mat4x4h"?(a+=16*m,c=e.getTypeInfo("vec4f")):console.error(`getDataValue: Type ${c.getTypeName()} is not an array`)}}else{if(!(n instanceof Sn))return console.error("GetDataValue: Unknown postfix type",n),null;{let l=n.value;if(c instanceof jt){let f=!1;for(let m of c.members)if(m.name===l){a+=m.offset,c=m.type,f=!0;break}if(!f)return console.error(`GetDataValue: Member ${l} not found`),null}else if(c instanceof $e){let f=c.getTypeName();if(f==="vec2f"||f==="vec3f"||f==="vec4f"||f==="vec2i"||f==="vec3i"||f==="vec4i"||f==="vec2u"||f==="vec3u"||f==="vec4u"||f==="vec2b"||f==="vec3b"||f==="vec4b"||f==="vec2h"||f==="vec3h"||f==="vec4h"||f==="vec2"||f==="vec3"||f==="vec4"){if(l.length>0&&l.length<5){let m="f",d=[];for(let v=0;v<l.length;++v){let E=l[v].toLowerCase(),S=0;if(E==="x"||E==="r")S=0;else if(E==="y"||E==="g")S=1;else if(E==="z"||E==="b")S=2;else{if(E!=="w"&&E!=="a")return console.error(`Unknown member ${l}`),null;S=3}if(l.length===1){if(f.endsWith("f"))return this.buffer.byteLength<a+4*S+4?(console.log("Insufficient buffer data"),null):new T(new Float32Array(this.buffer,a+4*S,1),e.getTypeInfo("f32"),this);if(f.endsWith("h"))return new T(new Float32Array(this.buffer,a+4*S,1),e.getTypeInfo("f16"),this);if(f.endsWith("i"))return new T(new Int32Array(this.buffer,a+4*S,1),e.getTypeInfo("i32"),this);if(f.endsWith("b"))return new T(new Int32Array(this.buffer,a+4*S,1),e.getTypeInfo("bool"),this);if(f.endsWith("u"))return new T(new Uint32Array(this.buffer,a+4*S,1),e.getTypeInfo("i32"),this)}if(f==="vec2f")d.push(new Float32Array(this.buffer,a,2)[S]);else if(f==="vec3f"){if(a+12>=this.buffer.byteLength)return console.log("Insufficient buffer data"),null;let x=new Float32Array(this.buffer,a,3);d.push(x[S])}else if(f==="vec4f")d.push(new Float32Array(this.buffer,a,4)[S]);else if(f==="vec2i")m="i",d.push(new Int32Array(this.buffer,a,2)[S]);else if(f==="vec3i")m="i",d.push(new Int32Array(this.buffer,a,3)[S]);else if(f==="vec4i")m="i",d.push(new Int32Array(this.buffer,a,4)[S]);else if(f==="vec2u"){m="u";let x=new Uint32Array(this.buffer,a,2);d.push(x[S])}else f==="vec3u"?(m="u",d.push(new Uint32Array(this.buffer,a,3)[S])):f==="vec4u"&&(m="u",d.push(new Uint32Array(this.buffer,a,4)[S]))}return d.length===2?c=e.getTypeInfo(`vec2${m}`):d.length===3?c=e.getTypeInfo(`vec3${m}`):d.length===4?c=e.getTypeInfo(`vec4${m}`):console.error(`GetDataValue: Invalid vector length ${d.length}`),new p(d,c,null)}return console.error(`GetDataValue: Unknown member ${l}`),null}return console.error(`GetDataValue: Type ${f} is not a struct`),null}}}n=n.postfix}let u=c.getTypeName();return u==="f32"?new T(new Float32Array(this.buffer,a,1),c,this):u==="i32"?new T(new Int32Array(this.buffer,a,1),c,this):u==="u32"?new T(new Uint32Array(this.buffer,a,1),c,this):u==="vec2f"?new p(new Float32Array(this.buffer,a,2),c,this):u==="vec3f"?new p(new Float32Array(this.buffer,a,3),c,this):u==="vec4f"?new p(new Float32Array(this.buffer,a,4),c,this):u==="vec2i"?new p(new Int32Array(this.buffer,a,2),c,this):u==="vec3i"?new p(new Int32Array(this.buffer,a,3),c,this):u==="vec4i"?new p(new Int32Array(this.buffer,a,4),c,this):u==="vec2u"?new p(new Uint32Array(this.buffer,a,2),c,this):u==="vec3u"?new p(new Uint32Array(this.buffer,a,3),c,this):u==="vec4u"?new p(new Uint32Array(this.buffer,a,4),c,this):c instanceof En&&c.name==="atomic"?((o=c.format)===null||o===void 0?void 0:o.name)==="u32"?new T(new Uint32Array(this.buffer,a,1)[0],c.format,this):((s=c.format)===null||s===void 0?void 0:s.name)==="i32"?new T(new Int32Array(this.buffer,a,1)[0],c.format,this):(console.error(`GetDataValue: Invalid atomic format ${(i=c.format)===null||i===void 0?void 0:i.name}`),null):new t(this.buffer,c,a,this)}toString(){let e="";if(this.typeInfo instanceof Xt)if(this.typeInfo.format.name==="f32"){let n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}`;for(let r=1;r<n.length;++r)e+=`, ${n[r]}`}else if(this.typeInfo.format.name==="i32"){let n=new Int32Array(this.buffer,this.offset);e=`[${n[0]}`;for(let r=1;r<n.length;++r)e+=`, ${n[r]}`}else if(this.typeInfo.format.name==="u32"){let n=new Uint32Array(this.buffer,this.offset);e=`[${n[0]}`;for(let r=1;r<n.length;++r)e+=`, ${n[r]}`}else if(this.typeInfo.format.name==="vec2f"){let n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}, ${n[1]}]`;for(let r=1;r<n.length/2;++r)e+=`, [${n[2*r]}, ${n[2*r+1]}]`}else if(this.typeInfo.format.name==="vec3f"){let n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}, ${n[1]}, ${n[2]}]`;for(let r=4;r<n.length;r+=4)e+=`, [${n[r]}, ${n[r+1]}, ${n[r+2]}]`}else if(this.typeInfo.format.name==="vec4f"){let n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}, ${n[1]}, ${n[2]}, ${n[3]}]`;for(let r=4;r<n.length;r+=4)e+=`, [${n[r]}, ${n[r+1]}, ${n[r+2]}, ${n[r+3]}]`}else e="[...]";else this.typeInfo instanceof jt?e+="{...}":e="[...]";return e}},wn=class t extends Ct{constructor(e,n,r,o){super(n,null),this.data=e,this.descriptor=r,this.view=o}clone(){return new t(this.data,this.typeInfo,this.descriptor,this.view)}get width(){var e,n;let r=this.descriptor.size;return r instanceof Array&&r.length>0?(e=r[0])!==null&&e!==void 0?e:0:r instanceof Object&&(n=r.width)!==null&&n!==void 0?n:0}get height(){var e,n;let r=this.descriptor.size;return r instanceof Array&&r.length>1?(e=r[1])!==null&&e!==void 0?e:0:r instanceof Object&&(n=r.height)!==null&&n!==void 0?n:0}get depthOrArrayLayers(){var e,n;let r=this.descriptor.size;return r instanceof Array&&r.length>2?(e=r[2])!==null&&e!==void 0?e:0:r instanceof Object&&(n=r.depthOrArrayLayers)!==null&&n!==void 0?n:0}get format(){var e;return this.descriptor&&(e=this.descriptor.format)!==null&&e!==void 0?e:"rgba8unorm"}get sampleCount(){var e;return this.descriptor&&(e=this.descriptor.sampleCount)!==null&&e!==void 0?e:1}get mipLevelCount(){var e;return this.descriptor&&(e=this.descriptor.mipLevelCount)!==null&&e!==void 0?e:1}get dimension(){var e;return this.descriptor&&(e=this.descriptor.dimension)!==null&&e!==void 0?e:"2d"}getMipLevelSize(e){if(e>=this.mipLevelCount)return[0,0,0];let n=[this.width,this.height,this.depthOrArrayLayers];for(let r=0;r<n.length;++r)n[r]=Math.max(1,n[r]>>e);return n}get texelByteSize(){let e=this.format,n=sd[e];return n?n.isDepthStencil?4:n.bytesPerBlock:0}get bytesPerRow(){return this.width*this.texelByteSize}get isDepthStencil(){let e=this.format,n=sd[e];return!!n&&n.isDepthStencil}getGpuSize(){let e=this.format,n=sd[e],r=this.width;if(!e||r<=0||!n)return-1;let o=this.height,s=this.depthOrArrayLayers,i=this.dimension;return r/n.blockWidth*(i==="1d"?1:o/n.blockHeight)*n.bytesPerBlock*s}getPixel(e,n,r=0,o=0){let s=this.texelByteSize,i=this.bytesPerRow,a=this.height,c=this.data[o];return G3(new Uint8Array(c),e,n,r,o,a,i,s,this.format)}setPixel(e,n,r,o,s){let i=this.texelByteSize,a=this.bytesPerRow,c=this.height,u=this.data[o];(function(l,f,m,d,v,E,S,x,g,y){let A=d*(S>>=v)*(E>>=v)+m*S+f*x;switch(g){case"r8unorm":return void Q(l,A,"8unorm",1,y);case"r8snorm":return void Q(l,A,"8snorm",1,y);case"r8uint":return void Q(l,A,"8uint",1,y);case"r8sint":return void Q(l,A,"8sint",1,y);case"rg8unorm":return void Q(l,A,"8unorm",2,y);case"rg8snorm":return void Q(l,A,"8snorm",2,y);case"rg8uint":return void Q(l,A,"8uint",2,y);case"rg8sint":return void Q(l,A,"8sint",2,y);case"rgba8unorm-srgb":case"rgba8unorm":case"bgra8unorm-srgb":case"bgra8unorm":return void Q(l,A,"8unorm",4,y);case"rgba8snorm":return void Q(l,A,"8snorm",4,y);case"rgba8uint":return void Q(l,A,"8uint",4,y);case"rgba8sint":return void Q(l,A,"8sint",4,y);case"r16uint":return void Q(l,A,"16uint",1,y);case"r16sint":return void Q(l,A,"16sint",1,y);case"r16float":return void Q(l,A,"16float",1,y);case"rg16uint":return void Q(l,A,"16uint",2,y);case"rg16sint":return void Q(l,A,"16sint",2,y);case"rg16float":return void Q(l,A,"16float",2,y);case"rgba16uint":return void Q(l,A,"16uint",4,y);case"rgba16sint":return void Q(l,A,"16sint",4,y);case"rgba16float":return void Q(l,A,"16float",4,y);case"r32uint":return void Q(l,A,"32uint",1,y);case"r32sint":return void Q(l,A,"32sint",1,y);case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return void Q(l,A,"32float",1,y);case"rg32uint":return void Q(l,A,"32uint",2,y);case"rg32sint":return void Q(l,A,"32sint",2,y);case"rg32float":return void Q(l,A,"32float",2,y);case"rgba32uint":return void Q(l,A,"32uint",4,y);case"rgba32sint":return void Q(l,A,"32sint",4,y);case"rgba32float":return void Q(l,A,"32float",4,y);case"rg11b10ufloat":console.error("TODO: rg11b10ufloat not supported for writing")}})(new Uint8Array(u),e,n,r,o,c,a,i,this.format,s)}};(t=>{t[t.token=0]="token",t[t.keyword=1]="keyword",t[t.reserved=2]="reserved"})(_||(_={}));var b=class{constructor(e,n,r){this.name=e,this.type=n,this.rule=r}toString(){return this.name}},h=class{};w=h,h.none=new b("",_.reserved,""),h.eof=new b("EOF",_.token,""),h.reserved={asm:new b("asm",_.reserved,"asm"),bf16:new b("bf16",_.reserved,"bf16"),do:new b("do",_.reserved,"do"),enum:new b("enum",_.reserved,"enum"),f16:new b("f16",_.reserved,"f16"),f64:new b("f64",_.reserved,"f64"),handle:new b("handle",_.reserved,"handle"),i8:new b("i8",_.reserved,"i8"),i16:new b("i16",_.reserved,"i16"),i64:new b("i64",_.reserved,"i64"),mat:new b("mat",_.reserved,"mat"),premerge:new b("premerge",_.reserved,"premerge"),regardless:new b("regardless",_.reserved,"regardless"),typedef:new b("typedef",_.reserved,"typedef"),u8:new b("u8",_.reserved,"u8"),u16:new b("u16",_.reserved,"u16"),u64:new b("u64",_.reserved,"u64"),unless:new b("unless",_.reserved,"unless"),using:new b("using",_.reserved,"using"),vec:new b("vec",_.reserved,"vec"),void:new b("void",_.reserved,"void")},h.keywords={array:new b("array",_.keyword,"array"),atomic:new b("atomic",_.keyword,"atomic"),bool:new b("bool",_.keyword,"bool"),f32:new b("f32",_.keyword,"f32"),i32:new b("i32",_.keyword,"i32"),mat2x2:new b("mat2x2",_.keyword,"mat2x2"),mat2x3:new b("mat2x3",_.keyword,"mat2x3"),mat2x4:new b("mat2x4",_.keyword,"mat2x4"),mat3x2:new b("mat3x2",_.keyword,"mat3x2"),mat3x3:new b("mat3x3",_.keyword,"mat3x3"),mat3x4:new b("mat3x4",_.keyword,"mat3x4"),mat4x2:new b("mat4x2",_.keyword,"mat4x2"),mat4x3:new b("mat4x3",_.keyword,"mat4x3"),mat4x4:new b("mat4x4",_.keyword,"mat4x4"),ptr:new b("ptr",_.keyword,"ptr"),sampler:new b("sampler",_.keyword,"sampler"),sampler_comparison:new b("sampler_comparison",_.keyword,"sampler_comparison"),struct:new b("struct",_.keyword,"struct"),texture_1d:new b("texture_1d",_.keyword,"texture_1d"),texture_2d:new b("texture_2d",_.keyword,"texture_2d"),texture_2d_array:new b("texture_2d_array",_.keyword,"texture_2d_array"),texture_3d:new b("texture_3d",_.keyword,"texture_3d"),texture_cube:new b("texture_cube",_.keyword,"texture_cube"),texture_cube_array:new b("texture_cube_array",_.keyword,"texture_cube_array"),texture_multisampled_2d:new b("texture_multisampled_2d",_.keyword,"texture_multisampled_2d"),texture_storage_1d:new b("texture_storage_1d",_.keyword,"texture_storage_1d"),texture_storage_2d:new b("texture_storage_2d",_.keyword,"texture_storage_2d"),texture_storage_2d_array:new b("texture_storage_2d_array",_.keyword,"texture_storage_2d_array"),texture_storage_3d:new b("texture_storage_3d",_.keyword,"texture_storage_3d"),texture_depth_2d:new b("texture_depth_2d",_.keyword,"texture_depth_2d"),texture_depth_2d_array:new b("texture_depth_2d_array",_.keyword,"texture_depth_2d_array"),texture_depth_cube:new b("texture_depth_cube",_.keyword,"texture_depth_cube"),texture_depth_cube_array:new b("texture_depth_cube_array",_.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new b("texture_depth_multisampled_2d",_.keyword,"texture_depth_multisampled_2d"),texture_external:new b("texture_external",_.keyword,"texture_external"),u32:new b("u32",_.keyword,"u32"),vec2:new b("vec2",_.keyword,"vec2"),vec3:new b("vec3",_.keyword,"vec3"),vec4:new b("vec4",_.keyword,"vec4"),bitcast:new b("bitcast",_.keyword,"bitcast"),block:new b("block",_.keyword,"block"),break:new b("break",_.keyword,"break"),case:new b("case",_.keyword,"case"),continue:new b("continue",_.keyword,"continue"),continuing:new b("continuing",_.keyword,"continuing"),default:new b("default",_.keyword,"default"),diagnostic:new b("diagnostic",_.keyword,"diagnostic"),discard:new b("discard",_.keyword,"discard"),else:new b("else",_.keyword,"else"),enable:new b("enable",_.keyword,"enable"),fallthrough:new b("fallthrough",_.keyword,"fallthrough"),false:new b("false",_.keyword,"false"),fn:new b("fn",_.keyword,"fn"),for:new b("for",_.keyword,"for"),function:new b("function",_.keyword,"function"),if:new b("if",_.keyword,"if"),let:new b("let",_.keyword,"let"),const:new b("const",_.keyword,"const"),loop:new b("loop",_.keyword,"loop"),while:new b("while",_.keyword,"while"),private:new b("private",_.keyword,"private"),read:new b("read",_.keyword,"read"),read_write:new b("read_write",_.keyword,"read_write"),return:new b("return",_.keyword,"return"),requires:new b("requires",_.keyword,"requires"),storage:new b("storage",_.keyword,"storage"),switch:new b("switch",_.keyword,"switch"),true:new b("true",_.keyword,"true"),alias:new b("alias",_.keyword,"alias"),type:new b("type",_.keyword,"type"),uniform:new b("uniform",_.keyword,"uniform"),var:new b("var",_.keyword,"var"),override:new b("override",_.keyword,"override"),workgroup:new b("workgroup",_.keyword,"workgroup"),write:new b("write",_.keyword,"write"),r8unorm:new b("r8unorm",_.keyword,"r8unorm"),r8snorm:new b("r8snorm",_.keyword,"r8snorm"),r8uint:new b("r8uint",_.keyword,"r8uint"),r8sint:new b("r8sint",_.keyword,"r8sint"),r16uint:new b("r16uint",_.keyword,"r16uint"),r16sint:new b("r16sint",_.keyword,"r16sint"),r16float:new b("r16float",_.keyword,"r16float"),rg8unorm:new b("rg8unorm",_.keyword,"rg8unorm"),rg8snorm:new b("rg8snorm",_.keyword,"rg8snorm"),rg8uint:new b("rg8uint",_.keyword,"rg8uint"),rg8sint:new b("rg8sint",_.keyword,"rg8sint"),r32uint:new b("r32uint",_.keyword,"r32uint"),r32sint:new b("r32sint",_.keyword,"r32sint"),r32float:new b("r32float",_.keyword,"r32float"),rg16uint:new b("rg16uint",_.keyword,"rg16uint"),rg16sint:new b("rg16sint",_.keyword,"rg16sint"),rg16float:new b("rg16float",_.keyword,"rg16float"),rgba8unorm:new b("rgba8unorm",_.keyword,"rgba8unorm"),rgba8unorm_srgb:new b("rgba8unorm_srgb",_.keyword,"rgba8unorm_srgb"),rgba8snorm:new b("rgba8snorm",_.keyword,"rgba8snorm"),rgba8uint:new b("rgba8uint",_.keyword,"rgba8uint"),rgba8sint:new b("rgba8sint",_.keyword,"rgba8sint"),bgra8unorm:new b("bgra8unorm",_.keyword,"bgra8unorm"),bgra8unorm_srgb:new b("bgra8unorm_srgb",_.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new b("rgb10a2unorm",_.keyword,"rgb10a2unorm"),rg11b10float:new b("rg11b10float",_.keyword,"rg11b10float"),rg32uint:new b("rg32uint",_.keyword,"rg32uint"),rg32sint:new b("rg32sint",_.keyword,"rg32sint"),rg32float:new b("rg32float",_.keyword,"rg32float"),rgba16uint:new b("rgba16uint",_.keyword,"rgba16uint"),rgba16sint:new b("rgba16sint",_.keyword,"rgba16sint"),rgba16float:new b("rgba16float",_.keyword,"rgba16float"),rgba32uint:new b("rgba32uint",_.keyword,"rgba32uint"),rgba32sint:new b("rgba32sint",_.keyword,"rgba32sint"),rgba32float:new b("rgba32float",_.keyword,"rgba32float"),static_assert:new b("static_assert",_.keyword,"static_assert")},h.tokens={decimal_float_literal:new b("decimal_float_literal",_.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?[fh]?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+[fh]?)|(-?[0-9]+[fh])/),hex_float_literal:new b("hex_float_literal",_.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+[fh]?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+[fh]?))/),int_literal:new b("int_literal",_.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new b("uint_literal",_.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),name:new b("name",_.token,/([_\p{XID_Start}][\p{XID_Continue}]+)|([\p{XID_Start}])/u),ident:new b("ident",_.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new b("and",_.token,"&"),and_and:new b("and_and",_.token,"&&"),arrow:new b("arrow ",_.token,"->"),attr:new b("attr",_.token,"@"),forward_slash:new b("forward_slash",_.token,"/"),bang:new b("bang",_.token,"!"),bracket_left:new b("bracket_left",_.token,"["),bracket_right:new b("bracket_right",_.token,"]"),brace_left:new b("brace_left",_.token,"{"),brace_right:new b("brace_right",_.token,"}"),colon:new b("colon",_.token,":"),comma:new b("comma",_.token,","),equal:new b("equal",_.token,"="),equal_equal:new b("equal_equal",_.token,"=="),not_equal:new b("not_equal",_.token,"!="),greater_than:new b("greater_than",_.token,">"),greater_than_equal:new b("greater_than_equal",_.token,">="),shift_right:new b("shift_right",_.token,">>"),less_than:new b("less_than",_.token,"<"),less_than_equal:new b("less_than_equal",_.token,"<="),shift_left:new b("shift_left",_.token,"<<"),modulo:new b("modulo",_.token,"%"),minus:new b("minus",_.token,"-"),minus_minus:new b("minus_minus",_.token,"--"),period:new b("period",_.token,"."),plus:new b("plus",_.token,"+"),plus_plus:new b("plus_plus",_.token,"++"),or:new b("or",_.token,"|"),or_or:new b("or_or",_.token,"||"),paren_left:new b("paren_left",_.token,"("),paren_right:new b("paren_right",_.token,")"),semicolon:new b("semicolon",_.token,";"),star:new b("star",_.token,"*"),tilde:new b("tilde",_.token,"~"),underscore:new b("underscore",_.token,"_"),xor:new b("xor",_.token,"^"),plus_equal:new b("plus_equal",_.token,"+="),minus_equal:new b("minus_equal",_.token,"-="),times_equal:new b("times_equal",_.token,"*="),division_equal:new b("division_equal",_.token,"/="),modulo_equal:new b("modulo_equal",_.token,"%="),and_equal:new b("and_equal",_.token,"&="),or_equal:new b("or_equal",_.token,"|="),xor_equal:new b("xor_equal",_.token,"^="),shift_right_equal:new b("shift_right_equal",_.token,">>="),shift_left_equal:new b("shift_left_equal",_.token,"<<=")},h.simpleTokens={"@":w.tokens.attr,"{":w.tokens.brace_left,"}":w.tokens.brace_right,":":w.tokens.colon,",":w.tokens.comma,"(":w.tokens.paren_left,")":w.tokens.paren_right,";":w.tokens.semicolon},h.literalTokens={"&":w.tokens.and,"&&":w.tokens.and_and,"->":w.tokens.arrow,"/":w.tokens.forward_slash,"!":w.tokens.bang,"[":w.tokens.bracket_left,"]":w.tokens.bracket_right,"=":w.tokens.equal,"==":w.tokens.equal_equal,"!=":w.tokens.not_equal,">":w.tokens.greater_than,">=":w.tokens.greater_than_equal,">>":w.tokens.shift_right,"<":w.tokens.less_than,"<=":w.tokens.less_than_equal,"<<":w.tokens.shift_left,"%":w.tokens.modulo,"-":w.tokens.minus,"--":w.tokens.minus_minus,".":w.tokens.period,"+":w.tokens.plus,"++":w.tokens.plus_plus,"|":w.tokens.or,"||":w.tokens.or_or,"*":w.tokens.star,"~":w.tokens.tilde,_:w.tokens.underscore,"^":w.tokens.xor,"+=":w.tokens.plus_equal,"-=":w.tokens.minus_equal,"*=":w.tokens.times_equal,"/=":w.tokens.division_equal,"%=":w.tokens.modulo_equal,"&=":w.tokens.and_equal,"|=":w.tokens.or_equal,"^=":w.tokens.xor_equal,">>=":w.tokens.shift_right_equal,"<<=":w.tokens.shift_left_equal},h.regexTokens={decimal_float_literal:w.tokens.decimal_float_literal,hex_float_literal:w.tokens.hex_float_literal,int_literal:w.tokens.int_literal,uint_literal:w.tokens.uint_literal,ident:w.tokens.ident},h.storage_class=[w.keywords.function,w.keywords.private,w.keywords.workgroup,w.keywords.uniform,w.keywords.storage],h.access_mode=[w.keywords.read,w.keywords.write,w.keywords.read_write],h.sampler_type=[w.keywords.sampler,w.keywords.sampler_comparison],h.sampled_texture_type=[w.keywords.texture_1d,w.keywords.texture_2d,w.keywords.texture_2d_array,w.keywords.texture_3d,w.keywords.texture_cube,w.keywords.texture_cube_array],h.multisampled_texture_type=[w.keywords.texture_multisampled_2d],h.storage_texture_type=[w.keywords.texture_storage_1d,w.keywords.texture_storage_2d,w.keywords.texture_storage_2d_array,w.keywords.texture_storage_3d],h.depth_texture_type=[w.keywords.texture_depth_2d,w.keywords.texture_depth_2d_array,w.keywords.texture_depth_cube,w.keywords.texture_depth_cube_array,w.keywords.texture_depth_multisampled_2d],h.texture_external_type=[w.keywords.texture_external],h.any_texture_type=[...w.sampled_texture_type,...w.multisampled_texture_type,...w.storage_texture_type,...w.depth_texture_type,...w.texture_external_type],h.texel_format=[w.keywords.r8unorm,w.keywords.r8snorm,w.keywords.r8uint,w.keywords.r8sint,w.keywords.r16uint,w.keywords.r16sint,w.keywords.r16float,w.keywords.rg8unorm,w.keywords.rg8snorm,w.keywords.rg8uint,w.keywords.rg8sint,w.keywords.r32uint,w.keywords.r32sint,w.keywords.r32float,w.keywords.rg16uint,w.keywords.rg16sint,w.keywords.rg16float,w.keywords.rgba8unorm,w.keywords.rgba8unorm_srgb,w.keywords.rgba8snorm,w.keywords.rgba8uint,w.keywords.rgba8sint,w.keywords.bgra8unorm,w.keywords.bgra8unorm_srgb,w.keywords.rgb10a2unorm,w.keywords.rg11b10float,w.keywords.rg32uint,w.keywords.rg32sint,w.keywords.rg32float,w.keywords.rgba16uint,w.keywords.rgba16sint,w.keywords.rgba16float,w.keywords.rgba32uint,w.keywords.rgba32sint,w.keywords.rgba32float],h.const_literal=[w.tokens.int_literal,w.tokens.uint_literal,w.tokens.decimal_float_literal,w.tokens.hex_float_literal,w.keywords.true,w.keywords.false],h.literal_or_ident=[w.tokens.ident,w.tokens.int_literal,w.tokens.uint_literal,w.tokens.decimal_float_literal,w.tokens.hex_float_literal,w.tokens.name],h.element_count_expression=[w.tokens.int_literal,w.tokens.uint_literal,w.tokens.ident],h.template_types=[w.keywords.vec2,w.keywords.vec3,w.keywords.vec4,w.keywords.mat2x2,w.keywords.mat2x3,w.keywords.mat2x4,w.keywords.mat3x2,w.keywords.mat3x3,w.keywords.mat3x4,w.keywords.mat4x2,w.keywords.mat4x3,w.keywords.mat4x4,w.keywords.atomic,w.keywords.bitcast,...w.any_texture_type],h.attribute_name=[w.tokens.ident,w.keywords.block,w.keywords.diagnostic],h.assignment_operators=[w.tokens.equal,w.tokens.plus_equal,w.tokens.minus_equal,w.tokens.times_equal,w.tokens.division_equal,w.tokens.modulo_equal,w.tokens.and_equal,w.tokens.or_equal,w.tokens.xor_equal,w.tokens.shift_right_equal,w.tokens.shift_left_equal],h.increment_operators=[w.tokens.plus_plus,w.tokens.minus_minus];var gu=class{constructor(e,n,r,o,s){this.type=e,this.lexeme=n,this.line=r,this.start=o,this.end=s}toString(){return this.lexeme}isTemplateType(){return h.template_types.indexOf(this.type)!=-1}isArrayType(){return this.type==h.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}},gd=class{constructor(e){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=e??""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new gu(h.eof,"",this._line,this._current,this._current)),this._tokens}scanToken(){let e=this._advance();if(e==`
`)return this._line++,!0;if(this._isWhitespace(e))return!0;if(e=="/"){if(this._peekAhead()=="/"){for(;e!=`
`;){if(this._isAtEnd())return!0;e=this._advance()}return this._line++,!0}if(this._peekAhead()=="*"){this._advance();let i=1;for(;i>0;){if(this._isAtEnd())return!0;if(e=this._advance(),e==`
`)this._line++;else if(e=="*"){if(this._peekAhead()=="/"&&(this._advance(),i--,i==0))return!0}else e=="/"&&this._peekAhead()=="*"&&(this._advance(),i++)}return!0}}let n=h.simpleTokens[e];if(n)return this._addToken(n),!0;let r=h.none,o=this._isAlpha(e),s=e==="_";if(this._isAlphaNumeric(e)){let i=this._peekAhead();for(;this._isAlphaNumeric(i);)e+=this._advance(),i=this._peekAhead()}if(o){let i=h.keywords[e];if(i)return this._addToken(i),!0}if(o||s)return this._addToken(h.tokens.ident),!0;for(;;){let i=this._findType(e),a=this._peekAhead();if(e=="-"&&this._tokens.length>0){if(a=="=")return this._current++,e+=a,this._addToken(h.tokens.minus_equal),!0;if(a=="-")return this._current++,e+=a,this._addToken(h.tokens.minus_minus),!0;let c=this._tokens.length-1;if((h.literal_or_ident.indexOf(this._tokens[c].type)!=-1||this._tokens[c].type==h.tokens.paren_right)&&a!=">")return this._addToken(i),!0}if(e==">"&&(a==">"||a=="=")){let c=!1,u=this._tokens.length-1;for(let l=0;l<5&&u>=0&&h.assignment_operators.indexOf(this._tokens[u].type)===-1;++l,--u)if(this._tokens[u].type===h.tokens.less_than){u>0&&this._tokens[u-1].isArrayOrTemplateType()&&(c=!0);break}if(c)return this._addToken(i),!0}if(i===h.none){let c=e,u=0,l=2;for(let f=0;f<l;++f)if(c+=this._peekAhead(f),i=this._findType(c),i!==h.none){u=f;break}if(i===h.none)return r!==h.none&&(this._current--,this._addToken(r),!0);e=c,this._current+=u+1}if(r=i,this._isAtEnd())break;e+=this._advance()}return r!==h.none&&(this._addToken(r),!0)}_findType(e){for(let r in h.regexTokens){let o=h.regexTokens[r];if(this._match(e,o.rule))return o}return h.literalTokens[e]||h.none}_match(e,n){let r=n.exec(e);return r&&r.index==0&&r[0]==e}_isAtEnd(){return this._current>=this._source.length}_isAlpha(e){return!this._isNumeric(e)&&!this._isWhitespace(e)&&e!=="_"&&e!=="."&&e!=="("&&e!==")"&&e!=="["&&e!=="]"&&e!=="{"&&e!=="}"&&e!==","&&e!==";"&&e!==":"&&e!=="="&&e!=="!"&&e!=="<"&&e!==">"&&e!=="+"&&e!=="-"&&e!=="*"&&e!=="/"&&e!=="%"&&e!=="&"&&e!=="|"&&e!=="^"&&e!=="~"&&e!=="@"&&e!=="#"&&e!=="?"&&e!=="'"&&e!=="`"&&e!=='"'&&e!=="\\"&&e!==`
`&&e!=="\r"&&e!=="	"&&e!=="\0"}_isNumeric(e){return e>="0"&&e<="9"}_isAlphaNumeric(e){return this._isAlpha(e)||this._isNumeric(e)||e==="_"}_isWhitespace(e){return e==" "||e=="	"||e=="\r"}_advance(e=0){let n=this._source[this._current];return e=e||0,e++,this._current+=e,n}_peekAhead(e=0){return e=e||0,this._current+e>=this._source.length?"\0":this._source[this._current+e]}_addToken(e){let n=this._source.substring(this._start,this._current);this._tokens.push(new gu(e,n,this._line,this._start,this._current))}};function R(t){return Array.isArray(t)||t?.buffer instanceof ArrayBuffer}var Au=new Float32Array(1),L3=new Uint32Array(Au.buffer),F3=new Uint32Array(Au.buffer),vu=new Int32Array(1),N3=new Float32Array(vu.buffer),z3=new Uint32Array(vu.buffer),bu=new Uint32Array(1),H3=new Float32Array(bu.buffer),P3=new Int32Array(bu.buffer);function v1(t,e,n){if(e===n)return t;if(e==="f32"){if(n==="i32"||n==="x32")return Au[0]=t,L3[0];if(n==="u32")return Au[0]=t,F3[0]}else if(e==="i32"||e==="x32"){if(n==="f32")return vu[0]=t,N3[0];if(n==="u32")return vu[0]=t,z3[0]}else if(e==="u32"){if(n==="f32")return bu[0]=t,H3[0];if(n==="i32"||n==="x32")return bu[0]=t,P3[0]}return console.error(`Unsupported cast from ${e} to ${n}`),t}var Ad=class{constructor(e){this.resources=null,this.inUse=!1,this.info=null,this.node=e}},Zo=class{constructor(e,n){this.align=e,this.size=n}},Fr=class t{constructor(){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new md,this.functions=[],this._types=new Map,this._functions=new Map}_isStorageTexture(e){return e.name=="texture_storage_1d"||e.name=="texture_storage_2d"||e.name=="texture_storage_2d_array"||e.name=="texture_storage_3d"}updateAST(e){for(let n of e)n instanceof Nr&&this._functions.set(n.name,new Ad(n));for(let n of e)if(n instanceof kt){let r=this.getTypeInfo(n,null);r instanceof jt&&this.structs.push(r)}for(let n of e)if(n instanceof Hi)this.aliases.push(this._getAliasInfo(n));else{if(n instanceof Ni){let r=n,o=this._getAttributeNum(r.attributes,"id",0),s=r.type!=null?this.getTypeInfo(r.type,r.attributes):null;this.overrides.push(new ud(r.name,s,r.attributes,o));continue}if(this._isUniformVar(n)){let r=n,o=this._getAttributeNum(r.attributes,"group",0),s=this._getAttributeNum(r.attributes,"binding",0),i=this.getTypeInfo(r.type,r.attributes),a=new Wo(r.name,i,o,s,r.attributes,or.Uniform,r.access);a.access||(a.access="read"),this.uniforms.push(a);continue}if(this._isStorageVar(n)){let r=n,o=this._getAttributeNum(r.attributes,"group",0),s=this._getAttributeNum(r.attributes,"binding",0),i=this.getTypeInfo(r.type,r.attributes),a=this._isStorageTexture(i),c=new Wo(r.name,i,o,s,r.attributes,a?or.StorageTexture:or.Storage,r.access);c.access||(c.access="read"),this.storage.push(c);continue}if(this._isTextureVar(n)){let r=n,o=this._getAttributeNum(r.attributes,"group",0),s=this._getAttributeNum(r.attributes,"binding",0),i=this.getTypeInfo(r.type,r.attributes),a=this._isStorageTexture(i),c=new Wo(r.name,i,o,s,r.attributes,a?or.StorageTexture:or.Texture,r.access);c.access||(c.access="read"),a?this.storage.push(c):this.textures.push(c);continue}if(this._isSamplerVar(n)){let r=n,o=this._getAttributeNum(r.attributes,"group",0),s=this._getAttributeNum(r.attributes,"binding",0),i=this.getTypeInfo(r.type,r.attributes),a=new Wo(r.name,i,o,s,r.attributes,or.Sampler,r.access);this.samplers.push(a);continue}}for(let n of e)if(n instanceof Nr){let r=this._getAttribute(n,"vertex"),o=this._getAttribute(n,"fragment"),s=this._getAttribute(n,"compute"),i=r||o||s,a=new fd(n.name,i?.name,n.attributes);a.attributes=n.attributes,a.startLine=n.startLine,a.endLine=n.endLine,this.functions.push(a),this._functions.get(n.name).info=a,i&&(this._functions.get(n.name).inUse=!0,a.inUse=!0,a.resources=this._findResources(n,!!i),a.inputs=this._getInputs(n.args),a.outputs=this._getOutputs(n.returnType),this.entry[i.name].push(a)),a.arguments=n.args.map(c=>new ld(c.name,this.getTypeInfo(c.type,c.attributes),c.attributes)),a.returnType=n.returnType?this.getTypeInfo(n.returnType,n.attributes):null;continue}for(let n of this._functions.values())n.info&&(n.info.inUse=n.inUse,this._addCalls(n.node,n.info.calls));for(let n of this._functions.values())n.node.search(r=>{var o,s,i;if(r instanceof xu){if(r.value)if(R(r.value))for(let a of r.value)for(let c of this.overrides)a===c.name&&((o=n.info)===null||o===void 0||o.overrides.push(c));else for(let a of this.overrides)r.value===a.name&&((s=n.info)===null||s===void 0||s.overrides.push(a))}else if(r instanceof He)for(let a of this.overrides)r.name===a.name&&((i=n.info)===null||i===void 0||i.overrides.push(a))});for(let n of this.uniforms)this._markStructsInUse(n.type);for(let n of this.storage)this._markStructsInUse(n.type)}getFunctionInfo(e){for(let n of this.functions)if(n.name==e)return n;return null}getStructInfo(e){for(let n of this.structs)if(n.name==e)return n;return null}getOverrideInfo(e){for(let n of this.overrides)if(n.name==e)return n;return null}_markStructsInUse(e){if(e)if(e.isStruct){if(e.inUse=!0,e.members)for(let n of e.members)this._markStructsInUse(n.type)}else if(e.isArray)this._markStructsInUse(e.format);else if(e.isTemplate)e.format&&this._markStructsInUse(e.format);else{let n=this._getAlias(e.name);n&&this._markStructsInUse(n)}}_addCalls(e,n){var r;for(let o of e.calls){let s=(r=this._functions.get(o.name))===null||r===void 0?void 0:r.info;s&&n.add(s)}}findResource(e,n,r){if(r){for(let o of this.entry.compute)if(o.name===r){for(let s of o.resources)if(s.group==e&&s.binding==n)return s}for(let o of this.entry.vertex)if(o.name===r){for(let s of o.resources)if(s.group==e&&s.binding==n)return s}for(let o of this.entry.fragment)if(o.name===r){for(let s of o.resources)if(s.group==e&&s.binding==n)return s}}for(let o of this.uniforms)if(o.group==e&&o.binding==n)return o;for(let o of this.storage)if(o.group==e&&o.binding==n)return o;for(let o of this.textures)if(o.group==e&&o.binding==n)return o;for(let o of this.samplers)if(o.group==e&&o.binding==n)return o;return null}_findResource(e){for(let n of this.uniforms)if(n.name==e)return n;for(let n of this.storage)if(n.name==e)return n;for(let n of this.textures)if(n.name==e)return n;for(let n of this.samplers)if(n.name==e)return n;return null}_markStructsFromAST(e){let n=this.getTypeInfo(e,null);this._markStructsInUse(n)}_findResources(e,n){let r=[],o=this,s=[];return e.search(i=>{if(i instanceof os)s.push({});else if(i instanceof ss)s.pop();else if(i instanceof Ot){let a=i;n&&a.type!==null&&this._markStructsFromAST(a.type),s.length>0&&(s[s.length-1][a.name]=a)}else if(i instanceof Et){let a=i;n&&a.type!==null&&this._markStructsFromAST(a.type)}else if(i instanceof Ur){let a=i;n&&a.type!==null&&this._markStructsFromAST(a.type),s.length>0&&(s[s.length-1][a.name]=a)}else if(i instanceof He){let a=i;if(s.length>0&&s[s.length-1][a.name])return;let c=o._findResource(a.name);c&&r.push(c)}else if(i instanceof Pi){let a=i,c=o._functions.get(a.name);c&&(n&&(c.inUse=!0),e.calls.add(c.node),c.resources===null&&(c.resources=o._findResources(c.node,n)),r.push(...c.resources))}else if(i instanceof zi){let a=i,c=o._functions.get(a.name);c&&(n&&(c.inUse=!0),e.calls.add(c.node),c.resources===null&&(c.resources=o._findResources(c.node,n)),r.push(...c.resources))}}),[...new Map(r.map(i=>[i.name,i])).values()]}getBindGroups(){let e=[];function n(r,o){r>=e.length&&(e.length=r+1),e[r]===void 0&&(e[r]=[]),o>=e[r].length&&(e[r].length=o+1)}for(let r of this.uniforms)n(r.group,r.binding),e[r.group][r.binding]=r;for(let r of this.storage)n(r.group,r.binding),e[r.group][r.binding]=r;for(let r of this.textures)n(r.group,r.binding),e[r.group][r.binding]=r;for(let r of this.samplers)n(r.group,r.binding),e[r.group][r.binding]=r;return e}_getOutputs(e,n=void 0){if(n===void 0&&(n=[]),e instanceof kt)this._getStructOutputs(e,n);else{let r=this._getOutputInfo(e);r!==null&&n.push(r)}return n}_getStructOutputs(e,n){for(let r of e.members)if(r.type instanceof kt)this._getStructOutputs(r.type,n);else{let o=this._getAttribute(r,"location")||this._getAttribute(r,"builtin");if(o!==null){let s=this.getTypeInfo(r.type,r.type.attributes),i=this._parseInt(o.value),a=new qc(r.name,s,o.name,i);n.push(a)}}}_getOutputInfo(e){let n=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(n!==null){let r=this.getTypeInfo(e,e.attributes),o=this._parseInt(n.value);return new qc("",r,n.name,o)}return null}_getInputs(e,n=void 0){n===void 0&&(n=[]);for(let r of e)if(r.type instanceof kt)this._getStructInputs(r.type,n);else{let o=this._getInputInfo(r);o!==null&&n.push(o)}return n}_getStructInputs(e,n){for(let r of e.members)if(r.type instanceof kt)this._getStructInputs(r.type,n);else{let o=this._getInputInfo(r);o!==null&&n.push(o)}}_getInputInfo(e){let n=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(n!==null){let r=this._getAttribute(e,"interpolation"),o=this.getTypeInfo(e.type,e.attributes),s=this._parseInt(n.value),i=new cd(e.name,o,n.name,s);return r!==null&&(i.interpolation=this._parseString(r.value)),i}return null}_parseString(e){return e instanceof Array&&(e=e[0]),e}_parseInt(e){e instanceof Array&&(e=e[0]);let n=parseInt(e);return isNaN(n)?e:n}_getAlias(e){for(let n of this.aliases)if(n.name==e)return n.type;return null}_getAliasInfo(e){return new ad(e.name,this.getTypeInfo(e.type,null))}getTypeInfoByName(e){for(let n of this.structs)if(n.name==e)return n;for(let n of this.aliases)if(n.name==e)return n.type;return null}getTypeInfo(e,n=null){if(this._types.has(e))return this._types.get(e);if(e instanceof ts){let o=e.type?this.getTypeInfo(e.type,e.attributes):null,s=new Li(e.name,o,n);return this._types.set(e,s),this._updateTypeInfo(s),s}if(e instanceof Lr){let o=e,s=o.format?this.getTypeInfo(o.format,o.attributes):null,i=new Xt(o.name,n);return i.format=s,i.count=o.count,this._types.set(e,i),this._updateTypeInfo(i),i}if(e instanceof kt){let o=e,s=new jt(o.name,n);s.startLine=o.startLine,s.endLine=o.endLine;for(let i of o.members){let a=this.getTypeInfo(i.type,i.attributes);s.members.push(new Qc(i.name,a,i.attributes))}return this._types.set(e,s),this._updateTypeInfo(s),s}if(e instanceof Gr){let o=e,s=o.format instanceof M,i=o.format?s?this.getTypeInfo(o.format,null):new $e(o.format,null):null,a=new En(o.name,i,n,o.access);return this._types.set(e,a),this._updateTypeInfo(a),a}if(e instanceof B){let o=e,s=o.format?this.getTypeInfo(o.format,null):null,i=new En(o.name,s,n,o.access);return this._types.set(e,i),this._updateTypeInfo(i),i}let r=new $e(e.name,n);return this._types.set(e,r),this._updateTypeInfo(r),r}_updateTypeInfo(e){var n,r,o;let s=this._getTypeSize(e);if(e.size=(n=s?.size)!==null&&n!==void 0?n:0,e instanceof Xt&&e.format){let i=this._getTypeSize(e.format);e.stride=Math.max((r=i?.size)!==null&&r!==void 0?r:0,(o=i?.align)!==null&&o!==void 0?o:0),this._updateTypeInfo(e.format)}e instanceof Li&&this._updateTypeInfo(e.format),e instanceof jt&&this._updateStructInfo(e)}_updateStructInfo(e){var n;let r=0,o=0,s=0,i=0;for(let a=0,c=e.members.length;a<c;++a){let u=e.members[a],l=this._getTypeSize(u);if(!l)continue;(n=this._getAlias(u.type.name))!==null&&n!==void 0||u.type;let f=l.align,m=l.size;r=this._roundUp(f,r+o),o=m,s=r,i=Math.max(i,f),u.offset=r,u.size=m,this._updateTypeInfo(u.type)}e.size=this._roundUp(i,s+o),e.align=i}_getTypeSize(e){var n,r;if(e==null)return null;let o=this._getAttributeNum(e.attributes,"size",0),s=this._getAttributeNum(e.attributes,"align",0);if(e instanceof Qc&&(e=e.type),e instanceof $e){let i=this._getAlias(e.name);i!==null&&(e=i)}{let i=t._typeInfo[e.name];if(i!==void 0){let a=((n=e.format)===null||n===void 0?void 0:n.name)==="f16"?2:1;return new Zo(Math.max(s,i.align/a),Math.max(o,i.size/a))}}{let i=t._typeInfo[e.name.substring(0,e.name.length-1)];if(i){let a=e.name[e.name.length-1]==="h"?2:1;return new Zo(Math.max(s,i.align/a),Math.max(o,i.size/a))}}if(e instanceof Xt){let i=e,a=8,c=8,u=this._getTypeSize(i.format);return u!==null&&(c=u.size,a=u.align),c=i.count*this._getAttributeNum((r=e?.attributes)!==null&&r!==void 0?r:null,"stride",this._roundUp(a,c)),o&&(c=o),new Zo(Math.max(s,a),Math.max(o,c))}if(e instanceof jt){let i=0,a=0,c=0,u=0,l=0;for(let f of e.members){let m=this._getTypeSize(f.type);m!==null&&(i=Math.max(m.align,i),c=this._roundUp(m.align,c+u),u=m.size,l=c)}return a=this._roundUp(i,l+u),new Zo(Math.max(s,i),Math.max(o,a))}return null}_isUniformVar(e){return e instanceof Ot&&e.storage=="uniform"}_isStorageVar(e){return e instanceof Ot&&e.storage=="storage"}_isTextureVar(e){return e instanceof Ot&&e.type!==null&&t._textureTypes.indexOf(e.type.name)!=-1}_isSamplerVar(e){return e instanceof Ot&&e.type!==null&&t._samplerTypes.indexOf(e.type.name)!=-1}_getAttribute(e,n){let r=e;if(!r||!r.attributes)return null;let o=r.attributes;for(let s of o)if(s.name==n)return s;return null}_getAttributeNum(e,n,r){if(e===null)return r;for(let o of e)if(o.name==n){let s=o!==null&&o.value!==null?o.value:r;return s instanceof Array&&(s=s[0]),typeof s=="number"?s:typeof s=="string"?parseInt(s):r}return r}_roundUp(e,n){return Math.ceil(n/e)*e}};Fr._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},Fr._textureTypes=h.any_texture_type.map(t=>t.name),Fr._samplerTypes=h.sampler_type.map(t=>t.name);var Cd=0,vd=class t{constructor(e,n,r){this.id=Cd++,this.name=e,this.value=n,this.node=r}clone(){return new t(this.name,this.value,this.node)}},bd=class t{constructor(e){this.id=Cd++,this.name=e.name,this.node=e}clone(){return new t(this.node)}},_d=class t{constructor(e){this.parent=null,this.variables=new Map,this.functions=new Map,this.currentFunctionName="",this.id=Cd++,e&&(this.parent=e,this.currentFunctionName=e.currentFunctionName)}getVariable(e){var n;return this.variables.has(e)?(n=this.variables.get(e))!==null&&n!==void 0?n:null:this.parent?this.parent.getVariable(e):null}getFunction(e){var n;return this.functions.has(e)?(n=this.functions.get(e))!==null&&n!==void 0?n:null:this.parent?this.parent.getFunction(e):null}createVariable(e,n,r){this.variables.set(e,new vd(e,n,r??null))}setVariable(e,n,r){let o=this.getVariable(e);o!==null?o.value=n:this.createVariable(e,n,r)}getVariableValue(e){var n;let r=this.getVariable(e);return(n=r?.value)!==null&&n!==void 0?n:null}clone(){return new t(this)}},Td=class{evalExpression(e,n){return null}getTypeInfo(e){return null}getVariableName(e,n){return""}},Bd=class{constructor(e){this.exec=e}getTypeInfo(e){return this.exec.getTypeInfo(e)}All(e,n){let r=this.exec.evalExpression(e.args[0],n),o=!0;if(r instanceof p)return r.data.forEach(s=>{s||(o=!1)}),new T(o?1:0,this.getTypeInfo("bool"));throw new Error(`All() expects a vector argument. Line ${e.line}`)}Any(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p){let o=r.data.some(s=>s);return new T(o?1:0,this.getTypeInfo("bool"))}throw new Error(`Any() expects a vector argument. Line ${e.line}`)}Select(e,n){let r=this.exec.evalExpression(e.args[2],n);if(!(r instanceof T))throw new Error(`Select() expects a bool condition. Line ${e.line}`);return r.value?this.exec.evalExpression(e.args[1],n):this.exec.evalExpression(e.args[0],n)}ArrayLength(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.evalExpression(r,n);if(o instanceof ve&&o.typeInfo.size===0){let s=o.typeInfo,i=o.buffer.byteLength/s.stride;return new T(i,this.getTypeInfo("u32"))}return new T(o.typeInfo.size,this.getTypeInfo("u32"))}Abs(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.abs(s)),r.typeInfo);let o=r;return new T(Math.abs(o.value),o.typeInfo)}Acos(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.acos(s)),r.typeInfo);let o=r;return new T(Math.acos(o.value),r.typeInfo)}Acosh(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.acosh(s)),r.typeInfo);let o=r;return new T(Math.acosh(o.value),r.typeInfo)}Asin(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.asin(s)),r.typeInfo);let o=r;return new T(Math.asin(o.value),r.typeInfo)}Asinh(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.asinh(s)),r.typeInfo);let o=r;return new T(Math.asinh(o.value),r.typeInfo)}Atan(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.atan(s)),r.typeInfo);let o=r;return new T(Math.atan(o.value),r.typeInfo)}Atanh(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.atanh(s)),r.typeInfo);let o=r;return new T(Math.atanh(o.value),r.typeInfo)}Atan2(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(r instanceof p&&o instanceof p)return new p(r.data.map((a,c)=>Math.atan2(a,o.data[c])),r.typeInfo);let s=r,i=o;return new T(Math.atan2(s.value,i.value),r.typeInfo)}Ceil(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.ceil(s)),r.typeInfo);let o=r;return new T(Math.ceil(o.value),r.typeInfo)}_clamp(e,n,r){return Math.min(Math.max(e,n),r)}Clamp(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n),s=this.exec.evalExpression(e.args[2],n);if(r instanceof p&&o instanceof p&&s instanceof p)return new p(r.data.map((u,l)=>this._clamp(u,o.data[l],s.data[l])),r.typeInfo);let i=r,a=o,c=s;return new T(this._clamp(i.value,a.value,c.value),r.typeInfo)}Cos(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.cos(s)),r.typeInfo);let o=r;return new T(Math.cos(o.value),r.typeInfo)}Cosh(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.cosh(s)),r.typeInfo);let o=r;return new T(Math.cos(o.value),r.typeInfo)}CountLeadingZeros(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.clz32(s)),r.typeInfo);let o=r;return new T(Math.clz32(o.value),r.typeInfo)}_countOneBits(e){let n=0;for(;e!==0;)1&e&&n++,e>>=1;return n}CountOneBits(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>this._countOneBits(s)),r.typeInfo);let o=r;return new T(this._countOneBits(o.value),r.typeInfo)}_countTrailingZeros(e){if(e===0)return 32;let n=0;for(;!(1&e);)e>>=1,n++;return n}CountTrailingZeros(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>this._countTrailingZeros(s)),r.typeInfo);let o=r;return new T(this._countTrailingZeros(o.value),r.typeInfo)}Cross(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(r instanceof p&&o instanceof p){if(r.data.length!==3||o.data.length!==3)return console.error(`Cross() expects 3D vectors. Line ${e.line}`),null;let s=r.data,i=o.data;return new p([s[1]*i[2]-i[1]*s[2],s[2]*i[0]-i[2]*s[0],s[0]*i[1]-i[0]*s[1]],r.typeInfo)}return console.error(`Cross() expects vector arguments. Line ${e.line}`),null}Degrees(e,n){let r=this.exec.evalExpression(e.args[0],n),o=180/Math.PI;return r instanceof p?new p(r.data.map(s=>s*o),r.typeInfo):new T(r.value*o,this.getTypeInfo("f32"))}Determinant(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof U){let o=r.data,s=r.typeInfo.getTypeName(),i=s.endsWith("h")?this.getTypeInfo("f16"):this.getTypeInfo("f32");if(s==="mat2x2"||s==="mat2x2f"||s==="mat2x2h")return new T(o[0]*o[3]-o[1]*o[2],i);if(s==="mat2x3"||s==="mat2x3f"||s==="mat2x3h")return new T(o[0]*(o[4]*o[8]-o[5]*o[7])-o[1]*(o[3]*o[8]-o[5]*o[6])+o[2]*(o[3]*o[7]-o[4]*o[6]),i);if(s==="mat2x4"||s==="mat2x4f"||s==="mat2x4h")console.error(`TODO: Determinant for ${s}`);else if(s==="mat3x2"||s==="mat3x2f"||s==="mat3x2h")console.error(`TODO: Determinant for ${s}`);else{if(s==="mat3x3"||s==="mat3x3f"||s==="mat3x3h")return new T(o[0]*(o[4]*o[8]-o[5]*o[7])-o[1]*(o[3]*o[8]-o[5]*o[6])+o[2]*(o[3]*o[7]-o[4]*o[6]),i);s==="mat3x4"||s==="mat3x4f"||s==="mat3x4h"||s==="mat4x2"||s==="mat4x2f"||s==="mat4x2h"||s==="mat4x3"||s==="mat4x3f"||s==="mat4x3h"?console.error(`TODO: Determinant for ${s}`):s!=="mat4x4"&&s!=="mat4x4f"&&s!=="mat4x4h"||console.error(`TODO: Determinant for ${s}`)}}return console.error(`Determinant expects a matrix argument. Line ${e.line}`),null}Distance(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(r instanceof p&&o instanceof p){let a=0;for(let c=0;c<r.data.length;++c)a+=(r.data[c]-o.data[c])*(r.data[c]-o.data[c]);return new T(Math.sqrt(a),this.getTypeInfo("f32"))}let s=r,i=o;return new T(Math.abs(s.value-i.value),r.typeInfo)}_dot(e,n){let r=0;for(let o=0;o<e.length;++o)r+=n[o]*e[o];return r}Dot(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);return r instanceof p&&o instanceof p?new T(this._dot(r.data,o.data),this.getTypeInfo("f32")):(console.error(`Dot() expects vector arguments. Line ${e.line}`),null)}Dot4U8Packed(e,n){return console.error(`TODO: dot4U8Packed. Line ${e.line}`),null}Dot4I8Packed(e,n){return console.error(`TODO: dot4I8Packed. Line ${e.line}`),null}Exp(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.exp(s)),r.typeInfo);let o=r;return new T(Math.exp(o.value),r.typeInfo)}Exp2(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.pow(2,s)),r.typeInfo);let o=r;return new T(Math.pow(2,o.value),r.typeInfo)}ExtractBits(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n),s=this.exec.evalExpression(e.args[2],n);if(o.typeInfo.name!=="u32"&&o.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 offset argument. Line ${e.line}`),null;if(s.typeInfo.name!=="u32"&&s.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 count argument. Line ${e.line}`),null;let i=o.value,a=s.value;if(r instanceof p)return new p(r.data.map(u=>u>>i&(1<<a)-1),r.typeInfo);if(r.typeInfo.name!=="i32"&&r.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 argument. Line ${e.line}`),null;let c=r.value;return new T(c>>i&(1<<a)-1,this.getTypeInfo("i32"))}FaceForward(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n),s=this.exec.evalExpression(e.args[2],n);if(r instanceof p&&o instanceof p&&s instanceof p){let i=this._dot(o.data,s.data);return new p(i<0?Array.from(r.data):r.data.map(a=>-a),r.typeInfo)}return console.error(`FaceForward() expects vector arguments. Line ${e.line}`),null}_firstLeadingBit(e){return e===0?-1:31-Math.clz32(e)}FirstLeadingBit(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>this._firstLeadingBit(s)),r.typeInfo);let o=r;return new T(this._firstLeadingBit(o.value),r.typeInfo)}_firstTrailingBit(e){return e===0?-1:Math.log2(e&-e)}FirstTrailingBit(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>this._firstTrailingBit(s)),r.typeInfo);let o=r;return new T(this._firstTrailingBit(o.value),r.typeInfo)}Floor(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.floor(s)),r.typeInfo);let o=r;return new T(Math.floor(o.value),r.typeInfo)}Fma(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n),s=this.exec.evalExpression(e.args[2],n);if(r instanceof p&&o instanceof p&&s instanceof p)return r.data.length!==o.data.length||r.data.length!==s.data.length?(console.error(`Fma() expects vectors of the same length. Line ${e.line}`),null):new p(r.data.map((u,l)=>u*o.data[l]+s.data[l]),r.typeInfo);let i=r,a=o,c=s;return new T(i.value*a.value+c.value,i.typeInfo)}Fract(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>s-Math.floor(s)),r.typeInfo);let o=r;return new T(o.value-Math.floor(o.value),r.typeInfo)}Frexp(e,n){return console.error(`TODO: frexp. Line ${e.line}`),null}InsertBits(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n),s=this.exec.evalExpression(e.args[2],n),i=this.exec.evalExpression(e.args[3],n);if(s.typeInfo.name!=="u32"&&s.typeInfo.name!=="x32")return console.error(`InsertBits() expects an i32 offset argument. Line ${e.line}`),null;let a=s.value,c=(1<<i.value)-1<<a,u=~c;if(r instanceof p&&o instanceof p)return new p(r.data.map((m,d)=>m&u|o.data[d]<<a&c),r.typeInfo);let l=r.value,f=o.value;return new T(l&u|f<<a&c,r.typeInfo)}InverseSqrt(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>1/Math.sqrt(s)),r.typeInfo);let o=r;return new T(1/Math.sqrt(o.value),r.typeInfo)}Ldexp(e,n){return console.error(`TODO: ldexp. Line ${e.line}`),null}Length(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p){let s=0;return r.data.forEach(i=>{s+=i*i}),new T(Math.sqrt(s),this.getTypeInfo("f32"))}let o=r;return new T(Math.abs(o.value),r.typeInfo)}Log(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.log(s)),r.typeInfo);let o=r;return new T(Math.log(o.value),r.typeInfo)}Log2(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.log2(s)),r.typeInfo);let o=r;return new T(Math.log2(o.value),r.typeInfo)}Max(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(r instanceof p&&o instanceof p)return new p(r.data.map((a,c)=>Math.max(a,o.data[c])),r.typeInfo);let s=r,i=o;return new T(Math.max(s.value,i.value),r.typeInfo)}Min(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(r instanceof p&&o instanceof p)return new p(r.data.map((a,c)=>Math.min(a,o.data[c])),r.typeInfo);let s=r,i=o;return new T(Math.min(s.value,i.value),r.typeInfo)}Mix(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n),s=this.exec.evalExpression(e.args[2],n);if(r instanceof p&&o instanceof p&&s instanceof p)return new p(r.data.map((c,u)=>r.data[u]*(1-s.data[u])+o.data[u]*s.data[u]),r.typeInfo);let i=o,a=s;return new T(r.value*(1-a.value)+i.value*a.value,r.typeInfo)}Modf(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(r instanceof p&&o instanceof p)return new p(r.data.map((i,a)=>i%o.data[a]),r.typeInfo);let s=o;return new T(r.value%s.value,r.typeInfo)}Normalize(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p){let o=this.Length(e,n).value;return new p(r.data.map(s=>s/o),r.typeInfo)}return console.error(`Normalize() expects a vector argument. Line ${e.line}`),null}Pow(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(r instanceof p&&o instanceof p)return new p(r.data.map((a,c)=>Math.pow(a,o.data[c])),r.typeInfo);let s=r,i=o;return new T(Math.pow(s.value,i.value),r.typeInfo)}QuantizeToF16(e,n){let r=this.exec.evalExpression(e.args[0],n);return r instanceof p?new p(r.data.map(o=>o),r.typeInfo):new T(r.value,r.typeInfo)}Radians(e,n){let r=this.exec.evalExpression(e.args[0],n);return r instanceof p?new p(r.data.map(o=>o*Math.PI/180),r.typeInfo):new T(r.value*Math.PI/180,this.getTypeInfo("f32"))}Reflect(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(r instanceof p&&o instanceof p){let s=this._dot(r.data,o.data);return new p(r.data.map((i,a)=>i-2*s*o.data[a]),r.typeInfo)}return console.error(`Reflect() expects vector arguments. Line ${e.line}`),null}Refract(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n),s=this.exec.evalExpression(e.args[2],n);if(r instanceof p&&o instanceof p&&s instanceof T){let i=this._dot(o.data,r.data);return new p(r.data.map((a,c)=>{let u=1-s.value*s.value*(1-i*i);if(u<0)return 0;let l=Math.sqrt(u);return s.value*a-(s.value*i+l)*o.data[c]}),r.typeInfo)}return console.error(`Refract() expects vector arguments and a scalar argument. Line ${e.line}`),null}ReverseBits(e,n){return console.error(`TODO: reverseBits. Line ${e.line}`),null}Round(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.round(s)),r.typeInfo);let o=r;return new T(Math.round(o.value),r.typeInfo)}Saturate(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.min(Math.max(s,0),1)),r.typeInfo);let o=r;return new T(Math.min(Math.max(o.value,0),1),r.typeInfo)}Sign(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.sign(s)),r.typeInfo);let o=r;return new T(Math.sign(o.value),r.typeInfo)}Sin(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.sin(s)),r.typeInfo);let o=r;return new T(Math.sin(o.value),r.typeInfo)}Sinh(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.sinh(s)),r.typeInfo);let o=r;return new T(Math.sinh(o.value),r.typeInfo)}_smoothstep(e,n,r){let o=Math.min(Math.max((r-e)/(n-e),0),1);return o*o*(3-2*o)}SmoothStep(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n),s=this.exec.evalExpression(e.args[2],n);if(s instanceof p&&r instanceof p&&o instanceof p)return new p(s.data.map((u,l)=>this._smoothstep(r.data[l],o.data[l],u)),s.typeInfo);let i=r,a=o,c=s;return new T(this._smoothstep(i.value,a.value,c.value),s.typeInfo)}Sqrt(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.sqrt(s)),r.typeInfo);let o=r;return new T(Math.sqrt(o.value),r.typeInfo)}Step(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(o instanceof p&&r instanceof p)return new p(o.data.map((i,a)=>i<r.data[a]?0:1),o.typeInfo);let s=r;return new T(o.value<s.value?0:1,s.typeInfo)}Tan(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.tan(s)),r.typeInfo);let o=r;return new T(Math.tan(o.value),r.typeInfo)}Tanh(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.tanh(s)),r.typeInfo);let o=r;return new T(Math.tanh(o.value),r.typeInfo)}_getTransposeType(e){let n=e.getTypeName();return n==="mat2x2f"||n==="mat2x2h"?e:n==="mat2x3f"?this.getTypeInfo("mat3x2f"):n==="mat2x3h"?this.getTypeInfo("mat3x2h"):n==="mat2x4f"?this.getTypeInfo("mat4x2f"):n==="mat2x4h"?this.getTypeInfo("mat4x2h"):n==="mat3x2f"?this.getTypeInfo("mat2x3f"):n==="mat3x2h"?this.getTypeInfo("mat2x3h"):n==="mat3x3f"||n==="mat3x3h"?e:n==="mat3x4f"?this.getTypeInfo("mat4x3f"):n==="mat3x4h"?this.getTypeInfo("mat4x3h"):n==="mat4x2f"?this.getTypeInfo("mat2x4f"):n==="mat4x2h"?this.getTypeInfo("mat2x4h"):n==="mat4x3f"?this.getTypeInfo("mat3x4f"):n==="mat4x3h"?this.getTypeInfo("mat3x4h"):(n==="mat4x4f"||n==="mat4x4h"||console.error(`Invalid matrix type ${n}`),e)}Transpose(e,n){let r=this.exec.evalExpression(e.args[0],n);if(!(r instanceof U))return console.error(`Transpose() expects a matrix argument. Line ${e.line}`),null;let o=this._getTransposeType(r.typeInfo);if(r.typeInfo.name==="mat2x2"||r.typeInfo.name==="mat2x2f"||r.typeInfo.name==="mat2x2h"){let s=r.data;return new U([s[0],s[2],s[1],s[3]],o)}if(r.typeInfo.name==="mat2x3"||r.typeInfo.name==="mat2x3f"||r.typeInfo.name==="mat2x3h"){let s=r.data;return new U([s[0],s[3],s[6],s[1],s[4],s[7]],o)}if(r.typeInfo.name==="mat2x4"||r.typeInfo.name==="mat2x4f"||r.typeInfo.name==="mat2x4h"){let s=r.data;return new U([s[0],s[4],s[8],s[12],s[1],s[5],s[9],s[13]],o)}if(r.typeInfo.name==="mat3x2"||r.typeInfo.name==="mat3x2f"||r.typeInfo.name==="mat3x2h"){let s=r.data;return new U([s[0],s[3],s[1],s[4],s[2],s[5]],o)}if(r.typeInfo.name==="mat3x3"||r.typeInfo.name==="mat3x3f"||r.typeInfo.name==="mat3x3h"){let s=r.data;return new U([s[0],s[3],s[6],s[1],s[4],s[7],s[2],s[5],s[8]],o)}if(r.typeInfo.name==="mat3x4"||r.typeInfo.name==="mat3x4f"||r.typeInfo.name==="mat3x4h"){let s=r.data;return new U([s[0],s[4],s[8],s[12],s[1],s[5],s[9],s[13],s[2],s[6],s[10],s[14]],o)}if(r.typeInfo.name==="mat4x2"||r.typeInfo.name==="mat4x2f"||r.typeInfo.name==="mat4x2h"){let s=r.data;return new U([s[0],s[4],s[1],s[5],s[2],s[6]],o)}if(r.typeInfo.name==="mat4x3"||r.typeInfo.name==="mat4x3f"||r.typeInfo.name==="mat4x3h"){let s=r.data;return new U([s[0],s[4],s[8],s[1],s[5],s[9],s[2],s[6],s[10]],o)}if(r.typeInfo.name==="mat4x4"||r.typeInfo.name==="mat4x4f"||r.typeInfo.name==="mat4x4h"){let s=r.data;return new U([s[0],s[4],s[8],s[12],s[1],s[5],s[9],s[13],s[2],s[6],s[10],s[14],s[3],s[7],s[11],s[15]],o)}return console.error(`Invalid matrix type ${r.typeInfo.name}`),null}Trunc(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.trunc(s)),r.typeInfo);let o=r;return new T(Math.trunc(o.value),r.typeInfo)}Dpdx(e,n){return console.error(`TODO: dpdx. Line ${e.line}`),null}DpdxCoarse(e,n){return console.error(`TODO: dpdxCoarse. Line ${e.line}`),null}DpdxFine(e,n){return console.error("TODO: dpdxFine"),null}Dpdy(e,n){return console.error("TODO: dpdy"),null}DpdyCoarse(e,n){return console.error("TODO: dpdyCoarse"),null}DpdyFine(e,n){return console.error("TODO: dpdyFine"),null}Fwidth(e,n){return console.error("TODO: fwidth"),null}FwidthCoarse(e,n){return console.error("TODO: fwidthCoarse"),null}FwidthFine(e,n){return console.error("TODO: fwidthFine"),null}TextureDimensions(e,n){let r=e.args[0],o=e.args.length>1?this.exec.evalExpression(e.args[1],n).value:0;if(r instanceof He){let s=r.name,i=n.getVariableValue(s);if(i instanceof wn){if(o<0||o>=i.mipLevelCount)return console.error(`Invalid mip level for textureDimensions. Line ${e.line}`),null;let a=i.getMipLevelSize(o),c=i.dimension;return c==="1d"?new T(a[0],this.getTypeInfo("u32")):c==="3d"?new p(a,this.getTypeInfo("vec3u")):c==="2d"?new p(a.slice(0,2),this.getTypeInfo("vec2u")):(console.error(`Invalid texture dimension ${c} not found. Line ${e.line}`),null)}return console.error(`Texture ${s} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureDimensions. Line ${e.line}`),null}TextureGather(e,n){return console.error("TODO: textureGather"),null}TextureGatherCompare(e,n){return console.error("TODO: textureGatherCompare"),null}TextureLoad(e,n){let r=e.args[0],o=this.exec.evalExpression(e.args[1],n),s=e.args.length>2?this.exec.evalExpression(e.args[2],n).value:0;if(!(o instanceof p)||o.data.length!==2)return console.error(`Invalid UV argument for textureLoad. Line ${e.line}`),null;if(r instanceof He){let i=r.name,a=n.getVariableValue(i);if(a instanceof wn){let c=Math.floor(o.data[0]),u=Math.floor(o.data[1]);if(c<0||c>=a.width||u<0||u>=a.height)return console.error(`Texture ${i} out of bounds. Line ${e.line}`),null;let l=a.getPixel(c,u,0,s);return l===null?(console.error(`Invalid texture format for textureLoad. Line ${e.line}`),null):new p(l,this.getTypeInfo("vec4f"))}return console.error(`Texture ${i} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureLoad. Line ${e.line}`),null}TextureNumLayers(e,n){let r=e.args[0];if(r instanceof He){let o=r.name,s=n.getVariableValue(o);return s instanceof wn?new T(s.depthOrArrayLayers,this.getTypeInfo("u32")):(console.error(`Texture ${o} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLayers. Line ${e.line}`),null}TextureNumLevels(e,n){let r=e.args[0];if(r instanceof He){let o=r.name,s=n.getVariableValue(o);return s instanceof wn?new T(s.mipLevelCount,this.getTypeInfo("u32")):(console.error(`Texture ${o} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLevels. Line ${e.line}`),null}TextureNumSamples(e,n){let r=e.args[0];if(r instanceof He){let o=r.name,s=n.getVariableValue(o);return s instanceof wn?new T(s.sampleCount,this.getTypeInfo("u32")):(console.error(`Texture ${o} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumSamples. Line ${e.line}`),null}TextureSample(e,n){return console.error("TODO: textureSample"),null}TextureSampleBias(e,n){return console.error("TODO: textureSampleBias"),null}TextureSampleCompare(e,n){return console.error("TODO: textureSampleCompare"),null}TextureSampleCompareLevel(e,n){return console.error("TODO: textureSampleCompareLevel"),null}TextureSampleGrad(e,n){return console.error("TODO: textureSampleGrad"),null}TextureSampleLevel(e,n){return console.error("TODO: textureSampleLevel"),null}TextureSampleBaseClampToEdge(e,n){return console.error("TODO: textureSampleBaseClampToEdge"),null}TextureStore(e,n){let r=e.args[0],o=this.exec.evalExpression(e.args[1],n),s=e.args.length===4?this.exec.evalExpression(e.args[2],n).value:0,i=e.args.length===4?this.exec.evalExpression(e.args[3],n).data:this.exec.evalExpression(e.args[2],n).data;if(i.length!==4)return console.error(`Invalid value argument for textureStore. Line ${e.line}`),null;if(!(o instanceof p)||o.data.length!==2)return console.error(`Invalid UV argument for textureStore. Line ${e.line}`),null;if(r instanceof He){let a=r.name,c=n.getVariableValue(a);if(c instanceof wn){let u=c.getMipLevelSize(0),l=Math.floor(o.data[0]),f=Math.floor(o.data[1]);return l<0||l>=u[0]||f<0||f>=u[1]?(console.error(`Texture ${a} out of bounds. Line ${e.line}`),null):(c.setPixel(l,f,0,s,Array.from(i)),null)}return console.error(`Texture ${a} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureStore. Line ${e.line}`),null}AtomicLoad(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n);return n.getVariable(o).value.getSubData(this.exec,r.postfix,n)}AtomicStore(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n);return c instanceof T&&a instanceof T&&(c.value=a.value),s.value instanceof ve&&s.value.setDataValue(this.exec,c,r.postfix,n),null}AtomicAdd(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n),u=new T(c.value,c.typeInfo);return c instanceof T&&a instanceof T&&(c.value+=a.value),s.value instanceof ve&&s.value.setDataValue(this.exec,c,r.postfix,n),u}AtomicSub(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n),u=new T(c.value,c.typeInfo);return c instanceof T&&a instanceof T&&(c.value-=a.value),s.value instanceof ve&&s.value.setDataValue(this.exec,c,r.postfix,n),u}AtomicMax(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n),u=new T(c.value,c.typeInfo);return c instanceof T&&a instanceof T&&(c.value=Math.max(c.value,a.value)),s.value instanceof ve&&s.value.setDataValue(this.exec,c,r.postfix,n),u}AtomicMin(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n),u=new T(c.value,c.typeInfo);return c instanceof T&&a instanceof T&&(c.value=Math.min(c.value,a.value)),s.value instanceof ve&&s.value.setDataValue(this.exec,c,r.postfix,n),u}AtomicAnd(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n),u=new T(c.value,c.typeInfo);return c instanceof T&&a instanceof T&&(c.value=c.value&a.value),s.value instanceof ve&&s.value.setDataValue(this.exec,c,r.postfix,n),u}AtomicOr(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n),u=new T(c.value,c.typeInfo);return c instanceof T&&a instanceof T&&(c.value=c.value|a.value),s.value instanceof ve&&s.value.setDataValue(this.exec,c,r.postfix,n),u}AtomicXor(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n),u=new T(c.value,c.typeInfo);return c instanceof T&&a instanceof T&&(c.value=c.value^a.value),s.value instanceof ve&&s.value.setDataValue(this.exec,c,r.postfix,n),u}AtomicExchange(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n),u=new T(c.value,c.typeInfo);return c instanceof T&&a instanceof T&&(c.value=a.value),s.value instanceof ve&&s.value.setDataValue(this.exec,c,r.postfix,n),u}AtomicCompareExchangeWeak(e,n){return console.error("TODO: atomicCompareExchangeWeak"),null}Pack4x8snorm(e,n){return console.error("TODO: pack4x8snorm"),null}Pack4x8unorm(e,n){return console.error("TODO: pack4x8unorm"),null}Pack4xI8(e,n){return console.error("TODO: pack4xI8"),null}Pack4xU8(e,n){return console.error("TODO: pack4xU8"),null}Pack4x8Clamp(e,n){return console.error("TODO: pack4x8Clamp"),null}Pack4xU8Clamp(e,n){return console.error("TODO: pack4xU8Clamp"),null}Pack2x16snorm(e,n){return console.error("TODO: pack2x16snorm"),null}Pack2x16unorm(e,n){return console.error("TODO: pack2x16unorm"),null}Pack2x16float(e,n){return console.error("TODO: pack2x16float"),null}Unpack4x8snorm(e,n){return console.error("TODO: unpack4x8snorm"),null}Unpack4x8unorm(e,n){return console.error("TODO: unpack4x8unorm"),null}Unpack4xI8(e,n){return console.error("TODO: unpack4xI8"),null}Unpack4xU8(e,n){return console.error("TODO: unpack4xU8"),null}Unpack2x16snorm(e,n){return console.error("TODO: unpack2x16snorm"),null}Unpack2x16unorm(e,n){return console.error("TODO: unpack2x16unorm"),null}Unpack2x16float(e,n){return console.error("TODO: unpack2x16float"),null}StorageBarrier(e,n){return null}TextureBarrier(e,n){return null}WorkgroupBarrier(e,n){return null}WorkgroupUniformLoad(e,n){return null}SubgroupAdd(e,n){return console.error("TODO: subgroupAdd"),null}SubgroupExclusiveAdd(e,n){return console.error("TODO: subgroupExclusiveAdd"),null}SubgroupInclusiveAdd(e,n){return console.error("TODO: subgroupInclusiveAdd"),null}SubgroupAll(e,n){return console.error("TODO: subgroupAll"),null}SubgroupAnd(e,n){return console.error("TODO: subgroupAnd"),null}SubgroupAny(e,n){return console.error("TODO: subgroupAny"),null}SubgroupBallot(e,n){return console.error("TODO: subgroupBallot"),null}SubgroupBroadcast(e,n){return console.error("TODO: subgroupBroadcast"),null}SubgroupBroadcastFirst(e,n){return console.error("TODO: subgroupBroadcastFirst"),null}SubgroupElect(e,n){return console.error("TODO: subgroupElect"),null}SubgroupMax(e,n){return console.error("TODO: subgroupMax"),null}SubgroupMin(e,n){return console.error("TODO: subgroupMin"),null}SubgroupMul(e,n){return console.error("TODO: subgroupMul"),null}SubgroupExclusiveMul(e,n){return console.error("TODO: subgroupExclusiveMul"),null}SubgroupInclusiveMul(e,n){return console.error("TODO: subgroupInclusiveMul"),null}SubgroupOr(e,n){return console.error("TODO: subgroupOr"),null}SubgroupShuffle(e,n){return console.error("TODO: subgroupShuffle"),null}SubgroupShuffleDown(e,n){return console.error("TODO: subgroupShuffleDown"),null}SubgroupShuffleUp(e,n){return console.error("TODO: subgroupShuffleUp"),null}SubgroupShuffleXor(e,n){return console.error("TODO: subgroupShuffleXor"),null}SubgroupXor(e,n){return console.error("TODO: subgroupXor"),null}QuadBroadcast(e,n){return console.error("TODO: quadBroadcast"),null}QuadSwapDiagonal(e,n){return console.error("TODO: quadSwapDiagonal"),null}QuadSwapX(e,n){return console.error("TODO: quadSwapX"),null}QuadSwapY(e,n){return console.error("TODO: quadSwapY"),null}},id={vec2:2,vec2f:2,vec2i:2,vec2u:2,vec2b:2,vec2h:2,vec3:3,vec3f:3,vec3i:3,vec3u:3,vec3b:3,vec3h:3,vec4:4,vec4f:4,vec4i:4,vec4u:4,vec4b:4,vec4h:4},ze={mat2x2:[2,2,4],mat2x2f:[2,2,4],mat2x2h:[2,2,4],mat2x3:[2,3,6],mat2x3f:[2,3,6],mat2x3h:[2,3,6],mat2x4:[2,4,8],mat2x4f:[2,4,8],mat2x4h:[2,4,8],mat3x2:[3,2,6],mat3x2f:[3,2,6],mat3x2h:[3,2,6],mat3x3:[3,3,9],mat3x3f:[3,3,9],mat3x3h:[3,3,9],mat3x4:[3,4,12],mat3x4f:[3,4,12],mat3x4h:[3,4,12],mat4x2:[4,2,8],mat4x2f:[4,2,8],mat4x2h:[4,2,8],mat4x3:[4,3,12],mat4x3f:[4,3,12],mat4x3h:[4,3,12],mat4x4:[4,4,16],mat4x4f:[4,4,16],mat4x4h:[4,4,16]},rs=class t extends Td{constructor(e,n){var r;super(),this.ast=e??[],this.reflection=new Fr,this.reflection.updateAST(this.ast),this.context=(r=n?.clone())!==null&&r!==void 0?r:new _d,this.builtins=new Bd(this),this.typeInfo={bool:this.getTypeInfo(M.bool),i32:this.getTypeInfo(M.i32),u32:this.getTypeInfo(M.u32),f32:this.getTypeInfo(M.f32),f16:this.getTypeInfo(M.f16),vec2f:this.getTypeInfo(B.vec2f),vec2u:this.getTypeInfo(B.vec2u),vec2i:this.getTypeInfo(B.vec2i),vec2h:this.getTypeInfo(B.vec2h),vec3f:this.getTypeInfo(B.vec3f),vec3u:this.getTypeInfo(B.vec3u),vec3i:this.getTypeInfo(B.vec3i),vec3h:this.getTypeInfo(B.vec3h),vec4f:this.getTypeInfo(B.vec4f),vec4u:this.getTypeInfo(B.vec4u),vec4i:this.getTypeInfo(B.vec4i),vec4h:this.getTypeInfo(B.vec4h),mat2x2f:this.getTypeInfo(B.mat2x2f),mat2x3f:this.getTypeInfo(B.mat2x3f),mat2x4f:this.getTypeInfo(B.mat2x4f),mat3x2f:this.getTypeInfo(B.mat3x2f),mat3x3f:this.getTypeInfo(B.mat3x3f),mat3x4f:this.getTypeInfo(B.mat3x4f),mat4x2f:this.getTypeInfo(B.mat4x2f),mat4x3f:this.getTypeInfo(B.mat4x3f),mat4x4f:this.getTypeInfo(B.mat4x4f)}}getVariableValue(e){var n,r;let o=(r=(n=this.context.getVariable(e))===null||n===void 0?void 0:n.value)!==null&&r!==void 0?r:null;if(o===null)return null;if(o instanceof T)return o.value;if(o instanceof p||o instanceof U)return Array.from(o.data);if(o instanceof ve&&o.typeInfo instanceof Xt){if(o.typeInfo.format.name==="u32")return Array.from(new Uint32Array(o.buffer,o.offset,o.typeInfo.count));if(o.typeInfo.format.name==="i32")return Array.from(new Int32Array(o.buffer,o.offset,o.typeInfo.count));if(o.typeInfo.format.name==="f32")return Array.from(new Float32Array(o.buffer,o.offset,o.typeInfo.count))}return console.error(`Unsupported return variable type ${o.typeInfo.name}`),null}execute(e){(e=e??{}).constants&&this._setOverrides(e.constants,this.context),this._execStatements(this.ast,this.context)}dispatchWorkgroups(e,n,r,o){let s=this.context.clone();(o=o??{}).constants&&this._setOverrides(o.constants,s),this._execStatements(this.ast,s);let i=s.getFunction(e);if(!i)return void console.error(`Function ${e} not found`);if(typeof n=="number")n=[n,1,1];else{if(n.length===0)return void console.error("Invalid dispatch count");n.length===1?n=[n[0],1,1]:n.length===2?n=[n[0],n[1],1]:n.length>3&&(n=[n[0],n[1],n[2]])}let a=n[0],c=n[1],u=n[2],l=this.getTypeInfo("vec3u");s.setVariable("@num_workgroups",new p(n,l));let f=this.reflection.getFunctionInfo(e);f===null&&console.error(`Function ${e} not found in reflection data`);for(let m in r)for(let d in r[m]){let v=r[m][d];s.variables.forEach(E=>{var S;let x=E.node;if(x?.attributes){let g=null,y=null;for(let A of x.attributes)A.name==="binding"?g=A.value:A.name==="group"&&(y=A.value);if(d==g&&m==y){let A=!1;for(let V of f.resources)if(V.name===E.name&&V.group===parseInt(m)&&V.binding===parseInt(d)){A=!0;break}if(A)if(v.texture!==void 0&&v.descriptor!==void 0){let V=new wn(v.texture,this.getTypeInfo(x.type),v.descriptor,(S=v.texture.view)!==null&&S!==void 0?S:null);E.value=V}else v.uniform!==void 0?E.value=new ve(v.uniform,this.getTypeInfo(x.type)):E.value=new ve(v,this.getTypeInfo(x.type))}}})}for(let m=0;m<u;++m)for(let d=0;d<c;++d)for(let v=0;v<a;++v)s.setVariable("@workgroup_id",new p([v,d,m],this.getTypeInfo("vec3u"))),this._dispatchWorkgroup(i,[v,d,m],s)}execStatement(e,n){if(e instanceof ou)return this.evalExpression(e.value,n);if(e instanceof iu){if(e.condition){let r=this.evalExpression(e.condition,n);if(!(r instanceof T))throw new Error("Invalid break-if condition");if(!r.value)return null}return t._breakObj}if(e instanceof au)return t._continueObj;if(e instanceof Ur)this._let(e,n);else if(e instanceof Ot)this._var(e,n);else if(e instanceof es)this._const(e,n);else if(e instanceof Nr)this._function(e,n);else{if(e instanceof ru)return this._if(e,n);if(e instanceof nu)return this._switch(e,n);if(e instanceof $c)return this._for(e,n);if(e instanceof Wc)return this._while(e,n);if(e instanceof tu)return this._loop(e,n);if(e instanceof Fi){let r=n.clone();return r.currentFunctionName=n.currentFunctionName,this._execStatements(e.body,r)}if(e instanceof eu)this._assign(e,n);else if(e instanceof Zc)this._increment(e,n);else{if(e instanceof kt)return null;if(e instanceof Ni){let r=e.name;n.getVariable(r)===null&&n.setVariable(r,new T(0,this.getTypeInfo("u32")))}else if(e instanceof zi)this._call(e,n);else{if(e instanceof su||e instanceof Hi)return null;console.error("Invalid statement type.",e,`Line ${e.line}`)}}}return null}evalExpression(e,n){return e instanceof lt?this._evalBinaryOp(e,n):e instanceof pe?this._evalLiteral(e,n):e instanceof He?this._evalVariable(e,n):e instanceof Pi?this._evalCall(e,n):e instanceof Et?this._evalCreate(e,n):e instanceof uu?this._evalConst(e,n):e instanceof lu?this._evalBitcast(e,n):e instanceof me?this._evalUnaryOp(e,n):(console.error("Invalid expression type",e,`Line ${e.line}`),null)}getTypeInfo(e){var n;if(e instanceof M){let o=this.reflection.getTypeInfo(e);if(o!==null)return o}let r=(n=this.typeInfo[e])!==null&&n!==void 0?n:null;return r!==null||(r=this.reflection.getTypeInfoByName(e)),r}_setOverrides(e,n){for(let r in e){let o=e[r],s=this.reflection.getOverrideInfo(r);s!==null?(s.type===null&&(s.type=this.getTypeInfo("u32")),s.type.name==="u32"||s.type.name==="i32"||s.type.name==="f32"||s.type.name==="f16"?n.setVariable(r,new T(o,s.type)):s.type.name==="bool"?n.setVariable(r,new T(o?1:0,s.type)):s.type.name==="vec2"||s.type.name==="vec3"||s.type.name==="vec4"||s.type.name==="vec2f"||s.type.name==="vec3f"||s.type.name==="vec4f"||s.type.name==="vec2i"||s.type.name==="vec3i"||s.type.name==="vec4i"||s.type.name==="vec2u"||s.type.name==="vec3u"||s.type.name==="vec4u"||s.type.name==="vec2h"||s.type.name==="vec3h"||s.type.name==="vec4h"?n.setVariable(r,new p(o,s.type)):console.error(`Invalid constant type for ${r}`)):console.error(`Override ${r} does not exist in the shader.`)}}_dispatchWorkgroup(e,n,r){let o=[1,1,1];for(let l of e.node.attributes)if(l.name==="workgroup_size"){if(l.value.length>0){let f=r.getVariableValue(l.value[0]);o[0]=f instanceof T?f.value:parseInt(l.value[0])}if(l.value.length>1){let f=r.getVariableValue(l.value[1]);o[1]=f instanceof T?f.value:parseInt(l.value[1])}if(l.value.length>2){let f=r.getVariableValue(l.value[2]);o[2]=f instanceof T?f.value:parseInt(l.value[2])}}let s=this.getTypeInfo("vec3u"),i=this.getTypeInfo("u32");r.setVariable("@workgroup_size",new p(o,s));let a=o[0],c=o[1],u=o[2];for(let l=0,f=0;l<u;++l)for(let m=0;m<c;++m)for(let d=0;d<a;++d,++f){let v=[d,m,l],E=[d+n[0]*o[0],m+n[1]*o[1],l+n[2]*o[2]];r.setVariable("@local_invocation_id",new p(v,s)),r.setVariable("@global_invocation_id",new p(E,s)),r.setVariable("@local_invocation_index",new T(f,i)),this._dispatchExec(e,r)}}_dispatchExec(e,n){for(let r of e.node.args)for(let o of r.attributes)if(o.name==="builtin"){let s=`@${o.value}`,i=n.getVariable(s);i!==void 0&&n.variables.set(r.name,i)}this._execStatements(e.node.body,n)}getVariableName(e,n){for(;e instanceof me;)e=e.right;return e instanceof He?e.name:(console.error("Unknown variable type",e,"Line",e.line),null)}_execStatements(e,n){for(let r of e){if(r instanceof Array){let s=n.clone(),i=this._execStatements(r,s);if(i)return i;continue}let o=this.execStatement(r,n);if(o)return o}return null}_call(e,n){let r=n.clone();r.currentFunctionName=e.name;let o=n.getFunction(e.name);if(o){for(let s=0;s<o.node.args.length;++s){let i=o.node.args[s],a=this.evalExpression(e.args[s],r);r.setVariable(i.name,a,i)}this._execStatements(o.node.body,r)}else e.isBuiltin?this._callBuiltinFunction(e,r):this.getTypeInfo(e.name)&&this._evalCreate(e,n)}_increment(e,n){let r=this.getVariableName(e.variable,n),o=n.getVariable(r);o?e.operator==="++"?o.value instanceof T?o.value.value++:console.error(`Variable ${r} is not a scalar. Line ${e.line}`):e.operator==="--"?o.value instanceof T?o.value.value--:console.error(`Variable ${r} is not a scalar. Line ${e.line}`):console.error(`Unknown increment operator ${e.operator}. Line ${e.line}`):console.error(`Variable ${r} not found. Line ${e.line}`)}_getVariableData(e,n){if(e instanceof He){let r=this.getVariableName(e,n),o=n.getVariable(r);return o===null?(console.error(`Variable ${r} not found. Line ${e.line}`),null):o.value.getSubData(this,e.postfix,n)}if(e instanceof me){if(e.operator==="*"){let r=this._getVariableData(e.right,n);return r instanceof sr?r.reference.getSubData(this,e.postfix,n):(console.error(`Variable ${e.right} is not a pointer. Line ${e.line}`),null)}if(e.operator==="&"){let r=this._getVariableData(e.right,n);return new sr(r)}}return null}_assign(e,n){let r=null,o="<var>",s=null;if(e.variable instanceof me){let c=this._getVariableData(e.variable,n),u=this.evalExpression(e.value,n),l=e.operator;if(l==="="){if(c instanceof T||c instanceof p||c instanceof U){if(u instanceof T||u instanceof p||u instanceof U&&c.data.length===u.data.length)return void c.data.set(u.data);console.error(`Invalid assignment. Line ${e.line}`)}else if(c instanceof ve&&u instanceof ve&&c.buffer.byteLength-c.offset>=u.buffer.byteLength-u.offset)return void(c.buffer.byteLength%4==0?new Uint32Array(c.buffer,c.offset,c.typeInfo.size/4).set(new Uint32Array(u.buffer,u.offset,u.typeInfo.size/4)):new Uint8Array(c.buffer,c.offset,c.typeInfo.size).set(new Uint8Array(u.buffer,u.offset,u.typeInfo.size)));return console.error(`Invalid assignment. Line ${e.line}`),null}if(l==="+=")return c instanceof T||c instanceof p||c instanceof U?u instanceof T||u instanceof p||u instanceof U?void c.data.set(u.data.map((f,m)=>c.data[m]+f)):void console.error(`Invalid assignment . Line ${e.line}`):void console.error(`Invalid assignment. Line ${e.line}`);if(l==="-=")return(c instanceof T||c instanceof p||c instanceof U)&&(u instanceof T||u instanceof p||u instanceof U)?void c.data.set(u.data.map((f,m)=>c.data[m]-f)):void console.error(`Invalid assignment. Line ${e.line}`)}if(e.variable instanceof me){if(e.variable.operator==="*"){o=this.getVariableName(e.variable.right,n);let c=n.getVariable(o);if(!(c&&c.value instanceof sr))return void console.error(`Variable ${o} is not a pointer. Line ${e.line}`);r=c.value.reference;let u=e.variable.postfix;if(!u){let l=e.variable.right;for(;l instanceof me;){if(l.postfix){u=l.postfix;break}l=l.right}}u&&(r=r.getSubData(this,u,n))}}else{s=e.variable.postfix,o=this.getVariableName(e.variable,n);let c=n.getVariable(o);if(c===null)return void console.error(`Variable ${o} not found. Line ${e.line}`);r=c.value}if(r instanceof sr&&(r=r.reference),r===null)return void console.error(`Variable ${o} not found. Line ${e.line}`);let i=this.evalExpression(e.value,n),a=e.operator;if(a!=="="){let c=r.getSubData(this,s,n);if(c instanceof p&&i instanceof T){let u=c.data,l=i.value;if(a==="+=")for(let f=0;f<u.length;++f)u[f]+=l;else if(a==="-=")for(let f=0;f<u.length;++f)u[f]-=l;else if(a==="*=")for(let f=0;f<u.length;++f)u[f]*=l;else if(a==="/=")for(let f=0;f<u.length;++f)u[f]/=l;else if(a==="%=")for(let f=0;f<u.length;++f)u[f]%=l;else if(a==="&=")for(let f=0;f<u.length;++f)u[f]&=l;else if(a==="|=")for(let f=0;f<u.length;++f)u[f]|=l;else if(a==="^=")for(let f=0;f<u.length;++f)u[f]^=l;else if(a==="<<=")for(let f=0;f<u.length;++f)u[f]<<=l;else if(a===">>=")for(let f=0;f<u.length;++f)u[f]>>=l;else console.error(`Invalid operator ${a}. Line ${e.line}`)}else if(c instanceof p&&i instanceof p){let u=c.data,l=i.data;if(u.length!==l.length)return void console.error(`Vector length mismatch. Line ${e.line}`);if(a==="+=")for(let f=0;f<u.length;++f)u[f]+=l[f];else if(a==="-=")for(let f=0;f<u.length;++f)u[f]-=l[f];else if(a==="*=")for(let f=0;f<u.length;++f)u[f]*=l[f];else if(a==="/=")for(let f=0;f<u.length;++f)u[f]/=l[f];else if(a==="%=")for(let f=0;f<u.length;++f)u[f]%=l[f];else if(a==="&=")for(let f=0;f<u.length;++f)u[f]&=l[f];else if(a==="|=")for(let f=0;f<u.length;++f)u[f]|=l[f];else if(a==="^=")for(let f=0;f<u.length;++f)u[f]^=l[f];else if(a==="<<=")for(let f=0;f<u.length;++f)u[f]<<=l[f];else if(a===">>=")for(let f=0;f<u.length;++f)u[f]>>=l[f];else console.error(`Invalid operator ${a}. Line ${e.line}`)}else{if(!(c instanceof T&&i instanceof T))return void console.error(`Invalid type for ${e.operator} operator. Line ${e.line}`);a==="+="?c.value+=i.value:a==="-="?c.value-=i.value:a==="*="?c.value*=i.value:a==="/="?c.value/=i.value:a==="%="?c.value%=i.value:a==="&="?c.value&=i.value:a==="|="?c.value|=i.value:a==="^="?c.value^=i.value:a==="<<="?c.value<<=i.value:a===">>="?c.value>>=i.value:console.error(`Invalid operator ${a}. Line ${e.line}`)}return void(r instanceof ve&&r.setDataValue(this,c,s,n))}if(r instanceof ve)r.setDataValue(this,i,s,n);else if(s){if(!(r instanceof p||r instanceof U))return void console.error(`Variable ${o} is not a vector or matrix. Line ${e.line}`);if(s instanceof ir){let c=this.evalExpression(s.index,n).value;if(r instanceof p){if(!(i instanceof T))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[c]=i.value}else{if(!(r instanceof U))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);{let u=this.evalExpression(s.index,n).value;if(u<0)return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);if(!(i instanceof p))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);{let l=r.typeInfo.getTypeName();if(l==="mat2x2"||l==="mat2x2f"||l==="mat2x2h"){if(!(u<2&&i.data.length===2))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[2*u]=i.data[0],r.data[2*u+1]=i.data[1]}else if(l==="mat2x3"||l==="mat2x3f"||l==="mat2x3h"){if(!(u<2&&i.data.length===3))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[3*u]=i.data[0],r.data[3*u+1]=i.data[1],r.data[3*u+2]=i.data[2]}else if(l==="mat2x4"||l==="mat2x4f"||l==="mat2x4h"){if(!(u<2&&i.data.length===4))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[4*u]=i.data[0],r.data[4*u+1]=i.data[1],r.data[4*u+2]=i.data[2],r.data[4*u+3]=i.data[3]}else if(l==="mat3x2"||l==="mat3x2f"||l==="mat3x2h"){if(!(u<3&&i.data.length===2))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[2*u]=i.data[0],r.data[2*u+1]=i.data[1]}else if(l==="mat3x3"||l==="mat3x3f"||l==="mat3x3h"){if(!(u<3&&i.data.length===3))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[3*u]=i.data[0],r.data[3*u+1]=i.data[1],r.data[3*u+2]=i.data[2]}else if(l==="mat3x4"||l==="mat3x4f"||l==="mat3x4h"){if(!(u<3&&i.data.length===4))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[4*u]=i.data[0],r.data[4*u+1]=i.data[1],r.data[4*u+2]=i.data[2],r.data[4*u+3]=i.data[3]}else if(l==="mat4x2"||l==="mat4x2f"||l==="mat4x2h"){if(!(u<4&&i.data.length===2))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[2*u]=i.data[0],r.data[2*u+1]=i.data[1]}else if(l==="mat4x3"||l==="mat4x3f"||l==="mat4x3h"){if(!(u<4&&i.data.length===3))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[3*u]=i.data[0],r.data[3*u+1]=i.data[1],r.data[3*u+2]=i.data[2]}else{if(l!=="mat4x4"&&l!=="mat4x4f"&&l!=="mat4x4h")return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);if(!(u<4&&i.data.length===4))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[4*u]=i.data[0],r.data[4*u+1]=i.data[1],r.data[4*u+2]=i.data[2],r.data[4*u+3]=i.data[3]}}}}}else if(s instanceof Sn){let c=s.value;if(!(r instanceof p))return void console.error(`Invalid assignment to ${c}. Variable ${o} is not a vector. Line ${e.line}`);if(i instanceof T){if(c.length>1)return void console.error(`Invalid assignment to ${c} for variable ${o}. Line ${e.line}`);if(c==="x")r.data[0]=i.value;else if(c==="y"){if(r.data.length<2)return void console.error(`Invalid assignment to ${c} for variable ${o}. Line ${e.line}`);r.data[1]=i.value}else if(c==="z"){if(r.data.length<3)return void console.error(`Invalid assignment to ${c} for variable ${o}. Line ${e.line}`);r.data[2]=i.value}else if(c==="w"){if(r.data.length<4)return void console.error(`Invalid assignment to ${c} for variable ${o}. Line ${e.line}`);r.data[3]=i.value}}else{if(!(i instanceof p))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);if(c.length!==i.data.length)return void console.error(`Invalid assignment to ${c} for variable ${o}. Line ${e.line}`);for(let u=0;u<c.length;++u){let l=c[u];if(l==="x"||l==="r")r.data[0]=i.data[u];else if(l==="y"||l==="g"){if(i.data.length<2)return void console.error(`Invalid assignment to ${l} for variable ${o}. Line ${e.line}`);r.data[1]=i.data[u]}else if(l==="z"||l==="b"){if(i.data.length<3)return void console.error(`Invalid assignment to ${l} for variable ${o}. Line ${e.line}`);r.data[2]=i.data[u]}else{if(l!=="w"&&l!=="a")return void console.error(`Invalid assignment to ${l} for variable ${o}. Line ${e.line}`);if(i.data.length<4)return void console.error(`Invalid assignment to ${l} for variable ${o}. Line ${e.line}`);r.data[3]=i.data[u]}}}}}else r instanceof T&&i instanceof T?r.value=i.value:r instanceof p&&i instanceof p||r instanceof U&&i instanceof U?r.data.set(i.data):console.error(`Invalid assignment to ${o}. Line ${e.line}`)}_function(e,n){let r=new bd(e);n.functions.set(e.name,r)}_const(e,n){let r=null;e.value!==null&&(r=this.evalExpression(e.value,n)),n.createVariable(e.name,r,e)}_let(e,n){let r=null;if(e.value!==null){if(r=this.evalExpression(e.value,n),r===null)return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof me||(r=r.clone())}else{let o=e.type.name;if(o==="f32"||o==="i32"||o==="u32"||o==="bool"||o==="f16"||o==="vec2"||o==="vec3"||o==="vec4"||o==="vec2f"||o==="vec3f"||o==="vec4f"||o==="vec2i"||o==="vec3i"||o==="vec4i"||o==="vec2u"||o==="vec3u"||o==="vec4u"||o==="vec2h"||o==="vec3h"||o==="vec4h"||o==="vec2b"||o==="vec3b"||o==="vec4b"||o==="mat2x2"||o==="mat2x3"||o==="mat2x4"||o==="mat3x2"||o==="mat3x3"||o==="mat3x4"||o==="mat4x2"||o==="mat4x3"||o==="mat4x4"||o==="mat2x2f"||o==="mat2x3f"||o==="mat2x4f"||o==="mat3x2f"||o==="mat3x3f"||o==="mat3x4f"||o==="mat4x2f"||o==="mat4x3f"||o==="mat4x4f"||o==="mat2x2h"||o==="mat2x3h"||o==="mat2x4h"||o==="mat3x2h"||o==="mat3x3h"||o==="mat3x4h"||o==="mat4x2h"||o==="mat4x3h"||o==="mat4x4h"||o==="array"){let s=new Et(e.type,[]);r=this._evalCreate(s,n)}}n.createVariable(e.name,r,e)}_var(e,n){let r=null;if(e.value!==null){if(r=this.evalExpression(e.value,n),r===null)return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof me||(r=r.clone())}else{if(e.type===null)return void console.error(`Variable ${e.name} has no type. Line ${e.line}`);let o=e.type.name;if(o==="f32"||o==="i32"||o==="u32"||o==="bool"||o==="f16"||o==="vec2"||o==="vec3"||o==="vec4"||o==="vec2f"||o==="vec3f"||o==="vec4f"||o==="vec2i"||o==="vec3i"||o==="vec4i"||o==="vec2u"||o==="vec3u"||o==="vec4u"||o==="vec2h"||o==="vec3h"||o==="vec4h"||o==="vec2b"||o==="vec3b"||o==="vec4b"||o==="mat2x2"||o==="mat2x3"||o==="mat2x4"||o==="mat3x2"||o==="mat3x3"||o==="mat3x4"||o==="mat4x2"||o==="mat4x3"||o==="mat4x4"||o==="mat2x2f"||o==="mat2x3f"||o==="mat2x4f"||o==="mat3x2f"||o==="mat3x3f"||o==="mat3x4f"||o==="mat4x2f"||o==="mat4x3f"||o==="mat4x4f"||o==="mat2x2h"||o==="mat2x3h"||o==="mat2x4h"||o==="mat3x2h"||o==="mat3x3h"||o==="mat3x4h"||o==="mat4x2h"||o==="mat4x3h"||o==="mat4x4h"||e.type instanceof Lr||e.type instanceof kt||e.type instanceof B){let s=new Et(e.type,[]);r=this._evalCreate(s,n)}}n.createVariable(e.name,r,e)}_switch(e,n){n=n.clone();let r=this.evalExpression(e.condition,n);if(!(r instanceof T))return console.error(`Invalid if condition. Line ${e.line}`),null;let o=null;for(let s of e.cases)if(s instanceof du)for(let i of s.selectors){if(i instanceof ns){o=s;continue}let a=this.evalExpression(i,n);if(!(a instanceof T))return console.error(`Invalid case selector. Line ${e.line}`),null;if(a.value===r.value)return this._execStatements(s.body,n)}else s instanceof hu&&(o=s);return o?this._execStatements(o.body,n):null}_if(e,n){n=n.clone();let r=this.evalExpression(e.condition,n);if(!(r instanceof T))return console.error(`Invalid if condition. Line ${e.line}`),null;if(r.value)return this._execStatements(e.body,n);for(let o of e.elseif){let s=this.evalExpression(o.condition,n);if(!(s instanceof T))return console.error(`Invalid if condition. Line ${e.line}`),null;if(s.value)return this._execStatements(o.body,n)}return e.else?this._execStatements(e.else,n):null}_getScalarValue(e){return e instanceof T?e.value:(console.error("Expected scalar value.",e),0)}_for(e,n){for(n=n.clone(),this.execStatement(e.init,n);this._getScalarValue(this.evalExpression(e.condition,n));){let r=this._execStatements(e.body,n);if(r===t._breakObj)break;if(r!==null&&r!==t._continueObj)return r;this.execStatement(e.increment,n)}return null}_loop(e,n){for(n=n.clone();;){let r=this._execStatements(e.body,n);if(r===t._breakObj)break;if(r===t._continueObj){if(e.continuing&&this._execStatements(e.continuing.body,n)===t._breakObj)break}else if(r!==null)return r}return null}_while(e,n){for(n=n.clone();this._getScalarValue(this.evalExpression(e.condition,n));){let r=this._execStatements(e.body,n);if(r===t._breakObj)break;if(r!==t._continueObj&&r!==null)return r}return null}_evalBitcast(e,n){let r=this.evalExpression(e.value,n),o=e.type;if(r instanceof T){let s=v1(r.value,r.typeInfo.name,o.name);return new T(s,this.getTypeInfo(o))}if(r instanceof p){let s=r.typeInfo.getTypeName(),i="";if(s.endsWith("f"))i="f32";else if(s.endsWith("i"))i="i32";else if(s.endsWith("u"))i="u32";else if(s.endsWith("b"))i="bool";else{if(!s.endsWith("h"))return console.error(`Unknown vector type ${s}. Line ${e.line}`),null;i="f16"}let a=o.getTypeName(),c="";if(a.endsWith("f"))c="f32";else if(a.endsWith("i"))c="i32";else if(a.endsWith("u"))c="u32";else if(a.endsWith("b"))c="bool";else{if(!a.endsWith("h"))return console.error(`Unknown vector type ${c}. Line ${e.line}`),null;c="f16"}let u=(function(l,f,m){if(f===m)return l;let d=new Array(l.length);for(let v=0;v<l.length;v++)d[v]=v1(l[v],f,m);return d})(Array.from(r.data),i,c);return new p(u,this.getTypeInfo(o))}return console.error(`TODO: bitcast for ${r.typeInfo.name}. Line ${e.line}`),null}_evalConst(e,n){return n.getVariableValue(e.name).clone().getSubData(this,e.postfix,n)}_evalCreate(e,n){var r;if(e instanceof Et){if(e.type===null)return Ki.void;switch(e.type.getTypeName()){case"bool":case"i32":case"u32":case"f32":case"f16":return this._callConstructorValue(e,n);case"vec2":case"vec3":case"vec4":case"vec2f":case"vec3f":case"vec4f":case"vec2h":case"vec3h":case"vec4h":case"vec2i":case"vec3i":case"vec4i":case"vec2u":case"vec3u":case"vec4u":case"vec2b":case"vec3b":case"vec4b":return this._callConstructorVec(e,n);case"mat2x2":case"mat2x2f":case"mat2x2h":case"mat2x3":case"mat2x3f":case"mat2x3h":case"mat2x4":case"mat2x4f":case"mat2x4h":case"mat3x2":case"mat3x2f":case"mat3x2h":case"mat3x3":case"mat3x3f":case"mat3x3h":case"mat3x4":case"mat3x4f":case"mat3x4h":case"mat4x2":case"mat4x2f":case"mat4x2h":case"mat4x3":case"mat4x3f":case"mat4x3h":case"mat4x4":case"mat4x4f":case"mat4x4h":return this._callConstructorMatrix(e,n)}}let o=e instanceof Et?e.type.name:e.name,s=e instanceof Et?this.getTypeInfo(e.type):this.getTypeInfo(e.name);if(s===null)return console.error(`Unknown type ${o}. Line ${e.line}`),null;if(s.size===0)return null;let i=new ve(new ArrayBuffer(s.size),s,0);if(s instanceof jt){if(e.args)for(let a=0;a<e.args.length;++a){let c=s.members[a],u=e.args[a],l=this.evalExpression(u,n);i.setData(this,l,c.type,c.offset,n)}}else if(s instanceof Xt){let a=0;if(e.args)for(let c=0;c<e.args.length;++c){let u=e.args[c],l=this.evalExpression(u,n);s.format===null&&(((r=l.typeInfo)===null||r===void 0?void 0:r.name)==="x32"?s.format=this.getTypeInfo("i32"):s.format=l.typeInfo),i.setData(this,l,s.format,a,n),a+=s.stride}}else console.error(`Unknown type "${o}". Line ${e.line}`);return e instanceof Et?i.getSubData(this,e.postfix,n):i}_evalLiteral(e,n){let r=this.getTypeInfo(e.type),o=r.name;return o==="x32"||o==="u32"||o==="f32"||o==="f16"||o==="i32"||o==="bool"?new T(e.scalarValue,r):o==="vec2"||o==="vec3"||o==="vec4"||o==="vec2f"||o==="vec3f"||o==="vec4f"||o==="vec2h"||o==="vec3h"||o==="vec4h"||o==="vec2i"||o==="vec3i"||o==="vec4i"||o==="vec2u"||o==="vec3u"||o==="vec4u"?this._callConstructorVec(e,n):o==="mat2x2"||o==="mat2x3"||o==="mat2x4"||o==="mat3x2"||o==="mat3x3"||o==="mat3x4"||o==="mat4x2"||o==="mat4x3"||o==="mat4x4"||o==="mat2x2f"||o==="mat2x3f"||o==="mat2x4f"||o==="mat3x2f"||o==="mat3x3f"||o==="mat3x4f"||o==="mat4x2f"||o==="mat4x3f"||o==="mat4x4f"||o==="mat2x2h"||o==="mat2x3h"||o==="mat2x4h"||o==="mat3x2h"||o==="mat3x3h"||o==="mat3x4h"||o==="mat4x2h"||o==="mat4x3h"||o==="mat4x4h"?this._callConstructorMatrix(e,n):e.value}_evalVariable(e,n){let r=n.getVariableValue(e.name);return r===null?r:r.getSubData(this,e.postfix,n)}_maxFormatTypeInfo(e){let n=e[0];if(n.name==="f32")return n;for(let r=1;r<e.length;++r){let o=t._priority.get(n.name);t._priority.get(e[r].name)<o&&(n=e[r])}return n.name==="x32"?this.getTypeInfo("i32"):n}_evalUnaryOp(e,n){let r=this.evalExpression(e.right,n);if(e.operator==="&")return new sr(r);if(e.operator==="*")return r instanceof sr?r.reference.getSubData(this,e.postfix,n):(console.error(`Invalid dereference. Line ${e.line}`),null);let o=r instanceof T?r.value:r instanceof p?Array.from(r.data):null;switch(e.operator){case"+":{if(R(o)){let a=o.map((c,u)=>+c);return new p(a,r.typeInfo)}let s=o,i=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new T(+s,i)}case"-":{if(R(o)){let a=o.map((c,u)=>-c);return new p(a,r.typeInfo)}let s=o,i=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new T(-s,i)}case"!":{if(R(o)){let a=o.map((c,u)=>c?0:1);return new p(a,r.typeInfo)}let s=o,i=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new T(s?0:1,i)}case"~":{if(R(o)){let a=o.map((c,u)=>~c);return new p(a,r.typeInfo)}let s=o,i=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new T(~s,i)}}return console.error(`Invalid unary operator ${e.operator}. Line ${e.line}`),null}_evalBinaryOp(e,n){let r=this.evalExpression(e.left,n),o=this.evalExpression(e.right,n),s=r instanceof T?r.value:r instanceof p||r instanceof U?Array.from(r.data):null,i=o instanceof T?o.value:o instanceof p||o instanceof U?Array.from(o.data):null;switch(e.operator){case"+":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,v)=>d+f[v]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m+l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l+m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a+c,u)}case"-":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,v)=>d-f[v]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m-l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l-m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a-c,u)}case"*":{if(R(s)&&R(i)){let l=s,f=i;if(r instanceof U&&o instanceof U){let m=(function(S,x,g,y){if(ze[x.name]===void 0||ze[y.name]===void 0)return null;let A=ze[x.name][0],V=ze[x.name][1],I=ze[y.name][0];if(A!==ze[y.name][1])return null;let D=new Array(I*V);for(let k=0;k<V;k++)for(let O=0;O<I;O++){let G=0;for(let ue=0;ue<A;ue++)G+=S[ue*V+k]*g[O*A+ue];D[k*I+O]=G}return D})(l,r.typeInfo,f,o.typeInfo);if(m===null)return console.error(`Matrix multiplication failed. Line ${e.line}.`),null;let d=ze[o.typeInfo.name][0],v=ze[r.typeInfo.name][1],E=this.getTypeInfo(`mat${d}x${v}f`);return new U(m,E)}if(r instanceof U&&o instanceof p){let m=(function(d,v,E,S){if(ze[v.name]===void 0||id[S.name]===void 0)return null;let x=ze[v.name][0],g=ze[v.name][1];if(x!==E.length)return null;let y=new Array(g);for(let A=0;A<g;A++){let V=0;for(let I=0;I<x;I++)V+=d[I*g+A]*E[I];y[A]=V}return y})(l,r.typeInfo,f,o.typeInfo);return m===null?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new p(m,o.typeInfo)}if(r instanceof p&&o instanceof U){let m=(function(d,v,E,S){if(id[v.name]===void 0||ze[S.name]===void 0)return null;let x=ze[S.name][0],g=ze[S.name][1];if(g!==d.length)return null;let y=[];for(let A=0;A<x;A++){let V=0;for(let I=0;I<g;I++)V+=d[I]*E[I*x+A];y[A]=V}return y})(l,r.typeInfo,f,o.typeInfo);return m===null?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new p(m,r.typeInfo)}{if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,v)=>d*f[v]);return new p(m,r.typeInfo)}}if(R(s)){let l=i,f=s.map((m,d)=>m*l);return r instanceof U?new U(f,r.typeInfo):new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l*m);return o instanceof U?new U(f,o.typeInfo):new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a*c,u)}case"%":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,v)=>d%f[v]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m%l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l%m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a%c,u)}case"/":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,v)=>d/f[v]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m/l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l/m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a/c,u)}case"&":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,v)=>d&f[v]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m&l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l&m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a&c,u)}case"|":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,v)=>d|f[v]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m|l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l|m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a|c,u)}case"^":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,v)=>d^f[v]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m^l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l^m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a^c,u)}case"<<":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,v)=>d<<f[v]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m<<l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l<<m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a<<c,u)}case">>":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,v)=>d>>f[v]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m>>l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l>>m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a>>c,u)}case">":if(R(s)&&R(i)){let a=s,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l>c[f]?1:0);return new p(u,r.typeInfo)}if(R(s)){let a=i,c=s.map((u,l)=>u>a?1:0);return new p(c,r.typeInfo)}if(R(i)){let a=s,c=i.map((u,l)=>a>u?1:0);return new p(c,o.typeInfo)}return new T(s>i?1:0,this.getTypeInfo("bool"));case"<":if(R(s)&&R(i)){let a=s,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l<c[f]?1:0);return new p(u,r.typeInfo)}if(R(s)){let a=i,c=s.map((u,l)=>u<a?1:0);return new p(c,r.typeInfo)}if(R(i)){let a=s,c=i.map((u,l)=>a<u?1:0);return new p(c,o.typeInfo)}return new T(s<i?1:0,this.getTypeInfo("bool"));case"==":if(R(s)&&R(i)){let a=s,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l===c[f]?1:0);return new p(u,r.typeInfo)}if(R(s)){let a=i,c=s.map((u,l)=>u==a?1:0);return new p(c,r.typeInfo)}if(R(i)){let a=s,c=i.map((u,l)=>a==u?1:0);return new p(c,o.typeInfo)}return new T(s===i?1:0,this.getTypeInfo("bool"));case"!=":if(R(s)&&R(i)){let a=s,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l!==c[f]?1:0);return new p(u,r.typeInfo)}if(R(s)){let a=i,c=s.map((u,l)=>u!==a?1:0);return new p(c,r.typeInfo)}if(R(i)){let a=s,c=i.map((u,l)=>a!==u?1:0);return new p(c,o.typeInfo)}return new T(s!==i?1:0,this.getTypeInfo("bool"));case">=":if(R(s)&&R(i)){let a=s,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l>=c[f]?1:0);return new p(u,r.typeInfo)}if(R(s)){let a=i,c=s.map((u,l)=>u>=a?1:0);return new p(c,r.typeInfo)}if(R(i)){let a=s,c=i.map((u,l)=>a>=u?1:0);return new p(c,o.typeInfo)}return new T(s>=i?1:0,this.getTypeInfo("bool"));case"<=":if(R(s)&&R(i)){let a=s,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l<=c[f]?1:0);return new p(u,r.typeInfo)}if(R(s)){let a=i,c=s.map((u,l)=>u<=a?1:0);return new p(c,r.typeInfo)}if(R(i)){let a=s,c=i.map((u,l)=>a<=u?1:0);return new p(c,o.typeInfo)}return new T(s<=i?1:0,this.getTypeInfo("bool"));case"&&":if(R(s)&&R(i)){let a=s,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l&&c[f]?1:0);return new p(u,r.typeInfo)}if(R(s)){let a=i,c=s.map((u,l)=>u&&a?1:0);return new p(c,r.typeInfo)}if(R(i)){let a=s,c=i.map((u,l)=>a&&u?1:0);return new p(c,o.typeInfo)}return new T(s&&i?1:0,this.getTypeInfo("bool"));case"||":if(R(s)&&R(i)){let a=s,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l||c[f]?1:0);return new p(u,r.typeInfo)}if(R(s)){let a=i,c=s.map((u,l)=>u||a?1:0);return new p(c,r.typeInfo)}if(R(i)){let a=s,c=i.map((u,l)=>a||u?1:0);return new p(c,o.typeInfo)}return new T(s||i?1:0,this.getTypeInfo("bool"))}return console.error(`Unknown operator ${e.operator}. Line ${e.line}`),null}_evalCall(e,n){if(e.cachedReturnValue!==null)return e.cachedReturnValue;let r=n.clone();r.currentFunctionName=e.name;let o=n.getFunction(e.name);if(!o)return e.isBuiltin?this._callBuiltinFunction(e,r):this.getTypeInfo(e.name)?this._evalCreate(e,n):(console.error(`Unknown function "${e.name}". Line ${e.line}`),null);for(let s=0;s<o.node.args.length;++s){let i=o.node.args[s],a=this.evalExpression(e.args[s],r);r.createVariable(i.name,a,i)}return this._execStatements(o.node.body,r)}_callBuiltinFunction(e,n){switch(e.name){case"all":return this.builtins.All(e,n);case"any":return this.builtins.Any(e,n);case"select":return this.builtins.Select(e,n);case"arrayLength":return this.builtins.ArrayLength(e,n);case"abs":return this.builtins.Abs(e,n);case"acos":return this.builtins.Acos(e,n);case"acosh":return this.builtins.Acosh(e,n);case"asin":return this.builtins.Asin(e,n);case"asinh":return this.builtins.Asinh(e,n);case"atan":return this.builtins.Atan(e,n);case"atanh":return this.builtins.Atanh(e,n);case"atan2":return this.builtins.Atan2(e,n);case"ceil":return this.builtins.Ceil(e,n);case"clamp":return this.builtins.Clamp(e,n);case"cos":return this.builtins.Cos(e,n);case"cosh":return this.builtins.Cosh(e,n);case"countLeadingZeros":return this.builtins.CountLeadingZeros(e,n);case"countOneBits":return this.builtins.CountOneBits(e,n);case"countTrailingZeros":return this.builtins.CountTrailingZeros(e,n);case"cross":return this.builtins.Cross(e,n);case"degrees":return this.builtins.Degrees(e,n);case"determinant":return this.builtins.Determinant(e,n);case"distance":return this.builtins.Distance(e,n);case"dot":return this.builtins.Dot(e,n);case"dot4U8Packed":return this.builtins.Dot4U8Packed(e,n);case"dot4I8Packed":return this.builtins.Dot4I8Packed(e,n);case"exp":return this.builtins.Exp(e,n);case"exp2":return this.builtins.Exp2(e,n);case"extractBits":return this.builtins.ExtractBits(e,n);case"faceForward":return this.builtins.FaceForward(e,n);case"firstLeadingBit":return this.builtins.FirstLeadingBit(e,n);case"firstTrailingBit":return this.builtins.FirstTrailingBit(e,n);case"floor":return this.builtins.Floor(e,n);case"fma":return this.builtins.Fma(e,n);case"fract":return this.builtins.Fract(e,n);case"frexp":return this.builtins.Frexp(e,n);case"insertBits":return this.builtins.InsertBits(e,n);case"inverseSqrt":return this.builtins.InverseSqrt(e,n);case"ldexp":return this.builtins.Ldexp(e,n);case"length":return this.builtins.Length(e,n);case"log":return this.builtins.Log(e,n);case"log2":return this.builtins.Log2(e,n);case"max":return this.builtins.Max(e,n);case"min":return this.builtins.Min(e,n);case"mix":return this.builtins.Mix(e,n);case"modf":return this.builtins.Modf(e,n);case"normalize":return this.builtins.Normalize(e,n);case"pow":return this.builtins.Pow(e,n);case"quantizeToF16":return this.builtins.QuantizeToF16(e,n);case"radians":return this.builtins.Radians(e,n);case"reflect":return this.builtins.Reflect(e,n);case"refract":return this.builtins.Refract(e,n);case"reverseBits":return this.builtins.ReverseBits(e,n);case"round":return this.builtins.Round(e,n);case"saturate":return this.builtins.Saturate(e,n);case"sign":return this.builtins.Sign(e,n);case"sin":return this.builtins.Sin(e,n);case"sinh":return this.builtins.Sinh(e,n);case"smoothstep":return this.builtins.SmoothStep(e,n);case"sqrt":return this.builtins.Sqrt(e,n);case"step":return this.builtins.Step(e,n);case"tan":return this.builtins.Tan(e,n);case"tanh":return this.builtins.Tanh(e,n);case"transpose":return this.builtins.Transpose(e,n);case"trunc":return this.builtins.Trunc(e,n);case"dpdx":return this.builtins.Dpdx(e,n);case"dpdxCoarse":return this.builtins.DpdxCoarse(e,n);case"dpdxFine":return this.builtins.DpdxFine(e,n);case"dpdy":return this.builtins.Dpdy(e,n);case"dpdyCoarse":return this.builtins.DpdyCoarse(e,n);case"dpdyFine":return this.builtins.DpdyFine(e,n);case"fwidth":return this.builtins.Fwidth(e,n);case"fwidthCoarse":return this.builtins.FwidthCoarse(e,n);case"fwidthFine":return this.builtins.FwidthFine(e,n);case"textureDimensions":return this.builtins.TextureDimensions(e,n);case"textureGather":return this.builtins.TextureGather(e,n);case"textureGatherCompare":return this.builtins.TextureGatherCompare(e,n);case"textureLoad":return this.builtins.TextureLoad(e,n);case"textureNumLayers":return this.builtins.TextureNumLayers(e,n);case"textureNumLevels":return this.builtins.TextureNumLevels(e,n);case"textureNumSamples":return this.builtins.TextureNumSamples(e,n);case"textureSample":return this.builtins.TextureSample(e,n);case"textureSampleBias":return this.builtins.TextureSampleBias(e,n);case"textureSampleCompare":return this.builtins.TextureSampleCompare(e,n);case"textureSampleCompareLevel":return this.builtins.TextureSampleCompareLevel(e,n);case"textureSampleGrad":return this.builtins.TextureSampleGrad(e,n);case"textureSampleLevel":return this.builtins.TextureSampleLevel(e,n);case"textureSampleBaseClampToEdge":return this.builtins.TextureSampleBaseClampToEdge(e,n);case"textureStore":return this.builtins.TextureStore(e,n);case"atomicLoad":return this.builtins.AtomicLoad(e,n);case"atomicStore":return this.builtins.AtomicStore(e,n);case"atomicAdd":return this.builtins.AtomicAdd(e,n);case"atomicSub":return this.builtins.AtomicSub(e,n);case"atomicMax":return this.builtins.AtomicMax(e,n);case"atomicMin":return this.builtins.AtomicMin(e,n);case"atomicAnd":return this.builtins.AtomicAnd(e,n);case"atomicOr":return this.builtins.AtomicOr(e,n);case"atomicXor":return this.builtins.AtomicXor(e,n);case"atomicExchange":return this.builtins.AtomicExchange(e,n);case"atomicCompareExchangeWeak":return this.builtins.AtomicCompareExchangeWeak(e,n);case"pack4x8snorm":return this.builtins.Pack4x8snorm(e,n);case"pack4x8unorm":return this.builtins.Pack4x8unorm(e,n);case"pack4xI8":return this.builtins.Pack4xI8(e,n);case"pack4xU8":return this.builtins.Pack4xU8(e,n);case"pack4x8Clamp":return this.builtins.Pack4x8Clamp(e,n);case"pack4xU8Clamp":return this.builtins.Pack4xU8Clamp(e,n);case"pack2x16snorm":return this.builtins.Pack2x16snorm(e,n);case"pack2x16unorm":return this.builtins.Pack2x16unorm(e,n);case"pack2x16float":return this.builtins.Pack2x16float(e,n);case"unpack4x8snorm":return this.builtins.Unpack4x8snorm(e,n);case"unpack4x8unorm":return this.builtins.Unpack4x8unorm(e,n);case"unpack4xI8":return this.builtins.Unpack4xI8(e,n);case"unpack4xU8":return this.builtins.Unpack4xU8(e,n);case"unpack2x16snorm":return this.builtins.Unpack2x16snorm(e,n);case"unpack2x16unorm":return this.builtins.Unpack2x16unorm(e,n);case"unpack2x16float":return this.builtins.Unpack2x16float(e,n);case"storageBarrier":return this.builtins.StorageBarrier(e,n);case"textureBarrier":return this.builtins.TextureBarrier(e,n);case"workgroupBarrier":return this.builtins.WorkgroupBarrier(e,n);case"workgroupUniformLoad":return this.builtins.WorkgroupUniformLoad(e,n);case"subgroupAdd":return this.builtins.SubgroupAdd(e,n);case"subgroupExclusiveAdd":return this.builtins.SubgroupExclusiveAdd(e,n);case"subgroupInclusiveAdd":return this.builtins.SubgroupInclusiveAdd(e,n);case"subgroupAll":return this.builtins.SubgroupAll(e,n);case"subgroupAnd":return this.builtins.SubgroupAnd(e,n);case"subgroupAny":return this.builtins.SubgroupAny(e,n);case"subgroupBallot":return this.builtins.SubgroupBallot(e,n);case"subgroupBroadcast":return this.builtins.SubgroupBroadcast(e,n);case"subgroupBroadcastFirst":return this.builtins.SubgroupBroadcastFirst(e,n);case"subgroupElect":return this.builtins.SubgroupElect(e,n);case"subgroupMax":return this.builtins.SubgroupMax(e,n);case"subgroupMin":return this.builtins.SubgroupMin(e,n);case"subgroupMul":return this.builtins.SubgroupMul(e,n);case"subgroupExclusiveMul":return this.builtins.SubgroupExclusiveMul(e,n);case"subgroupInclusiveMul":return this.builtins.SubgroupInclusiveMul(e,n);case"subgroupOr":return this.builtins.SubgroupOr(e,n);case"subgroupShuffle":return this.builtins.SubgroupShuffle(e,n);case"subgroupShuffleDown":return this.builtins.SubgroupShuffleDown(e,n);case"subgroupShuffleUp":return this.builtins.SubgroupShuffleUp(e,n);case"subgroupShuffleXor":return this.builtins.SubgroupShuffleXor(e,n);case"subgroupXor":return this.builtins.SubgroupXor(e,n);case"quadBroadcast":return this.builtins.QuadBroadcast(e,n);case"quadSwapDiagonal":return this.builtins.QuadSwapDiagonal(e,n);case"quadSwapX":return this.builtins.QuadSwapX(e,n);case"quadSwapY":return this.builtins.QuadSwapY(e,n)}let r=n.getFunction(e.name);if(r){let o=n.clone();for(let s=0;s<r.node.args.length;++s){let i=r.node.args[s],a=this.evalExpression(e.args[s],o);o.setVariable(i.name,a,i)}return this._execStatements(r.node.body,o)}return null}_callConstructorValue(e,n){if(!e.args||e.args.length===0)return new T(0,this.getTypeInfo(e.type));let r=this.evalExpression(e.args[0],n);return r.typeInfo=this.getTypeInfo(e.type),r.getSubData(this,e.postfix,n).clone()}_callConstructorVec(e,n){let r=this.getTypeInfo(e.type),o=e.type.getTypeName(),s=id[o];if(s===void 0)return console.error(`Invalid vec constructor ${o}. Line ${e.line}`),null;let i=[];if(e instanceof pe)if(e.isVector){let a=e.vectorValue;for(let c of a)i.push(c)}else i.push(e.scalarValue);else if(e.args)for(let a of e.args){let c=this.evalExpression(a,n);if(c instanceof p){let u=c.data;for(let l=0;l<u.length;++l){let f=u[l];i.push(f)}}else if(c instanceof T){let u=c.value;i.push(u)}}if(e.type instanceof B&&e.type.format===null&&(e.type.format=B.f32),i.length===0){let a=new Array(s).fill(0);return new p(a,r).getSubData(this,e.postfix,n)}if(i.length===1)for(;i.length<s;)i.push(i[0]);return i.length<s?(console.error(`Invalid vec constructor. Line ${e.line}`),null):new p(i.length>s?i.slice(0,s):i,r).getSubData(this,e.postfix,n)}_callConstructorMatrix(e,n){let r=this.getTypeInfo(e.type),o=e.type.getTypeName(),s=ze[o];if(s===void 0)return console.error(`Invalid matrix constructor ${o}. Line ${e.line}`),null;let i=[];if(e instanceof pe)if(e.isVector){let a=e.vectorValue;for(let c of a)i.push(c)}else i.push(e.scalarValue);else if(e.args)for(let a of e.args){let c=this.evalExpression(a,n);c instanceof p?i.push(...c.data):c instanceof T?i.push(c.value):c instanceof U&&i.push(...c.data)}if(r instanceof En&&r.format===null&&(r.format=this.getTypeInfo("f32")),i.length===0){let a=new Array(s[2]).fill(0);return new U(a,r).getSubData(this,e.postfix,n)}return i.length!==s[2]?(console.error(`Invalid matrix constructor. Line ${e.line}`),null):new U(i,r).getSubData(this,e.postfix,n)}};rs._breakObj=new Ct(new $e("BREAK",null),null),rs._continueObj=new Ct(new $e("CONTINUE",null),null),rs._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);var wd=class{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}},Ed=class{constructor(){this._tokens=[],this._current=0,this._currentLine=1,this._deferArrayCountEval=[],this._currentLoop=[],this._context=new wd,this._exec=new rs,this._forwardTypeCount=0}parse(e){this._initialize(e),this._deferArrayCountEval.length=0;let n=[];for(;!this._isAtEnd();){let r=this._global_decl_or_directive();if(!r)break;n.push(r)}if(this._deferArrayCountEval.length>0){for(let r of this._deferArrayCountEval){let o=r.arrayType,s=r.countNode;if(s instanceof He){let i=s.name,a=this._context.constants.get(i);if(a)try{let c=a.constEvaluate(this._exec);o.count=c}catch{}}}this._deferArrayCountEval.length=0}if(this._forwardTypeCount>0)for(let r of n)r.search(o=>{o instanceof yu||o instanceof ts?o.type=this._forwardType(o.type):o instanceof Lr?o.format=this._forwardType(o.format):o instanceof Ot||o instanceof Ur||o instanceof es?o.type=this._forwardType(o.type):o instanceof Nr?o.returnType=this._forwardType(o.returnType):o instanceof pu&&(o.type=this._forwardType(o.type))});return n}_forwardType(e){if(e instanceof cu){let n=this._getType(e.name);if(n)return n}else e instanceof ts?e.type=this._forwardType(e.type):e instanceof Lr&&(e.format=this._forwardType(e.format));return e}_initialize(e){if(e)if(typeof e=="string"){let n=new gd(e);this._tokens=n.scanTokens()}else this._tokens=e;else this._tokens=[];this._current=0}_updateNode(e,n){return e.line=n??this._currentLine,e}_error(e,n){return{token:e,message:n,toString:()=>`${n}`}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==h.eof}_match(e){if(e instanceof b)return!!this._check(e)&&(this._advance(),!0);for(let n=0,r=e.length;n<r;++n){let o=e[n];if(this._check(o))return this._advance(),!0}return!1}_consume(e,n){if(this._check(e))return this._advance();throw this._error(this._peek(),`${n}. Line:${this._currentLine}`)}_check(e){if(this._isAtEnd())return!1;let n=this._peek();if(e instanceof Array){let r=n.type,o=!1;for(let s of e){if(r===s)return!0;s===h.tokens.name&&(o=!0)}if(o){let s=h.tokens.name.rule.exec(n.lexeme);if(s&&s.index==0&&s[0]==n.lexeme)return!0}return!1}if(n.type===e)return!0;if(e===h.tokens.name){let r=h.tokens.name.rule.exec(n.lexeme);return r&&r.index==0&&r[0]==n.lexeme}return!1}_advance(){var e,n;return this._currentLine=(n=(e=this._peek())===null||e===void 0?void 0:e.line)!==null&&n!==void 0?n:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(h.tokens.semicolon)&&!this._isAtEnd(););if(this._match(h.keywords.alias)){let n=this._type_alias();return this._consume(h.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}if(this._match(h.keywords.diagnostic)){let n=this._diagnostic();return this._consume(h.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}if(this._match(h.keywords.requires)){let n=this._requires_directive();return this._consume(h.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}if(this._match(h.keywords.enable)){let n=this._enable_directive();return this._consume(h.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}let e=this._attribute();if(this._check(h.keywords.var)){let n=this._global_variable_decl();return n!=null&&(n.attributes=e),this._consume(h.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(h.keywords.override)){let n=this._override_variable_decl();return n!=null&&(n.attributes=e),this._consume(h.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(h.keywords.let)){let n=this._global_let_decl();return n!=null&&(n.attributes=e),this._consume(h.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(h.keywords.const)){let n=this._global_const_decl();return n!=null&&(n.attributes=e),this._consume(h.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(h.keywords.struct)){let n=this._struct_decl();return n!=null&&(n.attributes=e),this._exec.reflection.updateAST([n]),n}if(this._check(h.keywords.fn)){let n=this._function_decl();return n!=null&&(n.attributes=e),this._exec.reflection.updateAST([n]),n}return null}_function_decl(){if(!this._match(h.keywords.fn))return null;let e=this._currentLine,n=this._consume(h.tokens.ident,"Expected function name.").toString();this._consume(h.tokens.paren_left,"Expected '(' for function arguments.");let r=[];if(!this._check(h.tokens.paren_right))do{if(this._check(h.tokens.paren_right))break;let a=this._attribute(),c=this._consume(h.tokens.name,"Expected argument name.").toString();this._consume(h.tokens.colon,"Expected ':' for argument type.");let u=this._attribute(),l=this._type_decl();l!=null&&(l.attributes=u,r.push(this._updateNode(new pu(c,l,a))))}while(this._match(h.tokens.comma));this._consume(h.tokens.paren_right,"Expected ')' after function arguments.");let o=null;if(this._match(h.tokens.arrow)){let a=this._attribute();o=this._type_decl(),o!=null&&(o.attributes=a)}let s=this._compound_statement(),i=this._currentLine;return this._updateNode(new Nr(n,r,o,s,e,i),e)}_compound_statement(){let e=[];for(this._consume(h.tokens.brace_left,"Expected '{' for block.");!this._check(h.tokens.brace_right);){let n=this._statement();n!==null&&e.push(n)}return this._consume(h.tokens.brace_right,"Expected '}' for block."),e}_statement(){for(;this._match(h.tokens.semicolon)&&!this._isAtEnd(););if(this._check(h.tokens.attr)&&this._attribute(),this._check(h.keywords.if))return this._if_statement();if(this._check(h.keywords.switch))return this._switch_statement();if(this._check(h.keywords.loop))return this._loop_statement();if(this._check(h.keywords.for))return this._for_statement();if(this._check(h.keywords.while))return this._while_statement();if(this._check(h.keywords.continuing))return this._continuing_statement();if(this._check(h.keywords.static_assert))return this._static_assert_statement();if(this._check(h.tokens.brace_left))return this._compound_statement();let e=null;if(this._check(h.keywords.return))e=this._return_statement();else if(this._check([h.keywords.var,h.keywords.let,h.keywords.const]))e=this._variable_statement();else if(this._match(h.keywords.discard))e=this._updateNode(new yd);else if(this._match(h.keywords.break)){let n=this._updateNode(new iu);if(this._currentLoop.length>0){let r=this._currentLoop[this._currentLoop.length-1];n.loopId=r.id}e=n,this._check(h.keywords.if)&&(this._advance(),n.condition=this._optional_paren_expression())}else if(this._match(h.keywords.continue)){let n=this._updateNode(new au);if(!(this._currentLoop.length>0))throw this._error(this._peek(),`Continue statement must be inside a loop. Line: ${n.line}`);{let r=this._currentLoop[this._currentLoop.length-1];n.loopId=r.id}e=n}else e=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement();return e!=null&&this._consume(h.tokens.semicolon,"Expected ';' after statement."),e}_static_assert_statement(){if(!this._match(h.keywords.static_assert))return null;let e=this._currentLine,n=this._optional_paren_expression();return this._updateNode(new dd(n),e)}_while_statement(){if(!this._match(h.keywords.while))return null;let e=this._updateNode(new Wc(null,null));return this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(h.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_continuing_statement(){let e=this._currentLoop.length>0?this._currentLoop[this._currentLoop.length-1].id:-1;if(!this._match(h.keywords.continuing))return null;let n=this._currentLine,r=this._compound_statement();return this._updateNode(new Fi(r,e),n)}_for_statement(){if(!this._match(h.keywords.for))return null;this._consume(h.tokens.paren_left,"Expected '('.");let e=this._updateNode(new $c(null,null,null,null));return this._currentLoop.push(e),e.init=this._check(h.tokens.semicolon)?null:this._for_init(),this._consume(h.tokens.semicolon,"Expected ';'."),e.condition=this._check(h.tokens.semicolon)?null:this._short_circuit_or_expression(),this._consume(h.tokens.semicolon,"Expected ';'."),e.increment=this._check(h.tokens.paren_right)?null:this._for_increment(),this._consume(h.tokens.paren_right,"Expected ')'."),this._check(h.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(h.keywords.var)){let e=this._variable_decl();if(e===null)throw this._error(this._peek(),"Variable declaration expected.");let n=null;return this._match(h.tokens.equal)&&(n=this._short_circuit_or_expression()),this._updateNode(new Ot(e.name,e.type,e.storage,e.access,n),e.line)}if(this._match(h.keywords.let)){let e=this._currentLine,n=this._consume(h.tokens.name,"Expected name for let.").toString(),r=null;if(this._match(h.tokens.colon)){let s=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=s)}this._consume(h.tokens.equal,"Expected '=' for let.");let o=this._short_circuit_or_expression();return this._updateNode(new Ur(n,r,null,null,o),e)}if(this._match(h.keywords.const)){let e=this._currentLine,n=this._consume(h.tokens.name,"Expected name for const.").toString(),r=null;if(this._match(h.tokens.colon)){let s=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=s)}this._consume(h.tokens.equal,"Expected '=' for const.");let o=this._short_circuit_or_expression();return r===null&&o instanceof pe&&(r=o.type),this._updateNode(new es(n,r,null,null,o),e)}return null}_increment_decrement_statement(){let e=this._current,n=this._unary_expression();if(n==null)return null;if(!this._check(h.increment_operators))return this._current=e,null;let r=this._consume(h.increment_operators,"Expected increment operator");return this._updateNode(new Zc(r.type===h.tokens.plus_plus?$o.increment:$o.decrement,n))}_assignment_statement(){let e=null,n=this._currentLine;if(this._check(h.tokens.brace_right))return null;let r=this._match(h.tokens.underscore);if(r||(e=this._unary_expression()),!r&&e==null)return null;let o=this._consume(h.assignment_operators,"Expected assignment operator."),s=this._short_circuit_or_expression();return this._updateNode(new eu(Ui.parse(o.lexeme),e,s),n)}_func_call_statement(){if(!this._check(h.tokens.ident))return null;let e=this._currentLine,n=this._current,r=this._consume(h.tokens.ident,"Expected function name."),o=this._argument_expression_list();return o===null?(this._current=n,null):this._updateNode(new zi(r.lexeme,o),e)}_loop_statement(){if(!this._match(h.keywords.loop))return null;this._check(h.tokens.attr)&&this._attribute(),this._consume(h.tokens.brace_left,"Expected '{' for loop.");let e=this._updateNode(new tu([],null));this._currentLoop.push(e);let n=this._statement();for(;n!==null;){if(Array.isArray(n))for(let r of n)e.body.push(r);else e.body.push(n);if(n instanceof Fi){e.continuing=n;break}n=this._statement()}return this._currentLoop.pop(),this._consume(h.tokens.brace_right,"Expected '}' for loop."),e}_switch_statement(){if(!this._match(h.keywords.switch))return null;let e=this._updateNode(new nu(null,[]));if(this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(h.tokens.attr)&&this._attribute(),this._consume(h.tokens.brace_left,"Expected '{' for switch."),e.cases=this._switch_body(),e.cases==null||e.cases.length==0)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(h.tokens.brace_right,"Expected '}' for switch."),this._currentLoop.pop(),e}_switch_body(){let e=[],n=!1;for(;this._check([h.keywords.default,h.keywords.case]);){if(this._match(h.keywords.case)){let r=this._case_selectors();for(let s of r)if(s instanceof ns){if(n)throw this._error(this._previous(),"Multiple default cases in switch statement.");n=!0;break}this._match(h.tokens.colon),this._check(h.tokens.attr)&&this._attribute(),this._consume(h.tokens.brace_left,"Exected '{' for switch case.");let o=this._case_body();this._consume(h.tokens.brace_right,"Exected '}' for switch case."),e.push(this._updateNode(new du(r,o)))}if(this._match(h.keywords.default)){if(n)throw this._error(this._previous(),"Multiple default cases in switch statement.");this._match(h.tokens.colon),this._check(h.tokens.attr)&&this._attribute(),this._consume(h.tokens.brace_left,"Exected '{' for switch default.");let r=this._case_body();this._consume(h.tokens.brace_right,"Exected '}' for switch default."),e.push(this._updateNode(new hu(r)))}}return e}_case_selectors(){let e=[];for(this._match(h.keywords.default)?e.push(this._updateNode(new ns)):e.push(this._shift_expression());this._match(h.tokens.comma);)this._match(h.keywords.default)?e.push(this._updateNode(new ns)):e.push(this._shift_expression());return e}_case_body(){if(this._match(h.keywords.fallthrough))return this._consume(h.tokens.semicolon,"Expected ';'"),[];let e=this._statement();if(e==null)return[];e instanceof Array||(e=[e]);let n=this._case_body();return n.length==0?e:[...e,n[0]]}_if_statement(){if(!this._match(h.keywords.if))return null;let e=this._currentLine,n=this._optional_paren_expression();this._check(h.tokens.attr)&&this._attribute();let r=this._compound_statement(),o=[];this._match_elseif()&&(this._check(h.tokens.attr)&&this._attribute(),o=this._elseif_statement(o));let s=null;return this._match(h.keywords.else)&&(this._check(h.tokens.attr)&&this._attribute(),s=this._compound_statement()),this._updateNode(new ru(n,r,o,s),e)}_match_elseif(){return this._tokens[this._current].type===h.keywords.else&&this._tokens[this._current+1].type===h.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement(e=[]){let n=this._optional_paren_expression(),r=this._compound_statement();return e.push(this._updateNode(new xd(n,r))),this._match_elseif()&&(this._check(h.tokens.attr)&&this._attribute(),this._elseif_statement(e)),e}_return_statement(){if(!this._match(h.keywords.return))return null;let e=this._short_circuit_or_expression();return this._updateNode(new ou(e))}_short_circuit_or_expression(){let e=this._short_circuit_and_expr();for(;this._match(h.tokens.or_or);)e=this._updateNode(new lt(this._previous().toString(),e,this._short_circuit_and_expr()));return e}_short_circuit_and_expr(){let e=this._inclusive_or_expression();for(;this._match(h.tokens.and_and);)e=this._updateNode(new lt(this._previous().toString(),e,this._inclusive_or_expression()));return e}_inclusive_or_expression(){let e=this._exclusive_or_expression();for(;this._match(h.tokens.or);)e=this._updateNode(new lt(this._previous().toString(),e,this._exclusive_or_expression()));return e}_exclusive_or_expression(){let e=this._and_expression();for(;this._match(h.tokens.xor);)e=this._updateNode(new lt(this._previous().toString(),e,this._and_expression()));return e}_and_expression(){let e=this._equality_expression();for(;this._match(h.tokens.and);)e=this._updateNode(new lt(this._previous().toString(),e,this._equality_expression()));return e}_equality_expression(){let e=this._relational_expression();return this._match([h.tokens.equal_equal,h.tokens.not_equal])?this._updateNode(new lt(this._previous().toString(),e,this._relational_expression())):e}_relational_expression(){let e=this._shift_expression();for(;this._match([h.tokens.less_than,h.tokens.greater_than,h.tokens.less_than_equal,h.tokens.greater_than_equal]);)e=this._updateNode(new lt(this._previous().toString(),e,this._shift_expression()));return e}_shift_expression(){let e=this._additive_expression();for(;this._match([h.tokens.shift_left,h.tokens.shift_right]);)e=this._updateNode(new lt(this._previous().toString(),e,this._additive_expression()));return e}_additive_expression(){let e=this._multiplicative_expression();for(;this._match([h.tokens.plus,h.tokens.minus]);)e=this._updateNode(new lt(this._previous().toString(),e,this._multiplicative_expression()));return e}_multiplicative_expression(){let e=this._unary_expression();for(;this._match([h.tokens.star,h.tokens.forward_slash,h.tokens.modulo]);)e=this._updateNode(new lt(this._previous().toString(),e,this._unary_expression()));return e}_unary_expression(){return this._match([h.tokens.minus,h.tokens.bang,h.tokens.tilde,h.tokens.star,h.tokens.and])?this._updateNode(new me(this._previous().toString(),this._unary_expression())):this._singular_expression()}_singular_expression(){let e=this._primary_expression(),n=this._postfix_expression();return n&&(e.postfix=n),e}_postfix_expression(){if(this._match(h.tokens.bracket_left)){let e=this._short_circuit_or_expression();this._consume(h.tokens.bracket_right,"Expected ']'.");let n=this._updateNode(new ir(e)),r=this._postfix_expression();return r&&(n.postfix=r),n}if(this._match(h.tokens.period)){let e=this._consume(h.tokens.name,"Expected member name."),n=this._postfix_expression(),r=this._updateNode(new Sn(e.lexeme));return n&&(r.postfix=n),r}return null}_getStruct(e){return this._context.aliases.has(e)?this._context.aliases.get(e).type:this._context.structs.has(e)?this._context.structs.get(e):null}_getType(e){let n=this._getStruct(e);if(n!==null)return n;switch(e){case"void":return M.void;case"bool":return M.bool;case"i32":return M.i32;case"u32":return M.u32;case"f32":return M.f32;case"f16":return M.f16;case"vec2f":return B.vec2f;case"vec3f":return B.vec3f;case"vec4f":return B.vec4f;case"vec2i":return B.vec2i;case"vec3i":return B.vec3i;case"vec4i":return B.vec4i;case"vec2u":return B.vec2u;case"vec3u":return B.vec3u;case"vec4u":return B.vec4u;case"vec2h":return B.vec2h;case"vec3h":return B.vec3h;case"vec4h":return B.vec4h;case"mat2x2f":return B.mat2x2f;case"mat2x3f":return B.mat2x3f;case"mat2x4f":return B.mat2x4f;case"mat3x2f":return B.mat3x2f;case"mat3x3f":return B.mat3x3f;case"mat3x4f":return B.mat3x4f;case"mat4x2f":return B.mat4x2f;case"mat4x3f":return B.mat4x3f;case"mat4x4f":return B.mat4x4f;case"mat2x2h":return B.mat2x2h;case"mat2x3h":return B.mat2x3h;case"mat2x4h":return B.mat2x4h;case"mat3x2h":return B.mat3x2h;case"mat3x3h":return B.mat3x3h;case"mat3x4h":return B.mat3x4h;case"mat4x2h":return B.mat4x2h;case"mat4x3h":return B.mat4x3h;case"mat4x4h":return B.mat4x4h;case"mat2x2i":return B.mat2x2i;case"mat2x3i":return B.mat2x3i;case"mat2x4i":return B.mat2x4i;case"mat3x2i":return B.mat3x2i;case"mat3x3i":return B.mat3x3i;case"mat3x4i":return B.mat3x4i;case"mat4x2i":return B.mat4x2i;case"mat4x3i":return B.mat4x3i;case"mat4x4i":return B.mat4x4i;case"mat2x2u":return B.mat2x2u;case"mat2x3u":return B.mat2x3u;case"mat2x4u":return B.mat2x4u;case"mat3x2u":return B.mat3x2u;case"mat3x3u":return B.mat3x3u;case"mat3x4u":return B.mat3x4u;case"mat4x2u":return B.mat4x2u;case"mat4x3u":return B.mat4x3u;case"mat4x4u":return B.mat4x4u}return null}_validateTypeRange(e,n){if(n.name==="i32"){if(e<-2147483648||e>2147483647)throw this._error(this._previous(),`Value out of range for i32: ${e}. Line: ${this._currentLine}.`)}else if(n.name==="u32"&&(e<0||e>4294967295))throw this._error(this._previous(),`Value out of range for u32: ${e}. Line: ${this._currentLine}.`)}_primary_expression(){if(this._match(h.tokens.ident)){let r=this._previous().toString();if(this._check(h.tokens.paren_left)){let o=this._argument_expression_list(),s=this._getType(r);return s!==null?this._updateNode(new Et(s,o)):this._updateNode(new Pi(r,o))}if(this._context.constants.has(r)){let o=this._context.constants.get(r);return this._updateNode(new uu(r,o.value))}return this._updateNode(new He(r))}if(this._match(h.tokens.int_literal)){let r=this._previous().toString(),o=r.endsWith("i")||r.endsWith("i")?M.i32:r.endsWith("u")||r.endsWith("U")?M.u32:M.x32,s=parseInt(r);return this._validateTypeRange(s,o),this._updateNode(new pe(new T(s,this._exec.getTypeInfo(o)),o))}if(this._match(h.tokens.uint_literal)){let r=parseInt(this._previous().toString());return this._validateTypeRange(r,M.u32),this._updateNode(new pe(new T(r,this._exec.getTypeInfo(M.u32)),M.u32))}if(this._match([h.tokens.decimal_float_literal,h.tokens.hex_float_literal])){let r=this._previous().toString(),o=r.endsWith("h");o&&(r=r.substring(0,r.length-1));let s=parseFloat(r);this._validateTypeRange(s,o?M.f16:M.f32);let i=o?M.f16:M.f32;return this._updateNode(new pe(new T(s,this._exec.getTypeInfo(i)),i))}if(this._match([h.keywords.true,h.keywords.false])){let r=this._previous().toString()===h.keywords.true.rule;return this._updateNode(new pe(new T(r?1:0,this._exec.getTypeInfo(M.bool)),M.bool))}if(this._check(h.tokens.paren_left))return this._paren_expression();if(this._match(h.keywords.bitcast)){this._consume(h.tokens.less_than,"Expected '<'.");let r=this._type_decl();this._consume(h.tokens.greater_than,"Expected '>'.");let o=this._paren_expression();return this._updateNode(new lu(r,o))}let e=this._type_decl(),n=this._argument_expression_list();return this._updateNode(new Et(e,n))}_argument_expression_list(){if(!this._match(h.tokens.paren_left))return null;let e=[];do{if(this._check(h.tokens.paren_right))break;let n=this._short_circuit_or_expression();e.push(n)}while(this._match(h.tokens.comma));return this._consume(h.tokens.paren_right,"Expected ')' for agument list"),e}_optional_paren_expression(){this._match(h.tokens.paren_left);let e=this._short_circuit_or_expression();return this._match(h.tokens.paren_right),e}_paren_expression(){this._consume(h.tokens.paren_left,"Expected '('.");let e=this._short_circuit_or_expression();return this._consume(h.tokens.paren_right,"Expected ')'."),e}_struct_decl(){if(!this._match(h.keywords.struct))return null;let e=this._currentLine,n=this._consume(h.tokens.ident,"Expected name for struct.").toString();this._consume(h.tokens.brace_left,"Expected '{' for struct body.");let r=[];for(;!this._check(h.tokens.brace_right);){let i=this._attribute(),a=this._consume(h.tokens.name,"Expected variable name.").toString();this._consume(h.tokens.colon,"Expected ':' for struct member type.");let c=this._attribute(),u=this._type_decl();u!=null&&(u.attributes=c),this._check(h.tokens.brace_right)?this._match(h.tokens.comma):this._consume(h.tokens.comma,"Expected ',' for struct member."),r.push(this._updateNode(new yu(a,u,i)))}this._consume(h.tokens.brace_right,"Expected '}' after struct body.");let o=this._currentLine,s=this._updateNode(new kt(n,r,e,o),e);return this._context.structs.set(n,s),s}_global_variable_decl(){let e=this._variable_decl();if(!e)return null;if(this._match(h.tokens.equal)){let n=this._const_expression();e.value=n}if(e.type!==null&&e.value instanceof pe){if(e.value.type.name!=="x32"&&e.type.getTypeName()!==e.value.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${e.value.type.name} to ${e.type.name}. Line:${this._currentLine}`);e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type),e.value.type=e.type}else e.type===null&&e.value instanceof pe&&(e.type=e.value.type.name==="x32"?M.i32:e.value.type,e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type));return e}_override_variable_decl(){let e=this._override_decl();return e&&this._match(h.tokens.equal)&&(e.value=this._const_expression()),e}_global_const_decl(){var e;if(!this._match(h.keywords.const))return null;let n=this._consume(h.tokens.name,"Expected variable name"),r=this._currentLine,o=null;if(this._match(h.tokens.colon)){let c=this._attribute();o=this._type_decl(),o!=null&&(o.attributes=c)}let s=null;this._consume(h.tokens.equal,"const declarations require an assignment");let i=this._short_circuit_or_expression();try{let c=[M.f32],u=i.constEvaluate(this._exec,c);u instanceof T&&this._validateTypeRange(u.value,c[0]),c[0]instanceof B&&c[0].format===null&&u.typeInfo instanceof En&&u.typeInfo.format!==null&&(u.typeInfo.format.name==="f16"?c[0].format=M.f16:u.typeInfo.format.name==="f32"?c[0].format=M.f32:u.typeInfo.format.name==="i32"?c[0].format=M.i32:u.typeInfo.format.name==="u32"?c[0].format=M.u32:u.typeInfo.format.name==="bool"?c[0].format=M.bool:console.error(`TODO: impelement template format type ${u.typeInfo.format.name}`)),s=this._updateNode(new pe(u,c[0])),this._exec.context.setVariable(n.toString(),u)}catch{s=i}if(o!==null&&s instanceof pe){if(s.type.name!=="x32"&&o.getTypeName()!==s.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${s.type.name} to ${o.name}. Line:${this._currentLine}`);s.type=o,s.isScalar&&this._validateTypeRange(s.scalarValue,s.type)}else o===null&&s instanceof pe&&(o=(e=s?.type)!==null&&e!==void 0?e:M.f32,o===M.x32&&(o=M.i32));let a=this._updateNode(new es(n.toString(),o,"","",s),r);return this._context.constants.set(a.name,a),a}_global_let_decl(){if(!this._match(h.keywords.let))return null;let e=this._currentLine,n=this._consume(h.tokens.name,"Expected variable name"),r=null;if(this._match(h.tokens.colon)){let s=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=s)}let o=null;if(this._match(h.tokens.equal)&&(o=this._const_expression()),r!==null&&o instanceof pe){if(o.type.name!=="x32"&&r.getTypeName()!==o.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${o.type.name} to ${r.name}. Line:${this._currentLine}`);o.type=r}else r===null&&o instanceof pe&&(r=o.type.name==="x32"?M.i32:o.type);return o instanceof pe&&o.isScalar&&this._validateTypeRange(o.scalarValue,r),this._updateNode(new Ur(n.toString(),r,"","",o),e)}_const_expression(){return this._short_circuit_or_expression()}_variable_decl(){if(!this._match(h.keywords.var))return null;let e=this._currentLine,n="",r="";this._match(h.tokens.less_than)&&(n=this._consume(h.storage_class,"Expected storage_class.").toString(),this._match(h.tokens.comma)&&(r=this._consume(h.access_mode,"Expected access_mode.").toString()),this._consume(h.tokens.greater_than,"Expected '>'."));let o=this._consume(h.tokens.name,"Expected variable name"),s=null;if(this._match(h.tokens.colon)){let i=this._attribute();s=this._type_decl(),s!=null&&(s.attributes=i)}return this._updateNode(new Ot(o.toString(),s,n,r,null),e)}_override_decl(){if(!this._match(h.keywords.override))return null;let e=this._consume(h.tokens.name,"Expected variable name"),n=null;if(this._match(h.tokens.colon)){let r=this._attribute();n=this._type_decl(),n!=null&&(n.attributes=r)}return this._updateNode(new Ni(e.toString(),n,null))}_diagnostic(){this._consume(h.tokens.paren_left,"Expected '('");let e=this._consume(h.tokens.ident,"Expected severity control name.");this._consume(h.tokens.comma,"Expected ','");let n=this._consume(h.tokens.ident,"Expected diagnostic rule name.").toString();return this._match(h.tokens.period)&&(n+=`.${this._consume(h.tokens.ident,"Expected diagnostic message.").toString()}`),this._consume(h.tokens.paren_right,"Expected ')'"),this._updateNode(new su(e.toString(),n))}_enable_directive(){let e=this._consume(h.tokens.ident,"identity expected.");return this._updateNode(new hd(e.toString()))}_requires_directive(){let e=[this._consume(h.tokens.ident,"identity expected.").toString()];for(;this._match(h.tokens.comma);){let n=this._consume(h.tokens.ident,"identity expected.");e.push(n.toString())}return this._updateNode(new pd(e))}_type_alias(){let e=this._consume(h.tokens.ident,"identity expected.");this._consume(h.tokens.equal,"Expected '=' for type alias.");let n=this._type_decl();if(n===null)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(n.name)&&(n=this._context.aliases.get(n.name).type);let r=this._updateNode(new Hi(e.toString(),n));return this._context.aliases.set(r.name,r),r}_type_decl(){if(this._check([h.tokens.ident,...h.texel_format,h.keywords.bool,h.keywords.f32,h.keywords.i32,h.keywords.u32])){let r=this._advance().toString();if(this._context.structs.has(r))return this._context.structs.get(r);if(this._context.aliases.has(r))return this._context.aliases.get(r).type;if(!this._getType(r)){let o=this._updateNode(new cu(r));return this._forwardTypeCount++,o}return this._updateNode(new M(r))}let e=this._texture_sampler_types();if(e)return e;if(this._check(h.template_types)){let r=this._advance().toString(),o=null,s=null;return this._match(h.tokens.less_than)&&(o=this._type_decl(),s=null,this._match(h.tokens.comma)&&(s=this._consume(h.access_mode,"Expected access_mode for pointer").toString()),this._consume(h.tokens.greater_than,"Expected '>' for type.")),this._updateNode(new B(r,o,s))}if(this._match(h.keywords.ptr)){let r=this._previous().toString();this._consume(h.tokens.less_than,"Expected '<' for pointer.");let o=this._consume(h.storage_class,"Expected storage_class for pointer");this._consume(h.tokens.comma,"Expected ',' for pointer.");let s=this._type_decl(),i=null;return this._match(h.tokens.comma)&&(i=this._consume(h.access_mode,"Expected access_mode for pointer").toString()),this._consume(h.tokens.greater_than,"Expected '>' for pointer."),this._updateNode(new ts(r,o.toString(),s,i))}let n=this._attribute();if(this._match(h.keywords.array)){let r=null,o=-1,s=this._previous(),i=null;if(this._match(h.tokens.less_than)){r=this._type_decl(),this._context.aliases.has(r.name)&&(r=this._context.aliases.get(r.name).type);let c="";if(this._match(h.tokens.comma)){i=this._shift_expression();try{c=i.constEvaluate(this._exec).toString(),i=null}catch{c="1"}}this._consume(h.tokens.greater_than,"Expected '>' for array."),o=c?parseInt(c):0}let a=this._updateNode(new Lr(s.toString(),n,r,o));return i&&this._deferArrayCountEval.push({arrayType:a,countNode:i}),a}return null}_texture_sampler_types(){if(this._match(h.sampler_type))return this._updateNode(new Gr(this._previous().toString(),null,null));if(this._match(h.depth_texture_type))return this._updateNode(new Gr(this._previous().toString(),null,null));if(this._match(h.sampled_texture_type)||this._match(h.multisampled_texture_type)){let e=this._previous();this._consume(h.tokens.less_than,"Expected '<' for sampler type.");let n=this._type_decl();return this._consume(h.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new Gr(e.toString(),n,null))}if(this._match(h.storage_texture_type)){let e=this._previous();this._consume(h.tokens.less_than,"Expected '<' for sampler type.");let n=this._consume(h.texel_format,"Invalid texel format.").toString();this._consume(h.tokens.comma,"Expected ',' after texel format.");let r=this._consume(h.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(h.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new Gr(e.toString(),n,r))}return null}_attribute(){let e=[];for(;this._match(h.tokens.attr);){let n=this._consume(h.attribute_name,"Expected attribute name"),r=this._updateNode(new xu(n.toString(),null));if(this._match(h.tokens.paren_left)){if(r.value=this._consume(h.literal_or_ident,"Expected attribute value").toString(),this._check(h.tokens.comma)){this._advance();do{let o=this._consume(h.literal_or_ident,"Expected attribute value").toString();r.value instanceof Array||(r.value=[r.value]),r.value.push(o)}while(this._match(h.tokens.comma))}this._consume(h.tokens.paren_right,"Expected ')'")}e.push(r)}return e.length==0?null:e}},_u=class extends Fr{constructor(e){super(),e&&this.update(e)}update(e){let n=new Ed().parse(e);this.updateAST(n)}};var B1=`/*TEXTURES*/\r
\r
/*TEXTURES*/\r
\r
\r
/*GLOBALS*/\r
\r
/*GLOBALS*/\r
\r
struct FragInput {\r
  @builtin(position) position : vec4f,\r
  @location(0) uv : vec2f,\r
}\r
\r
@vertex\r
fn VSMain(@builtin(vertex_index) vertexIndex: u32) -> FragInput {\r
  var output: FragInput;\r
\r
  output.position = vec4(array(\r
    vec2( 1.0,  1.0),\r
    vec2( 1.0, -1.0),\r
    vec2(-1.0, -1.0),\r
    vec2( 1.0,  1.0),\r
    vec2(-1.0, -1.0),\r
    vec2(-1.0,  1.0),\r
  )[vertexIndex], 0.5, 1.0);\r
\r
  output.uv = array(\r
    vec2(1.0, 0.0),\r
    vec2(1.0, 1.0),\r
    vec2(0.0, 1.0),\r
    vec2(1.0, 0.0),\r
    vec2(0.0, 1.0),\r
    vec2(0.0, 0.0),\r
  )[vertexIndex];\r
\r
  return output;\r
}\r
\r
struct Output {\r
/*OUTPUT_STRUCT*/\r
\r
/*OUTPUT_STRUCT*/\r
}\r
\r
@fragment\r
fn FSMain(@location(0) uv : vec2f) -> Output  {\r
  /*FRAGMENT_BODY*/\r
\r
  /*FRAGMENT_BODY*/\r
}`;function J3(t){return Xc(B1,[{delimiter:"/*TEXTURES*/",replaceWith:t.textures},{delimiter:"/*GLOBALS*/",replaceWith:t.globals},{delimiter:"/*OUTPUT_STRUCT*/",replaceWith:t.outputStruct},{delimiter:"/*FRAGMENT_BODY*/",replaceWith:t.fragmentBody}])}var w1={r8unorm:"f32",r8snorm:"f32",r8uint:"u32",r8sint:"i32",r16unorm:"u32",r16snorm:"i32",r16uint:"u32",r16sint:"i32",r16float:"f32",rg8unorm:"vec2f",rg8snorm:"vec2f",rg8uint:"vec2u",rg8sint:"vec2i",r32uint:"u32",r32sint:"i32",r32float:"f32",rg16unorm:"vec2f",rg16snorm:"vec2f",rg16uint:"vec2u",rg16sint:"vec2i",rg16float:"vec2f",rgba8unorm:"vec4f","rgba8unorm-srgb":"vec4f",rgba8snorm:"vec4f",rgba8uint:"vec4u",rgba8sint:"vec4i",bgra8unorm:"vec4f","bgra8unorm-srgb":"vec4f",rgb9e5ufloat:"vec4f",rgb10a2uint:"vec4u",rgb10a2unorm:"vec4f",rg11b10ufloat:"vec4f",rg32uint:"vec2u",rg32sint:"vec2i",rg32float:"vec2f",rgba16unorm:"vec4u",rgba16snorm:"vec4i",rgba16uint:"vec4u",rgba16sint:"vec4i",rgba16float:"vec4f",rgba32uint:"vec4u",rgba32sint:"vec4i",rgba32float:"vec4f"};function Gt(t,e){let n="",r="",o=0,s=[];for(let y of e.samplers??[{}])r+=`@group(0) @binding(${o})
var sampler${o}: sampler;
`,s.push(t.createSampler(y)),o++;o=0;let i=new Map,a=new Map,c=Object.entries(e.inputs);for(let[y,A]of c)r+=`@group(1) @binding(${o}) 
var tex_${y}: texture_${A.dimensionality??"2d"}<${A.type??"f32"}>;`,i.set(y,o),n+=`  var ${y} = textureSample(tex_${y}, sampler${A.sampleWith??0}, uv);
`,o++;let u="",l=0;for(let[y,A]of Object.entries(e.outputs))u+=`  @location(${l}) ${y}: ${w1[A]},
`,a.set(y,l),n+=`  var ${y}: ${w1[A]};
`,l++;n+=e.source,n+=`
  var OUTPUT: Output;
`;let f=Object.entries(e.outputs);for(let[y,A]of f)n+=`  OUTPUT.${y} = ${y};
`;n+="return OUTPUT;";let m="";if(m+=e.globals??"",e.uniforms){m+=`@group(2) @binding(0) var<uniform> params : Params;
struct Params {
`;for(let[y,A]of Object.entries(e.uniforms??{}))m+=`  ${y}: ${A},
`;m+="}"}let d=J3({textures:r,globals:m,outputStruct:u,fragmentBody:n}),E=new _u(d).getBindGroups(),S=t.createShaderModule({code:d}),x=t.createRenderPipeline({layout:"auto",vertex:{module:S},fragment:{module:S,targets:f.map(([y,A])=>({format:A}))}}),g=t.createBindGroup({layout:x.getBindGroupLayout(0),entries:s.map((y,A)=>({resource:y,binding:A}))});return{pipeline:x,makeUniformBuffer(){let y=t.createBuffer({size:1024,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM}),A=t.createBindGroup({layout:x.getBindGroupLayout(2),entries:[{resource:y,binding:0}]}),V={buffer:y,bindGroup:A,setBuffer(I){let D=ro({bindGroups:E},2,0,I);return t.queue.writeBuffer(y,0,D),V}};return V},withInputs(y){let A=t.createBindGroup({layout:x.getBindGroupLayout(1),entries:c.map(([V,I],D)=>({resource:y[V],binding:D}))});return V=>(I,D,k)=>{let O=I.beginRenderPass({colorAttachments:f.map(([G,ue])=>D[G]instanceof GPUTextureView?{view:D[G],clearValue:[0,0,0,1],loadOp:"clear",storeOp:"store"}:D[G])});O.setPipeline(x),O.setBindGroup(0,g),O.setBindGroup(1,A),V&&O.setBindGroup(2,V.bindGroup),O.draw(6),O.end()}}}}var Tu={create(){},onDestroy(){},async init(){let t=document.createElement("canvas");return t.width=2560,t.height=1440,document.body.appendChild(t),{canvas:t}},brand:"mainCanvas",dependencies:[],globalDependencies:[]},Ji=Symbol("GBuffer Pass"),Md=Symbol("Lighting Pass");function j3(t,e){let n=t.createTexture({dimension:"2d",format:"rgba8unorm",label:"albedo",size:e,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),r=t.createTexture({dimension:"2d",format:"rgba16float",label:"normal",size:e,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),o=t.createTexture({dimension:"2d",format:"rgba32float",label:"position",size:e,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.STORAGE_BINDING}),s=t.createTexture({size:e,format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT});return{albedo:n,normal:r,position:o,depth:s}}function X3(t,e){let n=(s,i)=>t.createTexture({size:e.map(a=>Math.ceil(a*s)),format:i,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_DST|GPUTextureUsage.TEXTURE_BINDING}),r=n(1,"rgba8unorm"),o=n(1,"rgba8unorm");return{color:r,color2:o,depth:n(2,"rg8unorm"),depth2:n(2,"rg8unorm"),nearField:n(2,"rgba8unorm"),nearField2:n(2,"rgba8unorm"),farField:n(2,"rgba8unorm"),farField2:n(2,"rgba8unorm")}}function zr(t,e,n,r){let o=t.createBuffer({label:r,usage:n,size:e.byteLength});return t.queue.writeBuffer(o,0,e),o}function Y3(t,e,n){let r=n&&e[0]===n.dimensions[0]&&e[1]===n.dimensions[1]?n:void 0;return r||{gbuffer:j3(t,e),dimensions:e,lighting:X3(t,e)}}function Q3(t){return zr(t,new Float32Array([1,-1,-1,1,-1,-1,1,-1,1,1,-1,1]),GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST,"fullscreen quad for blit")}function is(t,e){return to(e-t+1).map(n=>n-t)}var mt={create(){},onDestroy(){},async init(t){let e=(await t(Tu)).canvas,n=e.getContext("webgpu"),o=await(await navigator.gpu.requestAdapter()).requestDevice({requiredFeatures:["float32-filterable"],requiredLimits:{}}),s=navigator.gpu.getPreferredCanvasFormat();n.configure({device:o,format:s});let i=new Set;return{blit:Gt(o,{inputs:{x:{}},outputs:{y:"rgba8unorm"},source:"y = x;"}),blitToCanvas:Gt(o,{inputs:{x:{}},outputs:{y:s},source:"y = x;"}),nearFieldDepthMask:Gt(o,{inputs:{color:{},depth:{}},uniforms:{m:"f32",b:"f32"},outputs:{near_field:"rgba8unorm"},source:`near_field = 
          vec4f(color.rgb, params.m * depth.x + params.b);
        `}),farFieldDepthMask:Gt(o,{inputs:{color:{},depth:{}},uniforms:{m:"f32",b:"f32"},outputs:{far_field:"rgba8unorm"},source:`far_field = mix(
          vec4f(0.0, 0.0, 0.0, 1.0),
          color,
          clamp(
            params.m * depth.x + params.b, 
            0.0, 1.0)
        );`}),maxFilter:Gt(o,{inputs:{color:{}},uniforms:{dims:"vec2f"},outputs:{blurred:"rgba8unorm"},source:`
        blurred = vec4f(0.0, 0.0, 0.0, 0.0);
        var size = vec2f(textureDimensions(tex_color).xy);
        for (var y = -params.dims.y; y < params.dims.y + 1.0; y += 1.0) {
          for (var x = -params.dims.x; x < params.dims.x + 1.0; x += 1.0) {
            blurred = max(
              blurred,
              textureSample(tex_color, sampler0, uv + vec2f(x, y) / size)
            );
          } 
        } 
        `}),boxBlur:Gt(o,{inputs:{color:{}},uniforms:{dims:"vec2f"},outputs:{blurred:"rgba8unorm"},source:`
        blurred = vec4f(0.0, 0.0, 0.0, 0.0);
        var size = vec2f(textureDimensions(tex_color).xy);
        let sample_count =
          vec4f(
            (params.dims.x * 2.0 + 1.0) * (params.dims.y * 2.0 + 1.0)
          );
        for (var y = -params.dims.y; y < params.dims.y + 1.0; y += 1.0) {
          for (var x = -params.dims.x; x < params.dims.x + 1.0; x += 1.0) {
            blurred = 
              blurred + textureSample(tex_color, sampler0, uv + vec2f(x, y) / size);
          } 
        } 
        blurred = blurred / sample_count; 
        `}),dofBlend:Gt(o,{inputs:{color:{},near_field:{},far_field:{},depth:{}},uniforms:{near_threshold:"f32",focus:"f32",far_threshold:"f32"},outputs:{combined:"rgba8unorm"},source:`
          let factor = clamp(select(
            (depth.x - params.near_threshold) / (params.focus - params.near_threshold),
            (depth.x - params.focus) / (params.far_threshold - params.focus),
            depth.x > params.focus
          ), 0.0, 1.0);

          var opaque_near_field = near_field;
          opaque_near_field.a = 1.0;

          combined = 
          mix(
          select(
            color,
            mix(color, far_field, factor),
            depth.x > params.focus
          ), opaque_near_field, near_field.a);
          
        `}),generateDofDepthMask:Gt(o,{inputs:{position:{}},uniforms:{near_threshold:"f32",focus:"f32",far_threshold:"f32"},outputs:{combined:"rg8unorm"},source:`
          let depth = position.z;
          combined = vec2f(
            1.0 - (depth - params.near_threshold) / (params.focus - params.near_threshold),
            -(params.focus - depth) / (params.far_threshold - params.focus)
          );
        `}),depthMaskMaxFilter:Gt(o,{inputs:{depth:{}},uniforms:{dims:"vec2f"},outputs:{blurred:"rg8unorm"},source:`
        blurred = vec2f(0.0, depth.y);
        var size = vec2f(textureDimensions(tex_depth).xy);
        for (var y = -params.dims.y; y < params.dims.y + 1.0; y += 1.0) {
          for (var x = -params.dims.x; x < params.dims.x + 1.0; x += 1.0) {
            blurred.x = max(
              blurred.x,
              textureSample(tex_depth, sampler0, uv + vec2f(x, y) / size).x
            );
          }
        }
        `}),applyDofDepthMask:Gt(o,{inputs:{color:{},depth:{}},uniforms:{dims:"vec2f",step:"vec2f"},outputs:{combined:"rgba8unorm"},source:`
        let sample_count = (params.dims.x * 2.0 + 1.0) * (params.dims.y * 2.0 + 1.0);

        var far_field = vec4(0.0); 
        var near_field = vec4(0.0); 

        var far_factor = 0.0;
        var near_factor = 0.0;
        var near_in_range = 0.0;

        var size = vec2f(textureDimensions(tex_depth).xy);

        for (var y = -params.dims.y; y < params.dims.y + 1.0; y += 1.0) {
          for (var x = -params.dims.x; x < params.dims.x + 1.0; x += 1.0) {
            let uv2 = uv + vec2f(x, y) / size * params.step;

            let d = textureSample(tex_depth, sampler0, uv2);
            let pixel = textureSample(tex_color, sampler0, uv2);

            let distance_factor = length(vec2f(x, y)) / length(params.dims) * 1.4;

            let opacity_near = select(0.0, 1.0, distance_factor < d.x);
            let opacity_far = select(0.0, 
              clamp(depth.y - d.y + 0.6, 0.0, 1.0) 
            , distance_factor < d.y 
              // && d.y < depth.y + 0.5
            );

            near_in_range += select(
              0.0,
              1.0,
              d.y == 0.0
            );

            near_factor += opacity_near;
            far_factor += opacity_far;

            // let rgb = pixel.rgb;

            let near_pixel = pixel * opacity_near;
            let far_pixel = pow(pixel * opacity_far, vec4f(1.0));

            // near_field = max(near_field, near_pixel); 
            // far_field = max(far_field, far_pixel); 

            near_field += near_pixel;
            far_field += far_pixel;
          }
        }

        far_field /= far_factor + 0.001;
        near_field /= near_factor + 0.001;
        near_field.a = near_in_range / sample_count;

        combined = far_field * (1 - near_field.a) + near_field * near_field.a;

        /*combined = mix(
          color * vec4f(1.0, 2.0, 4.0, 1.0),
          combined,
          clamp(
            25.0 * depth.y + 256.0 * depth.x
            ,0.0, 1.0
          )
        );*/

         combined = far_field;

         // combined *= vec4f(vec3f(combined.a), 1.0);

         combined.a = 1.0;
        `}),maxKernel:Yc(o,{accumulate:"max(acc, curr)",convert:"acc",kernel:ha(is(-2,2),is(-2,2)).map(([a,c])=>`vec2f(${a}, ${c})`),initial:"vec4f(0.0)"},s),verticalBoxBlur:Yc(o,{accumulate:"acc + curr",convert:"acc / 41.0",kernel:ha(is(0,0),is(-20,20)).map(([a,c])=>`vec2f(${c}, ${c})`),initial:"vec4f(0.0)"},"rgba8unorm"),horizontalBoxBlur:Yc(o,{accumulate:"acc + curr",convert:"acc / 41.0",kernel:ha(is(-20,20),is(0,0)).map(([a,c])=>`vec2f(${a}, ${-a})`),initial:"vec4f(0.0)"},"rgba8unorm"),dofPositionToDepth:y1(o),dofDownsample:p1(o),dofPipeline:h1(o,s),fullscreenQuad:Q3(o),textures:Y3(o,[e.width,e.height]),canvas:e,ctx:n,device:o,projectionMatrix:Lt([0,0,0]),viewMatrix:Lt([0,0,0]),canvasFormat:s,onResize(a){let c=a();return i.add(a),[c,()=>{i.delete(a)}]}}},renderUpdate({state:t,scheduleTask:e}){let{device:n,textures:r,fullscreenQuad:o}=t;e(()=>{let s=n.createCommandEncoder();function i(E,S,x){t.boxBlur.withInputs({color:E.createView()})(t.boxBlur.makeUniformBuffer().setBuffer({dims:[x[0],0]}))(s,{blurred:S.createView()}),t.boxBlur.withInputs({color:S.createView()})(t.boxBlur.makeUniformBuffer().setBuffer({dims:[0,x[1]]}))(s,{blurred:E.createView()})}function a(E,S,x){t.maxFilter.withInputs({color:E.createView()})(t.maxFilter.makeUniformBuffer().setBuffer({dims:[x[0],0]}))(s,{blurred:S.createView()}),t.maxFilter.withInputs({color:S.createView()})(t.maxFilter.makeUniformBuffer().setBuffer({dims:[0,x[1]]}))(s,{blurred:E.createView()})}let c=10,u=20,l=40,f=1/(l-u),m=-u*f,d=-1/(u-c),v=-c*d+1;return t.generateDofDepthMask.withInputs({position:r.gbuffer.position.createView()})(t.generateDofDepthMask.makeUniformBuffer().setBuffer({near_threshold:c,focus:u,far_threshold:l}))(s,{combined:r.lighting.depth.createView()}),t.applyDofDepthMask.withInputs({depth:r.lighting.depth.createView(),color:r.lighting.color.createView()})(t.applyDofDepthMask.makeUniformBuffer().setBuffer({dims:[12,12],step:[2.3,2.3]}))(s,{combined:r.lighting.color2.createView()}),t.blitToCanvas.withInputs({x:r.lighting.color2.createView()})(void 0)(s,{y:t.ctx.getCurrentTexture().createView()}),n.queue.submit([s.finish()]),Promise.resolve()},[],[Md,Ji])},brand:"sampleWebgpuRenderer",dependencies:[],globalDependencies:[Tu]};var ar={create(t){return{matrix:t}},onDestroy(){},brand:"transform",dependencies:[],globalDependencies:[],init:()=>{}};async function ji(t,e,n,r){return r._parse(t,e,n,r)}function Pe(t,e){if(!t)throw new Error(e||"loader assertion failed.")}var Yt={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},q3=Yt.self||Yt.window||Yt.global||{},W3=Yt.window||Yt.self||Yt.global||{},$3=Yt.global||Yt.self||Yt.window||{},Z3=Yt.document||{};var Cn=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser);var E1=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),eT=E1&&parseFloat(E1[1])||0;var wu=globalThis,tT=globalThis.document||{},Eu=globalThis.process||{},nT=globalThis.console,XV=globalThis.navigator||{};function S1(t){if(typeof window<"u"&&window.process?.type==="renderer"||typeof process<"u"&&process.versions?.electron)return!0;let e=typeof navigator<"u"&&navigator.userAgent,n=t||e;return!!(n&&n.indexOf("Electron")>=0)}function Hr(){return!(typeof process=="object"&&String(process)==="[object process]"&&!process?.browser)||S1()}var Vd="4.1.0";function oT(t){try{let e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch{return null}}var Su=class{constructor(e,n,r="sessionStorage"){this.storage=oT(r),this.id=e,this.config=n,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){let n=JSON.stringify(this.config);this.storage.setItem(this.id,n)}}_loadConfiguration(){let e={};if(this.storage){let n=this.storage.getItem(this.id);e=n?JSON.parse(n):{}}return Object.assign(this.config,e),this}};function C1(t){let e;return t<10?e=`${t.toFixed(2)}ms`:t<100?e=`${t.toFixed(1)}ms`:t<1e3?e=`${t.toFixed(0)}ms`:e=`${(t/1e3).toFixed(2)}s`,e}function M1(t,e=8){let n=Math.max(e-t.length,0);return`${" ".repeat(n)}${t}`}var Cu;(function(t){t[t.BLACK=30]="BLACK",t[t.RED=31]="RED",t[t.GREEN=32]="GREEN",t[t.YELLOW=33]="YELLOW",t[t.BLUE=34]="BLUE",t[t.MAGENTA=35]="MAGENTA",t[t.CYAN=36]="CYAN",t[t.WHITE=37]="WHITE",t[t.BRIGHT_BLACK=90]="BRIGHT_BLACK",t[t.BRIGHT_RED=91]="BRIGHT_RED",t[t.BRIGHT_GREEN=92]="BRIGHT_GREEN",t[t.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",t[t.BRIGHT_BLUE=94]="BRIGHT_BLUE",t[t.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",t[t.BRIGHT_CYAN=96]="BRIGHT_CYAN",t[t.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(Cu||(Cu={}));var sT=10;function V1(t){return typeof t!="string"?t:(t=t.toUpperCase(),Cu[t]||Cu.WHITE)}function D1(t,e,n){return!Hr&&typeof t=="string"&&(e&&(t=`\x1B[${V1(e)}m${t}\x1B[39m`),n&&(t=`\x1B[${V1(n)+sT}m${t}\x1B[49m`)),t}function R1(t,e=["constructor"]){let n=Object.getPrototypeOf(t),r=Object.getOwnPropertyNames(n),o=t;for(let s of r){let i=o[s];typeof i=="function"&&(e.find(a=>s===a)||(o[s]=i.bind(t)))}}function Xi(t,e){if(!t)throw new Error(e||"Assertion failed")}function Pr(){let t;if(Hr()&&wu.performance)t=wu?.performance?.now?.();else if("hrtime"in Eu){let e=Eu?.hrtime?.();t=e[0]*1e3+e[1]/1e6}else t=Date.now();return t}var as={debug:Hr()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},iT={enabled:!0,level:0};function cs(){}var I1={},k1={once:!0},Qt=class{constructor({id:e}={id:""}){this.VERSION=Vd,this._startTs=Pr(),this._deltaTs=Pr(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=e,this.userData={},this._storage=new Su(`__probe-${this.id}__`,iT),this.timeStamp(`${this.id} started`),R1(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((Pr()-this._startTs).toPrecision(10))}getDelta(){return Number((Pr()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(e=!0){return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,n){this._storage.setConfiguration({[e]:n})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,n){if(!e)throw new Error(n||"Assertion failed")}warn(e){return this._getLogFunction(0,e,as.warn,arguments,k1)}error(e){return this._getLogFunction(0,e,as.error,arguments)}deprecated(e,n){return this.warn(`\`${e}\` is deprecated and will be removed in a later version. Use \`${n}\` instead`)}removed(e,n){return this.error(`\`${e}\` has been removed. Use \`${n}\` instead`)}probe(e,n){return this._getLogFunction(e,n,as.log,arguments,{time:!0,once:!0})}log(e,n){return this._getLogFunction(e,n,as.debug,arguments)}info(e,n){return this._getLogFunction(e,n,console.info,arguments)}once(e,n){return this._getLogFunction(e,n,as.debug||as.info,arguments,k1)}table(e,n,r){return n?this._getLogFunction(e,n,console.table||cs,r&&[r],{tag:cT(n)}):cs}time(e,n){return this._getLogFunction(e,n,console.time?console.time:console.info)}timeEnd(e,n){return this._getLogFunction(e,n,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,n){return this._getLogFunction(e,n,console.timeStamp||cs)}group(e,n,r={collapsed:!1}){let o=O1({logLevel:e,message:n,opts:r}),{collapsed:s}=r;return o.method=(s?console.groupCollapsed:console.group)||console.info,this._getLogFunction(o)}groupCollapsed(e,n,r={}){return this.group(e,n,Object.assign({},r,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||cs)}withGroup(e,n,r){this.group(e,n)();try{r()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=G1(e)}_getLogFunction(e,n,r,o,s){if(this._shouldLog(e)){s=O1({logLevel:e,message:n,args:o,opts:s}),r=r||s.method,Xi(r),s.total=this.getTotal(),s.delta=this.getDelta(),this._deltaTs=Pr();let i=s.tag||s.message;if(s.once&&i)if(!I1[i])I1[i]=Pr();else return cs;return n=aT(this.id,s.message,s),r.bind(console,n,...s.args)}return cs}};Qt.VERSION=Vd;function G1(t){if(!t)return 0;let e;switch(typeof t){case"number":e=t;break;case"object":e=t.logLevel||t.priority||0;break;default:return 0}return Xi(Number.isFinite(e)&&e>=0),e}function O1(t){let{logLevel:e,message:n}=t;t.logLevel=G1(e);let r=t.args?Array.from(t.args):[];for(;r.length&&r.shift()!==n;);switch(typeof e){case"string":case"function":n!==void 0&&r.unshift(n),t.message=e;break;case"object":Object.assign(t,e);break;default:}typeof t.message=="function"&&(t.message=t.message());let o=typeof t.message;return Xi(o==="string"||o==="object"),Object.assign(t,{args:r},t.opts)}function aT(t,e,n){if(typeof e=="string"){let r=n.time?M1(C1(n.total)):"";e=n.time?`${t}: ${r}  ${e}`:`${t}: ${e}`,e=D1(e,n.color,n.background)}return e}function cT(t){for(let e in t)for(let n in t[e])return n||"untitled";return"empty"}globalThis.probe={};var gD=new Qt({id:"@probe.gl/log"});var Dd="4.3.3",uT=Dd[0]>="0"&&Dd[0]<="9"?`v${Dd}`:"";function lT(){let t=new Qt({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=t,globalThis.loaders.version=uT,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=t,t}var Rd=lT();function Id(t,e){return U1(t||{},e)}function U1(t,e,n=0){if(n>3)return e;let r={...t};for(let[o,s]of Object.entries(e))s&&typeof s=="object"&&!Array.isArray(s)?r[o]=U1(r[o]||{},e[o],n+1):r[o]=e[o];return r}function kd(t){globalThis.loaders||={},globalThis.loaders.modules||={},Object.assign(globalThis.loaders.modules,t)}function Od(t){return globalThis.loaders?.modules?.[t]||null}var L1="latest";function fT(){return globalThis._loadersgl_?.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.3"),globalThis._loadersgl_.version}var Yi=fT();function Ie(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}var qt={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},CD=qt.self||qt.window||qt.global||{},MD=qt.window||qt.self||qt.global||{},VD=qt.global||qt.self||qt.window||{},DD=qt.document||{};var Se=typeof process!="object"||String(process)!=="[object process]"||process.browser,Qi=typeof importScripts=="function",N1=typeof window<"u"&&typeof window.orientation<"u",F1=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),RD=F1&&parseFloat(F1[1])||0;var qi=class{name;workerThread;isRunning=!0;result;_resolve=()=>{};_reject=()=>{};constructor(e,n){this.name=e,this.workerThread=n,this.result=new Promise((r,o)=>{this._resolve=r,this._reject=o})}postMessage(e,n){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:n})}done(e){Ie(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){Ie(this.isRunning),this.isRunning=!1,this._reject(e)}};var us=class{terminate(){}};var Gd=new Map;function z1(t){Ie(t.source&&!t.url||!t.source&&t.url);let e=Gd.get(t.source||t.url);return e||(t.url&&(e=mT(t.url),Gd.set(t.url,e)),t.source&&(e=H1(t.source),Gd.set(t.source,e))),Ie(e),e}function mT(t){if(!t.startsWith("http"))return t;let e=dT(t);return H1(e)}function H1(t){let e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function dT(t){return`try {
  importScripts('${t}');
} catch (error) {
  console.error(error);
  throw error;
}`}function Ud(t,e=!0,n){let r=n||new Set;if(t){if(P1(t))r.add(t);else if(P1(t.buffer))r.add(t.buffer);else if(!ArrayBuffer.isView(t)){if(e&&typeof t=="object")for(let o in t)Ud(t[o],e,r)}}return n===void 0?Array.from(r):[]}function P1(t){return t?t instanceof ArrayBuffer||typeof MessagePort<"u"&&t instanceof MessagePort||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas:!1}var Ld=()=>{},cr=class{name;source;url;terminated=!1;worker;onMessage;onError;_loadableURL="";static isSupported(){return typeof Worker<"u"&&Se||typeof us<"u"&&!Se}constructor(e){let{name:n,source:r,url:o}=e;Ie(r||o),this.name=n,this.source=r,this.url=o,this.onMessage=Ld,this.onError=s=>console.log(s),this.worker=Se?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=Ld,this.onError=Ld,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,n){n=n||Ud(e),this.worker.postMessage(e,n)}_getErrorFromErrorEvent(e){let n="Failed to load ";return n+=`worker ${this.name} from ${this.url}. `,e.message&&(n+=`${e.message} in `),e.lineno&&(n+=`:${e.lineno}:${e.colno}`),new Error(n)}_createBrowserWorker(){this._loadableURL=z1({source:this.source,url:this.url});let e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=n=>{n.data?this.onMessage(n.data):this.onError(new Error("No data received"))},e.onerror=n=>{this.onError(this._getErrorFromErrorEvent(n)),this.terminated=!0},e.onmessageerror=n=>console.error(n),e}_createNodeWorker(){let e;if(this.url){let r=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;e=new us(r,{eval:!1})}else if(this.source)e=new us(this.source,{eval:!0});else throw new Error("no worker");return e.on("message",n=>{this.onMessage(n)}),e.on("error",n=>{this.onError(n)}),e.on("exit",n=>{}),e}};var Wi=class{name="unnamed";source;url;maxConcurrency=1;maxMobileConcurrency=1;onDebug=()=>{};reuseWorkers=!0;props={};jobQueue=[];idleQueue=[];count=0;isDestroyed=!1;static isSupported(){return cr.isSupported()}constructor(e){this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},e.name!==void 0&&(this.name=e.name),e.maxConcurrency!==void 0&&(this.maxConcurrency=e.maxConcurrency),e.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=e.maxMobileConcurrency),e.reuseWorkers!==void 0&&(this.reuseWorkers=e.reuseWorkers),e.onDebug!==void 0&&(this.onDebug=e.onDebug)}async startJob(e,n=(o,s,i)=>o.done(i),r=(o,s)=>o.error(s)){let o=new Promise(s=>(this.jobQueue.push({name:e,onMessage:n,onError:r,onStart:s}),this));return this._startQueuedJob(),await o}async _startQueuedJob(){if(!this.jobQueue.length)return;let e=this._getAvailableWorker();if(!e)return;let n=this.jobQueue.shift();if(n){this.onDebug({message:"Starting job",name:n.name,workerThread:e,backlog:this.jobQueue.length});let r=new qi(n.name,e);e.onMessage=o=>n.onMessage(r,o.type,o.payload),e.onError=o=>n.onError(r,o),n.onStart(r);try{await r.result}catch(o){console.error(`Worker exception: ${o}`)}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){!Se||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;let e=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new cr({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return N1?this.maxMobileConcurrency:this.maxConcurrency}};var hT={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},Kr=class t{props;workerPools=new Map;static _workerFarm;static isSupported(){return cr.isSupported()}static getWorkerFarm(e={}){return t._workerFarm=t._workerFarm||new t({}),t._workerFarm.setProps(e),t._workerFarm}constructor(e){this.props={...hT},this.setProps(e),this.workerPools=new Map}destroy(){for(let e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(let n of this.workerPools.values())n.setProps(this._getWorkerPoolProps())}getWorkerPool(e){let{name:n,source:r,url:o}=e,s=this.workerPools.get(n);return s||(s=new Wi({name:n,source:r,url:o}),s.setProps(this._getWorkerPoolProps()),this.workerPools.set(n,s)),s}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}};function Fd(t,e={}){let n=e[t.id]||{},r=Se?`${t.id}-worker.js`:`${t.id}-worker-node.js`,o=n.workerUrl;if(!o&&t.id==="compression"&&(o=e.workerUrl),e._workerType==="test"&&(Se?o=`modules/${t.module}/dist/${r}`:o=`modules/${t.module}/src/workers/${t.id}-worker-node.ts`),!o){let s=t.version;s==="latest"&&(s=L1);let i=s?`@${s}`:"";o=`https://unpkg.com/@loaders.gl/${t.module}${i}/dist/${r}`}return Ie(o),o}function Nd(t,e=Yi){Ie(t,"no worker provided");let n=t.version;return!(!e||!n)}var zd={};async function Wt(t,e=null,n={},r=null){return e&&(t=K1(t,e,n,r)),zd[t]=zd[t]||pT(t),await zd[t]}function K1(t,e,n={},r=null){if(!n.useLocalLibraries&&t.startsWith("http"))return t;r=r||t;let o=n.modules||{};return o[r]?o[r]:Se?n.CDN?(Ie(n.CDN.startsWith("http")),`${n.CDN}/${e}@${Yi}/dist/libs/${r}`):Qi?`../src/libs/${r}`:`modules/${e}/src/libs/${r}`:`modules/${e}/dist/libs/${r}`}async function pT(t){if(t.endsWith("wasm"))return await xT(t);if(!Se)try{let{requireFromFile:n}=globalThis.loaders||{};return await n?.(t)}catch(n){return console.error(n),null}if(Qi)return importScripts(t);let e=await gT(t);return yT(e,t)}function yT(t,e){if(!Se){let{requireFromString:r}=globalThis.loaders||{};return r?.(t,e)}if(Qi)return eval.call(globalThis,t),null;let n=document.createElement("script");n.id=e;try{n.appendChild(document.createTextNode(t))}catch{n.text=t}return document.body.appendChild(n),null}async function xT(t){let{readFileAsArrayBuffer:e}=globalThis.loaders||{};return Se||!e||t.startsWith("http")?await(await fetch(t)).arrayBuffer():await e(t)}async function gT(t){let{readFileAsText:e}=globalThis.loaders||{};return Se||!e||t.startsWith("http")?await(await fetch(t)).text():await e(t)}function Hd(t,e){return!Kr.isSupported()||!Se&&!e?._nodeWorkers?!1:t.worker&&e?.worker}async function Pd(t,e,n,r,o){let s=t.id,i=Fd(t,n),c=Kr.getWorkerFarm(n).getWorkerPool({name:s,url:i});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));let u=await c.startJob("process-on-worker",AT.bind(null,o));return u.postMessage("process",{input:e,options:n,context:r}),await(await u.result).result}async function AT(t,e,n,r){switch(n){case"done":e.done(r);break;case"error":e.error(new Error(r.error));break;case"process":let{id:o,input:s,options:i}=r;try{let a=await t(s,i);e.postMessage("done",{id:o,result:a})}catch(a){let c=a instanceof Error?a.message:"unknown error";e.postMessage("error",{id:o,error:c})}break;default:console.warn(`parse-with-worker unknown message ${n}`)}}function j1(t,e=5){return typeof t=="string"?t.slice(0,e):ArrayBuffer.isView(t)?J1(t.buffer,t.byteOffset,e):t instanceof ArrayBuffer?J1(t,0,e):""}function J1(t,e,n){if(t.byteLength<=e+n)return"";let r=new DataView(t),o="";for(let s=0;s<n;s++)o+=String.fromCharCode(r.getUint8(e+s));return o}function Kd(t){try{return JSON.parse(t)}catch{throw new Error(`Failed to parse JSON from data starting with "${j1(t)}"`)}}function Jd(t,e,n){if(n=n||t.byteLength,t.byteLength<n||e.byteLength<n)return!1;let r=new Uint8Array(t),o=new Uint8Array(e);for(let s=0;s<r.length;++s)if(r[s]!==o[s])return!1;return!0}function jd(...t){return X1(t)}function X1(t){let e=t.map(s=>s instanceof ArrayBuffer?new Uint8Array(s):s),n=e.reduce((s,i)=>s+i.byteLength,0),r=new Uint8Array(n),o=0;for(let s of e)r.set(s,o),o+=s.byteLength;return r.buffer}function $i(t,e,n){let r=n!==void 0?new Uint8Array(t).subarray(e,e+n):new Uint8Array(t).subarray(e);return new Uint8Array(r).buffer}function ur(t,e){return Pe(t>=0),Pe(e>0),t+(e-1)&~(e-1)}function Xd(t,e,n){let r;if(t instanceof ArrayBuffer)r=new Uint8Array(t);else{let o=t.byteOffset,s=t.byteLength;r=new Uint8Array(t.buffer||t.arrayBuffer,o,s)}return e.set(r,n),n+ur(r.byteLength,4)}async function Yd(t){let e=[];for await(let n of t)e.push(n);return jd(...e)}var vT="",Y1={};function Qd(t){for(let e in Y1)if(t.startsWith(e)){let n=Y1[e];t=t.replace(e,n)}return!t.startsWith("http://")&&!t.startsWith("https://")&&(t=`${vT}${t}`),t}function Q1(t){return t&&typeof t=="object"&&t.isBuffer}function Mu(t){if(Q1(t))return t;if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);if(typeof t=="string"){let e=t;return new TextEncoder().encode(e).buffer}if(t&&typeof t=="object"&&t._toArrayBuffer)return t._toArrayBuffer();throw new Error("toArrayBuffer")}var Jr={};ht(Jr,{dirname:()=>_T,filename:()=>bT,join:()=>TT,resolve:()=>BT});function q1(){if(typeof process<"u"&&typeof process.cwd<"u")return process.cwd();let t=window.location?.pathname;return t?.slice(0,t.lastIndexOf("/")+1)||""}function bT(t){let e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(e+1):""}function _T(t){let e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(0,e):""}function TT(...t){return t=t.map((n,r)=>(r&&(n=n.replace(new RegExp("^/"),"")),r!==t.length-1&&(n=n.replace(new RegExp("/$"),"")),n)),t.join("/")}function BT(...t){let e=[];for(let s=0;s<t.length;s++)e[s]=t[s];let n="",r=!1,o;for(let s=e.length-1;s>=-1&&!r;s--){let i;s>=0?i=e[s]:(o===void 0&&(o=q1()),i=o),i.length!==0&&(n=`${i}/${n}`,r=i.charCodeAt(0)===Zi)}return n=wT(n,!r),r?`/${n}`:n.length>0?n:"."}var Zi=47,qd=46;function wT(t,e){let n="",r=-1,o=0,s,i=!1;for(let a=0;a<=t.length;++a){if(a<t.length)s=t.charCodeAt(a);else{if(s===Zi)break;s=Zi}if(s===Zi){if(!(r===a-1||o===1))if(r!==a-1&&o===2){if(n.length<2||!i||n.charCodeAt(n.length-1)!==qd||n.charCodeAt(n.length-2)!==qd){if(n.length>2){let c=n.length-1,u=c;for(;u>=0&&n.charCodeAt(u)!==Zi;--u);if(u!==c){n=u===-1?"":n.slice(0,u),r=a,o=0,i=!1;continue}}else if(n.length===2||n.length===1){n="",r=a,o=0,i=!1;continue}}e&&(n.length>0?n+="/..":n="..",i=!0)}else{let c=t.slice(r+1,a);n.length>0?n+=`/${c}`:n=c,i=!1}r=a,o=0}else s===qd&&o!==-1?++o:o=-1}return n}var ET=t=>typeof t=="boolean",ea=t=>typeof t=="function",jr=t=>t!==null&&typeof t=="object",Wd=t=>jr(t)&&t.constructor==={}.constructor;var W1=t=>!!t&&typeof t[Symbol.iterator]=="function",$1=t=>t&&typeof t[Symbol.asyncIterator]=="function";var Mt=t=>typeof Response<"u"&&t instanceof Response||t&&t.arrayBuffer&&t.text&&t.json;var $t=t=>typeof Blob<"u"&&t instanceof Blob,Z1=t=>t&&typeof t=="object"&&t.isBuffer;var ST=t=>typeof ReadableStream<"u"&&t instanceof ReadableStream||jr(t)&&ea(t.tee)&&ea(t.cancel)&&ea(t.getReader);var CT=t=>jr(t)&&ea(t.read)&&ea(t.pipe)&&ET(t.readable),Vu=t=>ST(t)||CT(t);var Du=class extends Error{constructor(e,n){super(e),this.reason=n.reason,this.url=n.url,this.response=n.response}reason;url;response};var MT=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,VT=/^([-\w.]+\/[-\w.+]+)/;function $d(t,e){return t.toLowerCase()===e.toLowerCase()}function e2(t){let e=VT.exec(t);return e?e[1]:t}function Zd(t){let e=MT.exec(t);return e?e[1]:""}var t2=/\?.*/;function n2(t){let e=t.match(t2);return e&&e[0]}function ls(t){return t.replace(t2,"")}function r2(t){if(t.length<50)return t;let e=t.slice(t.length-15);return`${t.substr(0,32)}...${e}`}function Xr(t){return Mt(t)?t.url:$t(t)?t.name||"":typeof t=="string"?t:""}function ta(t){if(Mt(t)){let e=t,n=e.headers.get("content-type")||"",r=ls(e.url);return e2(n)||Zd(r)}return $t(t)?t.type||"":typeof t=="string"?Zd(t):""}function o2(t){return Mt(t)?t.headers["content-length"]||-1:$t(t)?t.size:typeof t=="string"?t.length:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?t.byteLength:-1}async function Ru(t){if(Mt(t))return t;let e={},n=o2(t);n>=0&&(e["content-length"]=String(n));let r=Xr(t),o=ta(t);o&&(e["content-type"]=o);let s=await RT(t);s&&(e["x-first-bytes"]=s),typeof t=="string"&&(t=new TextEncoder().encode(t));let i=new Response(t,{headers:e});return Object.defineProperty(i,"url",{value:r}),i}async function s2(t){if(!t.ok)throw await DT(t)}async function DT(t){let e=r2(t.url),n=`Failed to fetch resource (${t.status}) ${t.statusText}: ${e}`;n=n.length>100?`${n.slice(0,100)}...`:n;let r={reason:t.statusText,url:t.url,response:t};try{let o=t.headers.get("Content-Type");r.reason=!t.bodyUsed&&o?.includes("application/json")?await t.json():await t.text()}catch{}return new Du(n,r)}async function RT(t){if(typeof t=="string")return`data:,${t.slice(0,5)}`;if(t instanceof Blob){let n=t.slice(0,5);return await new Promise(r=>{let o=new FileReader;o.onload=s=>r(s?.target?.result),o.readAsDataURL(n)})}if(t instanceof ArrayBuffer){let n=t.slice(0,5);return`data:base64,${IT(n)}`}return null}function IT(t){let e="",n=new Uint8Array(t);for(let r=0;r<n.byteLength;r++)e+=String.fromCharCode(n[r]);return btoa(e)}function kT(t){return!OT(t)&&!GT(t)}function OT(t){return t.startsWith("http:")||t.startsWith("https:")}function GT(t){return t.startsWith("data:")}async function eh(t,e){if(typeof t=="string"){let n=Qd(t);return kT(n)&&globalThis.loaders?.fetchNode?globalThis.loaders?.fetchNode(n,e):await fetch(n,e)}return await Ru(t)}var th=new Qt({id:"loaders.gl"}),Iu=class{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}},ku=class{console;constructor(){this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}};var nh={fetch:null,mimeType:void 0,nothrow:!1,log:new ku,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:Cn,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},i2={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function rh(){globalThis.loaders=globalThis.loaders||{};let{loaders:t}=globalThis;return t._state||(t._state={}),t._state}function oh(){let t=rh();return t.globalOptions=t.globalOptions||{...nh},t.globalOptions}function u2(t,e,n,r){return n=n||[],n=Array.isArray(n)?n:[n],UT(t,n),FT(e,t,r)}function UT(t,e){a2(t,null,nh,i2,e);for(let n of e){let r=t&&t[n.id]||{},o=n.options&&n.options[n.id]||{},s=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};a2(r,n.id,o,s,e)}}function a2(t,e,n,r,o){let s=e||"Top level",i=e?`${e}.`:"";for(let a in t){let c=!e&&jr(t[a]),u=a==="baseUri"&&!e,l=a==="workerUrl"&&e;if(!(a in n)&&!u&&!l){if(a in r)th.warn(`${s} loader option '${i}${a}' no longer supported, use '${r[a]}'`)();else if(!c){let f=LT(a,o);th.warn(`${s} loader option '${i}${a}' not recognized. ${f}`)()}}}}function LT(t,e){let n=t.toLowerCase(),r="";for(let o of e)for(let s in o.options){if(t===s)return`Did you mean '${o.id}.${s}'?`;let i=s.toLowerCase();(n.startsWith(i)||i.startsWith(n))&&(r=r||`Did you mean '${o.id}.${s}'?`)}return r}function FT(t,e,n){let o={...t.options||{}};return NT(o,n),o.log===null&&(o.log=new Iu),c2(o,oh()),c2(o,e),o}function c2(t,e){for(let n in e)if(n in e){let r=e[n];Wd(r)&&Wd(t[n])?t[n]={...t[n],...e[n]}:t[n]=e[n]}}function NT(t,e){e&&!("baseUri"in t)&&(t.baseUri=e)}function sh(t){return t?(Array.isArray(t)&&(t=t[0]),Array.isArray(t?.extensions)):!1}function ih(t){Pe(t,"null loader"),Pe(sh(t),"invalid loader");let e;return Array.isArray(t)&&(e=t[1],t=t[0],t={...t,options:{...t.options,...e}}),(t?.parseTextSync||t?.parseText)&&(t.text=!0),t.text||(t.binary=!0),t}var zT=()=>{let t=rh();return t.loaderRegistry=t.loaderRegistry||[],t.loaderRegistry};function l2(){return zT()}var HT=/\.([^.]+)$/;async function d2(t,e=[],n,r){if(!h2(t))return null;let o=f2(t,e,{...n,nothrow:!0},r);if(o)return o;if($t(t)&&(t=await t.slice(0,10).arrayBuffer(),o=f2(t,e,n,r)),!o&&!n?.nothrow)throw new Error(p2(t));return o}function f2(t,e=[],n,r){if(!h2(t))return null;if(e&&!Array.isArray(e))return ih(e);let o=[];e&&(o=o.concat(e)),n?.ignoreRegisteredLoaders||o.push(...l2()),KT(o);let s=PT(t,o,n,r);if(!s&&!n?.nothrow)throw new Error(p2(t));return s}function PT(t,e,n,r){let o=Xr(t),s=ta(t),i=ls(o)||r?.url,a=null,c="";return n?.mimeType&&(a=ah(e,n?.mimeType),c=`match forced by supplied MIME type ${n?.mimeType}`),a=a||JT(e,i),c=c||(a?`matched url ${i}`:""),a=a||ah(e,s),c=c||(a?`matched MIME type ${s}`:""),a=a||XT(e,t),c=c||(a?`matched initial data ${y2(t)}`:""),n?.fallbackMimeType&&(a=a||ah(e,n?.fallbackMimeType),c=c||(a?`matched fallback MIME type ${s}`:"")),c&&Rd.log(1,`selectLoader selected ${a?.name}: ${c}.`),a}function h2(t){return!(t instanceof Response&&t.status===204)}function p2(t){let e=Xr(t),n=ta(t),r="No valid loader found (";r+=e?`${Jr.filename(e)}, `:"no url provided, ",r+=`MIME type: ${n?`"${n}"`:"not provided"}, `;let o=t?y2(t):"";return r+=o?` first bytes: "${o}"`:"first bytes: not available",r+=")",r}function KT(t){for(let e of t)ih(e)}function JT(t,e){let n=e&&HT.exec(e),r=n&&n[1];return r?jT(t,r):null}function jT(t,e){e=e.toLowerCase();for(let n of t)for(let r of n.extensions)if(r.toLowerCase()===e)return n;return null}function ah(t,e){for(let n of t)if(n.mimeTypes?.some(r=>$d(e,r))||$d(e,`application/x.${n.id}`))return n;return null}function XT(t,e){if(!e)return null;for(let n of t)if(typeof e=="string"){if(YT(e,n))return n}else if(ArrayBuffer.isView(e)){if(m2(e.buffer,e.byteOffset,n))return n}else if(e instanceof ArrayBuffer&&m2(e,0,n))return n;return null}function YT(t,e){return e.testText?e.testText(t):(Array.isArray(e.tests)?e.tests:[e.tests]).some(r=>t.startsWith(r))}function m2(t,e,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some(o=>QT(t,e,n,o))}function QT(t,e,n,r){if(r instanceof ArrayBuffer)return Jd(r,t,r.byteLength);switch(typeof r){case"function":return r(t);case"string":let o=ch(t,e,r.length);return r===o;default:return!1}}function y2(t,e=5){return typeof t=="string"?t.slice(0,e):ArrayBuffer.isView(t)?ch(t.buffer,t.byteOffset,e):t instanceof ArrayBuffer?ch(t,0,e):""}function ch(t,e,n){if(t.byteLength<e+n)return"";let r=new DataView(t),o="";for(let s=0;s<n;s++)o+=String.fromCharCode(r.getUint8(e+s));return o}function*x2(t,e){let n=e?.chunkSize||262144,r=0,o=new TextEncoder;for(;r<t.length;){let s=Math.min(t.length-r,n),i=t.slice(r,r+s);r+=s,yield o.encode(i)}}function*g2(t,e={}){let{chunkSize:n=262144}=e,r=0;for(;r<t.byteLength;){let o=Math.min(t.byteLength-r,n),s=new ArrayBuffer(o),i=new Uint8Array(t,r,o);new Uint8Array(s).set(i),r+=o,yield s}}async function*A2(t,e){let n=e?.chunkSize||1048576,r=0;for(;r<t.size;){let o=r+n,s=await t.slice(r,o).arrayBuffer();r=o,yield s}}function uh(t,e){return Cn?qT(t,e):WT(t,e)}async function*qT(t,e){let n=t.getReader(),r;try{for(;;){let o=r||n.read();e?._streamReadAhead&&(r=n.read());let{done:s,value:i}=await o;if(s)return;yield Mu(i)}}catch{n.releaseLock()}}async function*WT(t,e){for await(let n of t)yield Mu(n)}function v2(t,e){if(typeof t=="string")return x2(t,e);if(t instanceof ArrayBuffer)return g2(t,e);if($t(t))return A2(t,e);if(Vu(t))return uh(t,e);if(Mt(t))return uh(t.body,e);throw new Error("makeIterator")}var b2="Cannot convert supplied data type";function $T(t,e,n){if(e.text&&typeof t=="string")return t;if(Z1(t)&&(t=t.buffer),t instanceof ArrayBuffer){let r=t;return e.text&&!e.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(t)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(t);let r=t.buffer,o=t.byteLength||t.length;return(t.byteOffset!==0||o!==r.byteLength)&&(r=r.slice(t.byteOffset,t.byteOffset+o)),r}throw new Error(b2)}async function _2(t,e,n){let r=t instanceof ArrayBuffer||ArrayBuffer.isView(t);if(typeof t=="string"||r)return $T(t,e,n);if($t(t)&&(t=await Ru(t)),Mt(t)){let o=t;return await s2(o),e.binary?await o.arrayBuffer():await o.text()}if(Vu(t)&&(t=v2(t,n)),W1(t)||$1(t))return Yd(t);throw new Error(b2)}function T2(t,e){let n=oh(),r=t||n;return typeof r.fetch=="function"?r.fetch:jr(r.fetch)?o=>eh(o,r.fetch):e?.fetch?e?.fetch:eh}function B2(t,e,n){if(n)return n;let r={fetch:T2(e,t),...t};if(r.url){let o=ls(r.url);r.baseUrl=o,r.queryString=n2(r.url),r.filename=Jr.filename(o),r.baseUrl=Jr.dirname(o)}return Array.isArray(r.loaders)||(r.loaders=null),r}function w2(t,e){if(t&&!Array.isArray(t))return t;let n;if(t&&(n=Array.isArray(t)?t:[t]),e&&e.loaders){let r=Array.isArray(e.loaders)?e.loaders:[e.loaders];n=n?[...n,...r]:r}return n&&n.length?n:void 0}async function fs(t,e,n,r){e&&!Array.isArray(e)&&!sh(e)&&(r=void 0,n=e,e=void 0),t=await t,n=n||{};let o=Xr(t),i=w2(e,r),a=await d2(t,i,n);return a?(n=u2(n,a,i,o),r=B2({url:o,_parse:fs,loaders:i},n,r||null),await ZT(a,t,n,r)):null}async function ZT(t,e,n,r){if(Nd(t),n=Id(t.options,n),Mt(e)){let s=e,{ok:i,redirected:a,status:c,statusText:u,type:l,url:f}=s,m=Object.fromEntries(s.headers.entries());r.response={headers:m,ok:i,redirected:a,status:c,statusText:u,type:l,url:f}}e=await _2(e,t,n);let o=t;if(o.parseTextSync&&typeof e=="string")return o.parseTextSync(e,n,r);if(Hd(t,n))return await Pd(t,e,n,r,fs);if(o.parseText&&typeof e=="string")return await o.parseText(e,n,r);if(o.parse)return await o.parse(e,n,r);throw Ie(!o.parseSync),new Error(`${t.id} loader - no parser found and worker is disabled`)}function E2(t){switch(t.constructor){case Int8Array:return"int8";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int16Array:return"int16";case Uint16Array:return"uint16";case Int32Array:return"int32";case Uint32Array:return"uint32";case Float32Array:return"float32";case Float64Array:return"float64";default:return"null"}}function lh(t){let e=1/0,n=1/0,r=1/0,o=-1/0,s=-1/0,i=-1/0,a=t.POSITION?t.POSITION.value:[],c=a&&a.length;for(let u=0;u<c;u+=3){let l=a[u],f=a[u+1],m=a[u+2];e=l<e?l:e,n=f<n?f:n,r=m<r?m:r,o=l>o?l:o,s=f>s?f:s,i=m>i?m:i}return[[e,n,r],[o,s,i]]}function fh(t,e,n){let r=E2(e.value),o=n||S2(e);return{name:t,type:{type:"fixed-size-list",listSize:e.size,children:[{name:"value",type:r}]},nullable:!1,metadata:o}}function S2(t){let e={};return"byteOffset"in t&&(e.byteOffset=t.byteOffset.toString(10)),"byteStride"in t&&(e.byteStride=t.byteStride.toString(10)),"normalized"in t&&(e.normalized=t.normalized.toString()),e}var Ah={};ht(Ah,{createExtMeshFeatures:()=>zB,decode:()=>GB,encode:()=>UB,name:()=>OB});var C2="4.3.3";var eB=globalThis.loaders?.parseImageNode,mh=typeof Image<"u",dh=typeof ImageBitmap<"u",tB=!!eB,hh=Cn?!0:tB;function M2(t){switch(t){case"auto":return dh||mh||hh;case"imagebitmap":return dh;case"image":return mh;case"data":return hh;default:throw new Error(`@loaders.gl/images: image ${t} not supported in this environment`)}}function V2(){if(dh)return"imagebitmap";if(mh)return"image";if(hh)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function D2(t){let e=nB(t);if(!e)throw new Error("Not an image");return e}function na(t){switch(D2(t)){case"data":return t;case"image":case"imagebitmap":let e=document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("getImageData");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0),n.getImageData(0,0,t.width,t.height);default:throw new Error("getImageData")}}function nB(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&t instanceof Image?"image":t&&typeof t=="object"&&t.data&&t.width&&t.height?"data":null}var rB=/^data:image\/svg\+xml/,oB=/\.svg((\?|#).*)?$/;function Ou(t){return t&&(rB.test(t)||oB.test(t))}function R2(t,e){if(Ou(e)){let r=new TextDecoder().decode(t);try{typeof unescape=="function"&&typeof encodeURIComponent=="function"&&(r=unescape(encodeURIComponent(r)))}catch(s){throw new Error(s.message)}return`data:image/svg+xml;base64,${btoa(r)}`}return ph(t,e)}function ph(t,e){if(Ou(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(t)])}async function Gu(t,e,n){let r=R2(t,n),o=self.URL||self.webkitURL,s=typeof r!="string"&&o.createObjectURL(r);try{return await sB(s||r,e)}finally{s&&o.revokeObjectURL(s)}}async function sB(t,e){let n=new Image;return n.src=t,e.image&&e.image.decode&&n.decode?(await n.decode(),n):await new Promise((r,o)=>{try{n.onload=()=>r(n),n.onerror=s=>{let i=s instanceof Error?s.message:"error";o(new Error(i))}}catch(s){o(s)}})}var iB={},I2=!0;async function k2(t,e,n){let r;Ou(n)?r=await Gu(t,e,n):r=ph(t,n);let o=e&&e.imagebitmap;return await aB(r,o)}async function aB(t,e=null){if((cB(e)||!I2)&&(e=null),e)try{return await createImageBitmap(t,e)}catch(n){console.warn(n),I2=!1}return await createImageBitmap(t)}function cB(t){for(let e in t||iB)return!1;return!0}function O2(t){return!mB(t,"ftyp",4)||(t[8]&96)===0?null:uB(t)}function uB(t){switch(lB(t,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}function lB(t,e,n){return String.fromCharCode(...t.slice(e,n))}function fB(t){return[...t].map(e=>e.charCodeAt(0))}function mB(t,e,n=0){let r=fB(e);for(let o=0;o<r.length;++o)if(r[o]!==t[o+n])return!1;return!0}var Zt=!1,ra=!0;function Yr(t){let e=oa(t);return hB(e)||xB(e)||pB(e)||yB(e)||dB(e)}function dB(t){let e=new Uint8Array(t instanceof DataView?t.buffer:t),n=O2(e);return n?{mimeType:n.mimeType,width:0,height:0}:null}function hB(t){let e=oa(t);return e.byteLength>=24&&e.getUint32(0,Zt)===2303741511?{mimeType:"image/png",width:e.getUint32(16,Zt),height:e.getUint32(20,Zt)}:null}function pB(t){let e=oa(t);return e.byteLength>=10&&e.getUint32(0,Zt)===1195984440?{mimeType:"image/gif",width:e.getUint16(6,ra),height:e.getUint16(8,ra)}:null}function yB(t){let e=oa(t);return e.byteLength>=14&&e.getUint16(0,Zt)===16973&&e.getUint32(2,ra)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,ra),height:e.getUint32(22,ra)}:null}function xB(t){let e=oa(t);if(!(e.byteLength>=3&&e.getUint16(0,Zt)===65496&&e.getUint8(2)===255))return null;let{tableMarkers:r,sofMarkers:o}=gB(),s=2;for(;s+9<e.byteLength;){let i=e.getUint16(s,Zt);if(o.has(i))return{mimeType:"image/jpeg",height:e.getUint16(s+5,Zt),width:e.getUint16(s+7,Zt)};if(!r.has(i))return null;s+=2,s+=e.getUint16(s,Zt)}return null}function gB(){let t=new Set([65499,65476,65484,65501,65534]);for(let n=65504;n<65520;++n)t.add(n);return{tableMarkers:t,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function oa(t){if(t instanceof DataView)return t;if(ArrayBuffer.isView(t))return new DataView(t.buffer);if(t instanceof ArrayBuffer)return new DataView(t);throw new Error("toDataView")}async function G2(t,e){let{mimeType:n}=Yr(t)||{},r=globalThis.loaders?.parseImageNode;return Pe(r),await r(t,n)}async function U2(t,e,n){e=e||{};let o=(e.image||{}).type||"auto",{url:s}=n||{},i=AB(o),a;switch(i){case"imagebitmap":a=await k2(t,e,s);break;case"image":a=await Gu(t,e,s);break;case"data":a=await G2(t,e);break;default:Pe(!1)}return o==="data"&&(a=na(a)),a}function AB(t){switch(t){case"auto":case"data":return V2();default:return M2(t),t}}var vB=["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],bB=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],_B={image:{type:"auto",decode:!0}},yh={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:C2,mimeTypes:bB,extensions:vB,parse:U2,tests:[t=>!!Yr(new DataView(t))],options:_B};var xh={};function gh(t){if(xh[t]===void 0){let e=Cn?BB(t):TB(t);xh[t]=e}return xh[t]}function TB(t){let e=["image/png","image/jpeg","image/gif"],n=globalThis.loaders?.imageFormatsNode||e;return!!globalThis.loaders?.parseImageNode&&n.includes(t)}function BB(t){switch(t){case"image/avif":case"image/webp":return wB(t);default:return!0}}function wB(t){try{return document.createElement("canvas").toDataURL(t).indexOf(`data:${t}`)===0}catch{return!1}}function Te(t,e){if(!t)throw new Error(e||"assert failed: gltf")}var Uu={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Lu={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4};var L2=["SCALAR","VEC2","VEC3","VEC4"],EB=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],SB=new Map(EB),CB={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},MB={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},VB={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function Fu(t){return L2[t-1]||L2[0]}function lr(t){let e=SB.get(t.constructor);if(!e)throw new Error("Illegal typed array");return e}function ms(t,e){let n=VB[t.componentType],r=CB[t.type],o=MB[t.componentType],s=t.count*r,i=t.count*r*o;Te(i>=0&&i<=e.byteLength);let a=Lu[t.componentType],c=Uu[t.type];return{ArrayType:n,length:s,byteLength:i,componentByteSize:a,numberOfComponentsInElement:c}}function F2(t,e,n){let r=t.bufferViews[n];Te(r);let o=r.buffer,s=e[o];Te(s);let i=(r.byteOffset||0)+s.byteOffset;return new Uint8Array(s.arrayBuffer,i,r.byteLength)}function N2(t,e,n){let r=typeof n=="number"?t.accessors?.[n]:n;if(!r)throw new Error(`No gltf accessor ${JSON.stringify(n)}`);let o=t.bufferViews?.[r.bufferView||0];if(!o)throw new Error(`No gltf buffer view for accessor ${o}`);let{arrayBuffer:s,byteOffset:i}=e[o.buffer],a=(i||0)+(r.byteOffset||0)+(o.byteOffset||0),{ArrayType:c,length:u,componentByteSize:l,numberOfComponentsInElement:f}=ms(r,o),m=l*f,d=o.byteStride||m;if(typeof o.byteStride>"u"||o.byteStride===m)return new c(s,a,u);let v=new c(u);for(let E=0;E<r.count;E++){let S=new c(s,a+E*d,f);v.set(S,E*f)}return v}function DB(){return{asset:{version:"2.0",generator:"loaders.gl"},buffers:[],extensions:{},extensionsRequired:[],extensionsUsed:[]}}var J=class{gltf;sourceBuffers;byteLength;constructor(e){this.gltf={json:e?.json||DB(),buffers:e?.buffers||[],images:e?.images||[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(e){return this.json[e]}getExtraData(e){return(this.json.extras||{})[e]}hasExtension(e){let n=this.getUsedExtensions().find(o=>o===e),r=this.getRequiredExtensions().find(o=>o===e);return typeof n=="string"||typeof r=="string"}getExtension(e){let n=this.getUsedExtensions().find(o=>o===e),r=this.json.extensions||{};return n?r[e]:null}getRequiredExtension(e){return this.getRequiredExtensions().find(r=>r===e)?this.getExtension(e):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(e,n){return(e.extensions||{})[n]}getScene(e){return this.getObject("scenes",e)}getNode(e){return this.getObject("nodes",e)}getSkin(e){return this.getObject("skins",e)}getMesh(e){return this.getObject("meshes",e)}getMaterial(e){return this.getObject("materials",e)}getAccessor(e){return this.getObject("accessors",e)}getTexture(e){return this.getObject("textures",e)}getSampler(e){return this.getObject("samplers",e)}getImage(e){return this.getObject("images",e)}getBufferView(e){return this.getObject("bufferViews",e)}getBuffer(e){return this.getObject("buffers",e)}getObject(e,n){if(typeof n=="object")return n;let r=this.json[e]&&this.json[e][n];if(!r)throw new Error(`glTF file error: Could not find ${e}[${n}]`);return r}getTypedArrayForBufferView(e){e=this.getBufferView(e);let n=e.buffer,r=this.gltf.buffers[n];Te(r);let o=(e.byteOffset||0)+r.byteOffset;return new Uint8Array(r.arrayBuffer,o,e.byteLength)}getTypedArrayForAccessor(e){let n=this.getAccessor(e);return N2(this.gltf.json,this.gltf.buffers,n)}getTypedArrayForImageData(e){e=this.getAccessor(e);let n=this.getBufferView(e.bufferView),o=this.getBuffer(n.buffer).data,s=n.byteOffset||0;return new Uint8Array(o,s,n.byteLength)}addApplicationData(e,n){return this.json[e]=n,this}addExtraData(e,n){return this.json.extras=this.json.extras||{},this.json.extras[e]=n,this}addObjectExtension(e,n,r){return e.extensions=e.extensions||{},e.extensions[n]=r,this.registerUsedExtension(n),this}setObjectExtension(e,n,r){let o=e.extensions||{};o[n]=r}removeObjectExtension(e,n){let r=e?.extensions||{};if(r[n]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];let o=this.json.extensionsRemoved;o.includes(n)||o.push(n)}delete r[n]}addExtension(e,n={}){return Te(n),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=n,this.registerUsedExtension(e),n}addRequiredExtension(e,n={}){return Te(n),this.addExtension(e,n),this.registerRequiredExtension(e),n}registerUsedExtension(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(n=>n===e)||this.json.extensionsUsed.push(e)}registerRequiredExtension(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(n=>n===e)||this.json.extensionsRequired.push(e)}removeExtension(e){if(this.json.extensions?.[e]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];let n=this.json.extensionsRemoved;n.includes(e)||n.push(e)}this.json.extensions&&delete this.json.extensions[e],this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e)}setDefaultScene(e){this.json.scene=e}addScene(e){let{nodeIndices:n}=e;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:n}),this.json.scenes.length-1}addNode(e){let{meshIndex:n,matrix:r}=e;this.json.nodes=this.json.nodes||[];let o={mesh:n};return r&&(o.matrix=r),this.json.nodes.push(o),this.json.nodes.length-1}addMesh(e){let{attributes:n,indices:r,material:o,mode:s=4}=e,a={primitives:[{attributes:this._addAttributes(n),mode:s}]};if(r){let c=this._addIndices(r);a.primitives[0].indices=c}return Number.isFinite(o)&&(a.primitives[0].material=o),this.json.meshes=this.json.meshes||[],this.json.meshes.push(a),this.json.meshes.length-1}addPointCloud(e){let r={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(r),this.json.meshes.length-1}addImage(e,n){let r=Yr(e),o=n||r?.mimeType,i={bufferView:this.addBufferView(e),mimeType:o};return this.json.images=this.json.images||[],this.json.images.push(i),this.json.images.length-1}addBufferView(e,n=0,r=this.byteLength){let o=e.byteLength;Te(Number.isFinite(o)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);let s={buffer:n,byteOffset:r,byteLength:o};return this.byteLength+=ur(o,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(s),this.json.bufferViews.length-1}addAccessor(e,n){let r={bufferView:e,type:Fu(n.size),componentType:n.componentType,count:n.count,max:n.max,min:n.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(r),this.json.accessors.length-1}addBinaryBuffer(e,n={size:3}){let r=this.addBufferView(e),o={min:n.min,max:n.max};(!o.min||!o.max)&&(o=this._getAccessorMinMax(e,n.size));let s={size:n.size,componentType:lr(e),count:Math.round(e.length/n.size),min:o.min,max:o.max};return this.addAccessor(r,Object.assign(s,n))}addTexture(e){let{imageIndex:n}=e,r={source:n};return this.json.textures=this.json.textures||[],this.json.textures.push(r),this.json.textures.length-1}addMaterial(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}createBinaryChunk(){let e=this.byteLength,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;for(let s of this.sourceBuffers||[])o=Xd(s,r,o);this.json?.buffers?.[0]?this.json.buffers[0].byteLength=e:this.json.buffers=[{byteLength:e}],this.gltf.binary=n,this.sourceBuffers=[n],this.gltf.buffers=[{arrayBuffer:n,byteOffset:0,byteLength:n.byteLength}]}_removeStringFromArray(e,n){let r=!0;for(;r;){let o=e.indexOf(n);o>-1?e.splice(o,1):r=!1}}_addAttributes(e={}){let n={};for(let r in e){let o=e[r],s=this._getGltfAttributeName(r),i=this.addBinaryBuffer(o.value,o);n[s]=i}return n}_addIndices(e){return this.addBinaryBuffer(e,{size:1})}_getGltfAttributeName(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}_getAccessorMinMax(e,n){let r={min:null,max:null};if(e.length<n)return r;r.min=[],r.max=[];let o=e.subarray(0,n);for(let s of o)r.min.push(s),r.max.push(s);for(let s=n;s<e.length;s+=n)for(let i=0;i<n;i++)r.min[0+i]=Math.min(r.min[0+i],e[s+i]),r.max[0+i]=Math.max(r.max[0+i],e[s+i]);return r}};function z2(t){return(t%1+1)%1}var H2={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16,BOOLEAN:1,STRING:1,ENUM:1},RB={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:BigInt64Array,UINT64:BigUint64Array,FLOAT32:Float32Array,FLOAT64:Float64Array},P2={INT8:1,UINT8:1,INT16:2,UINT16:2,INT32:4,UINT32:4,INT64:8,UINT64:8,FLOAT32:4,FLOAT64:8};function sa(t,e){return P2[e]*H2[t]}function ds(t,e,n,r){if(n!=="UINT8"&&n!=="UINT16"&&n!=="UINT32"&&n!=="UINT64")return null;let o=t.getTypedArrayForBufferView(e),s=hs(o,"SCALAR",n,r+1);return s instanceof BigInt64Array||s instanceof BigUint64Array?null:s}function hs(t,e,n,r=1){let o=H2[e],s=RB[n],i=P2[n],a=r*o,c=a*i,u=t.buffer,l=t.byteOffset;return l%i!==0&&(u=new Uint8Array(u).slice(l,l+c).buffer,l=0),new s(u,l,a)}function ps(t,e,n){let r=`TEXCOORD_${e.texCoord||0}`,o=n.attributes[r],s=t.getTypedArrayForAccessor(o),i=t.gltf.json,a=e.index,c=i.textures?.[a]?.source;if(typeof c<"u"){let u=i.images?.[c]?.mimeType,l=t.gltf.images?.[c];if(l&&typeof l.width<"u"){let f=[];for(let m=0;m<s.length;m+=2){let d=IB(l,u,s,m,e.channels);f.push(d)}return f}}return[]}function Nu(t,e,n,r,o){if(!n?.length)return;let s=[];for(let l of n){let f=r.findIndex(m=>m===l);f===-1&&(f=r.push(l)-1),s.push(f)}let i=new Uint32Array(s),a=t.gltf.buffers.push({arrayBuffer:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength})-1,c=t.addBufferView(i,a,0),u=t.addAccessor(c,{size:1,componentType:lr(i),count:i.length});o.attributes[e]=u}function IB(t,e,n,r,o=[0]){let s={r:{offset:0,shift:0},g:{offset:1,shift:8},b:{offset:2,shift:16},a:{offset:3,shift:24}},i=n[r],a=n[r+1],c=1;e&&(e.indexOf("image/jpeg")!==-1||e.indexOf("image/png")!==-1)&&(c=4);let u=kB(i,a,t,c),l=0;for(let f of o){let m=typeof f=="number"?Object.values(s)[f]:s[f],d=u+m.offset,v=na(t);if(v.data.length<=d)throw new Error(`${v.data.length} <= ${d}`);let E=v.data[d];l|=E<<m.shift}return l}function kB(t,e,n,r=1){let o=n.width,s=z2(t)*(o-1),i=Math.round(s),a=n.height,c=z2(e)*(a-1),u=Math.round(c),l=n.components?n.components:r;return(u*o+i)*l}function zu(t,e,n,r,o){let s=[];for(let i=0;i<e;i++){let a=n[i],c=n[i+1]-n[i];if(c+a>r)break;let u=a/o,l=c/o;s.push(t.slice(u,u+l))}return s}function Hu(t,e,n){let r=[];for(let o=0;o<e;o++){let s=o*n;r.push(t.slice(s,s+n))}return r}function Pu(t,e,n,r){if(n)throw new Error("Not implemented - arrayOffsets for strings is specified");if(r){let o=[],s=new TextDecoder("utf8"),i=0;for(let a=0;a<t;a++){let c=r[a+1]-r[a];if(c+i<=e.length){let u=e.subarray(i,c+i),l=s.decode(u);o.push(l),i+=c}}return o}return[]}var ys="EXT_mesh_features",OB=ys;async function GB(t,e){let n=new J(t);LB(n,e)}function UB(t,e){let n=new J(t);return NB(n,e),n.createBinaryChunk(),n.gltf}function LB(t,e){let n=t.gltf.json;if(n.meshes)for(let r of n.meshes)for(let o of r.primitives)FB(t,o,e)}function FB(t,e,n){if(!n?.gltf?.loadBuffers)return;let o=e.extensions?.[ys]?.featureIds;if(o)for(let s of o){let i;if(typeof s.attribute<"u"){let a=`_FEATURE_ID_${s.attribute}`,c=e.attributes[a];i=t.getTypedArrayForAccessor(c)}else typeof s.texture<"u"&&n?.gltf?.loadImages?i=ps(t,s.texture,e):i=[];s.data=i}}function NB(t,e){let n=t.gltf.json.meshes;if(n)for(let r of n)for(let o of r.primitives)HB(t,o)}function zB(t,e,n,r){e.extensions||(e.extensions={});let o=e.extensions[ys];o||(o={featureIds:[]},e.extensions[ys]=o);let{featureIds:s}=o,i={featureCount:n.length,propertyTable:r,data:n};s.push(i),t.addObjectExtension(e,ys,o)}function HB(t,e){let n=e.extensions?.[ys];if(!n)return;let r=n.featureIds;r.forEach((o,s)=>{if(o.data){let{accessorKey:i,index:a}=PB(e.attributes),c=new Uint32Array(o.data);r[s]={featureCount:c.length,propertyTable:o.propertyTable,attribute:a},t.gltf.buffers.push({arrayBuffer:c.buffer,byteOffset:c.byteOffset,byteLength:c.byteLength});let u=t.addBufferView(c),l=t.addAccessor(u,{size:1,componentType:lr(c),count:c.length});e.attributes[i]=l}})}function PB(t){let e="_FEATURE_ID_",n=Object.keys(t).filter(s=>s.indexOf(e)===0),r=-1;for(let s of n){let i=Number(s.substring(e.length));i>r&&(r=i)}return r++,{accessorKey:`${e}${r}`,index:r}}var _h={};ht(_h,{createExtStructuralMetadata:()=>f4,decode:()=>JB,encode:()=>jB,name:()=>KB});var xs="EXT_structural_metadata",KB=xs;async function JB(t,e){let n=new J(t);XB(n,e)}function jB(t,e){let n=new J(t);return u4(n,e),n.createBinaryChunk(),n.gltf}function XB(t,e){if(!e.gltf?.loadBuffers)return;let n=t.getExtension(xs);n&&(e.gltf?.loadImages&&YB(t,n),QB(t,n))}function YB(t,e){let n=e.propertyTextures,r=t.gltf.json;if(n&&r.meshes)for(let o of r.meshes)for(let s of o.primitives)WB(t,n,s,e)}function QB(t,e){let n=e.schema;if(!n)return;let r=n.classes,o=e.propertyTables;if(r&&o)for(let s in r){let i=qB(o,s);i&&ZB(t,n,i)}}function qB(t,e){for(let n of t)if(n.class===e)return n;return null}function WB(t,e,n,r){if(!e)return;let s=n.extensions?.[xs]?.propertyTextures;if(s)for(let i of s){let a=e[i];$B(t,a,n,r)}}function $B(t,e,n,r){if(!e.properties)return;r.dataAttributeNames||(r.dataAttributeNames=[]);let o=e.class;for(let s in e.properties){let i=`${o}_${s}`,a=e.properties?.[s];if(!a)continue;a.data||(a.data=[]);let c=a.data,u=ps(t,a,n);u!==null&&(Nu(t,i,u,c,n),a.data=c,r.dataAttributeNames.push(i))}}function ZB(t,e,n){let r=e.classes?.[n.class];if(!r)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${n.class}`);let o=n.count;for(let s in r.properties){let i=r.properties[s],a=n.properties?.[s];if(a){let c=e4(t,e,i,o,a);a.data=c}}}function e4(t,e,n,r,o){let s=[],i=o.values,a=t.getTypedArrayForBufferView(i),c=t4(t,n,o,r),u=n4(t,o,r);switch(n.type){case"SCALAR":case"VEC2":case"VEC3":case"VEC4":case"MAT2":case"MAT3":case"MAT4":{s=r4(n,r,a,c);break}case"BOOLEAN":throw new Error(`Not implemented - classProperty.type=${n.type}`);case"STRING":{s=Pu(r,a,c,u);break}case"ENUM":{s=o4(e,n,r,a,c);break}default:throw new Error(`Unknown classProperty type ${n.type}`)}return s}function t4(t,e,n,r){return e.array&&typeof e.count>"u"&&typeof n.arrayOffsets<"u"?ds(t,n.arrayOffsets,n.arrayOffsetType||"UINT32",r):null}function n4(t,e,n){return typeof e.stringOffsets<"u"?ds(t,e.stringOffsets,e.stringOffsetType||"UINT32",n):null}function r4(t,e,n,r){let o=t.array,s=t.count,i=sa(t.type,t.componentType),a=n.byteLength/i,c;return t.componentType?c=hs(n,t.type,t.componentType,a):c=n,o?r?zu(c,e,r,n.length,i):s?Hu(c,e,s):[]:c}function o4(t,e,n,r,o){let s=e.enumType;if(!s)throw new Error("Incorrect data in the EXT_structural_metadata extension: classProperty.enumType is not set for type ENUM");let i=t.enums?.[s];if(!i)throw new Error(`Incorrect data in the EXT_structural_metadata extension: schema.enums does't contain ${s}`);let a=i.valueType||"UINT16",c=sa(e.type,a),u=r.byteLength/c,l=hs(r,e.type,a,u);if(l||(l=r),e.array){if(o)return s4({valuesData:l,numberOfElements:n,arrayOffsets:o,valuesDataBytesLength:r.length,elementSize:c,enumEntry:i});let f=e.count;return f?i4(l,n,f,i):[]}return bh(l,0,n,i)}function s4(t){let{valuesData:e,numberOfElements:n,arrayOffsets:r,valuesDataBytesLength:o,elementSize:s,enumEntry:i}=t,a=[];for(let c=0;c<n;c++){let u=r[c],l=r[c+1]-r[c];if(l+u>o)break;let f=u/s,m=l/s,d=bh(e,f,m,i);a.push(d)}return a}function i4(t,e,n,r){let o=[];for(let s=0;s<e;s++){let i=n*s,a=bh(t,i,n,r);o.push(a)}return o}function bh(t,e,n,r){let o=[];for(let s=0;s<n;s++)if(t instanceof BigInt64Array||t instanceof BigUint64Array)o.push("");else{let i=t[e+s],a=a4(r,i);a?o.push(a.name):o.push("")}return o}function a4(t,e){for(let n of t.values)if(n.value===e)return n;return null}var c4="schemaClassId";function u4(t,e){let n=t.getExtension(xs);if(n&&n.propertyTables)for(let r of n.propertyTables){let o=r.class,s=n.schema?.classes?.[o];r.properties&&s&&l4(r,s,t)}}function l4(t,e,n){for(let r in t.properties){let o=t.properties[r].data;if(o){let s=e.properties[r];if(s){let i=h4(o,s,n);t.properties[r]=i}}}}function f4(t,e,n=c4){let r=t.getExtension(xs);r||(r=t.addExtension(xs)),r.schema=m4(e,n,r.schema);let o=d4(e,n,r.schema);return r.propertyTables||(r.propertyTables=[]),r.propertyTables.push(o)-1}function m4(t,e,n){let r=n??{id:"schema_id"},o={properties:{}};for(let s of t){let i={type:s.elementType,componentType:s.componentType};o.properties[s.name]=i}return r.classes={},r.classes[e]=o,r}function d4(t,e,n){let r={class:e,count:0},o=0,s=n.classes?.[e];for(let i of t){if(o===0&&(o=i.values.length),o!==i.values.length&&i.values.length)throw new Error("Illegal values in attributes");s?.properties[i.name]&&(r.properties||(r.properties={}),r.properties[i.name]={values:0,data:i.values})}return r.count=o,r}function h4(t,e,n){let r={values:0};if(e.type==="STRING"){let{stringData:o,stringOffsets:s}=x4(t);r.stringOffsets=vh(s,n),r.values=vh(o,n)}else if(e.type==="SCALAR"&&e.componentType){let o=y4(t,e.componentType);r.values=vh(o,n)}return r}var p4={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:Int32Array,UINT64:Uint32Array,FLOAT32:Float32Array,FLOAT64:Float64Array};function y4(t,e){let n=[];for(let o of t)n.push(Number(o));let r=p4[e];if(!r)throw new Error("Illegal component type");return new r(n)}function x4(t){let e=new TextEncoder,n=[],r=0;for(let c of t){let u=e.encode(c);r+=u.length,n.push(u)}let o=new Uint8Array(r),s=[],i=0;for(let c of n)o.set(c,i),s.push(i),i+=c.length;s.push(i);let a=new Uint32Array(s);return{stringData:o,stringOffsets:a}}function vh(t,e){return e.gltf.buffers.push({arrayBuffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}),e.addBufferView(t)}var Th={};ht(Th,{decode:()=>A4,name:()=>g4});var K2="EXT_feature_metadata",g4=K2;async function A4(t,e){let n=new J(t);v4(n,e)}function v4(t,e){if(!e.gltf?.loadBuffers)return;let n=t.getExtension(K2);n&&(e.gltf?.loadImages&&b4(t,n),_4(t,n))}function b4(t,e){let n=e.schema;if(!n)return;let r=n.classes,{featureTextures:o}=e;if(r&&o)for(let s in r){let i=r[s],a=B4(o,s);a&&E4(t,a,i)}}function _4(t,e){let n=e.schema;if(!n)return;let r=n.classes,o=e.featureTables;if(r&&o)for(let s in r){let i=T4(o,s);i&&w4(t,n,i)}}function T4(t,e){for(let n in t){let r=t[n];if(r.class===e)return r}return null}function B4(t,e){for(let n in t){let r=t[n];if(r.class===e)return r}return null}function w4(t,e,n){if(!n.class)return;let r=e.classes?.[n.class];if(!r)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${n.class}`);let o=n.count;for(let s in r.properties){let i=r.properties[s],a=n.properties?.[s];if(a){let c=S4(t,e,i,o,a);a.data=c}}}function E4(t,e,n){let r=e.class;for(let o in n.properties){let s=e?.properties?.[o];if(s){let i=R4(t,s,r);s.data=i}}}function S4(t,e,n,r,o){let s=[],i=o.bufferView,a=t.getTypedArrayForBufferView(i),c=C4(t,n,o,r),u=M4(t,n,o,r);return n.type==="STRING"||n.componentType==="STRING"?s=Pu(r,a,c,u):V4(n)&&(s=D4(n,r,a,c)),s}function C4(t,e,n,r){return e.type==="ARRAY"&&typeof e.componentCount>"u"&&typeof n.arrayOffsetBufferView<"u"?ds(t,n.arrayOffsetBufferView,n.offsetType||"UINT32",r):null}function M4(t,e,n,r){return typeof n.stringOffsetBufferView<"u"?ds(t,n.stringOffsetBufferView,n.offsetType||"UINT32",r):null}function V4(t){let e=["UINT8","INT16","UINT16","INT32","UINT32","INT64","UINT64","FLOAT32","FLOAT64"];return e.includes(t.type)||typeof t.componentType<"u"&&e.includes(t.componentType)}function D4(t,e,n,r){let o=t.type==="ARRAY",s=t.componentCount,i="SCALAR",a=t.componentType||t.type,c=sa(i,a),u=n.byteLength/c,l=hs(n,i,a,u);return o?r?zu(l,e,r,n.length,c):s?Hu(l,e,s):[]:l}function R4(t,e,n){let r=t.gltf.json;if(!r.meshes)return[];let o=[];for(let s of r.meshes)for(let i of s.primitives)I4(t,n,e,o,i);return o}function I4(t,e,n,r,o){let s={channels:n.channels,...n.texture},i=ps(t,s,o);i&&Nu(t,e,i,r,o)}var J2="4.3.3";var j2="4.3.3";var Ku={TRANSCODER:"basis_transcoder.js",TRANSCODER_WASM:"basis_transcoder.wasm",ENCODER:"basis_encoder.js",ENCODER_WASM:"basis_encoder.wasm"},X2;async function wh(t){kd(t.modules);let e=Od("basis");return e||(X2||=k4(t),await X2)}async function k4(t){let e=null,n=null;return[e,n]=await Promise.all([await Wt(Ku.TRANSCODER,"textures",t),await Wt(Ku.TRANSCODER_WASM,"textures",t)]),e=e||globalThis.BASIS,await O4(e,n)}function O4(t,e){let n={};return e&&(n.wasmBinary=e),new Promise(r=>{t(n).then(o=>{let{BasisFile:s,initializeBasis:i}=o;i(),r({BasisFile:s})})})}var Bh;async function Eh(t){let e=t.modules||{};return e.basisEncoder?e.basisEncoder:(Bh=Bh||G4(t),await Bh)}async function G4(t){let e=null,n=null;return[e,n]=await Promise.all([await Wt(Ku.ENCODER,"textures",t),await Wt(Ku.ENCODER_WASM,"textures",t)]),e=e||globalThis.BASIS,await U4(e,n)}function U4(t,e){let n={};return e&&(n.wasmBinary=e),new Promise(r=>{t(n).then(o=>{let{BasisFile:s,KTX2File:i,initializeBasis:a,BasisEncoder:c}=o;a(),r({BasisFile:s,KTX2File:i,BasisEncoder:c})})})}var Qr={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919};var L4=["","WEBKIT_","MOZ_"],Y2={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"},Ju=null;function Q2(t){if(!Ju){t=t||F4()||void 0,Ju=new Set;for(let e of L4)for(let n in Y2)if(t&&t.getExtension(`${e}${n}`)){let r=Y2[n];Ju.add(r)}}return Ju}function F4(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}var dt=[171,75,84,88,32,50,48,187,13,10,26,10];function q2(t){let e=new Uint8Array(t);return!(e.byteLength<dt.length||e[0]!==dt[0]||e[1]!==dt[1]||e[2]!==dt[2]||e[3]!==dt[3]||e[4]!==dt[4]||e[5]!==dt[5]||e[6]!==dt[6]||e[7]!==dt[7]||e[8]!==dt[8]||e[9]!==dt[9]||e[10]!==dt[10]||e[11]!==dt[11])}var N4={etc1:{basisFormat:0,compressed:!0,format:Qr.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:Qr.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:Qr.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:Qr.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:Qr.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:Qr.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};async function $2(t,e){if(e.basis.containerFormat==="auto"){if(q2(t)){let r=await Eh(e);return W2(r.KTX2File,t,e)}let{BasisFile:n}=await wh(e);return Sh(n,t,e)}switch(e.basis.module){case"encoder":let n=await Eh(e);switch(e.basis.containerFormat){case"ktx2":return W2(n.KTX2File,t,e);case"basis":default:return Sh(n.BasisFile,t,e)}case"transcoder":default:let{BasisFile:r}=await wh(e);return Sh(r,t,e)}}function Sh(t,e,n){let r=new t(new Uint8Array(e));try{if(!r.startTranscoding())throw new Error("Failed to start basis transcoding");let o=r.getNumImages(),s=[];for(let i=0;i<o;i++){let a=r.getNumLevels(i),c=[];for(let u=0;u<a;u++)c.push(z4(r,i,u,n));s.push(c)}return s}finally{r.close(),r.delete()}}function z4(t,e,n,r){let o=t.getImageWidth(e,n),s=t.getImageHeight(e,n),i=t.getHasAlpha(),{compressed:a,format:c,basisFormat:u}=Z2(r,i),l=t.getImageTranscodedSizeInBytes(e,n,u),f=new Uint8Array(l);if(!t.transcodeImage(f,e,n,u,0,0))throw new Error("failed to start Basis transcoding");return{width:o,height:s,data:f,compressed:a,format:c,hasAlpha:i}}function W2(t,e,n){let r=new t(new Uint8Array(e));try{if(!r.startTranscoding())throw new Error("failed to start KTX2 transcoding");let o=r.getLevels(),s=[];for(let i=0;i<o;i++)s.push(H4(r,i,n));return[s]}finally{r.close(),r.delete()}}function H4(t,e,n){let{alphaFlag:r,height:o,width:s}=t.getImageLevelInfo(e,0,0),{compressed:i,format:a,basisFormat:c}=Z2(n,r),u=t.getImageTranscodedSizeInBytes(e,0,0,c),l=new Uint8Array(u);if(!t.transcodeImage(l,e,0,0,c,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:s,height:o,data:l,compressed:i,levelSize:u,hasAlpha:r,format:a}}function Z2(t,e){let n=t&&t.basis&&t.basis.format;return n==="auto"&&(n=ju()),typeof n=="object"&&(n=e?n.alpha:n.noAlpha),n=n.toLowerCase(),N4[n]}function ju(){let t=Q2();return t.has("astc")?"astc-4x4":t.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:t.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:t.has("etc1")?"etc1":t.has("etc2")?"etc2":"rgb565"}var eA={dataType:null,batchType:null,name:"Basis",id:"basis",module:"textures",version:j2,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},Ch={...eA,parse:$2};var gs=!0,tA=1735152710,Dh=12,Xu=8,P4=1313821514,K4=5130562,J4=0,j4=0,X4=1;function Y4(t,e=0){return`${String.fromCharCode(t.getUint8(e+0))}${String.fromCharCode(t.getUint8(e+1))}${String.fromCharCode(t.getUint8(e+2))}${String.fromCharCode(t.getUint8(e+3))}`}function nA(t,e=0,n={}){let r=new DataView(t),{magic:o=tA}=n,s=r.getUint32(e,!1);return s===o||s===tA}function rA(t,e,n=0,r={}){let o=new DataView(e),s=Y4(o,n+0),i=o.getUint32(n+4,gs),a=o.getUint32(n+8,gs);switch(Object.assign(t,{header:{byteOffset:n,byteLength:a,hasBinChunk:!1},type:s,version:i,json:{},binChunks:[]}),n+=Dh,t.version){case 1:return Q4(t,o,n);case 2:return q4(t,o,n,r={});default:throw new Error(`Invalid GLB version ${t.version}. Only supports version 1 and 2.`)}}function Q4(t,e,n){Pe(t.header.byteLength>Dh+Xu);let r=e.getUint32(n+0,gs),o=e.getUint32(n+4,gs);return n+=Xu,Pe(o===J4),Mh(t,e,n,r),n+=r,n+=Vh(t,e,n,t.header.byteLength),n}function q4(t,e,n,r){return Pe(t.header.byteLength>Dh+Xu),W4(t,e,n,r),n+t.header.byteLength}function W4(t,e,n,r){for(;n+8<=t.header.byteLength;){let o=e.getUint32(n+0,gs),s=e.getUint32(n+4,gs);switch(n+=Xu,s){case P4:Mh(t,e,n,o);break;case K4:Vh(t,e,n,o);break;case j4:r.strict||Mh(t,e,n,o);break;case X4:r.strict||Vh(t,e,n,o);break;default:break}n+=ur(o,4)}return n}function Mh(t,e,n,r){let o=new Uint8Array(e.buffer,n,r),i=new TextDecoder("utf8").decode(o);return t.json=JSON.parse(i),ur(r,4)}function Vh(t,e,n,r){return t.header.hasBinChunk=!0,t.binChunks.push({byteOffset:n,byteLength:r,arrayBuffer:e.buffer}),ur(r,4)}function Rh(t,e){if(t.startsWith("data:")||t.startsWith("http:")||t.startsWith("https:"))return t;let r=e.baseUri||e.uri;if(!r)throw new Error(`'baseUri' must be provided to resolve relative url ${t}`);return r.substr(0,r.lastIndexOf("/")+1)+t}var kh={};ht(kh,{decode:()=>uw,name:()=>cw});var $4="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",Z4="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",ew=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),tw=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),nw={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},rw={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};async function oA(t,e,n,r,o,s="NONE"){let i=await ow();aw(i,i.exports[rw[o]],t,e,n,r,i.exports[nw[s||"NONE"]])}var Ih;async function ow(){return Ih||(Ih=sw()),Ih}async function sw(){let t=$4;WebAssembly.validate(ew)&&(t=Z4,console.log("Warning: meshopt_decoder is using experimental SIMD support"));let e=await WebAssembly.instantiate(iw(t),{});return await e.instance.exports.__wasm_call_ctors(),e.instance}function iw(t){let e=new Uint8Array(t.length);for(let r=0;r<t.length;++r){let o=t.charCodeAt(r);e[r]=o>96?o-71:o>64?o-65:o>47?o+4:o>46?63:62}let n=0;for(let r=0;r<t.length;++r)e[n++]=e[r]<60?tw[e[r]]:(e[r]-60)*64+e[++r];return e.buffer.slice(0,n)}function aw(t,e,n,r,o,s,i){let a=t.exports.sbrk,c=r+3&-4,u=a(c*o),l=a(s.length),f=new Uint8Array(t.exports.memory.buffer);f.set(s,l);let m=e(u,r,o,l,s.length);if(m===0&&i&&i(u,c,o),n.set(f.subarray(u,u+r*o)),a(u-a(0)),m!==0)throw new Error(`Malformed buffer data: ${m}`)}var Yu="EXT_meshopt_compression",cw=Yu;async function uw(t,e){let n=new J(t);if(!e?.gltf?.decompressMeshes||!e.gltf?.loadBuffers)return;let r=[];for(let o of t.json.bufferViews||[])r.push(lw(n,o));await Promise.all(r),n.removeExtension(Yu)}async function lw(t,e){let n=t.getObjectExtension(e,Yu);if(n){let{byteOffset:r=0,byteLength:o=0,byteStride:s,count:i,mode:a,filter:c="NONE",buffer:u}=n,l=t.gltf.buffers[u],f=new Uint8Array(l.arrayBuffer,l.byteOffset+r,o),m=new Uint8Array(t.gltf.buffers[e.buffer].arrayBuffer,e.byteOffset,e.byteLength);await oA(m,i,s,f,a,c),t.removeObjectExtension(e,Yu)}}var Oh={};ht(Oh,{name:()=>fw,preprocess:()=>mw});var As="EXT_texture_webp",fw=As;function mw(t,e){let n=new J(t);if(!gh("image/webp")){if(n.getRequiredExtensions().includes(As))throw new Error(`gltf: Required extension ${As} not supported by browser`);return}let{json:r}=n;for(let o of r.textures||[]){let s=n.getObjectExtension(o,As);s&&(o.source=s.source),n.removeObjectExtension(o,As)}n.removeExtension(As)}var Gh={};ht(Gh,{name:()=>dw,preprocess:()=>hw});var Qu="KHR_texture_basisu",dw=Qu;function hw(t,e){let n=new J(t),{json:r}=n;for(let o of r.textures||[]){let s=n.getObjectExtension(o,Qu);s&&(o.source=s.source,n.removeObjectExtension(o,Qu))}n.removeExtension(Qu)}var zh={};ht(zh,{decode:()=>Vw,encode:()=>Dw,name:()=>Cw,preprocess:()=>Mw});var sA="4.3.3";var iA={dataType:null,batchType:null,name:"Draco",id:"draco",module:"draco",version:sA,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:typeof WebAssembly=="object"?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}};function cA(t,e,n){let r=uA(e.metadata),o=[],s=pw(e.attributes);for(let i in t){let a=t[i],c=aA(i,a,s[i]);o.push(c)}if(n){let i=aA("indices",n);o.push(i)}return{fields:o,metadata:r}}function pw(t){let e={};for(let n in t){let r=t[n];e[r.name||"undefined"]=r}return e}function aA(t,e,n){let r=n?uA(n.metadata):void 0;return fh(t,e,r)}function uA(t){Object.entries(t);let e={};for(let n in t)e[`${n}.string`]=JSON.stringify(t[n]);return e}var lA={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},yw={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},xw=4,ia=class{draco;decoder;metadataQuerier;constructor(e){this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(e,n={}){let r=new this.draco.DecoderBuffer;r.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(n);let o=this.decoder.GetEncodedGeometryType(r),s=o===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let i;switch(o){case this.draco.TRIANGULAR_MESH:i=this.decoder.DecodeBufferToMesh(r,s);break;case this.draco.POINT_CLOUD:i=this.decoder.DecodeBufferToPointCloud(r,s);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!i.ok()||!s.ptr){let m=`DRACO decompression failed: ${i.error_msg()}`;throw new Error(m)}let a=this._getDracoLoaderData(s,o,n),c=this._getMeshData(s,a,n),u=lh(c.attributes),l=cA(c.attributes,a,c.indices);return{loader:"draco",loaderData:a,header:{vertexCount:s.num_points(),boundingBox:u},...c,schema:l}}finally{this.draco.destroy(r),s&&this.draco.destroy(s)}}_getDracoLoaderData(e,n,r){let o=this._getTopLevelMetadata(e),s=this._getDracoAttributes(e,r);return{geometry_type:n,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:o,attributes:s}}_getDracoAttributes(e,n){let r={};for(let o=0;o<e.num_attributes();o++){let s=this.decoder.GetAttribute(e,o),i=this._getAttributeMetadata(e,o);r[s.unique_id()]={unique_id:s.unique_id(),attribute_type:s.attribute_type(),data_type:s.data_type(),num_components:s.num_components(),byte_offset:s.byte_offset(),byte_stride:s.byte_stride(),normalized:s.normalized(),attribute_index:o,metadata:i};let a=this._getQuantizationTransform(s,n);a&&(r[s.unique_id()].quantization_transform=a);let c=this._getOctahedronTransform(s,n);c&&(r[s.unique_id()].octahedron_transform=c)}return r}_getMeshData(e,n,r){let o=this._getMeshAttributes(n,e,r);if(!o.POSITION)throw new Error("DRACO: No position attribute found.");if(e instanceof this.draco.Mesh)switch(r.topology){case"triangle-strip":return{topology:"triangle-strip",mode:4,attributes:o,indices:{value:this._getTriangleStripIndices(e),size:1}};case"triangle-list":default:return{topology:"triangle-list",mode:5,attributes:o,indices:{value:this._getTriangleListIndices(e),size:1}}}return{topology:"point-list",mode:0,attributes:o}}_getMeshAttributes(e,n,r){let o={};for(let s of Object.values(e.attributes)){let i=this._deduceAttributeName(s,r);s.name=i;let a=this._getAttributeValues(n,s);if(a){let{value:c,size:u}=a;o[i]={value:c,size:u,byteOffset:s.byte_offset,byteStride:s.byte_stride,normalized:s.normalized}}}return o}_getTriangleListIndices(e){let r=e.num_faces()*3,o=r*xw,s=this.draco._malloc(o);try{return this.decoder.GetTrianglesUInt32Array(e,o,s),new Uint32Array(this.draco.HEAPF32.buffer,s,r).slice()}finally{this.draco._free(s)}}_getTriangleStripIndices(e){let n=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,n),vw(n)}finally{this.draco.destroy(n)}}_getAttributeValues(e,n){let r=yw[n.data_type];if(!r)return console.warn(`DRACO: Unsupported attribute type ${n.data_type}`),null;let o=n.num_components,i=e.num_points()*o,a=i*r.BYTES_PER_ELEMENT,c=gw(this.draco,r),u,l=this.draco._malloc(a);try{let f=this.decoder.GetAttribute(e,n.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,f,c,a,l),u=new r(this.draco.HEAPF32.buffer,l,i).slice()}finally{this.draco._free(l)}return{value:u,size:o}}_deduceAttributeName(e,n){let r=e.unique_id;for(let[i,a]of Object.entries(n.extraAttributes||{}))if(a===r)return i;let o=e.attribute_type;for(let i in lA)if(this.draco[i]===o)return lA[i];let s=n.attributeNameEntry||"name";return e.metadata[s]?e.metadata[s].string:`CUSTOM_ATTRIBUTE_${r}`}_getTopLevelMetadata(e){let n=this.decoder.GetMetadata(e);return this._getDracoMetadata(n)}_getAttributeMetadata(e,n){let r=this.decoder.GetAttributeMetadata(e,n);return this._getDracoMetadata(r)}_getDracoMetadata(e){if(!e||!e.ptr)return{};let n={},r=this.metadataQuerier.NumEntries(e);for(let o=0;o<r;o++){let s=this.metadataQuerier.GetEntryName(e,o);n[s]=this._getDracoMetadataField(e,s)}return n}_getDracoMetadataField(e,n){let r=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,n,r);let o=Aw(r);return{int:this.metadataQuerier.GetIntEntry(e,n),string:this.metadataQuerier.GetStringEntry(e,n),double:this.metadataQuerier.GetDoubleEntry(e,n),intArray:o}}finally{this.draco.destroy(r)}}_disableAttributeTransforms(e){let{quantizedAttributes:n=[],octahedronAttributes:r=[]}=e,o=[...n,...r];for(let s of o)this.decoder.SkipAttributeTransform(this.draco[s])}_getQuantizationTransform(e,n){let{quantizedAttributes:r=[]}=n,o=e.attribute_type();if(r.map(i=>this.decoder[i]).includes(o)){let i=new this.draco.AttributeQuantizationTransform;try{if(i.InitFromAttribute(e))return{quantization_bits:i.quantization_bits(),range:i.range(),min_values:new Float32Array([1,2,3]).map(a=>i.min_value(a))}}finally{this.draco.destroy(i)}}return null}_getOctahedronTransform(e,n){let{octahedronAttributes:r=[]}=n,o=e.attribute_type();if(r.map(i=>this.decoder[i]).includes(o)){let i=new this.draco.AttributeQuantizationTransform;try{if(i.InitFromAttribute(e))return{quantization_bits:i.quantization_bits()}}finally{this.draco.destroy(i)}}return null}};function gw(t,e){switch(e){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32;default:return t.DT_INVALID}}function Aw(t){let e=t.size(),n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=t.GetValue(r);return n}function vw(t){let e=t.size(),n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=t.GetValue(r);return n}var bw="1.5.6",_w="1.4.1",Uh=`https://www.gstatic.com/draco/versioned/decoders/${bw}`,Ze={DECODER:"draco_wasm_wrapper.js",DECODER_WASM:"draco_decoder.wasm",FALLBACK_DECODER:"draco_decoder.js",ENCODER:"draco_encoder.js"},Lh={[Ze.DECODER]:`${Uh}/${Ze.DECODER}`,[Ze.DECODER_WASM]:`${Uh}/${Ze.DECODER_WASM}`,[Ze.FALLBACK_DECODER]:`${Uh}/${Ze.FALLBACK_DECODER}`,[Ze.ENCODER]:`https://raw.githubusercontent.com/google/draco/${_w}/javascript/${Ze.ENCODER}`},Fh;async function fA(t){let e=t.modules||{};return e.draco3d?Fh||=e.draco3d.createDecoderModule({}).then(n=>({draco:n})):Fh||=Tw(t),await Fh}async function Tw(t){let e,n;switch(t.draco&&t.draco.decoderType){case"js":e=await Wt(Lh[Ze.FALLBACK_DECODER],"draco",t,Ze.FALLBACK_DECODER);break;case"wasm":default:[e,n]=await Promise.all([await Wt(Lh[Ze.DECODER],"draco",t,Ze.DECODER),await Wt(Lh[Ze.DECODER_WASM],"draco",t,Ze.DECODER_WASM)])}return e=e||globalThis.DracoDecoderModule,await Bw(e,n)}function Bw(t,e){let n={};return e&&(n.wasmBinary=e),new Promise(r=>{t({...n,onModuleLoaded:o=>r({draco:o})})})}var mA={...iA,parse:ww};async function ww(t,e){let{draco:n}=await fA(e),r=new ia(n);try{return r.parseSync(t,e?.draco)}finally{r.destroy()}}function dA(t){let e={};for(let n in t){let r=t[n];if(n!=="indices"){let o=Nh(r);e[n]=o}}return e}function Nh(t){let{buffer:e,size:n,count:r}=Ew(t);return{value:e,size:n,byteOffset:0,count:r,type:Fu(n),componentType:lr(e)}}function Ew(t){let e=t,n=1,r=0;return t&&t.value&&(e=t.value,n=t.size||1),e&&(ArrayBuffer.isView(e)||(e=Sw(e,Float32Array)),r=e.length/n),{buffer:e,size:n,count:r}}function Sw(t,e,n=!1){return t?Array.isArray(t)?new e(t):n&&!(t instanceof e)?new e(t):t:null}var fr="KHR_draco_mesh_compression",Cw=fr;function Mw(t,e,n){let r=new J(t);for(let o of hA(r))r.getObjectExtension(o,fr)}async function Vw(t,e,n){if(!e?.gltf?.decompressMeshes)return;let r=new J(t),o=[];for(let s of hA(r))r.getObjectExtension(s,fr)&&o.push(Rw(r,s,e,n));await Promise.all(o),r.removeExtension(fr)}function Dw(t,e={}){let n=new J(t);for(let r of n.json.meshes||[])Iw(r,e),n.addRequiredExtension(fr)}async function Rw(t,e,n,r){let o=t.getObjectExtension(e,fr);if(!o)return;let s=t.getTypedArrayForBufferView(o.bufferView),i=$i(s.buffer,s.byteOffset),a={...n};delete a["3d-tiles"];let c=await ji(i,mA,a,r),u=dA(c.attributes);for(let[l,f]of Object.entries(u))if(l in e.attributes){let m=e.attributes[l],d=t.getAccessor(m);d?.min&&d?.max&&(f.min=d.min,f.max=d.max)}e.attributes=u,c.indices&&(e.indices=Nh(c.indices)),t.removeObjectExtension(e,fr),kw(e)}function Iw(t,e,n=4,r,o){if(!r.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");let s=r.DracoWriter.encodeSync({attributes:t}),i=o?.parseSync?.({attributes:t}),a=r._addFauxAttributes(i.attributes),c=r.addBufferView(s);return{primitives:[{attributes:a,mode:n,extensions:{[fr]:{bufferView:c,attributes:a}}}]}}function kw(t){if(!t.attributes&&Object.keys(t.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}function*hA(t){for(let e of t.json.meshes||[])for(let n of e.primitives)yield n}var Yh={};ht(Yh,{decode:()=>Zw,name:()=>qw});var R8=1/Math.PI*180,I8=1/180*Math.PI,Ow={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1};globalThis.mathgl=globalThis.mathgl||{config:{...Ow}};var ke=globalThis.mathgl.config;function pA(t,{precision:e=ke.precision}={}){return t=Gw(t),`${parseFloat(t.toPrecision(e))}`}function vs(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Hh(t,e,n){let r=ke.EPSILON;n&&(ke.EPSILON=n);try{if(t===e)return!0;if(vs(t)&&vs(e)){if(t.length!==e.length)return!1;for(let o=0;o<t.length;++o)if(!Hh(t[o],e[o]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):typeof t=="number"&&typeof e=="number"?Math.abs(t-e)<=ke.EPSILON*Math.max(1,Math.abs(t),Math.abs(e)):!1}finally{ke.EPSILON=r}}function Gw(t){return Math.round(t/ke.EPSILON)*ke.EPSILON}var bs=class extends Array{clone(){return new this.constructor().copy(this)}fromArray(e,n=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=e[r+n];return this.check()}toArray(e=[],n=0){for(let r=0;r<this.ELEMENTS;++r)e[n+r]=this[r];return e}toObject(e){return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:vs(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(ke)}formatString(e){let n="";for(let r=0;r<this.ELEMENTS;++r)n+=(r>0?", ":"")+pA(this[r],e);return`${e.printTypes?this.constructor.name:""}[${n}]`}equals(e){if(!e||this.length!==e.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(!Hh(this[n],e[n]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(this[n]!==e[n])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,n,r){if(r===void 0)return this.lerp(this,e,n);for(let o=0;o<this.ELEMENTS;++o){let s=e[o],i=typeof n=="number"?n:n[o];this[o]=s+r*(i-s)}return this.check()}min(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(e[n],this[n]);return this.check()}max(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.max(e[n],this[n]);return this.check()}clamp(e,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),n[r]);return this.check()}add(...e){for(let n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]+=n[r];return this.check()}subtract(...e){for(let n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]-=n[r];return this.check()}scale(e){if(typeof e=="number")for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;else for(let n=0;n<this.ELEMENTS&&n<e.length;++n)this[n]*=e[n];return this.check()}multiplyByScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;return this.check()}check(){if(ke.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let e=this.length===this.ELEMENTS;for(let n=0;n<this.ELEMENTS;++n)e=e&&Number.isFinite(this[n]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=e;return this.check()}addScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),n);return this.check()}get elements(){return this}};function Uw(t,e){if(t.length!==e)return!1;for(let n=0;n<t.length;++n)if(!Number.isFinite(t[n]))return!1;return!0}function Ue(t){if(!Number.isFinite(t))throw new Error(`Invalid number ${JSON.stringify(t)}`);return t}function yA(t,e,n=""){if(ke.debug&&!Uw(t,e))throw new Error(`math.gl: ${n} some fields set to invalid numbers'`);return t}function Ph(t,e){if(!t)throw new Error(`math.gl assertion ${e}`)}var qu=class extends bs{get x(){return this[0]}set x(e){this[0]=Ue(e)}get y(){return this[1]}set y(e){this[1]=Ue(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let n=0;n<this.ELEMENTS;++n)e+=this[n]*this[n];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let n=0;for(let r=0;r<this.ELEMENTS;++r){let o=this[r]-e[r];n+=o*o}return Ue(n)}dot(e){let n=0;for(let r=0;r<this.ELEMENTS;++r)n+=this[r]*e[r];return Ue(n)}normalize(){let e=this.magnitude();if(e!==0)for(let n=0;n<this.ELEMENTS;++n)this[n]/=e;return this.check()}multiply(...e){for(let n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]*=n[r];return this.check()}divide(...e){for(let n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]/=n[r];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return Ph(e>=0&&e<this.ELEMENTS,"index is out of range"),Ue(this[e])}setComponent(e,n){return Ph(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=n,this.check()}addVectors(e,n){return this.copy(e).add(n)}subVectors(e,n){return this.copy(e).subtract(n)}multiplyVectors(e,n){return this.copy(e).multiply(n)}addScaledVector(e,n){return this.add(new this.constructor(e).multiplyScalar(n))}};var _s=typeof Float32Array<"u"?Float32Array:Array;var K8=Math.PI/180;function zw(){let t=new _s(2);return _s!=Float32Array&&(t[0]=0,t[1]=0),t}function gA(t,e,n){let r=e[0],o=e[1];return t[0]=n[0]*r+n[3]*o+n[6],t[1]=n[1]*r+n[4]*o+n[7],t}var J8=(function(){let t=zw();return function(e,n,r,o,s,i){let a,c;for(n||(n=2),r||(r=0),o?c=Math.min(o*n+r,e.length):c=e.length,a=r;a<c;a+=n)t[0]=e[a],t[1]=e[a+1],s(t,t,i),e[a]=t[0],e[a+1]=t[1];return e}})();function AA(t,e,n){let r=e[0],o=e[1],s=e[2],i=n[3]*r+n[7]*o+n[11]*s||1;return t[0]=(n[0]*r+n[4]*o+n[8]*s)/i,t[1]=(n[1]*r+n[5]*o+n[9]*s)/i,t[2]=(n[2]*r+n[6]*o+n[10]*s)/i,t}function vA(t,e,n){let r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o,t[1]=n[1]*r+n[3]*o,t[2]=e[2],t}function bA(t,e,n){let r=e[0],o=e[1],s=e[2];return t[0]=n[0]*r+n[3]*o+n[6]*s,t[1]=n[1]*r+n[4]*o+n[7]*s,t[2]=n[2]*r+n[5]*o+n[8]*s,t[3]=e[3],t}function Pw(){let t=new _s(3);return _s!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Kw(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function _A(t,e,n){let r=e[0],o=e[1],s=e[2],i=n[0],a=n[1],c=n[2];return t[0]=o*c-s*a,t[1]=s*i-r*c,t[2]=r*a-o*i,t}function TA(t,e,n){let r=e[0],o=e[1],s=e[2],i=n[3]*r+n[7]*o+n[11]*s+n[15];return i=i||1,t[0]=(n[0]*r+n[4]*o+n[8]*s+n[12])/i,t[1]=(n[1]*r+n[5]*o+n[9]*s+n[13])/i,t[2]=(n[2]*r+n[6]*o+n[10]*s+n[14])/i,t}function Wu(t,e,n){let r=e[0],o=e[1],s=e[2];return t[0]=r*n[0]+o*n[3]+s*n[6],t[1]=r*n[1]+o*n[4]+s*n[7],t[2]=r*n[2]+o*n[5]+s*n[8],t}function BA(t,e,n){let r=n[0],o=n[1],s=n[2],i=n[3],a=e[0],c=e[1],u=e[2],l=o*u-s*c,f=s*a-r*u,m=r*c-o*a,d=o*m-s*f,v=s*l-r*m,E=r*f-o*l,S=i*2;return l*=S,f*=S,m*=S,d*=2,v*=2,E*=2,t[0]=a+l+d,t[1]=c+f+v,t[2]=u+m+E,t}function wA(t,e,n,r){let o=[],s=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],s[0]=o[0],s[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),s[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t}function EA(t,e,n,r){let o=[],s=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],s[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),s[1]=o[1],s[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t}function SA(t,e,n,r){let o=[],s=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],s[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),s[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),s[2]=o[2],t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t}function CA(t,e){let n=t[0],r=t[1],o=t[2],s=e[0],i=e[1],a=e[2],c=Math.sqrt((n*n+r*r+o*o)*(s*s+i*i+a*a)),u=c&&Kw(t,e)/c;return Math.acos(Math.min(Math.max(u,-1),1))}var X8=(function(){let t=Pw();return function(e,n,r,o,s,i){let a,c;for(n||(n=3),r||(r=0),o?c=Math.min(o*n+r,e.length):c=e.length,a=r;a<c;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],s(t,t,i),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}})();var Kh=[0,0,0],$u,aa=class t extends qu{static get ZERO(){return $u||($u=new t(0,0,0),Object.freeze($u)),$u}constructor(e=0,n=0,r=0){super(-0,-0,-0),arguments.length===1&&vs(e)?this.copy(e):(ke.debug&&(Ue(e),Ue(n),Ue(r)),this[0]=e,this[1]=n,this[2]=r)}set(e,n,r){return this[0]=e,this[1]=n,this[2]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return ke.debug&&(Ue(e.x),Ue(e.y),Ue(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=Ue(e)}angle(e){return CA(this,e)}cross(e){return _A(this,this,e),this.check()}rotateX({radians:e,origin:n=Kh}){return wA(this,this,n,e),this.check()}rotateY({radians:e,origin:n=Kh}){return EA(this,this,n,e),this.check()}rotateZ({radians:e,origin:n=Kh}){return SA(this,this,n,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return TA(this,this,e),this.check()}transformAsVector(e){return AA(this,this,e),this.check()}transformByMatrix3(e){return Wu(this,this,e),this.check()}transformByMatrix2(e){return vA(this,this,e),this.check()}transformByQuaternion(e){return BA(this,this,e),this.check()}};var Zu=class extends bs{toString(){let e="[";if(ke.printRowMajor){e+="row-major:";for(let n=0;n<this.RANK;++n)for(let r=0;r<this.RANK;++r)e+=` ${this[r*this.RANK+n]}`}else{e+="column-major:";for(let n=0;n<this.ELEMENTS;++n)e+=` ${this[n]}`}return e+="]",e}getElementIndex(e,n){return n*this.RANK+e}getElement(e,n){return this[n*this.RANK+e]}setElement(e,n,r){return this[n*this.RANK+e]=Ue(r),this}getColumn(e,n=new Array(this.RANK).fill(-0)){let r=e*this.RANK;for(let o=0;o<this.RANK;++o)n[o]=this[r+o];return n}setColumn(e,n){let r=e*this.RANK;for(let o=0;o<this.RANK;++o)this[r+o]=n[o];return this}};function MA(t,e){if(t===e){let n=e[1],r=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function VA(t,e){let n=e[0],r=e[1],o=e[2],s=e[3],i=e[4],a=e[5],c=e[6],u=e[7],l=e[8],f=l*i-a*u,m=-l*s+a*c,d=u*s-i*c,v=n*f+r*m+o*d;return v?(v=1/v,t[0]=f*v,t[1]=(-l*r+o*u)*v,t[2]=(a*r-o*i)*v,t[3]=m*v,t[4]=(l*n-o*c)*v,t[5]=(-a*n+o*s)*v,t[6]=d*v,t[7]=(-u*n+r*c)*v,t[8]=(i*n-r*s)*v,t):null}function DA(t){let e=t[0],n=t[1],r=t[2],o=t[3],s=t[4],i=t[5],a=t[6],c=t[7],u=t[8];return e*(u*s-i*c)+n*(-u*o+i*a)+r*(c*o-s*a)}function Jh(t,e,n){let r=e[0],o=e[1],s=e[2],i=e[3],a=e[4],c=e[5],u=e[6],l=e[7],f=e[8],m=n[0],d=n[1],v=n[2],E=n[3],S=n[4],x=n[5],g=n[6],y=n[7],A=n[8];return t[0]=m*r+d*i+v*u,t[1]=m*o+d*a+v*l,t[2]=m*s+d*c+v*f,t[3]=E*r+S*i+x*u,t[4]=E*o+S*a+x*l,t[5]=E*s+S*c+x*f,t[6]=g*r+y*i+A*u,t[7]=g*o+y*a+A*l,t[8]=g*s+y*c+A*f,t}function RA(t,e,n){let r=e[0],o=e[1],s=e[2],i=e[3],a=e[4],c=e[5],u=e[6],l=e[7],f=e[8],m=n[0],d=n[1];return t[0]=r,t[1]=o,t[2]=s,t[3]=i,t[4]=a,t[5]=c,t[6]=m*r+d*i+u,t[7]=m*o+d*a+l,t[8]=m*s+d*c+f,t}function IA(t,e,n){let r=e[0],o=e[1],s=e[2],i=e[3],a=e[4],c=e[5],u=e[6],l=e[7],f=e[8],m=Math.sin(n),d=Math.cos(n);return t[0]=d*r+m*i,t[1]=d*o+m*a,t[2]=d*s+m*c,t[3]=d*i-m*r,t[4]=d*a-m*o,t[5]=d*c-m*s,t[6]=u,t[7]=l,t[8]=f,t}function jh(t,e,n){let r=n[0],o=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function kA(t,e){let n=e[0],r=e[1],o=e[2],s=e[3],i=n+n,a=r+r,c=o+o,u=n*i,l=r*i,f=r*a,m=o*i,d=o*a,v=o*c,E=s*i,S=s*a,x=s*c;return t[0]=1-f-v,t[3]=l-x,t[6]=m+S,t[1]=l+x,t[4]=1-u-v,t[7]=d-E,t[2]=m-S,t[5]=d+E,t[8]=1-u-f,t}var Xh;(function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL1ROW0=3]="COL1ROW0",t[t.COL1ROW1=4]="COL1ROW1",t[t.COL1ROW2=5]="COL1ROW2",t[t.COL2ROW0=6]="COL2ROW0",t[t.COL2ROW1=7]="COL2ROW1",t[t.COL2ROW2=8]="COL2ROW2"})(Xh||(Xh={}));var Xw=Object.freeze([1,0,0,0,1,0,0,0,1]),Mn=class extends Zu{static get IDENTITY(){return Qw()}static get ZERO(){return Yw()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return Xh}constructor(e,...n){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):n.length>0?this.copy([e,...n]):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}identity(){return this.copy(Xw)}fromObject(e){return this.check()}fromQuaternion(e){return kA(this,e),this.check()}set(e,n,r,o,s,i,a,c,u){return this[0]=e,this[1]=n,this[2]=r,this[3]=o,this[4]=s,this[5]=i,this[6]=a,this[7]=c,this[8]=u,this.check()}setRowMajor(e,n,r,o,s,i,a,c,u){return this[0]=e,this[1]=o,this[2]=a,this[3]=n,this[4]=s,this[5]=c,this[6]=r,this[7]=i,this[8]=u,this.check()}determinant(){return DA(this)}transpose(){return MA(this,this),this.check()}invert(){return VA(this,this),this.check()}multiplyLeft(e){return Jh(this,e,this),this.check()}multiplyRight(e){return Jh(this,this,e),this.check()}rotate(e){return IA(this,this,e),this.check()}scale(e){return Array.isArray(e)?jh(this,this,e):jh(this,this,[e,e]),this.check()}translate(e){return RA(this,this,e),this.check()}transform(e,n){let r;switch(e.length){case 2:r=gA(n||[-0,-0],e,this);break;case 3:r=Wu(n||[-0,-0,-0],e,this);break;case 4:r=bA(n||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return yA(r,e.length),r}transformVector(e,n){return this.transform(e,n)}transformVector2(e,n){return this.transform(e,n)}transformVector3(e,n){return this.transform(e,n)}},el,tl=null;function Yw(){return el||(el=new Mn([0,0,0,0,0,0,0,0,0]),Object.freeze(el)),el}function Qw(){return tl||(tl=new Mn,Object.freeze(tl)),tl}var rl="KHR_texture_transform",qw=rl,nl=new aa,Ww=new Mn,$w=new Mn;async function Zw(t,e){if(!new J(t).hasExtension(rl)||!e.gltf?.loadBuffers)return;let o=t.json.materials||[];for(let s=0;s<o.length;s++)eE(s,t)}function eE(t,e){let n=e.json.materials?.[t],r=[n?.pbrMetallicRoughness?.baseColorTexture,n?.emissiveTexture,n?.normalTexture,n?.occlusionTexture,n?.pbrMetallicRoughness?.metallicRoughnessTexture],o=[];for(let s of r)s&&s?.extensions?.[rl]&&tE(e,t,s,o)}function tE(t,e,n,r){let o=nE(n,r);if(!o)return;let s=t.json.meshes||[];for(let i of s)for(let a of i.primitives){let c=a.material;Number.isFinite(c)&&e===c&&rE(t,a,o)}}function nE(t,e){let n=t.extensions?.[rl],{texCoord:r=0}=t,{texCoord:o=r}=n;if(!(e.findIndex(([i,a])=>i===r&&a===o)!==-1)){let i=iE(n);return r!==o&&(t.texCoord=o),e.push([r,o]),{originalTexCoord:r,texCoord:o,matrix:i}}return null}function rE(t,e,n){let{originalTexCoord:r,texCoord:o,matrix:s}=n,i=e.attributes[`TEXCOORD_${r}`];if(Number.isFinite(i)){let a=t.json.accessors?.[i];if(a&&a.bufferView){let c=t.json.bufferViews?.[a.bufferView];if(c){let{arrayBuffer:u,byteOffset:l}=t.buffers[c.buffer],f=(l||0)+(a.byteOffset||0)+(c.byteOffset||0),{ArrayType:m,length:d}=ms(a,c),v=Lu[a.componentType],E=Uu[a.type],S=c.byteStride||v*E,x=new Float32Array(d);for(let g=0;g<a.count;g++){let y=new m(u,f+g*S,2);nl.set(y[0],y[1],1),nl.transformByMatrix3(s),x.set([nl[0],nl[1]],g*E)}r===o?oE(a,c,t.buffers,x):sE(o,a,e,t,x)}}}}function oE(t,e,n,r){t.componentType=5126,n.push({arrayBuffer:r.buffer,byteOffset:0,byteLength:r.buffer.byteLength}),e.buffer=n.length-1,e.byteLength=r.buffer.byteLength,e.byteOffset=0,delete e.byteStride}function sE(t,e,n,r,o){r.buffers.push({arrayBuffer:o.buffer,byteOffset:0,byteLength:o.buffer.byteLength});let s=r.json.bufferViews;if(!s)return;s.push({buffer:r.buffers.length-1,byteLength:o.buffer.byteLength,byteOffset:0});let i=r.json.accessors;i&&(i.push({bufferView:s?.length-1,byteOffset:0,componentType:5126,count:e.count,type:"VEC2"}),n.attributes[`TEXCOORD_${t}`]=i.length-1)}function iE(t){let{offset:e=[0,0],rotation:n=0,scale:r=[1,1]}=t,o=new Mn().set(1,0,0,0,1,0,e[0],e[1],1),s=Ww.set(Math.cos(n),Math.sin(n),0,-Math.sin(n),Math.cos(n),0,0,0,1),i=$w.set(r[0],0,0,0,r[1],0,0,0,1);return o.multiplyRight(s).multiplyRight(i)}var Qh={};ht(Qh,{decode:()=>cE,encode:()=>uE,name:()=>aE});var qr="KHR_lights_punctual",aE=qr;async function cE(t){let e=new J(t),{json:n}=e,r=e.getExtension(qr);r&&(e.json.lights=r.lights,e.removeExtension(qr));for(let o of n.nodes||[]){let s=e.getObjectExtension(o,qr);s&&(o.light=s.light),e.removeObjectExtension(o,qr)}}async function uE(t){let e=new J(t),{json:n}=e;if(n.lights){let r=e.addExtension(qr);Te(!r.lights),r.lights=n.lights,delete n.lights}if(e.json.lights){for(let r of e.json.lights){let o=r.node;e.addObjectExtension(o,qr,r)}delete e.json.lights}}var qh={};ht(qh,{decode:()=>fE,encode:()=>mE,name:()=>lE});var ca="KHR_materials_unlit",lE=ca;async function fE(t){let e=new J(t),{json:n}=e;for(let r of n.materials||[])r.extensions&&r.extensions.KHR_materials_unlit&&(r.unlit=!0),e.removeObjectExtension(r,ca);e.removeExtension(ca)}function mE(t){let e=new J(t),{json:n}=e;if(e.materials)for(let r of n.materials||[])r.unlit&&(delete r.unlit,e.addObjectExtension(r,ca,{}),e.addExtension(ca))}var Wh={};ht(Wh,{decode:()=>hE,encode:()=>pE,name:()=>dE});var ua="KHR_techniques_webgl",dE=ua;async function hE(t){let e=new J(t),{json:n}=e,r=e.getExtension(ua);if(r){let o=yE(r,e);for(let s of n.materials||[]){let i=e.getObjectExtension(s,ua);i&&(s.technique=Object.assign({},i,o[i.technique]),s.technique.values=xE(s.technique,e)),e.removeObjectExtension(s,ua)}e.removeExtension(ua)}}async function pE(t,e){}function yE(t,e){let{programs:n=[],shaders:r=[],techniques:o=[]}=t,s=new TextDecoder;return r.forEach(i=>{if(Number.isFinite(i.bufferView))i.code=s.decode(e.getTypedArrayForBufferView(i.bufferView));else throw new Error("KHR_techniques_webgl: no shader code")}),n.forEach(i=>{i.fragmentShader=r[i.fragmentShader],i.vertexShader=r[i.vertexShader]}),o.forEach(i=>{i.program=n[i.program]}),o}function xE(t,e){let n=Object.assign({},t.values);return Object.keys(t.uniforms||{}).forEach(r=>{t.uniforms[r].value&&!(r in n)&&(n[r]=t.uniforms[r].value)}),Object.keys(n).forEach(r=>{typeof n[r]=="object"&&n[r].index!==void 0&&(n[r].texture=e.getTexture(n[r].index))}),n}var OA=[_h,Ah,kh,Oh,Gh,zh,Qh,qh,Wh,Yh,Th];function GA(t,e={},n){let r=OA.filter(o=>LA(o.name,e));for(let o of r)o.preprocess?.(t,e,n)}async function UA(t,e={},n){let r=OA.filter(o=>LA(o.name,e));for(let o of r)await o.decode?.(t,e,n)}function LA(t,e){let n=e?.gltf?.excludeExtensions||{};return!(t in n&&!n[t])}var $h="KHR_binary_glTF";function FA(t){let e=new J(t),{json:n}=e;for(let r of n.images||[]){let o=e.getObjectExtension(r,$h);o&&Object.assign(r,o),e.removeObjectExtension(r,$h)}n.buffers&&n.buffers[0]&&delete n.buffers[0].uri,e.removeExtension($h)}var NA={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},AE={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},Zh=class{idToIndexMap={animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}};json;normalize(e,n){this.json=e.json;let r=e.json;switch(r.asset&&r.asset.version){case"2.0":return;case void 0:case"1.0":break;default:console.warn(`glTF: Unknown version ${r.asset.version}`);return}if(!n.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(r),this._convertTopLevelObjectsToArrays(r),FA(e),this._convertObjectIdsToArrayIndices(r),this._updateObjects(r),this._updateMaterial(r)}_addAsset(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(e){for(let n in NA)this._convertTopLevelObjectToArray(e,n)}_convertTopLevelObjectToArray(e,n){let r=e[n];if(!(!r||Array.isArray(r))){e[n]=[];for(let o in r){let s=r[o];s.id=s.id||o;let i=e[n].length;e[n].push(s),this.idToIndexMap[n][o]=i}}}_convertObjectIdsToArrayIndices(e){for(let n in NA)this._convertIdsToIndices(e,n);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));for(let n of e.textures)this._convertTextureIds(n);for(let n of e.meshes)this._convertMeshIds(n);for(let n of e.nodes)this._convertNodeIds(n);for(let n of e.scenes)this._convertSceneIds(n)}_convertTextureIds(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}_convertMeshIds(e){for(let n of e.primitives){let{attributes:r,indices:o,material:s}=n;for(let i in r)r[i]=this._convertIdToIndex(r[i],"accessor");o&&(n.indices=this._convertIdToIndex(o,"accessor")),s&&(n.material=this._convertIdToIndex(s,"material"))}}_convertNodeIds(e){e.children&&(e.children=e.children.map(n=>this._convertIdToIndex(n,"node"))),e.meshes&&(e.meshes=e.meshes.map(n=>this._convertIdToIndex(n,"mesh")))}_convertSceneIds(e){e.nodes&&(e.nodes=e.nodes.map(n=>this._convertIdToIndex(n,"node")))}_convertIdsToIndices(e,n){e[n]||(console.warn(`gltf v1: json doesn't contain attribute ${n}`),e[n]=[]);for(let r of e[n])for(let o in r){let s=r[o],i=this._convertIdToIndex(s,o);r[o]=i}}_convertIdToIndex(e,n){let r=AE[n];if(r in this.idToIndexMap){let o=this.idToIndexMap[r][e];if(!Number.isFinite(o))throw new Error(`gltf v1: failed to resolve ${n} with id ${e}`);return o}return e}_updateObjects(e){for(let n of this.json.buffers)delete n.type}_updateMaterial(e){for(let n of e.materials){n.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};let r=n.values?.tex||n.values?.texture2d_0||n.values?.diffuseTex,o=e.textures.findIndex(s=>s.id===r);o!==-1&&(n.pbrMetallicRoughness.baseColorTexture={index:o})}}};function zA(t,e={}){return new Zh().normalize(t,e)}async function HA(t,e,n=0,r,o){return vE(t,e,n,r),zA(t,{normalize:r?.gltf?.normalize}),GA(t,r,o),r?.gltf?.loadBuffers&&t.json.buffers&&await bE(t,r,o),r?.gltf?.loadImages&&await _E(t,r,o),await UA(t,r,o),t}function vE(t,e,n,r){if(r.uri&&(t.baseUri=r.uri),e instanceof ArrayBuffer&&!nA(e,n,r)&&(e=new TextDecoder().decode(e)),typeof e=="string")t.json=Kd(e);else if(e instanceof ArrayBuffer){let i={};n=rA(i,e,n,r.glb),Te(i.type==="glTF",`Invalid GLB magic string ${i.type}`),t._glb=i,t.json=i.json}else Te(!1,"GLTF: must be ArrayBuffer or string");let o=t.json.buffers||[];if(t.buffers=new Array(o.length).fill(null),t._glb&&t._glb.header.hasBinChunk){let{binChunks:i}=t._glb;t.buffers[0]={arrayBuffer:i[0].arrayBuffer,byteOffset:i[0].byteOffset,byteLength:i[0].byteLength}}let s=t.json.images||[];t.images=new Array(s.length).fill({})}async function bE(t,e,n){let r=t.json.buffers||[];for(let o=0;o<r.length;++o){let s=r[o];if(s.uri){let{fetch:i}=n;Te(i);let a=Rh(s.uri,e),u=await(await n?.fetch?.(a))?.arrayBuffer?.();t.buffers[o]={arrayBuffer:u,byteOffset:0,byteLength:u.byteLength},delete s.uri}else t.buffers[o]===null&&(t.buffers[o]={arrayBuffer:new ArrayBuffer(s.byteLength),byteOffset:0,byteLength:s.byteLength})}}async function _E(t,e,n){let r=TE(t),o=t.json.images||[],s=[];for(let i of r)s.push(BE(t,o[i],i,e,n));return await Promise.all(s)}function TE(t){let e=new Set,n=t.json.textures||[];for(let r of n)r.source!==void 0&&e.add(r.source);return Array.from(e).sort()}async function BE(t,e,n,r,o){let s;if(e.uri&&!e.hasOwnProperty("bufferView")){let a=Rh(e.uri,r),{fetch:c}=o;s=await(await c(a)).arrayBuffer(),e.bufferView={data:s}}if(Number.isFinite(e.bufferView)){let a=F2(t.json,t.buffers,e.bufferView);s=$i(a.buffer,a.byteOffset,a.byteLength)}Te(s,"glTF image has no data");let i=await ji(s,[yh,Ch],{...r,mimeType:e.mimeType,basis:r.basis||{format:ju()}},o);i&&i[0]&&(i={compressed:!0,mipmaps:!1,width:i[0].width,height:i[0].height,data:i[0]}),t.images=t.images||[],t.images[n]=i}var Ts={dataType:null,batchType:null,name:"glTF",id:"gltf",module:"gltf",version:J2,extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:wE,options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0},log:console}};async function wE(t,e={},n){e={...Ts.options,...e},e.gltf={...Ts.options.gltf,...e.gltf};let{byteOffset:r=0}=e;return await HA({},t,r,e,n)}var EE={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},SE={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Vt={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},CE={magFilter:Vt.TEXTURE_MAG_FILTER,minFilter:Vt.TEXTURE_MIN_FILTER,wrapS:Vt.TEXTURE_WRAP_S,wrapT:Vt.TEXTURE_WRAP_T},ME={[Vt.TEXTURE_MAG_FILTER]:Vt.LINEAR,[Vt.TEXTURE_MIN_FILTER]:Vt.NEAREST_MIPMAP_LINEAR,[Vt.TEXTURE_WRAP_S]:Vt.REPEAT,[Vt.TEXTURE_WRAP_T]:Vt.REPEAT};function VE(){return{id:"default-sampler",parameters:ME}}function DE(t){return SE[t]}function RE(t){return EE[t]}var ep=class{baseUri="";jsonUnprocessed;json;buffers=[];images=[];postProcess(e,n={}){let{json:r,buffers:o=[],images:s=[]}=e,{baseUri:i=""}=e;return Te(r),this.baseUri=i,this.buffers=o,this.images=s,this.jsonUnprocessed=r,this.json=this._resolveTree(e.json,n),this.json}_resolveTree(e,n={}){let r={...e};return this.json=r,e.bufferViews&&(r.bufferViews=e.bufferViews.map((o,s)=>this._resolveBufferView(o,s))),e.images&&(r.images=e.images.map((o,s)=>this._resolveImage(o,s))),e.samplers&&(r.samplers=e.samplers.map((o,s)=>this._resolveSampler(o,s))),e.textures&&(r.textures=e.textures.map((o,s)=>this._resolveTexture(o,s))),e.accessors&&(r.accessors=e.accessors.map((o,s)=>this._resolveAccessor(o,s))),e.materials&&(r.materials=e.materials.map((o,s)=>this._resolveMaterial(o,s))),e.meshes&&(r.meshes=e.meshes.map((o,s)=>this._resolveMesh(o,s))),e.nodes&&(r.nodes=e.nodes.map((o,s)=>this._resolveNode(o,s)),r.nodes=r.nodes.map((o,s)=>this._resolveNodeChildren(o))),e.skins&&(r.skins=e.skins.map((o,s)=>this._resolveSkin(o,s))),e.scenes&&(r.scenes=e.scenes.map((o,s)=>this._resolveScene(o,s))),typeof this.json.scene=="number"&&r.scenes&&(r.scene=r.scenes[this.json.scene]),r}getScene(e){return this._get(this.json.scenes,e)}getNode(e){return this._get(this.json.nodes,e)}getSkin(e){return this._get(this.json.skins,e)}getMesh(e){return this._get(this.json.meshes,e)}getMaterial(e){return this._get(this.json.materials,e)}getAccessor(e){return this._get(this.json.accessors,e)}getCamera(e){return this._get(this.json.cameras,e)}getTexture(e){return this._get(this.json.textures,e)}getSampler(e){return this._get(this.json.samplers,e)}getImage(e){return this._get(this.json.images,e)}getBufferView(e){return this._get(this.json.bufferViews,e)}getBuffer(e){return this._get(this.json.buffers,e)}_get(e,n){if(typeof n=="object")return n;let r=e&&e[n];return r||console.warn(`glTF file error: Could not find ${e}[${n}]`),r}_resolveScene(e,n){return{...e,id:e.id||`scene-${n}`,nodes:(e.nodes||[]).map(r=>this.getNode(r))}}_resolveNode(e,n){let r={...e,id:e?.id||`node-${n}`};return e.mesh!==void 0&&(r.mesh=this.getMesh(e.mesh)),e.camera!==void 0&&(r.camera=this.getCamera(e.camera)),e.skin!==void 0&&(r.skin=this.getSkin(e.skin)),e.meshes!==void 0&&e.meshes.length&&(r.mesh=e.meshes.reduce((o,s)=>{let i=this.getMesh(s);return o.id=i.id,o.primitives=o.primitives.concat(i.primitives),o},{primitives:[]})),r}_resolveNodeChildren(e){return e.children&&(e.children=e.children.map(n=>this.getNode(n))),e}_resolveSkin(e,n){let r=typeof e.inverseBindMatrices=="number"?this.getAccessor(e.inverseBindMatrices):void 0;return{...e,id:e.id||`skin-${n}`,inverseBindMatrices:r}}_resolveMesh(e,n){let r={...e,id:e.id||`mesh-${n}`,primitives:[]};return e.primitives&&(r.primitives=e.primitives.map(o=>{let s={...o,attributes:{},indices:void 0,material:void 0},i=o.attributes;for(let a in i)s.attributes[a]=this.getAccessor(i[a]);return o.indices!==void 0&&(s.indices=this.getAccessor(o.indices)),o.material!==void 0&&(s.material=this.getMaterial(o.material)),s})),r}_resolveMaterial(e,n){let r={...e,id:e.id||`material-${n}`};if(r.normalTexture&&(r.normalTexture={...r.normalTexture},r.normalTexture.texture=this.getTexture(r.normalTexture.index)),r.occlusionTexture&&(r.occlusionTexture={...r.occlusionTexture},r.occlusionTexture.texture=this.getTexture(r.occlusionTexture.index)),r.emissiveTexture&&(r.emissiveTexture={...r.emissiveTexture},r.emissiveTexture.texture=this.getTexture(r.emissiveTexture.index)),r.emissiveFactor||(r.emissiveFactor=r.emissiveTexture?[1,1,1]:[0,0,0]),r.pbrMetallicRoughness){r.pbrMetallicRoughness={...r.pbrMetallicRoughness};let o=r.pbrMetallicRoughness;o.baseColorTexture&&(o.baseColorTexture={...o.baseColorTexture},o.baseColorTexture.texture=this.getTexture(o.baseColorTexture.index)),o.metallicRoughnessTexture&&(o.metallicRoughnessTexture={...o.metallicRoughnessTexture},o.metallicRoughnessTexture.texture=this.getTexture(o.metallicRoughnessTexture.index))}return r}_resolveAccessor(e,n){let r=DE(e.componentType),o=RE(e.type),s=r*o,i={...e,id:e.id||`accessor-${n}`,bytesPerComponent:r,components:o,bytesPerElement:s,value:void 0,bufferView:void 0,sparse:void 0};if(e.bufferView!==void 0&&(i.bufferView=this.getBufferView(e.bufferView)),i.bufferView){let a=i.bufferView.buffer,{ArrayType:c,byteLength:u}=ms(i,i.bufferView),l=(i.bufferView.byteOffset||0)+(i.byteOffset||0)+a.byteOffset,f=a.arrayBuffer.slice(l,l+u);i.bufferView.byteStride&&(f=this._getValueFromInterleavedBuffer(a,l,i.bufferView.byteStride,i.bytesPerElement,i.count)),i.value=new c(f)}return i}_getValueFromInterleavedBuffer(e,n,r,o,s){let i=new Uint8Array(s*o);for(let a=0;a<s;a++){let c=n+a*r;i.set(new Uint8Array(e.arrayBuffer.slice(c,c+o)),a*o)}return i.buffer}_resolveTexture(e,n){return{...e,id:e.id||`texture-${n}`,sampler:typeof e.sampler=="number"?this.getSampler(e.sampler):VE(),source:typeof e.source=="number"?this.getImage(e.source):void 0}}_resolveSampler(e,n){let r={id:e.id||`sampler-${n}`,...e,parameters:{}};for(let o in r){let s=this._enumSamplerParameter(o);s!==void 0&&(r.parameters[s]=r[o])}return r}_enumSamplerParameter(e){return CE[e]}_resolveImage(e,n){let r={...e,id:e.id||`image-${n}`,image:null,bufferView:e.bufferView!==void 0?this.getBufferView(e.bufferView):void 0},o=this.images[n];return o&&(r.image=o),r}_resolveBufferView(e,n){let r=e.buffer,o=this.buffers[r].arrayBuffer,s=this.buffers[r].byteOffset||0;return e.byteOffset&&(s+=e.byteOffset),{id:`bufferView-${n}`,...e,buffer:this.buffers[r],data:new Uint8Array(o,s,e.byteLength)}}_resolveCamera(e,n){let r={...e,id:e.id||`camera-${n}`};return r.perspective,r.orthographic,r}};function tp(t,e){return new ep().postProcess(t,e)}var la={create(){},brand:"physicsWorld",dependencies:[],globalDependencies:[],init:async()=>{let t=(await import("./rapier-7QUI7SPZ.js")).default;return console.log(t,t.World),{world:new t.World({x:0,y:-9.81,z:0}),RAPIER:t}},fixedUpdate({state:t,instances:e}){t.world.integrationParameters.dt=.004,t.world.step()},onDestroy(t){}};function IE(t){let e=Math.sqrt(1-t.w*t.w);return{angle:2*Math.acos(t.w),axis:e===0?[1,0,0]:[t.x/e,t.y/e,t.z/e]}}var ol={brand:"rigidBody",dependencies:[ar],globalDependencies:[la],create(t,e,{physicsWorld:n}){return{body:n.state.world.createRigidBody(t)}},onDestroy(t,{physicsWorld:e}){e.state.world.removeRigidBody(t.body)},init:()=>{},fixedUpdate({state:t,instances:e}){for(let n of e){let r=n.data.body.translation(),o=n.data.body.rotation(),s=IE(o);n.entity.transform.matrix=nn(Lt([r.x,r.y,r.z]),xp(s.axis,s.angle))}}},PA={brand:"rigidBodyCollider",dependencies:[ol],globalDependencies:[la],create(t,e,{physicsWorld:n},r){let o=r(ol);return{collider:n.state.world.createCollider(t,o.body)}},onDestroy(t,{physicsWorld:e}){e.state.world.removeCollider(t.collider,!1)},init:()=>{}};function KA(t,e){return{vertices:zr(t,e.vertices.buffer,GPUBufferUsage.COPY_DST|GPUBufferUsage.VERTEX),indices:zr(t,e.indices.buffer,GPUBufferUsage.COPY_DST|GPUBufferUsage.INDEX),drawCount:e.drawCount}}function kE(t,e,n,r){let o=r[1]*r[0],s=(r[1]-1)*(r[0]-1)*6,i=new Float32Array(o*3),a=new Uint32Array(s),[c,u]=e,[l,f]=n,m=(l-c)/(r[0]-1),d=(f-u)/(r[1]-1);for(let v=0;v<r[1];v++)for(let E=0;E<r[0];E++){let S=(v*r[0]+E)*3,x=c+m*E,g=u+d*v,y=t([x,g]);i[S]=y[0],i[S+1]=y[1],i[S+2]=y[2]}for(let v=0;v<r[1]-1;v++)for(let E=0;E<r[0]-1;E++){let S=(v*(r[0]-1)+E)*6,x=v*r[0]+E;a[S]=x,a[S+1]=x+1,a[S+2]=x+r[0],a[S+3]=x+1,a[S+5]=x+r[0],a[S+4]=x+r[0]+1}return console.log(s,o),{vertices:i,indices:a,drawCount:s}}function JA(t,e){return kE(([n,r])=>{let o=Math.cos(n)*Math.cos(r)*t,s=Math.sin(n)*Math.cos(r)*t,i=Math.sin(r)*t;return[o,i,s]},[0,-Math.PI/2],[Math.PI*2,Math.PI/2],e)}var np=`struct LightingVertInput {\r
  @location(0) sample_pos: vec3f,\r
}\r
\r
struct LightingFragInput {\r
  @builtin(position) vertex_position : vec4f,\r
  @location(0) tex_pos: vec2f,\r
}\r
\r
struct LightingFragOutput {\r
  @location(0) color : vec4f,\r
}\r
\r
@group(0) @binding(0) var tex_sampler : sampler;\r
@group(0) @binding(1) var tex_pos : texture_2d<f32>;\r
@group(0) @binding(2) var tex_normal : texture_2d<f32>;\r
@group(0) @binding(3) var tex_albedo : texture_2d<f32>;\r
\r
struct Params {\r
  mvp: mat4x4f,\r
  light_pos: vec4f,\r
  light_color: vec3f,\r
  quadratic: f32,\r
  linear: f32,\r
  constant: f32,\r
  cutoff_radius: f32,\r
}\r
\r
@group(1) @binding(0) var<uniform> params : Params;\r
\r
@vertex\r
fn VSMain(input: LightingVertInput) -> LightingFragInput {\r
  var frag: LightingFragInput;\r
  var pos = params.mvp * vec4(input.sample_pos, 1.0);\r
  frag.tex_pos = (pos.xy / pos.w) * 0.5 + 0.5;\r
  frag.tex_pos.y = 1.0 - frag.tex_pos.y;\r
  frag.vertex_position = pos;\r
  return frag;\r
}\r
\r
@fragment\r
fn FSMain(input: LightingFragInput) -> LightingFragOutput {\r
  var o: LightingFragOutput;\r
  // _ = tex_pos;\r
  // _ = tex_albedo;\r
  // _ = tex_normal;\r
\r
  \r
\r
  let albedo = textureSample(tex_albedo, tex_sampler, input.tex_pos);\r
  let pos = textureSample(tex_pos, tex_sampler, input.tex_pos);\r
  let normal = textureSample(tex_normal, tex_sampler, input.tex_pos);\r
\r
  let vec_to_light = params.light_pos.xyz - pos.xyz;\r
  let dist_to_light = length(vec_to_light);\r
  let dir_to_light = vec_to_light / dist_to_light;\r
\r
  let attenuation = \r
    params.quadratic * dist_to_light * dist_to_light\r
    + params.linear * dist_to_light\r
    + params.constant;\r
\r
  var brightness = 1.0 / attenuation;\r
\r
  brightness = brightness * min(\r
    1.0, \r
    3.0 * (1.0 - dist_to_light / params.cutoff_radius)\r
  );\r
\r
  o.color = (albedo * brightness * max(dot(\r
    normal.xyz,\r
    dir_to_light\r
  ), 0.0));\r
\r
  o.color = max(o.color, vec4f(0.0));\r
\r
  o.color.a = 1.0;\r
\r
  o.color = pow(o.color, vec4(1 / 2.2));\r
\r
  return o;\r
} `;var jA={bindGroups:[[{name:"tex_sampler",type:{name:"sampler",attributes:[{id:434941,line:14,name:"group",value:"0"},{id:434942,line:14,name:"binding",value:"0"}],size:0,format:null,access:null},group:0,binding:0,attributes:[{id:434941,line:14,name:"group",value:"0"},{id:434942,line:14,name:"binding",value:"0"}],resourceType:3,access:""},{name:"tex_pos",type:{name:"texture_2d",attributes:[{id:434945,line:15,name:"group",value:"0"},{id:434946,line:15,name:"binding",value:"1"}],size:0,format:{name:"f32",attributes:null,size:4},access:null},group:0,binding:1,attributes:[{id:434945,line:15,name:"group",value:"0"},{id:434946,line:15,name:"binding",value:"1"}],resourceType:2,access:"read"},{name:"tex_normal",type:{name:"texture_2d",attributes:[{id:434950,line:16,name:"group",value:"0"},{id:434951,line:16,name:"binding",value:"2"}],size:0,format:{name:"f32",attributes:null,size:4},access:null},group:0,binding:2,attributes:[{id:434950,line:16,name:"group",value:"0"},{id:434951,line:16,name:"binding",value:"2"}],resourceType:2,access:"read"},{name:"tex_albedo",type:{name:"texture_2d",attributes:[{id:434955,line:17,name:"group",value:"0"},{id:434956,line:17,name:"binding",value:"3"}],size:0,format:{name:"f32",attributes:null,size:4},access:null},group:0,binding:3,attributes:[{id:434955,line:17,name:"group",value:"0"},{id:434956,line:17,name:"binding",value:"3"}],resourceType:2,access:"read"}],[{name:"params",type:{name:"Params",attributes:null,size:112,members:[{name:"mvp",type:{name:"mat4x4f",attributes:null,size:64},attributes:null,offset:0,size:64},{name:"light_pos",type:{name:"vec4f",attributes:null,size:16},attributes:null,offset:64,size:16},{name:"light_color",type:{name:"vec3f",attributes:null,size:12},attributes:null,offset:80,size:12},{name:"quadratic",type:{name:"f32",attributes:null,size:4},attributes:null,offset:92,size:4},{name:"linear",type:{name:"f32",attributes:null,size:4},attributes:null,offset:96,size:4},{name:"constant",type:{name:"f32",attributes:null,size:4},attributes:null,offset:100,size:4},{name:"cutoff_radius",type:{name:"f32",attributes:null,size:4},attributes:null,offset:104,size:4}],align:16,startLine:19,endLine:27,inUse:!0},group:1,binding:0,attributes:[{id:434975,line:29,name:"group",value:"1"},{id:434976,line:29,name:"binding",value:"0"}],resourceType:0,access:"read"}]]};var XA={async init(t){let{device:e,canvasFormat:n,onResize:r}=await t(mt),o=e.createBindGroupLayout({entries:[{binding:0,sampler:{type:"non-filtering"},visibility:GPUShaderStage.FRAGMENT},{binding:1,texture:{sampleType:"unfilterable-float",viewDimension:"2d"},visibility:GPUShaderStage.FRAGMENT},{binding:2,texture:{sampleType:"unfilterable-float",viewDimension:"2d"},visibility:GPUShaderStage.FRAGMENT},{binding:3,texture:{sampleType:"float",viewDimension:"2d"},visibility:GPUShaderStage.FRAGMENT}]}),s=e.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.FRAGMENT|GPUShaderStage.VERTEX,buffer:{type:"uniform"}}]}),i=e.createRenderPipeline({layout:e.createPipelineLayout({bindGroupLayouts:[o,s]}),vertex:{module:e.createShaderModule({code:np}),buffers:[{arrayStride:12,attributes:[{shaderLocation:0,offset:0,format:"float32x2"}]}]},fragment:{module:e.createShaderModule({code:np}),targets:[{format:"rgba8unorm",blend:{color:{operation:"add",srcFactor:"one",dstFactor:"one"},alpha:{operation:"add",srcFactor:"one",dstFactor:"zero"}}}]},primitive:{topology:"triangle-list",cullMode:"front"}}),c={pointLightGeometry:KA(e,JA(1,[12,12])),lightingPipeline:i,lightingBindGroupLayout:o,lightingUniformBindGroupLayout:s,lightingBindGroup:void 0};return await r(async()=>{let u=(await t(mt)).textures.gbuffer;c.lightingBindGroup=e.createBindGroup({layout:o,entries:[{binding:0,resource:e.createSampler({minFilter:"nearest",magFilter:"nearest"})},{binding:1,resource:u.position},{binding:2,resource:u.normal},{binding:3,resource:u.albedo}]})}),c},create(t,e,{sampleWebgpuRenderer:n}){let{device:r}=n.state,o=r.createBuffer({label:"uniform buffer",size:1024,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM}),s=r.createBindGroup({label:"lighting uniform bind group",entries:[{binding:0,resource:o}],layout:e.state.lightingUniformBindGroupLayout});return{uniformBuffer:o,uniformBindGroup:s,color:t.color,quadratic:t.quadratic,linear:t.linear,constant:t.constant}},renderUpdate({state:t,instances:e,subsystem:n,scheduleTask:r}){r(()=>{let{projectionMatrix:o,viewMatrix:s,device:i,textures:a,ctx:c}=n(mt).state,u=i.createCommandEncoder(),l=u.beginRenderPass({colorAttachments:[{view:a.lighting.color.createView({mipLevelCount:1}),clearValue:[0,0,0,1],loadOp:"clear",storeOp:"store"}]});l.setBindGroup(0,t.lightingBindGroup);let f=5/256;for(let m of e){let d=(-m.data.linear+Math.sqrt(m.data.linear**2-4*m.data.quadratic*(m.data.constant-Math.max(...m.data.color)/f)))/(2*m.data.quadratic),v=nn(o,nn(nn(s,m.entity.transform.matrix),gp([d,d,d]))),E=ro(jA,1,0,{mvp:v,light_color:m.data.color,light_pos:up(v,[0,0,0,1]),quadratic:m.data.quadratic,linear:m.data.linear,constant:m.data.constant,cutoff_radius:d});i.queue.writeBuffer(m.data.uniformBuffer,0,E),l.setBindGroup(1,m.data.uniformBindGroup),l.setPipeline(t.lightingPipeline),l.setVertexBuffer(0,t.pointLightGeometry.vertices),l.setIndexBuffer(t.pointLightGeometry.indices,"uint32"),l.drawIndexed(t.pointLightGeometry.drawCount)}return l.end(),i.queue.submit([u.finish()]),Promise.resolve()},[Md],[Ji])},dependencies:[ar],globalDependencies:[mt],brand:"pointLightSource",onDestroy(){}};var rp=`struct GBufferVertInput {\r
  @location(0) pos: vec3f,\r
  @location(1) normal: vec3f,\r
  //  @location(2) uv: vec2f,\r
}\r
\r
struct GBufferFragInput {\r
  @builtin(position) vertex_position:  vec4f, \r
  @location(0) pos: vec4f,\r
  @location(1) normal: vec4f,\r
  @location(2) albedo: vec4f,\r
}\r
\r
struct GBufferFragOutput {\r
  @location(0) pos: vec4f,\r
  @location(1) normal: vec4f,\r
  @location(2) albedo: vec4f,\r
}\r
\r
struct Params {\r
  mvp: mat4x4f,\r
  draw_color: vec4f\r
}\r
\r
@group(0) @binding(0) var<uniform> params : Params;\r
\r
@vertex\r
fn VSMain(input: GBufferVertInput) -> GBufferFragInput {\r
  var frag: GBufferFragInput;\r
  let clipspace = params.mvp * vec4f(input.pos, 1.0);\r
  frag.pos = clipspace;\r
  frag.vertex_position = clipspace;\r
  frag.normal = params.mvp * vec4f(input.normal, 0.0);\r
  frag.albedo = params.draw_color;\r
  return frag;\r
}\r
\r
@fragment\r
fn FSMain(input: GBufferFragInput) -> GBufferFragOutput {\r
  var o: GBufferFragOutput;\r
  o.pos = input.pos;\r
  o.normal = input.normal;\r
  o.albedo = input.albedo;\r
  return o;\r
} `;var YA={bindGroups:[[{name:"params",type:{name:"Params",attributes:null,size:80,members:[{name:"mvp",type:{name:"mat4x4f",attributes:null,size:64},attributes:null,offset:0,size:64},{name:"draw_color",type:{name:"vec4f",attributes:null,size:16},attributes:null,offset:64,size:16}],align:16,startLine:20,endLine:23,inUse:!0},group:0,binding:0,attributes:[{id:434849,line:25,name:"group",value:"0"},{id:434850,line:25,name:"binding",value:"0"}],resourceType:0,access:"read"}]]};var QA={async init(t){let{device:e}=await t(mt);return{gbufferPipeline:e.createRenderPipeline({layout:"auto",vertex:{module:e.createShaderModule({code:rp}),buffers:[{arrayStride:12,attributes:[{shaderLocation:0,offset:0,format:"float32x3"}]},{arrayStride:12,attributes:[{shaderLocation:1,offset:0,format:"float32x3"}]}]},fragment:{module:e.createShaderModule({code:rp}),targets:[{format:"rgba32float"},{format:"rgba16float"},{format:"rgba8unorm"}]},depthStencil:{depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus"},primitive:{topology:"triangle-list",cullMode:"back"}})}},create(t,e,{sampleWebgpuRenderer:n}){let{device:r}=n.state,o=r.createBuffer({label:"uniform buffer",size:1024,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC|GPUBufferUsage.UNIFORM});return{bindGroup:r.createBindGroup({layout:e.state.gbufferPipeline.getBindGroupLayout(0),entries:[{binding:0,resource:o}]}),vertexBuffer:t.vertexBuffer,indexBuffer:t.indexBuffer,normalBuffer:t.normalBuffer,vertexCount:t.size,uniformBuffer:o,indexFormat:t.indexFormat,drawColor:t.drawColor}},renderUpdate({state:t,instances:e,subsystem:n,scheduleTask:r}){r(()=>{let{device:o,viewMatrix:s,projectionMatrix:i,textures:a}=n(mt).state,{gbufferPipeline:c}=t,u=o.createCommandEncoder(),l=u.beginRenderPass({colorAttachments:[{view:a.gbuffer.position.createView(),clearValue:[0,0,0,1],loadOp:"clear",storeOp:"store"},{view:a.gbuffer.normal.createView(),clearValue:[0,0,0,1],loadOp:"clear",storeOp:"store"},{view:a.gbuffer.albedo.createView(),clearValue:[0,0,0,1],loadOp:"clear",storeOp:"store"}],depthStencilAttachment:{view:a.gbuffer.depth,depthClearValue:1,depthLoadOp:"clear",depthStoreOp:"store"}});for(let f of e){let m=ro(YA,0,0,{mvp:nn(i,nn(s,f.entity.transform.matrix)),draw_color:f.data.drawColor});o.queue.writeBuffer(f.data.uniformBuffer,0,m),l.setPipeline(c),l.setVertexBuffer(0,f.data.vertexBuffer),l.setVertexBuffer(1,f.data.normalBuffer),l.setIndexBuffer(f.data.indexBuffer,f.data.indexFormat),l.setBindGroup(0,f.data.bindGroup),l.drawIndexed(f.data.vertexCount)}return l.end(),o.queue.submit([u.finish()]),Promise.resolve()},[Ji])},onDestroy(){},dependencies:[ar],globalDependencies:[mt],brand:"sampleWebgpuRendererGeometry"};function qA(t,e){let n=[];for(let r of e.primitives){let o={attributes:{},count:0};for(let[s,i]of Object.entries(r.attributes)){let a=zr(t,i.value.buffer,GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST);o.attributes[s]=a,o.count=i.count}if(r.indices){let s=zr(t,r.indices.value.buffer,GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST);o.indices={buffer:s,format:r.indices.bytesPerElement===2?"uint16":"uint32"},o.count=r.indices.count}n.push(o)}return n}function FE(t,e,n,r){let o=1/Math.tan(t/2),s=1/(n-r);return[o/e,0,0,0,0,o,0,0,0,0,r*s,-1,0,0,n*r*s,0]}async function NE(){let t=await(await fetch("assets/models.glb")).blob();console.log("sdsdsdfds",await fs(await(await fetch("assets/models.glb")).blob(),Ts));let e=await fs(t,Ts),n=tp(e);console.log(n);let r=await f1([ar,mt,QA,ol,la,PA,Tu,XA]),o=r.subsystem(mt).global.device,s=qA(o,n.meshes[0]),i=qA(o,n.meshes[2]),a=[],{world:c,RAPIER:u}=r.subsystem(la).global;console.log(i[0].indices);let l=r.entity({transform:Lt([0,0,-60]),sampleWebgpuRendererGeometry:{vertexBuffer:i[0].attributes.POSITION,normalBuffer:i[0].attributes.NORMAL,size:i[0].count,indexBuffer:i[0].indices.buffer,indexFormat:"uint16",drawColor:[.2,.4,1,1]}});for(let E=0;E<10;E++)for(let S=0;S<10;S++){let x=r.entity({transform:Lt([2*E-5,2*S-5,-(E+S+5)*2]),sampleWebgpuRendererGeometry:{vertexBuffer:s[0].attributes.POSITION,normalBuffer:s[0].attributes.NORMAL,size:s[0].count,indexBuffer:s[0].indices.buffer,indexFormat:"uint16",drawColor:[1,.4,.2,1]}});a.push(x)}for(let E of to(30).map(S=>[da(-10,10),da(-1,1),da(-40,-5)]));r.entity({transform:Lt([100,100,-1]),pointLightSource:{color:[1,1,1],quadratic:1e-5,linear:1e-5,constant:1}});let f=r.entity({transform:Lt([0,0,0]),rigidBody:u.RigidBodyDesc.fixed(),rigidBodyCollider:u.ColliderDesc.cuboid(30,1,30).setTranslation(0,-4,0).setFriction(.9)}),m=0,d=r.subsystem(mt);async function v(){let E=FE(1,1.7777777777777777,.1,100);d.global.projectionMatrix=E,await r.fixedUpdate(),await r.renderUpdate(),requestAnimationFrame(v)}v()}NE();
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
//# sourceMappingURL=index.demo.js.map
