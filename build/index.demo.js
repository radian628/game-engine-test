import{a as Ut,b as pt,c as en}from"./chunk-RFBBAUMM.js";var dp=Ut((NS,mp)=>{"use strict";function Ke(t){if(this.size=t|0,this.size<=1||(this.size&this.size-1)!==0)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=t<<1;for(var e=new Array(this.size*2),n=0;n<e.length;n+=2){let c=Math.PI*n/this.size;e[n]=Math.cos(c),e[n+1]=-Math.sin(c)}this.table=e;for(var r=0,o=1;this.size>o;o<<=1)r++;this._width=r%2===0?r-1:r,this._bitrev=new Array(1<<this._width);for(var s=0;s<this._bitrev.length;s++){this._bitrev[s]=0;for(var i=0;i<this._width;i+=2){var a=this._width-i-2;this._bitrev[s]|=(s>>>i&3)<<a}}this._out=null,this._data=null,this._inv=0}mp.exports=Ke;Ke.prototype.fromComplexArray=function(e,n){for(var r=n||new Array(e.length>>>1),o=0;o<e.length;o+=2)r[o>>>1]=e[o];return r};Ke.prototype.createComplexArray=function(){let e=new Array(this._csize);for(var n=0;n<e.length;n++)e[n]=0;return e};Ke.prototype.toComplexArray=function(e,n){for(var r=n||this.createComplexArray(),o=0;o<r.length;o+=2)r[o]=e[o>>>1],r[o+1]=0;return r};Ke.prototype.completeSpectrum=function(e){for(var n=this._csize,r=n>>>1,o=2;o<r;o+=2)e[n-o]=e[o],e[n-o+1]=-e[o+1]};Ke.prototype.transform=function(e,n){if(e===n)throw new Error("Input and output buffers must be different");this._out=e,this._data=n,this._inv=0,this._transform4(),this._out=null,this._data=null};Ke.prototype.realTransform=function(e,n){if(e===n)throw new Error("Input and output buffers must be different");this._out=e,this._data=n,this._inv=0,this._realTransform4(),this._out=null,this._data=null};Ke.prototype.inverseTransform=function(e,n){if(e===n)throw new Error("Input and output buffers must be different");this._out=e,this._data=n,this._inv=1,this._transform4();for(var r=0;r<e.length;r++)e[r]/=this.size;this._out=null,this._data=null};Ke.prototype._transform4=function(){var e=this._out,n=this._csize,r=this._width,o=1<<r,s=n/o<<1,i,a,c=this._bitrev;if(s===4)for(i=0,a=0;i<n;i+=s,a++){let E=c[a];this._singleTransform2(i,E,o)}else for(i=0,a=0;i<n;i+=s,a++){let E=c[a];this._singleTransform4(i,E,o)}var u=this._inv?-1:1,l=this.table;for(o>>=2;o>=2;o>>=2){s=n/o<<1;var f=s>>>2;for(i=0;i<n;i+=s)for(var m=i+f,d=i,b=0;d<m;d+=2,b+=o){let E=d,S=E+f,g=S+f,x=g+f,y=e[E],A=e[E+1],V=e[S],I=e[S+1],D=e[g],k=e[g+1],O=e[x],G=e[x+1],ue=y,Zt=A,dr=l[b],hr=u*l[b+1],pr=V*dr-I*hr,yr=V*hr+I*dr,ws=l[2*b],Es=u*l[2*b+1],Ss=D*ws-k*Es,Cs=D*Es+k*ws,Ms=l[3*b],Vs=u*l[3*b+1],Ds=O*Ms-G*Vs,Rs=O*Vs+G*Ms,Is=ue+Ss,$r=Zt+Cs,Zr=ue-Ss,ks=Zt-Cs,Os=pr+Ds,eo=yr+Rs,to=u*(pr-Ds),Gs=u*(yr-Rs),ma=Is+Os,il=$r+eo,al=Is-Os,cl=$r-eo,ul=Zr+Gs,ll=ks-to,fl=Zr-Gs,ml=ks+to;e[E]=ma,e[E+1]=il,e[S]=ul,e[S+1]=ll,e[g]=al,e[g+1]=cl,e[x]=fl,e[x+1]=ml}}};Ke.prototype._singleTransform2=function(e,n,r){let o=this._out,s=this._data,i=s[n],a=s[n+1],c=s[n+r],u=s[n+r+1],l=i+c,f=a+u,m=i-c,d=a-u;o[e]=l,o[e+1]=f,o[e+2]=m,o[e+3]=d};Ke.prototype._singleTransform4=function(e,n,r){let o=this._out,s=this._data,i=this._inv?-1:1,a=r*2,c=r*3,u=s[n],l=s[n+1],f=s[n+r],m=s[n+r+1],d=s[n+a],b=s[n+a+1],E=s[n+c],S=s[n+c+1],g=u+d,x=l+b,y=u-d,A=l-b,V=f+E,I=m+S,D=i*(f-E),k=i*(m-S),O=g+V,G=x+I,ue=y+k,Zt=A-D,dr=g-V,hr=x-I,pr=y-k,yr=A+D;o[e]=O,o[e+1]=G,o[e+2]=ue,o[e+3]=Zt,o[e+4]=dr,o[e+5]=hr,o[e+6]=pr,o[e+7]=yr};Ke.prototype._realTransform4=function(){var e=this._out,n=this._csize,r=this._width,o=1<<r,s=n/o<<1,i,a,c=this._bitrev;if(s===4)for(i=0,a=0;i<n;i+=s,a++){let dl=c[a];this._singleRealTransform2(i,dl>>>1,o>>>1)}else for(i=0,a=0;i<n;i+=s,a++){let dl=c[a];this._singleRealTransform4(i,dl>>>1,o>>>1)}var u=this._inv?-1:1,l=this.table;for(o>>=2;o>=2;o>>=2){s=n/o<<1;var f=s>>>1,m=f>>>1,d=m>>>1;for(i=0;i<n;i+=s)for(var b=0,E=0;b<=d;b+=2,E+=o){var S=i+b,g=S+m,x=g+m,y=x+m,A=e[S],V=e[S+1],I=e[g],D=e[g+1],k=e[x],O=e[x+1],G=e[y],ue=e[y+1],Zt=A,dr=V,hr=l[E],pr=u*l[E+1],yr=I*hr-D*pr,ws=I*pr+D*hr,Es=l[2*E],Ss=u*l[2*E+1],Cs=k*Es-O*Ss,Ms=k*Ss+O*Es,Vs=l[3*E],Ds=u*l[3*E+1],Rs=G*Vs-ue*Ds,Is=G*Ds+ue*Vs,$r=Zt+Cs,Zr=dr+Ms,ks=Zt-Cs,Os=dr-Ms,eo=yr+Rs,to=ws+Is,Gs=u*(yr-Rs),ma=u*(ws-Is),il=$r+eo,al=Zr+to,cl=ks+ma,ul=Os-Gs;if(e[S]=il,e[S+1]=al,e[g]=cl,e[g+1]=ul,b===0){var ll=$r-eo,fl=Zr-to;e[x]=ll,e[x+1]=fl;continue}if(b!==d){var ml=ks,nb=-Os,rb=$r,ob=-Zr,sb=-u*ma,ib=-u*Gs,ab=-u*to,ub=-u*eo,lb=ml+sb,fb=nb+ib,mb=rb+ub,db=ob-ab,sp=i+m-b,ip=i+f-b;e[sp]=lb,e[sp+1]=fb,e[ip]=mb,e[ip+1]=db}}}};Ke.prototype._singleRealTransform2=function(e,n,r){let o=this._out,s=this._data,i=s[n],a=s[n+r],c=i+a,u=i-a;o[e]=c,o[e+1]=0,o[e+2]=u,o[e+3]=0};Ke.prototype._singleRealTransform4=function(e,n,r){let o=this._out,s=this._data,i=this._inv?-1:1,a=r*2,c=r*3,u=s[n],l=s[n+r],f=s[n+a],m=s[n+c],d=u+f,b=u-f,E=l+m,S=i*(l-m),g=d+E,x=b,y=-S,A=d-E,V=b,I=S;o[e]=g,o[e+1]=0,o[e+2]=x,o[e+3]=y,o[e+4]=A,o[e+5]=0,o[e+6]=V,o[e+7]=I}});var pp=Ut((zS,hp)=>{hp.exports=Eb;function Eb(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t+1)}});var Vp=Ut(F=>{"use strict";var Al=Symbol.for("react.transitional.element"),Fb=Symbol.for("react.portal"),Nb=Symbol.for("react.fragment"),zb=Symbol.for("react.strict_mode"),Hb=Symbol.for("react.profiler"),Pb=Symbol.for("react.consumer"),Kb=Symbol.for("react.context"),Jb=Symbol.for("react.forward_ref"),jb=Symbol.for("react.suspense"),Xb=Symbol.for("react.memo"),Bp=Symbol.for("react.lazy"),Yb=Symbol.for("react.activity"),bp=Symbol.iterator;function Qb(t){return t===null||typeof t!="object"?null:(t=bp&&t[bp]||t["@@iterator"],typeof t=="function"?t:null)}var wp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ep=Object.assign,Sp={};function io(t,e,n){this.props=t,this.context=e,this.refs=Sp,this.updater=n||wp}io.prototype.isReactComponent={};io.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};io.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cp(){}Cp.prototype=io.prototype;function bl(t,e,n){this.props=t,this.context=e,this.refs=Sp,this.updater=n||wp}var vl=bl.prototype=new Cp;vl.constructor=bl;Ep(vl,io.prototype);vl.isPureReactComponent=!0;var vp=Array.isArray;function gl(){}var re={H:null,A:null,T:null,S:null},Mp=Object.prototype.hasOwnProperty;function _l(t,e,n){var r=n.ref;return{$$typeof:Al,type:t,key:e,ref:r!==void 0?r:null,props:n}}function qb(t,e){return _l(t.type,e,t.props)}function Tl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Al}function Wb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _p=/\/+/g;function xl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Wb(""+t.key):e.toString(36)}function $b(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(gl,gl):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function so(t,e,n,r,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"bigint":case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Al:case Fb:i=!0;break;case Bp:return i=t._init,so(i(t._payload),e,n,r,o)}}if(i)return o=o(t),i=r===""?"."+xl(t,0):r,vp(o)?(n="",i!=null&&(n=i.replace(_p,"$&/")+"/"),so(o,e,n,"",function(u){return u})):o!=null&&(Tl(o)&&(o=qb(o,n+(o.key==null||t&&t.key===o.key?"":(""+o.key).replace(_p,"$&/")+"/")+i)),e.push(o)),1;i=0;var a=r===""?".":r+":";if(vp(t))for(var c=0;c<t.length;c++)r=t[c],s=a+xl(r,c),i+=so(r,e,n,s,o);else if(c=Qb(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,s=a+xl(r,c++),i+=so(r,e,n,s,o);else if(s==="object"){if(typeof t.then=="function")return so($b(t),e,n,r,o);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return i}function pa(t,e,n){if(t==null)return t;var r=[],o=0;return so(t,r,"","",function(s){return e.call(n,s,o++)}),r}function Zb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tp=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ev={map:pa,forEach:function(t,e,n){pa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pa(t,function(){e++}),e},toArray:function(t){return pa(t,function(e){return e})||[]},only:function(t){if(!Tl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Activity=Yb;F.Children=ev;F.Component=io;F.Fragment=Nb;F.Profiler=Hb;F.PureComponent=bl;F.StrictMode=zb;F.Suspense=jb;F.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re;F.__COMPILER_RUNTIME={__proto__:null,c:function(t){return re.H.useMemoCache(t)}};F.cache=function(t){return function(){return t.apply(null,arguments)}};F.cacheSignal=function(){return null};F.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=Ep({},t.props),o=t.key;if(e!=null)for(s in e.key!==void 0&&(o=""+e.key),e)!Mp.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(r[s]=e[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var i=Array(s),a=0;a<s;a++)i[a]=arguments[a+2];r.children=i}return _l(t.type,o,r)};F.createContext=function(t){return t={$$typeof:Kb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Pb,_context:t},t};F.createElement=function(t,e,n){var r,o={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)Mp.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(o[r]=e[r]);var i=arguments.length-2;if(i===1)o.children=n;else if(1<i){for(var a=Array(i),c=0;c<i;c++)a[c]=arguments[c+2];o.children=a}if(t&&t.defaultProps)for(r in i=t.defaultProps,i)o[r]===void 0&&(o[r]=i[r]);return _l(t,s,o)};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:Jb,render:t}};F.isValidElement=Tl;F.lazy=function(t){return{$$typeof:Bp,_payload:{_status:-1,_result:t},_init:Zb}};F.memo=function(t,e){return{$$typeof:Xb,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=re.T,n={};re.T=n;try{var r=t(),o=re.S;o!==null&&o(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(gl,Tp)}catch(s){Tp(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),re.T=e}};F.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()};F.use=function(t){return re.H.use(t)};F.useActionState=function(t,e,n){return re.H.useActionState(t,e,n)};F.useCallback=function(t,e){return re.H.useCallback(t,e)};F.useContext=function(t){return re.H.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t,e){return re.H.useDeferredValue(t,e)};F.useEffect=function(t,e){return re.H.useEffect(t,e)};F.useEffectEvent=function(t){return re.H.useEffectEvent(t)};F.useId=function(){return re.H.useId()};F.useImperativeHandle=function(t,e,n){return re.H.useImperativeHandle(t,e,n)};F.useInsertionEffect=function(t,e){return re.H.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return re.H.useLayoutEffect(t,e)};F.useMemo=function(t,e){return re.H.useMemo(t,e)};F.useOptimistic=function(t,e){return re.H.useOptimistic(t,e)};F.useReducer=function(t,e,n){return re.H.useReducer(t,e,n)};F.useRef=function(t){return re.H.useRef(t)};F.useState=function(t){return re.H.useState(t)};F.useSyncExternalStore=function(t,e,n){return re.H.useSyncExternalStore(t,e,n)};F.useTransition=function(){return re.H.useTransition()};F.version="19.2.0"});var on=Ut((GC,Dp)=>{"use strict";Dp.exports=Vp()});var Hp=Ut(ae=>{"use strict";function Sl(t,e){var n=t.length;t.push(e);e:for(;0<n;){var r=n-1>>>1,o=t[r];if(0<ga(o,e))t[r]=e,t[n]=o,n=r;else break e}}function Lt(t){return t.length===0?null:t[0]}function ba(t){if(t.length===0)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;e:for(var r=0,o=t.length,s=o>>>1;r<s;){var i=2*(r+1)-1,a=t[i],c=i+1,u=t[c];if(0>ga(a,n))c<o&&0>ga(u,a)?(t[r]=u,t[c]=n,r=c):(t[r]=a,t[i]=n,r=i);else if(c<o&&0>ga(u,n))t[r]=u,t[c]=n,r=c;else break e}}return e}function ga(t,e){var n=t.sortIndex-e.sortIndex;return n!==0?n:t.id-e.id}ae.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(Ip=performance,ae.unstable_now=function(){return Ip.now()}):(Bl=Date,kp=Bl.now(),ae.unstable_now=function(){return Bl.now()-kp});var Ip,Bl,kp,sn=[],Dn=[],nv=1,yt=null,Oe=3,Cl=!1,Us=!1,Ls=!1,Ml=!1,Up=typeof setTimeout=="function"?setTimeout:null,Lp=typeof clearTimeout=="function"?clearTimeout:null,Op=typeof setImmediate<"u"?setImmediate:null;function Aa(t){for(var e=Lt(Dn);e!==null;){if(e.callback===null)ba(Dn);else if(e.startTime<=t)ba(Dn),e.sortIndex=e.expirationTime,Sl(sn,e);else break;e=Lt(Dn)}}function Vl(t){if(Ls=!1,Aa(t),!Us)if(Lt(sn)!==null)Us=!0,co||(co=!0,ao());else{var e=Lt(Dn);e!==null&&Dl(Vl,e.startTime-t)}}var co=!1,Fs=-1,Fp=5,Np=-1;function zp(){return Ml?!0:!(ae.unstable_now()-Np<Fp)}function wl(){if(Ml=!1,co){var t=ae.unstable_now();Np=t;var e=!0;try{e:{Us=!1,Ls&&(Ls=!1,Lp(Fs),Fs=-1),Cl=!0;var n=Oe;try{t:{for(Aa(t),yt=Lt(sn);yt!==null&&!(yt.expirationTime>t&&zp());){var r=yt.callback;if(typeof r=="function"){yt.callback=null,Oe=yt.priorityLevel;var o=r(yt.expirationTime<=t);if(t=ae.unstable_now(),typeof o=="function"){yt.callback=o,Aa(t),e=!0;break t}yt===Lt(sn)&&ba(sn),Aa(t)}else ba(sn);yt=Lt(sn)}if(yt!==null)e=!0;else{var s=Lt(Dn);s!==null&&Dl(Vl,s.startTime-t),e=!1}}break e}finally{yt=null,Oe=n,Cl=!1}e=void 0}}finally{e?ao():co=!1}}}var ao;typeof Op=="function"?ao=function(){Op(wl)}:typeof MessageChannel<"u"?(El=new MessageChannel,Gp=El.port2,El.port1.onmessage=wl,ao=function(){Gp.postMessage(null)}):ao=function(){Up(wl,0)};var El,Gp;function Dl(t,e){Fs=Up(function(){t(ae.unstable_now())},e)}ae.unstable_IdlePriority=5;ae.unstable_ImmediatePriority=1;ae.unstable_LowPriority=4;ae.unstable_NormalPriority=3;ae.unstable_Profiling=null;ae.unstable_UserBlockingPriority=2;ae.unstable_cancelCallback=function(t){t.callback=null};ae.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Fp=0<t?Math.floor(1e3/t):5};ae.unstable_getCurrentPriorityLevel=function(){return Oe};ae.unstable_next=function(t){switch(Oe){case 1:case 2:case 3:var e=3;break;default:e=Oe}var n=Oe;Oe=e;try{return t()}finally{Oe=n}};ae.unstable_requestPaint=function(){Ml=!0};ae.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=Oe;Oe=t;try{return e()}finally{Oe=n}};ae.unstable_scheduleCallback=function(t,e,n){var r=ae.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,t){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,t={id:nv++,callback:e,priorityLevel:t,startTime:n,expirationTime:o,sortIndex:-1},n>r?(t.sortIndex=n,Sl(Dn,t),Lt(sn)===null&&t===Lt(Dn)&&(Ls?(Lp(Fs),Fs=-1):Ls=!0,Dl(Vl,n-r))):(t.sortIndex=o,Sl(sn,t),Us||Cl||(Us=!0,co||(co=!0,ao()))),t};ae.unstable_shouldYield=zp;ae.unstable_wrapCallback=function(t){var e=Oe;return function(){var n=Oe;Oe=e;try{return t.apply(this,arguments)}finally{Oe=n}}}});var Kp=Ut((JC,Pp)=>{"use strict";Pp.exports=Hp()});var jp=Ut(Fe=>{"use strict";var rv=on();function Jp(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Rn(){}var Le={d:{f:Rn,r:function(){throw Error(Jp(522))},D:Rn,C:Rn,L:Rn,m:Rn,X:Rn,S:Rn,M:Rn},p:0,findDOMNode:null},ov=Symbol.for("react.portal");function sv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ov,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Ns=rv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function va(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Le;Fe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Jp(299));return sv(t,e,null,n)};Fe.flushSync=function(t){var e=Ns.T,n=Le.p;try{if(Ns.T=null,Le.p=2,t)return t()}finally{Ns.T=e,Le.p=n,Le.d.f()}};Fe.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Le.d.C(t,e))};Fe.prefetchDNS=function(t){typeof t=="string"&&Le.d.D(t)};Fe.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=va(n,e.crossOrigin),o=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Le.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:s}):n==="script"&&Le.d.X(t,{crossOrigin:r,integrity:o,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Fe.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=va(e.as,e.crossOrigin);Le.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Le.d.M(t)};Fe.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=va(n,e.crossOrigin);Le.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Fe.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=va(e.as,e.crossOrigin);Le.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Le.d.m(t)};Fe.requestFormReset=function(t){Le.d.r(t)};Fe.unstable_batchedUpdates=function(t,e){return t(e)};Fe.useFormState=function(t,e,n){return Ns.H.useFormState(t,e,n)};Fe.useFormStatus=function(){return Ns.H.useHostTransitionStatus()};Fe.version="19.2.0"});var Qp=Ut((XC,Yp)=>{"use strict";function Xp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xp)}catch(t){console.error(t)}}Xp(),Yp.exports=jp()});var a1=Ut(jc=>{"use strict";var _e=Kp(),vx=on(),iv=Qp();function C(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _x(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ei(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Tx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bx(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qp(t){if(Ei(t)!==t)throw Error(C(188))}function av(t){var e=t.alternate;if(!e){if(e=Ei(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return qp(o),t;if(s===r)return qp(o),e;s=s.sibling}throw Error(C(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function wx(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=wx(t),e!==null)return e;t=t.sibling}return null}var ie=Object.assign,cv=Symbol.for("react.element"),_a=Symbol.for("react.transitional.element"),Ys=Symbol.for("react.portal"),po=Symbol.for("react.fragment"),Ex=Symbol.for("react.strict_mode"),mf=Symbol.for("react.profiler"),Sx=Symbol.for("react.consumer"),hn=Symbol.for("react.context"),am=Symbol.for("react.forward_ref"),df=Symbol.for("react.suspense"),hf=Symbol.for("react.suspense_list"),cm=Symbol.for("react.memo"),In=Symbol.for("react.lazy");Symbol.for("react.scope");var pf=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var uv=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var Wp=Symbol.iterator;function zs(t){return t===null||typeof t!="object"?null:(t=Wp&&t[Wp]||t["@@iterator"],typeof t=="function"?t:null)}var lv=Symbol.for("react.client.reference");function yf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===lv?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case po:return"Fragment";case mf:return"Profiler";case Ex:return"StrictMode";case df:return"Suspense";case hf:return"SuspenseList";case pf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Ys:return"Portal";case hn:return t.displayName||"Context";case Sx:return(t._context.displayName||"Context")+".Consumer";case am:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cm:return e=t.displayName||null,e!==null?e:yf(t.type)||"Memo";case In:e=t._payload,t=t._init;try{return yf(t(e))}catch{}}return null}var Qs=Array.isArray,L=vx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=iv.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_r={pending:!1,data:null,method:null,action:null},xf=[],yo=-1;function Pt(t){return{current:t}}function Ee(t){0>yo||(t.current=xf[yo],xf[yo]=null,yo--)}function te(t,e){yo++,xf[yo]=t.current,t.current=e}var Ht=Pt(null),mi=Pt(null),Kn=Pt(null),tc=Pt(null);function nc(t,e){switch(te(Kn,e),te(mi,t),te(Ht,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?ox(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=ox(e),t=X0(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ee(Ht),te(Ht,t)}function ko(){Ee(Ht),Ee(mi),Ee(Kn)}function gf(t){t.memoizedState!==null&&te(tc,t);var e=Ht.current,n=X0(e,t.type);e!==n&&(te(mi,t),te(Ht,n))}function rc(t){mi.current===t&&(Ee(Ht),Ee(mi)),tc.current===t&&(Ee(tc),Ti._currentValue=_r)}var Rl,$p;function gr(t){if(Rl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rl=e&&e[1]||"",$p=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rl+t+$p}var Il=!1;function kl(t,e){if(!t||Il)return"";Il=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(d){var m=d}Reflect.construct(t,[],f)}else{try{f.call()}catch(d){m=d}t.call(f.prototype)}}else{try{throw Error()}catch(d){m=d}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(d){if(d&&m&&typeof d.stack=="string")return[d.stack,m.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],a=s[1];if(i&&a){var c=i.split(`
`),u=a.split(`
`);for(o=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;o<u.length&&!u[o].includes("DetermineComponentFrameRoot");)o++;if(r===c.length||o===u.length)for(r=c.length-1,o=u.length-1;1<=r&&0<=o&&c[r]!==u[o];)o--;for(;1<=r&&0<=o;r--,o--)if(c[r]!==u[o]){if(r!==1||o!==1)do if(r--,o--,0>o||c[r]!==u[o]){var l=`
`+c[r].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=r&&0<=o);break}}}finally{Il=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?gr(n):""}function fv(t,e){switch(t.tag){case 26:case 27:case 5:return gr(t.type);case 16:return gr("Lazy");case 13:return t.child!==e&&e!==null?gr("Suspense Fallback"):gr("Suspense");case 19:return gr("SuspenseList");case 0:case 15:return kl(t.type,!1);case 11:return kl(t.type.render,!1);case 1:return kl(t.type,!0);case 31:return gr("Activity");default:return""}}function Zp(t){try{var e="",n=null;do e+=fv(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Af=Object.prototype.hasOwnProperty,um=_e.unstable_scheduleCallback,Ol=_e.unstable_cancelCallback,mv=_e.unstable_shouldYield,dv=_e.unstable_requestPaint,ot=_e.unstable_now,hv=_e.unstable_getCurrentPriorityLevel,Cx=_e.unstable_ImmediatePriority,Mx=_e.unstable_UserBlockingPriority,oc=_e.unstable_NormalPriority,pv=_e.unstable_LowPriority,Vx=_e.unstable_IdlePriority,yv=_e.log,xv=_e.unstable_setDisableYieldValue,Si=null,st=null;function Fn(t){if(typeof yv=="function"&&xv(t),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(Si,t)}catch{}}var it=Math.clz32?Math.clz32:bv,gv=Math.log,Av=Math.LN2;function bv(t){return t>>>=0,t===0?32:31-(gv(t)/Av|0)|0}var Ta=256,Ba=262144,wa=4194304;function Ar(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vc(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var o=0,s=t.suspendedLanes,i=t.pingedLanes;t=t.warmLanes;var a=r&134217727;return a!==0?(r=a&~s,r!==0?o=Ar(r):(i&=a,i!==0?o=Ar(i):n||(n=a&~t,n!==0&&(o=Ar(n))))):(a=r&~s,a!==0?o=Ar(a):i!==0?o=Ar(i):n||(n=r&~t,n!==0&&(o=Ar(n)))),o===0?0:e!==0&&e!==o&&(e&s)===0&&(s=o&-o,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:o}function Ci(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function vv(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dx(){var t=wa;return wa<<=1,(wa&62914560)===0&&(wa=4194304),t}function Gl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _v(t,e,n,r,o,s){var i=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var a=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=i&~n;0<n;){var l=31-it(n),f=1<<l;a[l]=0,c[l]=-1;var m=u[l];if(m!==null)for(u[l]=null,l=0;l<m.length;l++){var d=m[l];d!==null&&(d.lane&=-536870913)}n&=~f}r!==0&&Rx(t,r,0),s!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=s&~(i&~e))}function Rx(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-it(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function Ix(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-it(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}function kx(t,e){var n=e&-e;return n=(n&42)!==0?1:lm(n),(n&(t.suspendedLanes|e))!==0?0:n}function lm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fm(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ox(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:o1(t.type))}function ey(t,e){var n=X.p;try{return X.p=t,e()}finally{X.p=n}}var rr=Math.random().toString(36).slice(2),Me="__reactFiber$"+rr,qe="__reactProps$"+rr,Jo="__reactContainer$"+rr,bf="__reactEvents$"+rr,Tv="__reactListeners$"+rr,Bv="__reactHandles$"+rr,ty="__reactResources$"+rr,Vi="__reactMarker$"+rr;function mm(t){delete t[Me],delete t[qe],delete t[bf],delete t[Tv],delete t[Bv]}function xo(t){var e=t[Me];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jo]||n[Me]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ux(t);t!==null;){if(n=t[Me])return n;t=ux(t)}return e}t=n,n=t.parentNode}return null}function jo(t){if(t=t[Me]||t[Jo]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function qs(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(C(33))}function So(t){var e=t[ty];return e||(e=t[ty]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function we(t){t[Vi]=!0}var Gx=new Set,Ux={};function Rr(t,e){Oo(t,e),Oo(t+"Capture",e)}function Oo(t,e){for(Ux[t]=e,t=0;t<e.length;t++)Gx.add(e[t])}var wv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ny={},ry={};function Ev(t){return Af.call(ry,t)?!0:Af.call(ny,t)?!1:wv.test(t)?ry[t]=!0:(ny[t]=!0,!1)}function Na(t,e,n){if(Ev(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Ea(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function an(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function gt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sv(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vf(t){if(!t._valueTracker){var e=Lx(t)?"checked":"value";t._valueTracker=Sv(t,e,""+t[e])}}function Fx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Lx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cv=/[\n"\\]/g;function vt(t){return t.replace(Cv,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function _f(t,e,n,r,o,s,i,a){t.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?t.type=i:t.removeAttribute("type"),e!=null?i==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+gt(e)):t.value!==""+gt(e)&&(t.value=""+gt(e)):i!=="submit"&&i!=="reset"||t.removeAttribute("value"),e!=null?Tf(t,i,gt(e)):n!=null?Tf(t,i,gt(n)):r!=null&&t.removeAttribute("value"),o==null&&s!=null&&(t.defaultChecked=!!s),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.name=""+gt(a):t.removeAttribute("name")}function Nx(t,e,n,r,o,s,i,a){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){vf(t);return}n=n!=null?""+gt(n):"",e=e!=null?""+gt(e):n,a||e===t.value||(t.value=e),t.defaultValue=e}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=a?t.checked:!!r,t.defaultChecked=!!r,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.name=i),vf(t)}function Tf(t,e,n){e==="number"&&sc(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Co(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gt(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function zx(t,e,n){if(e!=null&&(e=""+gt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+gt(n):""}function Hx(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(C(92));if(Qs(r)){if(1<r.length)throw Error(C(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=gt(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),vf(t)}function Go(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Mv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oy(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||Mv.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Px(t,e,n){if(e!=null&&typeof e!="object")throw Error(C(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var o in e)r=e[o],e.hasOwnProperty(o)&&n[o]!==r&&oy(t,o,r)}else for(var s in e)e.hasOwnProperty(s)&&oy(t,s,e[s])}function dm(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(t){return Dv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function pn(){}var Bf=null;function hm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var go=null,Mo=null;function sy(t){var e=jo(t);if(e&&(t=e.stateNode)){var n=t[qe]||null;e:switch(t=e.stateNode,e.type){case"input":if(_f(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=r[qe]||null;if(!o)throw Error(C(90));_f(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&Fx(r)}break e;case"textarea":zx(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Co(t,!!n.multiple,e,!1)}}}var Ul=!1;function Kx(t,e,n){if(Ul)return t(e,n);Ul=!0;try{var r=t(e);return r}finally{if(Ul=!1,(go!==null||Mo!==null)&&(Hc(),go&&(e=go,t=Mo,Mo=go=null,sy(e),t)))for(e=0;e<t.length;e++)sy(t[e])}}function di(t,e){var n=t.stateNode;if(n===null)return null;var r=n[qe]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wf=!1;if(bn)try{uo={},Object.defineProperty(uo,"passive",{get:function(){wf=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch{wf=!1}var uo,Nn=null,pm=null,Ha=null;function Jx(){if(Ha)return Ha;var t,e=pm,n=e.length,r,o="value"in Nn?Nn.value:Nn.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===o[s-r];r++);return Ha=o.slice(t,1<r?1-r:void 0)}function Pa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sa(){return!0}function iy(){return!1}function We(t){function e(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Sa:iy,this.isPropagationStopped=iy,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sa)},persist:function(){},isPersistent:Sa}),e}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dc=We(Ir),Di=ie({},Ir,{view:0,detail:0}),Rv=We(Di),Ll,Fl,Hs,Rc=ie({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ym,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hs&&(Hs&&t.type==="mousemove"?(Ll=t.screenX-Hs.screenX,Fl=t.screenY-Hs.screenY):Fl=Ll=0,Hs=t),Ll)},movementY:function(t){return"movementY"in t?t.movementY:Fl}}),ay=We(Rc),Iv=ie({},Rc,{dataTransfer:0}),kv=We(Iv),Ov=ie({},Di,{relatedTarget:0}),Nl=We(Ov),Gv=ie({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Uv=We(Gv),Lv=ie({},Ir,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fv=We(Lv),Nv=ie({},Ir,{data:0}),cy=We(Nv),zv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Pv[t])?!!e[t]:!1}function ym(){return Kv}var Jv=ie({},Di,{key:function(t){if(t.key){var e=zv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ym,charCode:function(t){return t.type==="keypress"?Pa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jv=We(Jv),Xv=ie({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uy=We(Xv),Yv=ie({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ym}),Qv=We(Yv),qv=ie({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wv=We(qv),$v=ie({},Rc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zv=We($v),e_=ie({},Ir,{newState:0,oldState:0}),t_=We(e_),n_=[9,13,27,32],xm=bn&&"CompositionEvent"in window,Zs=null;bn&&"documentMode"in document&&(Zs=document.documentMode);var r_=bn&&"TextEvent"in window&&!Zs,jx=bn&&(!xm||Zs&&8<Zs&&11>=Zs),ly=" ",fy=!1;function Xx(t,e){switch(t){case"keyup":return n_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ao=!1;function o_(t,e){switch(t){case"compositionend":return Yx(e);case"keypress":return e.which!==32?null:(fy=!0,ly);case"textInput":return t=e.data,t===ly&&fy?null:t;default:return null}}function s_(t,e){if(Ao)return t==="compositionend"||!xm&&Xx(t,e)?(t=Jx(),Ha=pm=Nn=null,Ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jx&&e.locale!=="ko"?null:e.data;default:return null}}var i_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!i_[t.type]:e==="textarea"}function Qx(t,e,n,r){go?Mo?Mo.push(r):Mo=[r]:go=r,e=Tc(e,"onChange"),0<e.length&&(n=new Dc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ei=null,hi=null;function a_(t){K0(t,0)}function Ic(t){var e=qs(t);if(Fx(e))return t}function dy(t,e){if(t==="change")return e}var qx=!1;bn&&(bn?(Ma="oninput"in document,Ma||(zl=document.createElement("div"),zl.setAttribute("oninput","return;"),Ma=typeof zl.oninput=="function"),Ca=Ma):Ca=!1,qx=Ca&&(!document.documentMode||9<document.documentMode));var Ca,Ma,zl;function hy(){ei&&(ei.detachEvent("onpropertychange",Wx),hi=ei=null)}function Wx(t){if(t.propertyName==="value"&&Ic(hi)){var e=[];Qx(e,hi,t,hm(t)),Kx(a_,e)}}function c_(t,e,n){t==="focusin"?(hy(),ei=e,hi=n,ei.attachEvent("onpropertychange",Wx)):t==="focusout"&&hy()}function u_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ic(hi)}function l_(t,e){if(t==="click")return Ic(e)}function f_(t,e){if(t==="input"||t==="change")return Ic(e)}function m_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ct=typeof Object.is=="function"?Object.is:m_;function pi(t,e){if(ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Af.call(e,o)||!ct(t[o],e[o]))return!1}return!0}function py(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yy(t,e){var n=py(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=py(n)}}function $x(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$x(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zx(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=sc(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sc(t.document)}return e}function gm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var d_=bn&&"documentMode"in document&&11>=document.documentMode,bo=null,Ef=null,ti=null,Sf=!1;function xy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sf||bo==null||bo!==sc(r)||(r=bo,"selectionStart"in r&&gm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ti&&pi(ti,r)||(ti=r,r=Tc(Ef,"onSelect"),0<r.length&&(e=new Dc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bo)))}function xr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vo={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},Hl={},eg={};bn&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function kr(t){if(Hl[t])return Hl[t];if(!vo[t])return t;var e=vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eg)return Hl[t]=e[n];return t}var tg=kr("animationend"),ng=kr("animationiteration"),rg=kr("animationstart"),h_=kr("transitionrun"),p_=kr("transitionstart"),y_=kr("transitioncancel"),og=kr("transitionend"),sg=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function kt(t,e){sg.set(t,e),Rr(e,[t])}var ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xt=[],_o=0,Am=0;function kc(){for(var t=_o,e=Am=_o=0;e<t;){var n=xt[e];xt[e++]=null;var r=xt[e];xt[e++]=null;var o=xt[e];xt[e++]=null;var s=xt[e];if(xt[e++]=null,r!==null&&o!==null){var i=r.pending;i===null?o.next=o:(o.next=i.next,i.next=o),r.pending=o}s!==0&&ig(n,o,s)}}function Oc(t,e,n,r){xt[_o++]=t,xt[_o++]=e,xt[_o++]=n,xt[_o++]=r,Am|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function bm(t,e,n,r){return Oc(t,e,n,r),ac(t)}function Or(t,e){return Oc(t,null,null,e),ac(t)}function ig(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var o=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(o=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,o&&e!==null&&(o=31-it(n),t=s.hiddenUpdates,r=t[o],r===null?t[o]=[e]:r.push(e),e.lane=n|536870912),s):null}function ac(t){if(50<li)throw li=0,Qf=null,Error(C(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var To={};function x_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(t,e,n,r){return new x_(t,e,n,r)}function vm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xn(t,e){var n=t.alternate;return n===null?(n=nt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function ag(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ka(t,e,n,r,o,s){var i=0;if(r=t,typeof t=="function")vm(t)&&(i=1);else if(typeof t=="string")i=b3(t,n,Ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case pf:return t=nt(31,n,e,o),t.elementType=pf,t.lanes=s,t;case po:return Tr(n.children,o,s,e);case Ex:i=8,o|=24;break;case mf:return t=nt(12,n,e,o|2),t.elementType=mf,t.lanes=s,t;case df:return t=nt(13,n,e,o),t.elementType=df,t.lanes=s,t;case hf:return t=nt(19,n,e,o),t.elementType=hf,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hn:i=10;break e;case Sx:i=9;break e;case am:i=11;break e;case cm:i=14;break e;case In:i=16,r=null;break e}i=29,n=Error(C(130,t===null?"null":typeof t,"")),r=null}return e=nt(i,n,e,o),e.elementType=t,e.type=r,e.lanes=s,e}function Tr(t,e,n,r){return t=nt(7,t,r,e),t.lanes=n,t}function Pl(t,e,n){return t=nt(6,t,null,e),t.lanes=n,t}function cg(t){var e=nt(18,null,null,0);return e.stateNode=t,e}function Kl(t,e,n){return e=nt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var gy=new WeakMap;function _t(t,e){if(typeof t=="object"&&t!==null){var n=gy.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Zp(e)},gy.set(t,e),e)}return{value:t,source:e,stack:Zp(e)}}var Bo=[],wo=0,cc=null,yi=0,At=[],bt=0,Zn=null,Ft=1,Nt="";function mn(t,e){Bo[wo++]=yi,Bo[wo++]=cc,cc=t,yi=e}function ug(t,e,n){At[bt++]=Ft,At[bt++]=Nt,At[bt++]=Zn,Zn=t;var r=Ft;t=Nt;var o=32-it(r)-1;r&=~(1<<o),n+=1;var s=32-it(e)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Ft=1<<32-it(e)+o|n<<o|r,Nt=s+t}else Ft=1<<s|n<<o|r,Nt=t}function _m(t){t.return!==null&&(mn(t,1),ug(t,1,0))}function Tm(t){for(;t===cc;)cc=Bo[--wo],Bo[wo]=null,yi=Bo[--wo],Bo[wo]=null;for(;t===Zn;)Zn=At[--bt],At[bt]=null,Nt=At[--bt],At[bt]=null,Ft=At[--bt],At[bt]=null}function lg(t,e){At[bt++]=Ft,At[bt++]=Nt,At[bt++]=Zn,Ft=e.id,Nt=e.overflow,Zn=t}var Ve=null,se=null,K=!1,Jn=null,Tt=!1,Mf=Error(C(519));function er(t){var e=Error(C(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xi(_t(e,t)),Mf}function Ay(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Me]=t,e[qe]=r,n){case"dialog":z("cancel",e),z("close",e);break;case"iframe":case"object":case"embed":z("load",e);break;case"video":case"audio":for(n=0;n<vi.length;n++)z(vi[n],e);break;case"source":z("error",e);break;case"img":case"image":case"link":z("error",e),z("load",e);break;case"details":z("toggle",e);break;case"input":z("invalid",e),Nx(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":z("invalid",e);break;case"textarea":z("invalid",e),Hx(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||j0(e.textContent,n)?(r.popover!=null&&(z("beforetoggle",e),z("toggle",e)),r.onScroll!=null&&z("scroll",e),r.onScrollEnd!=null&&z("scrollend",e),r.onClick!=null&&(e.onclick=pn),e=!0):e=!1,e||er(t,!0)}function by(t){for(Ve=t.return;Ve;)switch(Ve.tag){case 5:case 31:case 13:Tt=!1;return;case 27:case 3:Tt=!0;return;default:Ve=Ve.return}}function lo(t){if(t!==Ve)return!1;if(!K)return by(t),K=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||em(t.type,t.memoizedProps)),n=!n),n&&se&&er(t),by(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));se=cx(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));se=cx(t)}else e===27?(e=se,or(t.type)?(t=om,om=null,se=t):se=e):se=Ve?wt(t.stateNode.nextSibling):null;return!0}function Sr(){se=Ve=null,K=!1}function Jl(){var t=Jn;return t!==null&&(Ye===null?Ye=t:Ye.push.apply(Ye,t),Jn=null),t}function xi(t){Jn===null?Jn=[t]:Jn.push(t)}var Vf=Pt(null),Gr=null,yn=null;function On(t,e,n){te(Vf,e._currentValue),e._currentValue=n}function gn(t){t._currentValue=Vf.current,Ee(Vf)}function Df(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Rf(t,e,n,r){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){var i=o.child;s=s.firstContext;e:for(;s!==null;){var a=s;s=o;for(var c=0;c<e.length;c++)if(a.context===e[c]){s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Df(s.return,n,t),r||(i=null);break e}s=a.next}}else if(o.tag===18){if(i=o.return,i===null)throw Error(C(341));i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),Df(i,n,t),i=null}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}}function Xo(t,e,n,r){t=null;for(var o=e,s=!1;o!==null;){if(!s){if((o.flags&524288)!==0)s=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var i=o.alternate;if(i===null)throw Error(C(387));if(i=i.memoizedProps,i!==null){var a=o.type;ct(o.pendingProps.value,i.value)||(t!==null?t.push(a):t=[a])}}else if(o===tc.current){if(i=o.alternate,i===null)throw Error(C(387));i.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(Ti):t=[Ti])}o=o.return}t!==null&&Rf(e,t,n,r),e.flags|=262144}function uc(t){for(t=t.firstContext;t!==null;){if(!ct(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cr(t){Gr=t,yn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function De(t){return fg(Gr,t)}function Va(t,e){return Gr===null&&Cr(t),fg(t,e)}function fg(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},yn===null){if(t===null)throw Error(C(308));yn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else yn=yn.next=e;return n}var g_=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},A_=_e.unstable_scheduleCallback,b_=_e.unstable_NormalPriority,ge={$$typeof:hn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bm(){return{controller:new g_,data:new Map,refCount:0}}function Ri(t){t.refCount--,t.refCount===0&&A_(b_,function(){t.controller.abort()})}var ni=null,If=0,Uo=0,Vo=null;function v_(t,e){if(ni===null){var n=ni=[];If=0,Uo=Qm(),Vo={status:"pending",value:void 0,then:function(r){n.push(r)}}}return If++,e.then(vy,vy),e}function vy(){if(--If===0&&ni!==null){Vo!==null&&(Vo.status="fulfilled");var t=ni;ni=null,Uo=0,Vo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function __(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var o=0;o<n.length;o++)(0,n[o])(e)},function(o){for(r.status="rejected",r.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),r}var _y=L.S;L.S=function(t,e){w0=ot(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&v_(t,e),_y!==null&&_y(t,e)};var Br=Pt(null);function wm(){var t=Br.current;return t!==null?t:ee.pooledCache}function Ja(t,e){e===null?te(Br,Br.current):te(Br,e.pool)}function mg(){var t=wm();return t===null?null:{parent:ge._currentValue,pool:t}}var Yo=Error(C(460)),Em=Error(C(474)),Gc=Error(C(542)),lc={then:function(){}};function Ty(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dg(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(pn,pn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,wy(t),t;default:if(typeof e.status=="string")e.then(pn,pn);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(C(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=r}},function(r){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,wy(t),t}throw wr=e,Yo}}function br(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(wr=n,Yo):n}}var wr=null;function By(){if(wr===null)throw Error(C(459));var t=wr;return wr=null,t}function wy(t){if(t===Yo||t===Gc)throw Error(C(483))}var Do=null,gi=0;function Da(t){var e=gi;return gi+=1,Do===null&&(Do=[]),dg(Do,t,e)}function Ps(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ra(t,e){throw e.$$typeof===cv?Error(C(525)):(t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function hg(t){function e(g,x){if(t){var y=g.deletions;y===null?(g.deletions=[x],g.flags|=16):y.push(x)}}function n(g,x){if(!t)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function r(g){for(var x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function o(g,x){return g=xn(g,x),g.index=0,g.sibling=null,g}function s(g,x,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<x?(g.flags|=67108866,x):y):(g.flags|=67108866,x)):(g.flags|=1048576,x)}function i(g){return t&&g.alternate===null&&(g.flags|=67108866),g}function a(g,x,y,A){return x===null||x.tag!==6?(x=Pl(y,g.mode,A),x.return=g,x):(x=o(x,y),x.return=g,x)}function c(g,x,y,A){var V=y.type;return V===po?l(g,x,y.props.children,A,y.key):x!==null&&(x.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===In&&br(V)===x.type)?(x=o(x,y.props),Ps(x,y),x.return=g,x):(x=Ka(y.type,y.key,y.props,null,g.mode,A),Ps(x,y),x.return=g,x)}function u(g,x,y,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Kl(y,g.mode,A),x.return=g,x):(x=o(x,y.children||[]),x.return=g,x)}function l(g,x,y,A,V){return x===null||x.tag!==7?(x=Tr(y,g.mode,A,V),x.return=g,x):(x=o(x,y),x.return=g,x)}function f(g,x,y){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Pl(""+x,g.mode,y),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _a:return y=Ka(x.type,x.key,x.props,null,g.mode,y),Ps(y,x),y.return=g,y;case Ys:return x=Kl(x,g.mode,y),x.return=g,x;case In:return x=br(x),f(g,x,y)}if(Qs(x)||zs(x))return x=Tr(x,g.mode,y,null),x.return=g,x;if(typeof x.then=="function")return f(g,Da(x),y);if(x.$$typeof===hn)return f(g,Va(g,x),y);Ra(g,x)}return null}function m(g,x,y,A){var V=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return V!==null?null:a(g,x,""+y,A);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _a:return y.key===V?c(g,x,y,A):null;case Ys:return y.key===V?u(g,x,y,A):null;case In:return y=br(y),m(g,x,y,A)}if(Qs(y)||zs(y))return V!==null?null:l(g,x,y,A,null);if(typeof y.then=="function")return m(g,x,Da(y),A);if(y.$$typeof===hn)return m(g,x,Va(g,y),A);Ra(g,y)}return null}function d(g,x,y,A,V){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return g=g.get(y)||null,a(x,g,""+A,V);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _a:return g=g.get(A.key===null?y:A.key)||null,c(x,g,A,V);case Ys:return g=g.get(A.key===null?y:A.key)||null,u(x,g,A,V);case In:return A=br(A),d(g,x,y,A,V)}if(Qs(A)||zs(A))return g=g.get(y)||null,l(x,g,A,V,null);if(typeof A.then=="function")return d(g,x,y,Da(A),V);if(A.$$typeof===hn)return d(g,x,y,Va(x,A),V);Ra(x,A)}return null}function b(g,x,y,A){for(var V=null,I=null,D=x,k=x=0,O=null;D!==null&&k<y.length;k++){D.index>k?(O=D,D=null):O=D.sibling;var G=m(g,D,y[k],A);if(G===null){D===null&&(D=O);break}t&&D&&G.alternate===null&&e(g,D),x=s(G,x,k),I===null?V=G:I.sibling=G,I=G,D=O}if(k===y.length)return n(g,D),K&&mn(g,k),V;if(D===null){for(;k<y.length;k++)D=f(g,y[k],A),D!==null&&(x=s(D,x,k),I===null?V=D:I.sibling=D,I=D);return K&&mn(g,k),V}for(D=r(D);k<y.length;k++)O=d(D,g,k,y[k],A),O!==null&&(t&&O.alternate!==null&&D.delete(O.key===null?k:O.key),x=s(O,x,k),I===null?V=O:I.sibling=O,I=O);return t&&D.forEach(function(ue){return e(g,ue)}),K&&mn(g,k),V}function E(g,x,y,A){if(y==null)throw Error(C(151));for(var V=null,I=null,D=x,k=x=0,O=null,G=y.next();D!==null&&!G.done;k++,G=y.next()){D.index>k?(O=D,D=null):O=D.sibling;var ue=m(g,D,G.value,A);if(ue===null){D===null&&(D=O);break}t&&D&&ue.alternate===null&&e(g,D),x=s(ue,x,k),I===null?V=ue:I.sibling=ue,I=ue,D=O}if(G.done)return n(g,D),K&&mn(g,k),V;if(D===null){for(;!G.done;k++,G=y.next())G=f(g,G.value,A),G!==null&&(x=s(G,x,k),I===null?V=G:I.sibling=G,I=G);return K&&mn(g,k),V}for(D=r(D);!G.done;k++,G=y.next())G=d(D,g,k,G.value,A),G!==null&&(t&&G.alternate!==null&&D.delete(G.key===null?k:G.key),x=s(G,x,k),I===null?V=G:I.sibling=G,I=G);return t&&D.forEach(function(Zt){return e(g,Zt)}),K&&mn(g,k),V}function S(g,x,y,A){if(typeof y=="object"&&y!==null&&y.type===po&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case _a:e:{for(var V=y.key;x!==null;){if(x.key===V){if(V=y.type,V===po){if(x.tag===7){n(g,x.sibling),A=o(x,y.props.children),A.return=g,g=A;break e}}else if(x.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===In&&br(V)===x.type){n(g,x.sibling),A=o(x,y.props),Ps(A,y),A.return=g,g=A;break e}n(g,x);break}else e(g,x);x=x.sibling}y.type===po?(A=Tr(y.props.children,g.mode,A,y.key),A.return=g,g=A):(A=Ka(y.type,y.key,y.props,null,g.mode,A),Ps(A,y),A.return=g,g=A)}return i(g);case Ys:e:{for(V=y.key;x!==null;){if(x.key===V)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(g,x.sibling),A=o(x,y.children||[]),A.return=g,g=A;break e}else{n(g,x);break}else e(g,x);x=x.sibling}A=Kl(y,g.mode,A),A.return=g,g=A}return i(g);case In:return y=br(y),S(g,x,y,A)}if(Qs(y))return b(g,x,y,A);if(zs(y)){if(V=zs(y),typeof V!="function")throw Error(C(150));return y=V.call(y),E(g,x,y,A)}if(typeof y.then=="function")return S(g,x,Da(y),A);if(y.$$typeof===hn)return S(g,x,Va(g,y),A);Ra(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,x!==null&&x.tag===6?(n(g,x.sibling),A=o(x,y),A.return=g,g=A):(n(g,x),A=Pl(y,g.mode,A),A.return=g,g=A),i(g)):n(g,x)}return function(g,x,y,A){try{gi=0;var V=S(g,x,y,A);return Do=null,V}catch(D){if(D===Yo||D===Gc)throw D;var I=nt(29,D,null,g.mode);return I.lanes=A,I.return=g,I}finally{}}}var Mr=hg(!0),pg=hg(!1),kn=!1;function Sm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function jn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(j&2)!==0){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,e=ac(t),ig(t,null,n),e}return Oc(t,r,e,n),ac(t)}function ri(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ix(t,n)}}function jl(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Of=!1;function oi(){if(Of){var t=Vo;if(t!==null)throw t}}function si(t,e,n,r){Of=!1;var o=t.updateQueue;kn=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var l=t.alternate;l!==null&&(l=l.updateQueue,a=l.lastBaseUpdate,a!==i&&(a===null?l.firstBaseUpdate=u:a.next=u,l.lastBaseUpdate=c))}if(s!==null){var f=o.baseState;i=0,l=u=c=null,a=s;do{var m=a.lane&-536870913,d=m!==a.lane;if(d?(P&m)===m:(r&m)===m){m!==0&&m===Uo&&(Of=!0),l!==null&&(l=l.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var b=t,E=a;m=e;var S=n;switch(E.tag){case 1:if(b=E.payload,typeof b=="function"){f=b.call(S,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=E.payload,m=typeof b=="function"?b.call(S,f,m):b,m==null)break e;f=ie({},f,m);break e;case 2:kn=!0}}m=a.callback,m!==null&&(t.flags|=64,d&&(t.flags|=8192),d=o.callbacks,d===null?o.callbacks=[m]:d.push(m))}else d={lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},l===null?(u=l=d,c=f):l=l.next=d,i|=m;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;d=a,a=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);l===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=l,s===null&&(o.shared.lanes=0),nr|=i,t.lanes=i,t.memoizedState=f}}function yg(t,e){if(typeof t!="function")throw Error(C(191,t));t.call(e)}function xg(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)yg(n[t],e)}var Lo=Pt(null),fc=Pt(0);function Ey(t,e){t=Bn,te(fc,t),te(Lo,e),Bn=t|e.baseLanes}function Gf(){te(fc,Bn),te(Lo,Lo.current)}function Cm(){Bn=fc.current,Ee(Lo),Ee(fc)}var ut=Pt(null),Bt=null;function Gn(t){var e=t.alternate;te(de,de.current&1),te(ut,t),Bt===null&&(e===null||Lo.current!==null||e.memoizedState!==null)&&(Bt=t)}function Uf(t){te(de,de.current),te(ut,t),Bt===null&&(Bt=t)}function gg(t){t.tag===22?(te(de,de.current),te(ut,t),Bt===null&&(Bt=t)):Un(t)}function Un(){te(de,de.current),te(ut,ut.current)}function tt(t){Ee(ut),Bt===t&&(Bt=null),Ee(de)}var de=Pt(0);function mc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||nm(n)||rm(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vn=0,N=null,Z=null,ye=null,dc=!1,Ro=!1,Vr=!1,hc=0,Ai=0,Io=null,T_=0;function le(){throw Error(C(321))}function Mm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ct(t[n],e[n]))return!1;return!0}function Vm(t,e,n,r,o,s){return vn=s,N=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,L.H=t===null||t.memoizedState===null?Qg:zm,Vr=!1,s=n(r,o),Vr=!1,Ro&&(s=bg(e,n,r,o)),Ag(t),s}function Ag(t){L.H=bi;var e=Z!==null&&Z.next!==null;if(vn=0,ye=Z=N=null,dc=!1,Ai=0,Io=null,e)throw Error(C(300));t===null||Ae||(t=t.dependencies,t!==null&&uc(t)&&(Ae=!0))}function bg(t,e,n,r){N=t;var o=0;do{if(Ro&&(Io=null),Ai=0,Ro=!1,25<=o)throw Error(C(301));if(o+=1,ye=Z=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}L.H=qg,s=e(n,r)}while(Ro);return s}function B_(){var t=L.H,e=t.useState()[0];return e=typeof e.then=="function"?Ii(e):e,t=t.useState()[0],(Z!==null?Z.memoizedState:null)!==t&&(N.flags|=1024),e}function Dm(){var t=hc!==0;return hc=0,t}function Rm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Im(t){if(dc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}dc=!1}vn=0,ye=Z=N=null,Ro=!1,Ai=hc=0,Io=null}function Ne(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?N.memoizedState=ye=t:ye=ye.next=t,ye}function he(){if(Z===null){var t=N.alternate;t=t!==null?t.memoizedState:null}else t=Z.next;var e=ye===null?N.memoizedState:ye.next;if(e!==null)ye=e,Z=t;else{if(t===null)throw N.alternate===null?Error(C(467)):Error(C(310));Z=t,t={memoizedState:Z.memoizedState,baseState:Z.baseState,baseQueue:Z.baseQueue,queue:Z.queue,next:null},ye===null?N.memoizedState=ye=t:ye=ye.next=t}return ye}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ii(t){var e=Ai;return Ai+=1,Io===null&&(Io=[]),t=dg(Io,t,e),e=N,(ye===null?e.memoizedState:ye.next)===null&&(e=e.alternate,L.H=e===null||e.memoizedState===null?Qg:zm),t}function Lc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ii(t);if(t.$$typeof===hn)return De(t)}throw Error(C(438,String(t)))}function km(t){var e=null,n=N.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=N.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Uc(),N.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=uv;return e.index++,n}function _n(t,e){return typeof e=="function"?e(t):e}function ja(t){var e=he();return Om(e,Z,t)}function Om(t,e,n){var r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=n;var o=t.baseQueue,s=r.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}e.baseQueue=o=s,r.pending=null}if(s=t.baseState,o===null)t.memoizedState=s;else{e=o.next;var a=i=null,c=null,u=e,l=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(P&f)===f:(vn&f)===f){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Uo&&(l=!0);else if((vn&m)===m){u=u.next,m===Uo&&(l=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(a=c=f,i=s):c=c.next=f,N.lanes|=m,nr|=m;f=u.action,Vr&&n(s,f),s=u.hasEagerState?u.eagerState:n(s,f)}else m={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(a=c=m,i=s):c=c.next=m,N.lanes|=f,nr|=f;u=u.next}while(u!==null&&u!==e);if(c===null?i=s:c.next=a,!ct(s,t.memoizedState)&&(Ae=!0,l&&(n=Vo,n!==null)))throw n;t.memoizedState=s,t.baseState=i,t.baseQueue=c,r.lastRenderedState=s}return o===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Xl(t){var e=he(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=t(s,i.action),i=i.next;while(i!==o);ct(s,e.memoizedState)||(Ae=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function vg(t,e,n){var r=N,o=he(),s=K;if(s){if(n===void 0)throw Error(C(407));n=n()}else n=e();var i=!ct((Z||o).memoizedState,n);if(i&&(o.memoizedState=n,Ae=!0),o=o.queue,Gm(Bg.bind(null,r,o,t),[t]),o.getSnapshot!==e||i||ye!==null&&ye.memoizedState.tag&1){if(r.flags|=2048,Fo(9,{destroy:void 0},Tg.bind(null,r,o,n,e),null),ee===null)throw Error(C(349));s||(vn&127)!==0||_g(r,e,n)}return n}function _g(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=N.updateQueue,e===null?(e=Uc(),N.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Tg(t,e,n,r){e.value=n,e.getSnapshot=r,wg(e)&&Eg(t)}function Bg(t,e,n){return n(function(){wg(e)&&Eg(t)})}function wg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ct(t,n)}catch{return!0}}function Eg(t){var e=Or(t,2);e!==null&&Qe(e,t,2)}function Lf(t){var e=Ne();if(typeof t=="function"){var n=t;if(t=n(),Vr){Fn(!0);try{n()}finally{Fn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:t},e}function Sg(t,e,n,r){return t.baseState=n,Om(t,Z,typeof r=="function"?r:_n)}function w_(t,e,n,r,o){if(Nc(t))throw Error(C(485));if(t=e.action,t!==null){var s={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){s.listeners.push(i)}};L.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,Cg(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Cg(t,e){var n=e.action,r=e.payload,o=t.state;if(e.isTransition){var s=L.T,i={};L.T=i;try{var a=n(o,r),c=L.S;c!==null&&c(i,a),Sy(t,e,a)}catch(u){Ff(t,e,u)}finally{s!==null&&i.types!==null&&(s.types=i.types),L.T=s}}else try{s=n(o,r),Sy(t,e,s)}catch(u){Ff(t,e,u)}}function Sy(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Cy(t,e,r)},function(r){return Ff(t,e,r)}):Cy(t,e,n)}function Cy(t,e,n){e.status="fulfilled",e.value=n,Mg(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Cg(t,n)))}function Ff(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,Mg(e),e=e.next;while(e!==r)}t.action=null}function Mg(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Vg(t,e){return e}function My(t,e){if(K){var n=ee.formState;if(n!==null){e:{var r=N;if(K){if(se){t:{for(var o=se,s=Tt;o.nodeType!==8;){if(!s){o=null;break t}if(o=wt(o.nextSibling),o===null){o=null;break t}}s=o.data,o=s==="F!"||s==="F"?o:null}if(o){se=wt(o.nextSibling),r=o.data==="F!";break e}}er(r)}r=!1}r&&(e=n[0])}}return n=Ne(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:e},n.queue=r,n=jg.bind(null,N,r),r.dispatch=n,r=Lf(!1),s=Nm.bind(null,N,!1,r.queue),r=Ne(),o={state:e,dispatch:null,action:t,pending:null},r.queue=o,n=w_.bind(null,N,o,s,n),o.dispatch=n,r.memoizedState=t,[e,n,!1]}function Vy(t){var e=he();return Dg(e,Z,t)}function Dg(t,e,n){if(e=Om(t,e,Vg)[0],t=ja(_n)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Ii(e)}catch(i){throw i===Yo?Gc:i}else r=e;e=he();var o=e.queue,s=o.dispatch;return n!==e.memoizedState&&(N.flags|=2048,Fo(9,{destroy:void 0},E_.bind(null,o,n),null)),[r,s,t]}function E_(t,e){t.action=e}function Dy(t){var e=he(),n=Z;if(n!==null)return Dg(e,n,t);he(),e=e.memoizedState,n=he();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Fo(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=N.updateQueue,e===null&&(e=Uc(),N.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Rg(){return he().memoizedState}function Xa(t,e,n,r){var o=Ne();N.flags|=t,o.memoizedState=Fo(1|e,{destroy:void 0},n,r===void 0?null:r)}function Fc(t,e,n,r){var o=he();r=r===void 0?null:r;var s=o.memoizedState.inst;Z!==null&&r!==null&&Mm(r,Z.memoizedState.deps)?o.memoizedState=Fo(e,s,n,r):(N.flags|=t,o.memoizedState=Fo(1|e,s,n,r))}function Ry(t,e){Xa(8390656,8,t,e)}function Gm(t,e){Fc(2048,8,t,e)}function S_(t){N.flags|=4;var e=N.updateQueue;if(e===null)e=Uc(),N.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Ig(t){var e=he().memoizedState;return S_({ref:e,nextImpl:t}),function(){if((j&2)!==0)throw Error(C(440));return e.impl.apply(void 0,arguments)}}function kg(t,e){return Fc(4,2,t,e)}function Og(t,e){return Fc(4,4,t,e)}function Gg(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ug(t,e,n){n=n!=null?n.concat([t]):null,Fc(4,4,Gg.bind(null,e,t),n)}function Um(){}function Lg(t,e){var n=he();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&Mm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Fg(t,e){var n=he();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&Mm(e,r[1]))return r[0];if(r=t(),Vr){Fn(!0);try{t()}finally{Fn(!1)}}return n.memoizedState=[r,e],r}function Lm(t,e,n){return n===void 0||(vn&1073741824)!==0&&(P&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=S0(),N.lanes|=t,nr|=t,n)}function Ng(t,e,n,r){return ct(n,e)?n:Lo.current!==null?(t=Lm(t,n,r),ct(t,e)||(Ae=!0),t):(vn&42)===0||(vn&1073741824)!==0&&(P&261930)===0?(Ae=!0,t.memoizedState=n):(t=S0(),N.lanes|=t,nr|=t,e)}function zg(t,e,n,r,o){var s=X.p;X.p=s!==0&&8>s?s:8;var i=L.T,a={};L.T=a,Nm(t,!1,e,n);try{var c=o(),u=L.S;if(u!==null&&u(a,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=__(c,r);ii(t,e,l,at(t))}else ii(t,e,r,at(t))}catch(f){ii(t,e,{then:function(){},status:"rejected",reason:f},at())}finally{X.p=s,i!==null&&a.types!==null&&(i.types=a.types),L.T=i}}function C_(){}function Nf(t,e,n,r){if(t.tag!==5)throw Error(C(476));var o=Hg(t).queue;zg(t,o,e,_r,n===null?C_:function(){return Pg(t),n(r)})}function Hg(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:_r,baseState:_r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:_r},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Pg(t){var e=Hg(t);e.next===null&&(e=t.alternate.memoizedState),ii(t,e.next.queue,{},at())}function Fm(){return De(Ti)}function Kg(){return he().memoizedState}function Jg(){return he().memoizedState}function M_(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=at();t=jn(n);var r=Xn(e,t,n);r!==null&&(Qe(r,e,n),ri(r,e,n)),e={cache:Bm()},t.payload=e;return}e=e.return}}function V_(t,e,n){var r=at();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Nc(t)?Xg(e,n):(n=bm(t,e,n,r),n!==null&&(Qe(n,t,r),Yg(n,e,r)))}function jg(t,e,n){var r=at();ii(t,e,n,r)}function ii(t,e,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nc(t))Xg(e,o);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,ct(a,i))return Oc(t,e,o,0),ee===null&&kc(),!1}catch{}finally{}if(n=bm(t,e,o,r),n!==null)return Qe(n,t,r),Yg(n,e,r),!0}return!1}function Nm(t,e,n,r){if(r={lane:2,revertLane:Qm(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Nc(t)){if(e)throw Error(C(479))}else e=bm(t,n,r,2),e!==null&&Qe(e,t,2)}function Nc(t){var e=t.alternate;return t===N||e!==null&&e===N}function Xg(t,e){Ro=dc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Yg(t,e,n){if((n&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ix(t,n)}}var bi={readContext:De,use:Lc,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};bi.useEffectEvent=le;var Qg={readContext:De,use:Lc,useCallback:function(t,e){return Ne().memoizedState=[t,e===void 0?null:e],t},useContext:De,useEffect:Ry,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Xa(4194308,4,Gg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xa(4194308,4,t,e)},useInsertionEffect:function(t,e){Xa(4,2,t,e)},useMemo:function(t,e){var n=Ne();e=e===void 0?null:e;var r=t();if(Vr){Fn(!0);try{t()}finally{Fn(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Ne();if(n!==void 0){var o=n(e);if(Vr){Fn(!0);try{n(e)}finally{Fn(!1)}}}else o=e;return r.memoizedState=r.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},r.queue=t,t=t.dispatch=V_.bind(null,N,t),[r.memoizedState,t]},useRef:function(t){var e=Ne();return t={current:t},e.memoizedState=t},useState:function(t){t=Lf(t);var e=t.queue,n=jg.bind(null,N,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Um,useDeferredValue:function(t,e){var n=Ne();return Lm(n,t,e)},useTransition:function(){var t=Lf(!1);return t=zg.bind(null,N,t.queue,!0,!1),Ne().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=N,o=Ne();if(K){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),ee===null)throw Error(C(349));(P&127)!==0||_g(r,e,n)}o.memoizedState=n;var s={value:n,getSnapshot:e};return o.queue=s,Ry(Bg.bind(null,r,s,t),[t]),r.flags|=2048,Fo(9,{destroy:void 0},Tg.bind(null,r,s,n,e),null),n},useId:function(){var t=Ne(),e=ee.identifierPrefix;if(K){var n=Nt,r=Ft;n=(r&~(1<<32-it(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=hc++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=T_++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Fm,useFormState:My,useActionState:My,useOptimistic:function(t){var e=Ne();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Nm.bind(null,N,!0,n),n.dispatch=e,[t,e]},useMemoCache:km,useCacheRefresh:function(){return Ne().memoizedState=M_.bind(null,N)},useEffectEvent:function(t){var e=Ne(),n={impl:t};return e.memoizedState=n,function(){if((j&2)!==0)throw Error(C(440));return n.impl.apply(void 0,arguments)}}},zm={readContext:De,use:Lc,useCallback:Lg,useContext:De,useEffect:Gm,useImperativeHandle:Ug,useInsertionEffect:kg,useLayoutEffect:Og,useMemo:Fg,useReducer:ja,useRef:Rg,useState:function(){return ja(_n)},useDebugValue:Um,useDeferredValue:function(t,e){var n=he();return Ng(n,Z.memoizedState,t,e)},useTransition:function(){var t=ja(_n)[0],e=he().memoizedState;return[typeof t=="boolean"?t:Ii(t),e]},useSyncExternalStore:vg,useId:Kg,useHostTransitionStatus:Fm,useFormState:Vy,useActionState:Vy,useOptimistic:function(t,e){var n=he();return Sg(n,Z,t,e)},useMemoCache:km,useCacheRefresh:Jg};zm.useEffectEvent=Ig;var qg={readContext:De,use:Lc,useCallback:Lg,useContext:De,useEffect:Gm,useImperativeHandle:Ug,useInsertionEffect:kg,useLayoutEffect:Og,useMemo:Fg,useReducer:Xl,useRef:Rg,useState:function(){return Xl(_n)},useDebugValue:Um,useDeferredValue:function(t,e){var n=he();return Z===null?Lm(n,t,e):Ng(n,Z.memoizedState,t,e)},useTransition:function(){var t=Xl(_n)[0],e=he().memoizedState;return[typeof t=="boolean"?t:Ii(t),e]},useSyncExternalStore:vg,useId:Kg,useHostTransitionStatus:Fm,useFormState:Dy,useActionState:Dy,useOptimistic:function(t,e){var n=he();return Z!==null?Sg(n,Z,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:km,useCacheRefresh:Jg};qg.useEffectEvent=Ig;function Yl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zf={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=at(),o=jn(r);o.payload=e,n!=null&&(o.callback=n),e=Xn(t,o,r),e!==null&&(Qe(e,t,r),ri(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=at(),o=jn(r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Xn(t,o,r),e!==null&&(Qe(e,t,r),ri(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=at(),r=jn(n);r.tag=2,e!=null&&(r.callback=e),e=Xn(t,r,n),e!==null&&(Qe(e,t,n),ri(e,t,n))}};function Iy(t,e,n,r,o,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,i):e.prototype&&e.prototype.isPureReactComponent?!pi(n,r)||!pi(o,s):!0}function ky(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zf.enqueueReplaceState(e,e.state,null)}function Dr(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=ie({},n));for(var o in t)n[o]===void 0&&(n[o]=t[o])}return n}function Wg(t){ic(t)}function $g(t){console.error(t)}function Zg(t){ic(t)}function pc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function Oy(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Hf(t,e,n){return n=jn(n),n.tag=3,n.payload={element:null},n.callback=function(){pc(t,e)},n}function e0(t){return t=jn(t),t.tag=3,t}function t0(t,e,n,r){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var s=r.value;t.payload=function(){return o(s)},t.callback=function(){Oy(e,n,r)}}var i=n.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Oy(e,n,r),typeof o!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var a=r.stack;this.componentDidCatch(r.value,{componentStack:a!==null?a:""})})}function D_(t,e,n,r,o){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Xo(e,n,o,!0),n=ut.current,n!==null){switch(n.tag){case 31:case 13:return Bt===null?bc():n.alternate===null&&fe===0&&(fe=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===lc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),sf(t,r,o)),!1;case 22:return n.flags|=65536,r===lc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),sf(t,r,o)),!1}throw Error(C(435,n.tag))}return sf(t,r,o),bc(),!1}if(K)return e=ut.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=o,r!==Mf&&(t=Error(C(422),{cause:r}),xi(_t(t,n)))):(r!==Mf&&(e=Error(C(423),{cause:r}),xi(_t(e,n))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,r=_t(r,n),o=Hf(t.stateNode,r,o),jl(t,o),fe!==4&&(fe=2)),!1;var s=Error(C(520),{cause:r});if(s=_t(s,n),ui===null?ui=[s]:ui.push(s),fe!==4&&(fe=2),e===null)return!0;r=_t(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=o&-o,n.lanes|=t,t=Hf(n.stateNode,r,t),jl(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Yn===null||!Yn.has(s))))return n.flags|=65536,o&=-o,n.lanes|=o,o=e0(o),t0(o,t,n,r),jl(n,o),!1}n=n.return}while(n!==null);return!1}var Hm=Error(C(461)),Ae=!1;function Ce(t,e,n,r){e.child=t===null?pg(e,null,n,r):Mr(e,t.child,n,r)}function Gy(t,e,n,r,o){n=n.render;var s=e.ref;if("ref"in r){var i={};for(var a in r)a!=="ref"&&(i[a]=r[a])}else i=r;return Cr(e),r=Vm(t,e,n,i,s,o),a=Dm(),t!==null&&!Ae?(Rm(t,e,o),Tn(t,e,o)):(K&&a&&_m(e),e.flags|=1,Ce(t,e,r,o),e.child)}function Uy(t,e,n,r,o){if(t===null){var s=n.type;return typeof s=="function"&&!vm(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,n0(t,e,s,r,o)):(t=Ka(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Pm(t,o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:pi,n(i,r)&&t.ref===e.ref)return Tn(t,e,o)}return e.flags|=1,t=xn(s,r),t.ref=e.ref,t.return=e,e.child=t}function n0(t,e,n,r,o){if(t!==null){var s=t.memoizedProps;if(pi(s,r)&&t.ref===e.ref)if(Ae=!1,e.pendingProps=r=s,Pm(t,o))(t.flags&131072)!==0&&(Ae=!0);else return e.lanes=t.lanes,Tn(t,e,o)}return Pf(t,e,n,r,o)}function r0(t,e,n,r){var o=r.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((e.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,t!==null){for(r=e.child=t.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~s}else r=0,e.child=null;return Ly(t,e,s,n,r)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ja(e,s!==null?s.cachePool:null),s!==null?Ey(e,s):Gf(),gg(e);else return r=e.lanes=536870912,Ly(t,e,s!==null?s.baseLanes|n:n,n,r)}else s!==null?(Ja(e,s.cachePool),Ey(e,s),Un(e),e.memoizedState=null):(t!==null&&Ja(e,null),Gf(),Un(e));return Ce(t,e,o,n),e.child}function Ws(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Ly(t,e,n,r,o){var s=wm();return s=s===null?null:{parent:ge._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Ja(e,null),Gf(),gg(e),t!==null&&Xo(t,e,r,!0),e.childLanes=o,null}function Ya(t,e){return e=yc({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Fy(t,e,n){return Mr(e,t.child,null,n),t=Ya(e,e.pendingProps),t.flags|=2,tt(e),e.memoizedState=null,t}function R_(t,e,n){var r=e.pendingProps,o=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(K){if(r.mode==="hidden")return t=Ya(e,r),e.lanes=536870912,Ws(null,t);if(Uf(e),(t=se)?(t=Q0(t,Tt),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Zn!==null?{id:Ft,overflow:Nt}:null,retryLane:536870912,hydrationErrors:null},n=cg(t),n.return=e,e.child=n,Ve=e,se=null)):t=null,t===null)throw er(e);return e.lanes=536870912,null}return Ya(e,r)}var s=t.memoizedState;if(s!==null){var i=s.dehydrated;if(Uf(e),o)if(e.flags&256)e.flags&=-257,e=Fy(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(C(558));else if(Ae||Xo(t,e,n,!1),o=(n&t.childLanes)!==0,Ae||o){if(r=ee,r!==null&&(i=kx(r,n),i!==0&&i!==s.retryLane))throw s.retryLane=i,Or(t,i),Qe(r,t,i),Hm;bc(),e=Fy(t,e,n)}else t=s.treeContext,se=wt(i.nextSibling),Ve=e,K=!0,Jn=null,Tt=!1,t!==null&&lg(e,t),e=Ya(e,r),e.flags|=4096;return e}return t=xn(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Qa(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(C(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Pf(t,e,n,r,o){return Cr(e),n=Vm(t,e,n,r,void 0,o),r=Dm(),t!==null&&!Ae?(Rm(t,e,o),Tn(t,e,o)):(K&&r&&_m(e),e.flags|=1,Ce(t,e,n,o),e.child)}function Ny(t,e,n,r,o,s){return Cr(e),e.updateQueue=null,n=bg(e,r,n,o),Ag(t),r=Dm(),t!==null&&!Ae?(Rm(t,e,s),Tn(t,e,s)):(K&&r&&_m(e),e.flags|=1,Ce(t,e,n,s),e.child)}function zy(t,e,n,r,o){if(Cr(e),e.stateNode===null){var s=To,i=n.contextType;typeof i=="object"&&i!==null&&(s=De(i)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=zf,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},Sm(e),i=n.contextType,s.context=typeof i=="object"&&i!==null?De(i):To,s.state=e.memoizedState,i=n.getDerivedStateFromProps,typeof i=="function"&&(Yl(e,n,i,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(i=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),i!==s.state&&zf.enqueueReplaceState(s,s.state,null),si(e,r,s,o),oi(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var a=e.memoizedProps,c=Dr(n,a);s.props=c;var u=s.context,l=n.contextType;i=To,typeof l=="object"&&l!==null&&(i=De(l));var f=n.getDerivedStateFromProps;l=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",a=e.pendingProps!==a,l||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a||u!==i)&&ky(e,s,r,i),kn=!1;var m=e.memoizedState;s.state=m,si(e,r,s,o),oi(),u=e.memoizedState,a||m!==u||kn?(typeof f=="function"&&(Yl(e,n,f,r),u=e.memoizedState),(c=kn||Iy(e,n,c,r,m,u,i))?(l||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=i,r=c):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,kf(t,e),i=e.memoizedProps,l=Dr(n,i),s.props=l,f=e.pendingProps,m=s.context,u=n.contextType,c=To,typeof u=="object"&&u!==null&&(c=De(u)),a=n.getDerivedStateFromProps,(u=typeof a=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==f||m!==c)&&ky(e,s,r,c),kn=!1,m=e.memoizedState,s.state=m,si(e,r,s,o),oi();var d=e.memoizedState;i!==f||m!==d||kn||t!==null&&t.dependencies!==null&&uc(t.dependencies)?(typeof a=="function"&&(Yl(e,n,a,r),d=e.memoizedState),(l=kn||Iy(e,n,l,r,m,d,c)||t!==null&&t.dependencies!==null&&uc(t.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,d,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,d,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=d),s.props=r,s.state=d,s.context=c,r=l):(typeof s.componentDidUpdate!="function"||i===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,Qa(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=Mr(e,t.child,null,o),e.child=Mr(e,null,n,o)):Ce(t,e,n,o),e.memoizedState=s.state,t=e.child):t=Tn(t,e,o),t}function Hy(t,e,n,r){return Sr(),e.flags|=256,Ce(t,e,n,r),e.child}var Ql={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ql(t){return{baseLanes:t,cachePool:mg()}}function Wl(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=rt),t}function o0(t,e,n){var r=e.pendingProps,o=!1,s=(e.flags&128)!==0,i;if((i=s)||(i=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),i&&(o=!0,e.flags&=-129),i=(e.flags&32)!==0,e.flags&=-33,t===null){if(K){if(o?Gn(e):Un(e),(t=se)?(t=Q0(t,Tt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Zn!==null?{id:Ft,overflow:Nt}:null,retryLane:536870912,hydrationErrors:null},n=cg(t),n.return=e,e.child=n,Ve=e,se=null)):t=null,t===null)throw er(e);return rm(t)?e.lanes=32:e.lanes=536870912,null}var a=r.children;return r=r.fallback,o?(Un(e),o=e.mode,a=yc({mode:"hidden",children:a},o),r=Tr(r,o,n,null),a.return=e,r.return=e,a.sibling=r,e.child=a,r=e.child,r.memoizedState=ql(n),r.childLanes=Wl(t,i,n),e.memoizedState=Ql,Ws(null,r)):(Gn(e),Kf(e,a))}var c=t.memoizedState;if(c!==null&&(a=c.dehydrated,a!==null)){if(s)e.flags&256?(Gn(e),e.flags&=-257,e=$l(t,e,n)):e.memoizedState!==null?(Un(e),e.child=t.child,e.flags|=128,e=null):(Un(e),a=r.fallback,o=e.mode,r=yc({mode:"visible",children:r.children},o),a=Tr(a,o,n,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,Mr(e,t.child,null,n),r=e.child,r.memoizedState=ql(n),r.childLanes=Wl(t,i,n),e.memoizedState=Ql,e=Ws(null,r));else if(Gn(e),rm(a)){if(i=a.nextSibling&&a.nextSibling.dataset,i)var u=i.dgst;i=u,r=Error(C(419)),r.stack="",r.digest=i,xi({value:r,source:null,stack:null}),e=$l(t,e,n)}else if(Ae||Xo(t,e,n,!1),i=(n&t.childLanes)!==0,Ae||i){if(i=ee,i!==null&&(r=kx(i,n),r!==0&&r!==c.retryLane))throw c.retryLane=r,Or(t,r),Qe(i,t,r),Hm;nm(a)||bc(),e=$l(t,e,n)}else nm(a)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,se=wt(a.nextSibling),Ve=e,K=!0,Jn=null,Tt=!1,t!==null&&lg(e,t),e=Kf(e,r.children),e.flags|=4096);return e}return o?(Un(e),a=r.fallback,o=e.mode,c=t.child,u=c.sibling,r=xn(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?a=xn(u,a):(a=Tr(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,Ws(null,r),r=e.child,a=t.child.memoizedState,a===null?a=ql(n):(o=a.cachePool,o!==null?(c=ge._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=mg(),a={baseLanes:a.baseLanes|n,cachePool:o}),r.memoizedState=a,r.childLanes=Wl(t,i,n),e.memoizedState=Ql,Ws(t.child,r)):(Gn(e),n=t.child,t=n.sibling,n=xn(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(i=e.deletions,i===null?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=n,e.memoizedState=null,n)}function Kf(t,e){return e=yc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function yc(t,e){return t=nt(22,t,null,e),t.lanes=0,t}function $l(t,e,n){return Mr(e,t.child,null,n),t=Kf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Py(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Df(t.return,e,n)}function Zl(t,e,n,r,o,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o,i.treeForkCount=s)}function s0(t,e,n){var r=e.pendingProps,o=r.revealOrder,s=r.tail;r=r.children;var i=de.current,a=(i&2)!==0;if(a?(i=i&1|2,e.flags|=128):i&=1,te(de,i),Ce(t,e,r,n),r=K?yi:0,!a&&t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Py(t,n,e);else if(t.tag===19)Py(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&mc(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Zl(e,!1,o,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&mc(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Zl(e,!0,n,null,s,r);break;case"together":Zl(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Tn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nr|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(Xo(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=xn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Pm(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&uc(t)))}function I_(t,e,n){switch(e.tag){case 3:nc(e,e.stateNode.containerInfo),On(e,ge,t.memoizedState.cache),Sr();break;case 27:case 5:gf(e);break;case 4:nc(e,e.stateNode.containerInfo);break;case 10:On(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Uf(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Gn(e),e.flags|=128,null):(n&e.child.childLanes)!==0?o0(t,e,n):(Gn(e),t=Tn(t,e,n),t!==null?t.sibling:null);Gn(e);break;case 19:var o=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Xo(t,e,n,!1),r=(n&e.childLanes)!==0),o){if(r)return s0(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),te(de,de.current),r)break;return null;case 22:return e.lanes=0,r0(t,e,n,e.pendingProps);case 24:On(e,ge,t.memoizedState.cache)}return Tn(t,e,n)}function i0(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ae=!0;else{if(!Pm(t,n)&&(e.flags&128)===0)return Ae=!1,I_(t,e,n);Ae=(t.flags&131072)!==0}else Ae=!1,K&&(e.flags&1048576)!==0&&ug(e,yi,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=br(e.elementType),e.type=t,typeof t=="function")vm(t)?(r=Dr(t,r),e.tag=1,e=zy(null,e,t,r,n)):(e.tag=0,e=Pf(null,e,t,r,n));else{if(t!=null){var o=t.$$typeof;if(o===am){e.tag=11,e=Gy(null,e,t,r,n);break e}else if(o===cm){e.tag=14,e=Uy(null,e,t,r,n);break e}}throw e=yf(t)||t,Error(C(306,e,""))}}return e;case 0:return Pf(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,o=Dr(r,e.pendingProps),zy(t,e,r,o,n);case 3:e:{if(nc(e,e.stateNode.containerInfo),t===null)throw Error(C(387));r=e.pendingProps;var s=e.memoizedState;o=s.element,kf(t,e),si(e,r,null,n);var i=e.memoizedState;if(r=i.cache,On(e,ge,r),r!==s.cache&&Rf(e,[ge],n,!0),oi(),r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Hy(t,e,r,n);break e}else if(r!==o){o=_t(Error(C(424)),e),xi(o),e=Hy(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=wt(t.firstChild),Ve=e,K=!0,Jn=null,Tt=!0,n=pg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Sr(),r===o){e=Tn(t,e,n);break e}Ce(t,e,r,n)}e=e.child}return e;case 26:return Qa(t,e),t===null?(n=fx(e.type,null,e.pendingProps,null))?e.memoizedState=n:K||(n=e.type,t=e.pendingProps,r=Bc(Kn.current).createElement(n),r[Me]=e,r[qe]=t,Re(r,n,t),we(r),e.stateNode=r):e.memoizedState=fx(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return gf(e),t===null&&K&&(r=e.stateNode=q0(e.type,e.pendingProps,Kn.current),Ve=e,Tt=!0,o=se,or(e.type)?(om=o,se=wt(r.firstChild)):se=o),Ce(t,e,e.pendingProps.children,n),Qa(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&K&&((o=r=se)&&(r=a3(r,e.type,e.pendingProps,Tt),r!==null?(e.stateNode=r,Ve=e,se=wt(r.firstChild),Tt=!1,o=!0):o=!1),o||er(e)),gf(e),o=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,r=s.children,em(o,s)?r=null:i!==null&&em(o,i)&&(e.flags|=32),e.memoizedState!==null&&(o=Vm(t,e,B_,null,null,n),Ti._currentValue=o),Qa(t,e),Ce(t,e,r,n),e.child;case 6:return t===null&&K&&((t=n=se)&&(n=c3(n,e.pendingProps,Tt),n!==null?(e.stateNode=n,Ve=e,se=null,t=!0):t=!1),t||er(e)),null;case 13:return o0(t,e,n);case 4:return nc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mr(e,null,r,n):Ce(t,e,r,n),e.child;case 11:return Gy(t,e,e.type,e.pendingProps,n);case 7:return Ce(t,e,e.pendingProps,n),e.child;case 8:return Ce(t,e,e.pendingProps.children,n),e.child;case 12:return Ce(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,On(e,e.type,r.value),Ce(t,e,r.children,n),e.child;case 9:return o=e.type._context,r=e.pendingProps.children,Cr(e),o=De(o),r=r(o),e.flags|=1,Ce(t,e,r,n),e.child;case 14:return Uy(t,e,e.type,e.pendingProps,n);case 15:return n0(t,e,e.type,e.pendingProps,n);case 19:return s0(t,e,n);case 31:return R_(t,e,n);case 22:return r0(t,e,n,e.pendingProps);case 24:return Cr(e),r=De(ge),t===null?(o=wm(),o===null&&(o=ee,s=Bm(),o.pooledCache=s,s.refCount++,s!==null&&(o.pooledCacheLanes|=n),o=s),e.memoizedState={parent:r,cache:o},Sm(e),On(e,ge,o)):((t.lanes&n)!==0&&(kf(t,e),si(e,null,null,n),oi()),o=t.memoizedState,s=e.memoizedState,o.parent!==r?(o={parent:r,cache:r},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),On(e,ge,r)):(r=s.cache,On(e,ge,r),r!==o.cache&&Rf(e,[ge],n,!0))),Ce(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(C(156,e.tag))}function cn(t){t.flags|=4}function ef(t,e,n,r,o){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(o&335544128)===o)if(t.stateNode.complete)t.flags|=8192;else if(V0())t.flags|=8192;else throw wr=lc,Em}else t.flags&=-16777217}function Ky(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Z0(e))if(V0())t.flags|=8192;else throw wr=lc,Em}function Ia(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Dx():536870912,t.lanes|=e,No|=e)}function Ks(t,e){if(!K)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function k_(t,e,n){var r=e.pendingProps;switch(Tm(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(e),null;case 1:return oe(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),gn(ge),ko(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(lo(e)?cn(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Jl())),oe(e),null;case 26:var o=e.type,s=e.memoizedState;return t===null?(cn(e),s!==null?(oe(e),Ky(e,s)):(oe(e),ef(e,o,null,r,n))):s?s!==t.memoizedState?(cn(e),oe(e),Ky(e,s)):(oe(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&cn(e),oe(e),ef(e,o,t,r,n)),null;case 27:if(rc(e),n=Kn.current,o=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&cn(e);else{if(!r){if(e.stateNode===null)throw Error(C(166));return oe(e),null}t=Ht.current,lo(e)?Ay(e,t):(t=q0(o,r,n),e.stateNode=t,cn(e))}return oe(e),null;case 5:if(rc(e),o=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&cn(e);else{if(!r){if(e.stateNode===null)throw Error(C(166));return oe(e),null}if(s=Ht.current,lo(e))Ay(e,s);else{var i=Bc(Kn.current);switch(s){case 1:s=i.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:s=i.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":s=i.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":s=i.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":s=i.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s=typeof r.is=="string"?i.createElement(o,{is:r.is}):i.createElement(o)}}s[Me]=e,s[qe]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)s.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=s;e:switch(Re(s,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&cn(e)}}return oe(e),ef(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&cn(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(t=Kn.current,lo(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,o=Ve,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}t[Me]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||j0(t.nodeValue,n)),t||er(e,!0)}else t=Bc(t).createTextNode(r),t[Me]=e,e.stateNode=t}return oe(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=lo(e),n!==null){if(t===null){if(!r)throw Error(C(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(557));t[Me]=e}else Sr(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;oe(e),t=!1}else n=Jl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(tt(e),e):(tt(e),null);if((e.flags&128)!==0)throw Error(C(558))}return oe(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=lo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(C(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(C(317));o[Me]=e}else Sr(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;oe(e),o=!1}else o=Jl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return e.flags&256?(tt(e),e):(tt(e),null)}return tt(e),(e.flags&128)!==0?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Ia(e,e.updateQueue),oe(e),null);case 4:return ko(),t===null&&qm(e.stateNode.containerInfo),oe(e),null;case 10:return gn(e.type),oe(e),null;case 19:if(Ee(de),r=e.memoizedState,r===null)return oe(e),null;if(o=(e.flags&128)!==0,s=r.rendering,s===null)if(o)Ks(r,!1);else{if(fe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=mc(t),s!==null){for(e.flags|=128,Ks(r,!1),t=s.updateQueue,e.updateQueue=t,Ia(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)ag(n,t),n=n.sibling;return te(de,de.current&1|2),K&&mn(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&ot()>gc&&(e.flags|=128,o=!0,Ks(r,!1),e.lanes=4194304)}else{if(!o)if(t=mc(s),t!==null){if(e.flags|=128,o=!0,t=t.updateQueue,e.updateQueue=t,Ia(e,t),Ks(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!K)return oe(e),null}else 2*ot()-r.renderingStartTime>gc&&n!==536870912&&(e.flags|=128,o=!0,Ks(r,!1),e.lanes=4194304);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=ot(),t.sibling=null,n=de.current,te(de,o?n&1|2:n&1),K&&mn(e,r.treeForkCount),t):(oe(e),null);case 22:case 23:return tt(e),Cm(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(n&536870912)!==0&&(e.flags&128)===0&&(oe(e),e.subtreeFlags&6&&(e.flags|=8192)):oe(e),n=e.updateQueue,n!==null&&Ia(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Ee(Br),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),gn(ge),oe(e),null;case 25:return null;case 30:return null}throw Error(C(156,e.tag))}function O_(t,e){switch(Tm(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gn(ge),ko(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return rc(e),null;case 31:if(e.memoizedState!==null){if(tt(e),e.alternate===null)throw Error(C(340));Sr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(tt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Sr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(de),null;case 4:return ko(),null;case 10:return gn(e.type),null;case 22:case 23:return tt(e),Cm(),t!==null&&Ee(Br),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return gn(ge),null;case 25:return null;default:return null}}function a0(t,e){switch(Tm(e),e.tag){case 3:gn(ge),ko();break;case 26:case 27:case 5:rc(e);break;case 4:ko();break;case 31:e.memoizedState!==null&&tt(e);break;case 13:tt(e);break;case 19:Ee(de);break;case 10:gn(e.type);break;case 22:case 23:tt(e),Cm(),t!==null&&Ee(Br);break;case 24:gn(ge)}}function ki(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var o=r.next;n=o;do{if((n.tag&t)===t){r=void 0;var s=n.create,i=n.inst;r=s(),i.destroy=r}n=n.next}while(n!==o)}}catch(a){W(e,e.return,a)}}function tr(t,e,n){try{var r=e.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var s=o.next;r=s;do{if((r.tag&t)===t){var i=r.inst,a=i.destroy;if(a!==void 0){i.destroy=void 0,o=e;var c=n,u=a;try{u()}catch(l){W(o,c,l)}}}r=r.next}while(r!==s)}}catch(l){W(e,e.return,l)}}function c0(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{xg(e,n)}catch(r){W(t,t.return,r)}}}function u0(t,e,n){n.props=Dr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){W(t,e,r)}}function ai(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(o){W(t,e,o)}}function zt(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(o){W(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){W(t,e,o)}else n.current=null}function l0(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){W(t,t.return,o)}}function tf(t,e,n){try{var r=t.stateNode;t3(r,t.type,n,e),r[qe]=e}catch(o){W(t,t.return,o)}}function f0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&or(t.type)||t.tag===4}function nf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&or(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pn));else if(r!==4&&(r===27&&or(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Jf(t,e,n),t=t.sibling;t!==null;)Jf(t,e,n),t=t.sibling}function xc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&or(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(xc(t,e,n),t=t.sibling;t!==null;)xc(t,e,n),t=t.sibling}function m0(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,o=e.attributes;o.length;)e.removeAttributeNode(o[0]);Re(e,r,n),e[Me]=t,e[qe]=n}catch(s){W(t,t.return,s)}}var dn=!1,xe=!1,rf=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,Be=null;function G_(t,e){if(t=t.containerInfo,$f=Cc,t=Zx(t),gm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,l=0,f=t,m=null;t:for(;;){for(var d;f!==n||o!==0&&f.nodeType!==3||(a=i+o),f!==s||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(d=f.firstChild)!==null;)m=f,f=d;for(;;){if(f===t)break t;if(m===n&&++u===o&&(a=i),m===s&&++l===r&&(c=i),(d=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=d}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zf={focusedElem:t,selectionRange:n},Cc=!1,Be=e;Be!==null;)if(e=Be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Be=t;else for(;Be!==null;){switch(e=Be,s=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)o=t[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&s!==null){t=void 0,n=e,o=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var b=Dr(n.type,o);t=r.getSnapshotBeforeUpdate(b,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(E){W(n,n.return,E)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)tm(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(C(163))}if(t=e.sibling,t!==null){t.return=e.return,Be=t;break}Be=e.return}}function d0(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ln(t,n),r&4&&ki(5,n);break;case 1:if(ln(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(i){W(n,n.return,i)}else{var o=Dr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(i){W(n,n.return,i)}}r&64&&c0(n),r&512&&ai(n,n.return);break;case 3:if(ln(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{xg(t,e)}catch(i){W(n,n.return,i)}}break;case 27:e===null&&r&4&&m0(n);case 26:case 5:ln(t,n),e===null&&r&4&&l0(n),r&512&&ai(n,n.return);break;case 12:ln(t,n);break;case 31:ln(t,n),r&4&&y0(t,n);break;case 13:ln(t,n),r&4&&x0(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=J_.bind(null,n),u3(t,n))));break;case 22:if(r=n.memoizedState!==null||dn,!r){e=e!==null&&e.memoizedState!==null||xe,o=dn;var s=xe;dn=r,(xe=e)&&!s?fn(t,n,(n.subtreeFlags&8772)!==0):ln(t,n),dn=o,xe=s}break;case 30:break;default:ln(t,n)}}function h0(t){var e=t.alternate;e!==null&&(t.alternate=null,h0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&mm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ce=null,Xe=!1;function un(t,e,n){for(n=n.child;n!==null;)p0(t,e,n),n=n.sibling}function p0(t,e,n){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Si,n)}catch{}switch(n.tag){case 26:xe||zt(n,e),un(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:xe||zt(n,e);var r=ce,o=Xe;or(n.type)&&(ce=n.stateNode,Xe=!1),un(t,e,n),fi(n.stateNode),ce=r,Xe=o;break;case 5:xe||zt(n,e);case 6:if(r=ce,o=Xe,ce=null,un(t,e,n),ce=r,Xe=o,ce!==null)if(Xe)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(n.stateNode)}catch(s){W(n,e,s)}else try{ce.removeChild(n.stateNode)}catch(s){W(n,e,s)}break;case 18:ce!==null&&(Xe?(t=ce,ix(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Ko(t)):ix(ce,n.stateNode));break;case 4:r=ce,o=Xe,ce=n.stateNode.containerInfo,Xe=!0,un(t,e,n),ce=r,Xe=o;break;case 0:case 11:case 14:case 15:tr(2,n,e),xe||tr(4,n,e),un(t,e,n);break;case 1:xe||(zt(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&u0(n,e,r)),un(t,e,n);break;case 21:un(t,e,n);break;case 22:xe=(r=xe)||n.memoizedState!==null,un(t,e,n),xe=r;break;default:un(t,e,n)}}function y0(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ko(t)}catch(n){W(e,e.return,n)}}}function x0(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ko(t)}catch(n){W(e,e.return,n)}}function U_(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Jy),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Jy),e;default:throw Error(C(435,t.tag))}}function ka(t,e){var n=U_(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var o=j_.bind(null,t,r);r.then(o,o)}})}function Je(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r],s=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 27:if(or(a.type)){ce=a.stateNode,Xe=!1;break e}break;case 5:ce=a.stateNode,Xe=!1;break e;case 3:case 4:ce=a.stateNode.containerInfo,Xe=!0;break e}a=a.return}if(ce===null)throw Error(C(160));p0(s,i,o),ce=null,Xe=!1,s=o.alternate,s!==null&&(s.return=null),o.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)g0(e,t),e=e.sibling}var It=null;function g0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Je(e,t),je(t),r&4&&(tr(3,t,t.return),ki(3,t),tr(5,t,t.return));break;case 1:Je(e,t),je(t),r&512&&(xe||n===null||zt(n,n.return)),r&64&&dn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var o=It;if(Je(e,t),je(t),r&512&&(xe||n===null||zt(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":s=o.getElementsByTagName("title")[0],(!s||s[Vi]||s[Me]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=o.createElement(r),o.head.insertBefore(s,o.querySelector("head > title"))),Re(s,r,n),s[Me]=t,we(s),r=s;break e;case"link":var i=dx("link","href",o).get(r+(n.href||""));if(i){for(var a=0;a<i.length;a++)if(s=i[a],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){i.splice(a,1);break t}}s=o.createElement(r),Re(s,r,n),o.head.appendChild(s);break;case"meta":if(i=dx("meta","content",o).get(r+(n.content||""))){for(a=0;a<i.length;a++)if(s=i[a],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){i.splice(a,1);break t}}s=o.createElement(r),Re(s,r,n),o.head.appendChild(s);break;default:throw Error(C(468,r))}s[Me]=t,we(s),r=s}t.stateNode=r}else hx(o,t.type,t.stateNode);else t.stateNode=mx(o,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?hx(o,t.type,t.stateNode):mx(o,r,t.memoizedProps)):r===null&&t.stateNode!==null&&tf(t,t.memoizedProps,n.memoizedProps)}break;case 27:Je(e,t),je(t),r&512&&(xe||n===null||zt(n,n.return)),n!==null&&r&4&&tf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Je(e,t),je(t),r&512&&(xe||n===null||zt(n,n.return)),t.flags&32){o=t.stateNode;try{Go(o,"")}catch(b){W(t,t.return,b)}}r&4&&t.stateNode!=null&&(o=t.memoizedProps,tf(t,o,n!==null?n.memoizedProps:o)),r&1024&&(rf=!0);break;case 6:if(Je(e,t),je(t),r&4){if(t.stateNode===null)throw Error(C(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(b){W(t,t.return,b)}}break;case 3:if($a=null,o=It,It=wc(e.containerInfo),Je(e,t),It=o,je(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ko(e.containerInfo)}catch(b){W(t,t.return,b)}rf&&(rf=!1,A0(t));break;case 4:r=It,It=wc(t.stateNode.containerInfo),Je(e,t),je(t),It=r;break;case 12:Je(e,t),je(t);break;case 31:Je(e,t),je(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ka(t,r)));break;case 13:Je(e,t),je(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(zc=ot()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ka(t,r)));break;case 22:o=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=dn,l=xe;if(dn=u||o,xe=l||c,Je(e,t),xe=l,dn=u,je(t),r&8192)e:for(e=t.stateNode,e._visibility=o?e._visibility&-2:e._visibility|1,o&&(n===null||c||dn||xe||vr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(s=c.stateNode,o)i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{a=c.stateNode;var f=c.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;a.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(b){W(c,c.return,b)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(b){W(c,c.return,b)}}}else if(e.tag===18){if(n===null){c=e;try{var d=c.stateNode;o?ax(d,!0):ax(c.stateNode,!1)}catch(b){W(c,c.return,b)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,ka(t,n))));break;case 19:Je(e,t),je(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ka(t,r)));break;case 30:break;case 21:break;default:Je(e,t),je(t)}}function je(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(f0(r)){n=r;break}r=r.return}if(n==null)throw Error(C(160));switch(n.tag){case 27:var o=n.stateNode,s=nf(t);xc(t,s,o);break;case 5:var i=n.stateNode;n.flags&32&&(Go(i,""),n.flags&=-33);var a=nf(t);xc(t,a,i);break;case 3:case 4:var c=n.stateNode.containerInfo,u=nf(t);Jf(t,u,c);break;default:throw Error(C(161))}}catch(l){W(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function A0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;A0(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ln(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)d0(t,e.alternate,e),e=e.sibling}function vr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:tr(4,e,e.return),vr(e);break;case 1:zt(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&u0(e,e.return,n),vr(e);break;case 27:fi(e.stateNode);case 26:case 5:zt(e,e.return),vr(e);break;case 22:e.memoizedState===null&&vr(e);break;case 30:vr(e);break;default:vr(e)}t=t.sibling}}function fn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,o=t,s=e,i=s.flags;switch(s.tag){case 0:case 11:case 15:fn(o,s,n),ki(4,s);break;case 1:if(fn(o,s,n),r=s,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(u){W(r,r.return,u)}if(r=s,o=r.updateQueue,o!==null){var a=r.stateNode;try{var c=o.shared.hiddenCallbacks;if(c!==null)for(o.shared.hiddenCallbacks=null,o=0;o<c.length;o++)yg(c[o],a)}catch(u){W(r,r.return,u)}}n&&i&64&&c0(s),ai(s,s.return);break;case 27:m0(s);case 26:case 5:fn(o,s,n),n&&r===null&&i&4&&l0(s),ai(s,s.return);break;case 12:fn(o,s,n);break;case 31:fn(o,s,n),n&&i&4&&y0(o,s);break;case 13:fn(o,s,n),n&&i&4&&x0(o,s);break;case 22:s.memoizedState===null&&fn(o,s,n),ai(s,s.return);break;case 30:break;default:fn(o,s,n)}e=e.sibling}}function Km(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ri(n))}function Jm(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ri(t))}function Rt(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)b0(t,e,n,r),e=e.sibling}function b0(t,e,n,r){var o=e.flags;switch(e.tag){case 0:case 11:case 15:Rt(t,e,n,r),o&2048&&ki(9,e);break;case 1:Rt(t,e,n,r);break;case 3:Rt(t,e,n,r),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ri(t)));break;case 12:if(o&2048){Rt(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,i=s.id,a=s.onPostCommit;typeof a=="function"&&a(i,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){W(e,e.return,c)}}else Rt(t,e,n,r);break;case 31:Rt(t,e,n,r);break;case 13:Rt(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,i=e.alternate,e.memoizedState!==null?s._visibility&2?Rt(t,e,n,r):ci(t,e):s._visibility&2?Rt(t,e,n,r):(s._visibility|=2,mo(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),o&2048&&Km(i,e);break;case 24:Rt(t,e,n,r),o&2048&&Jm(e.alternate,e);break;default:Rt(t,e,n,r)}}function mo(t,e,n,r,o){for(o=o&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,i=e,a=n,c=r,u=i.flags;switch(i.tag){case 0:case 11:case 15:mo(s,i,a,c,o),ki(8,i);break;case 23:break;case 22:var l=i.stateNode;i.memoizedState!==null?l._visibility&2?mo(s,i,a,c,o):ci(s,i):(l._visibility|=2,mo(s,i,a,c,o)),o&&u&2048&&Km(i.alternate,i);break;case 24:mo(s,i,a,c,o),o&&u&2048&&Jm(i.alternate,i);break;default:mo(s,i,a,c,o)}e=e.sibling}}function ci(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,o=r.flags;switch(r.tag){case 22:ci(n,r),o&2048&&Km(r.alternate,r);break;case 24:ci(n,r),o&2048&&Jm(r.alternate,r);break;default:ci(n,r)}e=e.sibling}}var $s=8192;function fo(t,e,n){if(t.subtreeFlags&$s)for(t=t.child;t!==null;)v0(t,e,n),t=t.sibling}function v0(t,e,n){switch(t.tag){case 26:fo(t,e,n),t.flags&$s&&t.memoizedState!==null&&v3(n,It,t.memoizedState,t.memoizedProps);break;case 5:fo(t,e,n);break;case 3:case 4:var r=It;It=wc(t.stateNode.containerInfo),fo(t,e,n),It=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=$s,$s=16777216,fo(t,e,n),$s=r):fo(t,e,n));break;default:fo(t,e,n)}}function _0(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Js(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Be=r,B0(r,t)}_0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)T0(t),t=t.sibling}function T0(t){switch(t.tag){case 0:case 11:case 15:Js(t),t.flags&2048&&tr(9,t,t.return);break;case 3:Js(t);break;case 12:Js(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,qa(t)):Js(t);break;default:Js(t)}}function qa(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Be=r,B0(r,t)}_0(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:tr(8,e,e.return),qa(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,qa(e));break;default:qa(e)}t=t.sibling}}function B0(t,e){for(;Be!==null;){var n=Be;switch(n.tag){case 0:case 11:case 15:tr(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ri(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Be=r;else e:for(n=t;Be!==null;){r=Be;var o=r.sibling,s=r.return;if(h0(r),r===n){Be=null;break e}if(o!==null){o.return=s,Be=o;break e}Be=s}}}var L_={getCacheForType:function(t){var e=De(ge),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return De(ge).controller.signal}},F_=typeof WeakMap=="function"?WeakMap:Map,j=0,ee=null,H=null,P=0,q=0,et=null,zn=!1,Qo=!1,jm=!1,Bn=0,fe=0,nr=0,Er=0,Xm=0,rt=0,No=0,ui=null,Ye=null,jf=!1,zc=0,w0=0,gc=1/0,Ac=null,Yn=null,ve=0,Qn=null,zo=null,An=0,Xf=0,Yf=null,E0=null,li=0,Qf=null;function at(){return(j&2)!==0&&P!==0?P&-P:L.T!==null?Qm():Ox()}function S0(){if(rt===0)if((P&536870912)===0||K){var t=Ba;Ba<<=1,(Ba&3932160)===0&&(Ba=262144),rt=t}else rt=536870912;return t=ut.current,t!==null&&(t.flags|=32),rt}function Qe(t,e,n){(t===ee&&(q===2||q===9)||t.cancelPendingCommit!==null)&&(Ho(t,0),Hn(t,P,rt,!1)),Mi(t,n),((j&2)===0||t!==ee)&&(t===ee&&((j&2)===0&&(Er|=n),fe===4&&Hn(t,P,rt,!1)),Kt(t))}function C0(t,e,n){if((j&6)!==0)throw Error(C(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Ci(t,e),o=r?H_(t,e):of(t,e,!0),s=r;do{if(o===0){Qo&&!r&&Hn(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!N_(n)){o=of(t,e,!1),s=!1;continue}if(o===2){if(s=e,t.errorRecoveryDisabledLanes&s)var i=0;else i=t.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){e=i;e:{var a=t;o=ui;var c=a.current.memoizedState.isDehydrated;if(c&&(Ho(a,i).flags|=256),i=of(a,i,!1),i!==2){if(jm&&!c){a.errorRecoveryDisabledLanes|=s,Er|=s,o=4;break e}s=Ye,Ye=o,s!==null&&(Ye===null?Ye=s:Ye.push.apply(Ye,s))}o=i}if(s=!1,o!==2)continue}}if(o===1){Ho(t,0),Hn(t,e,0,!0);break}e:{switch(r=t,s=o,s){case 0:case 1:throw Error(C(345));case 4:if((e&4194048)!==e)break;case 6:Hn(r,e,rt,!zn);break e;case 2:Ye=null;break;case 3:case 5:break;default:throw Error(C(329))}if((e&62914560)===e&&(o=zc+300-ot(),10<o)){if(Hn(r,e,rt,!zn),Vc(r,0,!0)!==0)break e;An=e,r.timeoutHandle=Y0(jy.bind(null,r,n,Ye,Ac,jf,e,rt,Er,No,zn,s,"Throttled",-0,0),o);break e}jy(r,n,Ye,Ac,jf,e,rt,Er,No,zn,s,null,-0,0)}}break}while(!0);Kt(t)}function jy(t,e,n,r,o,s,i,a,c,u,l,f,m,d){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pn},v0(e,s,f);var b=(s&62914560)===s?zc-ot():(s&4194048)===s?w0-ot():0;if(b=_3(f,b),b!==null){An=s,t.cancelPendingCommit=b(Yy.bind(null,t,e,s,n,r,o,i,a,c,l,f,null,m,d)),Hn(t,s,i,!u);return}}Yy(t,e,s,n,r,o,i,a,c)}function N_(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!ct(s(),o))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hn(t,e,n,r){e&=~Xm,e&=~Er,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var o=e;0<o;){var s=31-it(o),i=1<<s;r[s]=-1,o&=~i}n!==0&&Rx(t,n,e)}function Hc(){return(j&6)===0?(Oi(0,!1),!1):!0}function Ym(){if(H!==null){if(q===0)var t=H.return;else t=H,yn=Gr=null,Im(t),Do=null,gi=0,t=H;for(;t!==null;)a0(t.alternate,t),t=t.return;H=null}}function Ho(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,o3(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),An=0,Ym(),ee=t,H=n=xn(t.current,null),P=e,q=0,et=null,zn=!1,Qo=Ci(t,e),jm=!1,No=rt=Xm=Er=nr=fe=0,Ye=ui=null,jf=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var o=31-it(r),s=1<<o;e|=t[o],r&=~s}return Bn=e,kc(),n}function M0(t,e){N=null,L.H=bi,e===Yo||e===Gc?(e=By(),q=3):e===Em?(e=By(),q=4):q=e===Hm?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,et=e,H===null&&(fe=1,pc(t,_t(e,t.current)))}function V0(){var t=ut.current;return t===null?!0:(P&4194048)===P?Bt===null:(P&62914560)===P||(P&536870912)!==0?t===Bt:!1}function D0(){var t=L.H;return L.H=bi,t===null?bi:t}function R0(){var t=L.A;return L.A=L_,t}function bc(){fe=4,zn||(P&4194048)!==P&&ut.current!==null||(Qo=!0),(nr&134217727)===0&&(Er&134217727)===0||ee===null||Hn(ee,P,rt,!1)}function of(t,e,n){var r=j;j|=2;var o=D0(),s=R0();(ee!==t||P!==e)&&(Ac=null,Ho(t,e)),e=!1;var i=fe;e:do try{if(q!==0&&H!==null){var a=H,c=et;switch(q){case 8:Ym(),i=6;break e;case 3:case 2:case 9:case 6:ut.current===null&&(e=!0);var u=q;if(q=0,et=null,Eo(t,a,c,u),n&&Qo){i=0;break e}break;default:u=q,q=0,et=null,Eo(t,a,c,u)}}z_(),i=fe;break}catch(l){M0(t,l)}while(!0);return e&&t.shellSuspendCounter++,yn=Gr=null,j=r,L.H=o,L.A=s,H===null&&(ee=null,P=0,kc()),i}function z_(){for(;H!==null;)I0(H)}function H_(t,e){var n=j;j|=2;var r=D0(),o=R0();ee!==t||P!==e?(Ac=null,gc=ot()+500,Ho(t,e)):Qo=Ci(t,e);e:do try{if(q!==0&&H!==null){e=H;var s=et;t:switch(q){case 1:q=0,et=null,Eo(t,e,s,1);break;case 2:case 9:if(Ty(s)){q=0,et=null,Xy(e);break}e=function(){q!==2&&q!==9||ee!==t||(q=7),Kt(t)},s.then(e,e);break e;case 3:q=7;break e;case 4:q=5;break e;case 7:Ty(s)?(q=0,et=null,Xy(e)):(q=0,et=null,Eo(t,e,s,7));break;case 5:var i=null;switch(H.tag){case 26:i=H.memoizedState;case 5:case 27:var a=H;if(i?Z0(i):a.stateNode.complete){q=0,et=null;var c=a.sibling;if(c!==null)H=c;else{var u=a.return;u!==null?(H=u,Pc(u)):H=null}break t}}q=0,et=null,Eo(t,e,s,5);break;case 6:q=0,et=null,Eo(t,e,s,6);break;case 8:Ym(),fe=6;break e;default:throw Error(C(462))}}P_();break}catch(l){M0(t,l)}while(!0);return yn=Gr=null,L.H=r,L.A=o,j=n,H!==null?0:(ee=null,P=0,kc(),fe)}function P_(){for(;H!==null&&!mv();)I0(H)}function I0(t){var e=i0(t.alternate,t,Bn);t.memoizedProps=t.pendingProps,e===null?Pc(t):H=e}function Xy(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Ny(n,e,e.pendingProps,e.type,void 0,P);break;case 11:e=Ny(n,e,e.pendingProps,e.type.render,e.ref,P);break;case 5:Im(e);default:a0(n,e),e=H=ag(e,Bn),e=i0(n,e,Bn)}t.memoizedProps=t.pendingProps,e===null?Pc(t):H=e}function Eo(t,e,n,r){yn=Gr=null,Im(e),Do=null,gi=0;var o=e.return;try{if(D_(t,o,e,n,P)){fe=1,pc(t,_t(n,t.current)),H=null;return}}catch(s){if(o!==null)throw H=o,s;fe=1,pc(t,_t(n,t.current)),H=null;return}e.flags&32768?(K||r===1?t=!0:Qo||(P&536870912)!==0?t=!1:(zn=t=!0,(r===2||r===9||r===3||r===6)&&(r=ut.current,r!==null&&r.tag===13&&(r.flags|=16384))),k0(e,t)):Pc(e)}function Pc(t){var e=t;do{if((e.flags&32768)!==0){k0(e,zn);return}t=e.return;var n=k_(e.alternate,e,Bn);if(n!==null){H=n;return}if(e=e.sibling,e!==null){H=e;return}H=e=t}while(e!==null);fe===0&&(fe=5)}function k0(t,e){do{var n=O_(t.alternate,t);if(n!==null){n.flags&=32767,H=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){H=t;return}H=t=n}while(t!==null);fe=6,H=null}function Yy(t,e,n,r,o,s,i,a,c){t.cancelPendingCommit=null;do Kc();while(ve!==0);if((j&6)!==0)throw Error(C(327));if(e!==null){if(e===t.current)throw Error(C(177));if(s=e.lanes|e.childLanes,s|=Am,_v(t,n,s,i,a,c),t===ee&&(H=ee=null,P=0),zo=e,Qn=t,An=n,Xf=s,Yf=o,E0=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,X_(oc,function(){return F0(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=L.T,L.T=null,o=X.p,X.p=2,i=j,j|=4;try{G_(t,e,n)}finally{j=i,X.p=o,L.T=r}}ve=1,O0(),G0(),U0()}}function O0(){if(ve===1){ve=0;var t=Qn,e=zo,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=L.T,L.T=null;var r=X.p;X.p=2;var o=j;j|=4;try{g0(e,t);var s=Zf,i=Zx(t.containerInfo),a=s.focusedElem,c=s.selectionRange;if(i!==a&&a&&a.ownerDocument&&$x(a.ownerDocument.documentElement,a)){if(c!==null&&gm(a)){var u=c.start,l=c.end;if(l===void 0&&(l=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(l,a.value.length);else{var f=a.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var d=m.getSelection(),b=a.textContent.length,E=Math.min(c.start,b),S=c.end===void 0?E:Math.min(c.end,b);!d.extend&&E>S&&(i=S,S=E,E=i);var g=yy(a,E),x=yy(a,S);if(g&&x&&(d.rangeCount!==1||d.anchorNode!==g.node||d.anchorOffset!==g.offset||d.focusNode!==x.node||d.focusOffset!==x.offset)){var y=f.createRange();y.setStart(g.node,g.offset),d.removeAllRanges(),E>S?(d.addRange(y),d.extend(x.node,x.offset)):(y.setEnd(x.node,x.offset),d.addRange(y))}}}}for(f=[],d=a;d=d.parentNode;)d.nodeType===1&&f.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<f.length;a++){var A=f[a];A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}Cc=!!$f,Zf=$f=null}finally{j=o,X.p=r,L.T=n}}t.current=e,ve=2}}function G0(){if(ve===2){ve=0;var t=Qn,e=zo,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=L.T,L.T=null;var r=X.p;X.p=2;var o=j;j|=4;try{d0(t,e.alternate,e)}finally{j=o,X.p=r,L.T=n}}ve=3}}function U0(){if(ve===4||ve===3){ve=0,dv();var t=Qn,e=zo,n=An,r=E0;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?ve=5:(ve=0,zo=Qn=null,L0(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(Yn=null),fm(n),e=e.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Si,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=L.T,o=X.p,X.p=2,L.T=null;try{for(var s=t.onRecoverableError,i=0;i<r.length;i++){var a=r[i];s(a.value,{componentStack:a.stack})}}finally{L.T=e,X.p=o}}(An&3)!==0&&Kc(),Kt(t),o=t.pendingLanes,(n&261930)!==0&&(o&42)!==0?t===Qf?li++:(li=0,Qf=t):li=0,Oi(0,!1)}}function L0(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ri(e)))}function Kc(){return O0(),G0(),U0(),F0()}function F0(){if(ve!==5)return!1;var t=Qn,e=Xf;Xf=0;var n=fm(An),r=L.T,o=X.p;try{X.p=32>n?32:n,L.T=null,n=Yf,Yf=null;var s=Qn,i=An;if(ve=0,zo=Qn=null,An=0,(j&6)!==0)throw Error(C(331));var a=j;if(j|=4,T0(s.current),b0(s,s.current,i,n),j=a,Oi(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Si,s)}catch{}return!0}finally{X.p=o,L.T=r,L0(t,e)}}function Qy(t,e,n){e=_t(n,e),e=Hf(t.stateNode,e,2),t=Xn(t,e,2),t!==null&&(Mi(t,2),Kt(t))}function W(t,e,n){if(t.tag===3)Qy(t,t,n);else for(;e!==null;){if(e.tag===3){Qy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yn===null||!Yn.has(r))){t=_t(n,t),n=e0(2),r=Xn(e,n,2),r!==null&&(t0(n,r,e,t),Mi(r,2),Kt(r));break}}e=e.return}}function sf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new F_;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(jm=!0,o.add(n),t=K_.bind(null,t,e,n),e.then(t,t))}function K_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ee===t&&(P&n)===n&&(fe===4||fe===3&&(P&62914560)===P&&300>ot()-zc?(j&2)===0&&Ho(t,0):Xm|=n,No===P&&(No=0)),Kt(t)}function N0(t,e){e===0&&(e=Dx()),t=Or(t,e),t!==null&&(Mi(t,e),Kt(t))}function J_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),N0(t,n)}function j_(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(C(314))}r!==null&&r.delete(e),N0(t,n)}function X_(t,e){return um(t,e)}var vc=null,ho=null,qf=!1,_c=!1,af=!1,Pn=0;function Kt(t){t!==ho&&t.next===null&&(ho===null?vc=ho=t:ho=ho.next=t),_c=!0,qf||(qf=!0,Q_())}function Oi(t,e){if(!af&&_c){af=!0;do for(var n=!1,r=vc;r!==null;){if(!e)if(t!==0){var o=r.pendingLanes;if(o===0)var s=0;else{var i=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-it(42|t)+1)-1,s&=o&~(i&~a),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,qy(r,s))}else s=P,s=Vc(r,r===ee?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(s&3)===0||Ci(r,s)||(n=!0,qy(r,s));r=r.next}while(n);af=!1}}function Y_(){z0()}function z0(){_c=qf=!1;var t=0;Pn!==0&&r3()&&(t=Pn);for(var e=ot(),n=null,r=vc;r!==null;){var o=r.next,s=H0(r,e);s===0?(r.next=null,n===null?vc=o:n.next=o,o===null&&(ho=n)):(n=r,(t!==0||(s&3)!==0)&&(_c=!0)),r=o}ve!==0&&ve!==5||Oi(t,!1),Pn!==0&&(Pn=0)}function H0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var i=31-it(s),a=1<<i,c=o[i];c===-1?((a&n)===0||(a&r)!==0)&&(o[i]=vv(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}if(e=ee,n=P,n=Vc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(q===2||q===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Ol(r),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||Ci(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Ol(r),fm(n)){case 2:case 8:n=Mx;break;case 32:n=oc;break;case 268435456:n=Vx;break;default:n=oc}return r=P0.bind(null,t),n=um(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Ol(r),t.callbackPriority=2,t.callbackNode=null,2}function P0(t,e){if(ve!==0&&ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Kc()&&t.callbackNode!==n)return null;var r=P;return r=Vc(t,t===ee?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(C0(t,r,e),H0(t,ot()),t.callbackNode!=null&&t.callbackNode===n?P0.bind(null,t):null)}function qy(t,e){if(Kc())return null;C0(t,e,!0)}function Q_(){s3(function(){(j&6)!==0?um(Cx,Y_):z0()})}function Qm(){if(Pn===0){var t=Uo;t===0&&(t=Ta,Ta<<=1,(Ta&261888)===0&&(Ta=256)),Pn=t}return Pn}function Wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:za(""+t)}function $y(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function q_(t,e,n,r,o){if(e==="submit"&&n&&n.stateNode===o){var s=Wy((o[qe]||null).action),i=r.submitter;i&&(e=(e=i[qe]||null)?Wy(e.formAction):i.getAttribute("formAction"),e!==null&&(s=e,i=null));var a=new Dc("action","action",null,r,o);t.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Pn!==0){var c=i?$y(o,i):new FormData(o);Nf(n,{pending:!0,data:c,method:o.method,action:s},null,c)}}else typeof s=="function"&&(a.preventDefault(),c=i?$y(o,i):new FormData(o),Nf(n,{pending:!0,data:c,method:o.method,action:s},s,c))},currentTarget:o}]})}}for(Oa=0;Oa<Cf.length;Oa++)Ga=Cf[Oa],Zy=Ga.toLowerCase(),ex=Ga[0].toUpperCase()+Ga.slice(1),kt(Zy,"on"+ex);var Ga,Zy,ex,Oa;kt(tg,"onAnimationEnd");kt(ng,"onAnimationIteration");kt(rg,"onAnimationStart");kt("dblclick","onDoubleClick");kt("focusin","onFocus");kt("focusout","onBlur");kt(h_,"onTransitionRun");kt(p_,"onTransitionStart");kt(y_,"onTransitionCancel");kt(og,"onTransitionEnd");Oo("onMouseEnter",["mouseout","mouseover"]);Oo("onMouseLeave",["mouseout","mouseover"]);Oo("onPointerEnter",["pointerout","pointerover"]);Oo("onPointerLeave",["pointerout","pointerover"]);Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vi));function K0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&o.isPropagationStopped())break e;s=a,o.currentTarget=u;try{s(o)}catch(l){ic(l)}o.currentTarget=null,s=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&o.isPropagationStopped())break e;s=a,o.currentTarget=u;try{s(o)}catch(l){ic(l)}o.currentTarget=null,s=c}}}}function z(t,e){var n=e[bf];n===void 0&&(n=e[bf]=new Set);var r=t+"__bubble";n.has(r)||(J0(e,t,2,!1),n.add(r))}function cf(t,e,n){var r=0;e&&(r|=4),J0(n,t,r,e)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function qm(t){if(!t[Ua]){t[Ua]=!0,Gx.forEach(function(n){n!=="selectionchange"&&(W_.has(n)||cf(n,!1,t),cf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ua]||(e[Ua]=!0,cf("selectionchange",!1,e))}}function J0(t,e,n,r){switch(o1(e)){case 2:var o=w3;break;case 8:o=E3;break;default:o=ed}n=o.bind(null,e,n,t),o=void 0,!wf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function uf(t,e,n,r,o){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&i.stateNode.containerInfo===o)return;i=i.return}for(;a!==null;){if(i=xo(a),i===null)return;if(c=i.tag,c===5||c===6||c===26||c===27){r=s=i;continue e}a=a.parentNode}}r=r.return}Kx(function(){var u=s,l=hm(n),f=[];e:{var m=sg.get(t);if(m!==void 0){var d=Dc,b=t;switch(t){case"keypress":if(Pa(n)===0)break e;case"keydown":case"keyup":d=jv;break;case"focusin":b="focus",d=Nl;break;case"focusout":b="blur",d=Nl;break;case"beforeblur":case"afterblur":d=Nl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=ay;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=kv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Qv;break;case tg:case ng:case rg:d=Uv;break;case og:d=Wv;break;case"scroll":case"scrollend":d=Rv;break;case"wheel":d=Zv;break;case"copy":case"cut":case"paste":d=Fv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=uy;break;case"toggle":case"beforetoggle":d=t_}var E=(e&4)!==0,S=!E&&(t==="scroll"||t==="scrollend"),g=E?m!==null?m+"Capture":null:m;E=[];for(var x=u,y;x!==null;){var A=x;if(y=A.stateNode,A=A.tag,A!==5&&A!==26&&A!==27||y===null||g===null||(A=di(x,g),A!=null&&E.push(_i(x,A,y))),S)break;x=x.return}0<E.length&&(m=new d(m,b,null,n,l),f.push({event:m,listeners:E}))}}if((e&7)===0){e:{if(m=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",m&&n!==Bf&&(b=n.relatedTarget||n.fromElement)&&(xo(b)||b[Jo]))break e;if((d||m)&&(m=l.window===l?l:(m=l.ownerDocument)?m.defaultView||m.parentWindow:window,d?(b=n.relatedTarget||n.toElement,d=u,b=b?xo(b):null,b!==null&&(S=Ei(b),E=b.tag,b!==S||E!==5&&E!==27&&E!==6)&&(b=null)):(d=null,b=u),d!==b)){if(E=ay,A="onMouseLeave",g="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(E=uy,A="onPointerLeave",g="onPointerEnter",x="pointer"),S=d==null?m:qs(d),y=b==null?m:qs(b),m=new E(A,x+"leave",d,n,l),m.target=S,m.relatedTarget=y,A=null,xo(l)===u&&(E=new E(g,x+"enter",b,n,l),E.target=y,E.relatedTarget=S,A=E),S=A,d&&b)t:{for(E=$_,g=d,x=b,y=0,A=g;A;A=E(A))y++;A=0;for(var V=x;V;V=E(V))A++;for(;0<y-A;)g=E(g),y--;for(;0<A-y;)x=E(x),A--;for(;y--;){if(g===x||x!==null&&g===x.alternate){E=g;break t}g=E(g),x=E(x)}E=null}else E=null;d!==null&&tx(f,m,d,E,!1),b!==null&&S!==null&&tx(f,S,b,E,!0)}}e:{if(m=u?qs(u):window,d=m.nodeName&&m.nodeName.toLowerCase(),d==="select"||d==="input"&&m.type==="file")var I=dy;else if(my(m))if(qx)I=f_;else{I=u_;var D=c_}else d=m.nodeName,!d||d.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&dm(u.elementType)&&(I=dy):I=l_;if(I&&(I=I(t,u))){Qx(f,I,n,l);break e}D&&D(t,m,u),t==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&Tf(m,"number",m.value)}switch(D=u?qs(u):window,t){case"focusin":(my(D)||D.contentEditable==="true")&&(bo=D,Ef=u,ti=null);break;case"focusout":ti=Ef=bo=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,xy(f,n,l);break;case"selectionchange":if(d_)break;case"keydown":case"keyup":xy(f,n,l)}var k;if(xm)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Ao?Xx(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(jx&&n.locale!=="ko"&&(Ao||O!=="onCompositionStart"?O==="onCompositionEnd"&&Ao&&(k=Jx()):(Nn=l,pm="value"in Nn?Nn.value:Nn.textContent,Ao=!0)),D=Tc(u,O),0<D.length&&(O=new cy(O,t,null,n,l),f.push({event:O,listeners:D}),k?O.data=k:(k=Yx(n),k!==null&&(O.data=k)))),(k=r_?o_(t,n):s_(t,n))&&(O=Tc(u,"onBeforeInput"),0<O.length&&(D=new cy("onBeforeInput","beforeinput",null,n,l),f.push({event:D,listeners:O}),D.data=k)),q_(f,t,u,n,l)}K0(f,e)})}function _i(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tc(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,s=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||s===null||(o=di(t,n),o!=null&&r.unshift(_i(t,o,s)),o=di(t,e),o!=null&&r.push(_i(t,o,s))),t.tag===3)return r;t=t.return}return[]}function $_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tx(t,e,n,r,o){for(var s=e._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(a=a.tag,c!==null&&c===r)break;a!==5&&a!==26&&a!==27||u===null||(c=u,o?(u=di(n,s),u!=null&&i.unshift(_i(n,u,c))):o||(u=di(n,s),u!=null&&i.push(_i(n,u,c)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var Z_=/\r\n?/g,e3=/\u0000|\uFFFD/g;function nx(t){return(typeof t=="string"?t:""+t).replace(Z_,`
`).replace(e3,"")}function j0(t,e){return e=nx(e),nx(t)===e}function $(t,e,n,r,o,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Go(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Go(t,""+r);break;case"className":Ea(t,"class",r);break;case"tabIndex":Ea(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ea(t,n,r);break;case"style":Px(t,r,s);break;case"data":if(e!=="object"){Ea(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=za(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&$(t,e,"name",o.name,o,null),$(t,e,"formEncType",o.formEncType,o,null),$(t,e,"formMethod",o.formMethod,o,null),$(t,e,"formTarget",o.formTarget,o,null)):($(t,e,"encType",o.encType,o,null),$(t,e,"method",o.method,o,null),$(t,e,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=za(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=pn);break;case"onScroll":r!=null&&z("scroll",t);break;case"onScrollEnd":r!=null&&z("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(C(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(C(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=za(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":z("beforetoggle",t),z("toggle",t),Na(t,"popover",r);break;case"xlinkActuate":an(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":an(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":an(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":an(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":an(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":an(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":an(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":an(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":an(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Na(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Vv.get(n)||n,Na(t,n,r))}}function Wf(t,e,n,r,o,s){switch(n){case"style":Px(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(C(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(C(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Go(t,r):(typeof r=="number"||typeof r=="bigint")&&Go(t,""+r);break;case"onScroll":r!=null&&z("scroll",t);break;case"onScrollEnd":r!=null&&z("scrollend",t);break;case"onClick":r!=null&&(t.onclick=pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ux.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),e=n.slice(2,o?n.length-7:void 0),s=t[qe]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,o),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,o);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Na(t,n,r)}}}function Re(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":z("error",t),z("load",t);var r=!1,o=!1,s;for(s in n)if(n.hasOwnProperty(s)){var i=n[s];if(i!=null)switch(s){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(C(137,e));default:$(t,e,s,i,n,null)}}o&&$(t,e,"srcSet",n.srcSet,n,null),r&&$(t,e,"src",n.src,n,null);return;case"input":z("invalid",t);var a=s=i=o=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var l=n[r];if(l!=null)switch(r){case"name":o=l;break;case"type":i=l;break;case"checked":c=l;break;case"defaultChecked":u=l;break;case"value":s=l;break;case"defaultValue":a=l;break;case"children":case"dangerouslySetInnerHTML":if(l!=null)throw Error(C(137,e));break;default:$(t,e,r,l,n,null)}}Nx(t,s,a,c,u,i,o,!1);return;case"select":z("invalid",t),r=i=s=null;for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"value":s=a;break;case"defaultValue":i=a;break;case"multiple":r=a;default:$(t,e,o,a,n,null)}e=s,n=i,t.multiple=!!r,e!=null?Co(t,!!r,e,!1):n!=null&&Co(t,!!r,n,!0);return;case"textarea":z("invalid",t),s=o=r=null;for(i in n)if(n.hasOwnProperty(i)&&(a=n[i],a!=null))switch(i){case"value":r=a;break;case"defaultValue":o=a;break;case"children":s=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(C(91));break;default:$(t,e,i,a,n,null)}Hx(t,r,o,s);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:$(t,e,c,r,n,null)}return;case"dialog":z("beforetoggle",t),z("toggle",t),z("cancel",t),z("close",t);break;case"iframe":case"object":z("load",t);break;case"video":case"audio":for(r=0;r<vi.length;r++)z(vi[r],t);break;case"image":z("error",t),z("load",t);break;case"details":z("toggle",t);break;case"embed":case"source":case"link":z("error",t),z("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(C(137,e));default:$(t,e,u,r,n,null)}return;default:if(dm(e)){for(l in n)n.hasOwnProperty(l)&&(r=n[l],r!==void 0&&Wf(t,e,l,r,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(r=n[a],r!=null&&$(t,e,a,r,n,null))}function t3(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,s=null,i=null,a=null,c=null,u=null,l=null;for(d in n){var f=n[d];if(n.hasOwnProperty(d)&&f!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(d)||$(t,e,d,null,r,f)}}for(var m in r){var d=r[m];if(f=n[m],r.hasOwnProperty(m)&&(d!=null||f!=null))switch(m){case"type":s=d;break;case"name":o=d;break;case"checked":u=d;break;case"defaultChecked":l=d;break;case"value":i=d;break;case"defaultValue":a=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(C(137,e));break;default:d!==f&&$(t,e,m,d,r,f)}}_f(t,i,a,c,u,l,s,o);return;case"select":d=i=a=m=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":d=c;default:r.hasOwnProperty(s)||$(t,e,s,null,r,c)}for(o in r)if(s=r[o],c=n[o],r.hasOwnProperty(o)&&(s!=null||c!=null))switch(o){case"value":m=s;break;case"defaultValue":a=s;break;case"multiple":i=s;default:s!==c&&$(t,e,o,s,r,c)}e=a,n=i,r=d,m!=null?Co(t,!!n,m,!1):!!r!=!!n&&(e!=null?Co(t,!!n,e,!0):Co(t,!!n,n?[]:"",!1));return;case"textarea":d=m=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null&&!r.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:$(t,e,a,null,r,o)}for(i in r)if(o=r[i],s=n[i],r.hasOwnProperty(i)&&(o!=null||s!=null))switch(i){case"value":m=o;break;case"defaultValue":d=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(C(91));break;default:o!==s&&$(t,e,i,o,r,s)}zx(t,m,d);return;case"option":for(var b in n)if(m=n[b],n.hasOwnProperty(b)&&m!=null&&!r.hasOwnProperty(b))switch(b){case"selected":t.selected=!1;break;default:$(t,e,b,null,r,m)}for(c in r)if(m=r[c],d=n[c],r.hasOwnProperty(c)&&m!==d&&(m!=null||d!=null))switch(c){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:$(t,e,c,m,r,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)m=n[E],n.hasOwnProperty(E)&&m!=null&&!r.hasOwnProperty(E)&&$(t,e,E,null,r,m);for(u in r)if(m=r[u],d=n[u],r.hasOwnProperty(u)&&m!==d&&(m!=null||d!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(C(137,e));break;default:$(t,e,u,m,r,d)}return;default:if(dm(e)){for(var S in n)m=n[S],n.hasOwnProperty(S)&&m!==void 0&&!r.hasOwnProperty(S)&&Wf(t,e,S,void 0,r,m);for(l in r)m=r[l],d=n[l],!r.hasOwnProperty(l)||m===d||m===void 0&&d===void 0||Wf(t,e,l,m,r,d);return}}for(var g in n)m=n[g],n.hasOwnProperty(g)&&m!=null&&!r.hasOwnProperty(g)&&$(t,e,g,null,r,m);for(f in r)m=r[f],d=n[f],!r.hasOwnProperty(f)||m===d||m==null&&d==null||$(t,e,f,m,r,d)}function rx(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function n3(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],s=o.transferSize,i=o.initiatorType,a=o.duration;if(s&&a&&rx(i)){for(i=0,a=o.responseEnd,r+=1;r<n.length;r++){var c=n[r],u=c.startTime;if(u>a)break;var l=c.transferSize,f=c.initiatorType;l&&rx(f)&&(c=c.responseEnd,i+=l*(c<a?1:(a-u)/(c-u)))}if(--r,e+=8*(s+i)/(o.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $f=null,Zf=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function ox(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X0(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function em(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lf=null;function r3(){var t=window.event;return t&&t.type==="popstate"?t===lf?!1:(lf=t,!0):(lf=null,!1)}var Y0=typeof setTimeout=="function"?setTimeout:void 0,o3=typeof clearTimeout=="function"?clearTimeout:void 0,sx=typeof Promise=="function"?Promise:void 0,s3=typeof queueMicrotask=="function"?queueMicrotask:typeof sx<"u"?function(t){return sx.resolve(null).then(t).catch(i3)}:Y0;function i3(t){setTimeout(function(){throw t})}function or(t){return t==="head"}function ix(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(o),Ko(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")fi(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,fi(n);for(var s=n.firstChild;s;){var i=s.nextSibling,a=s.nodeName;s[Vi]||a==="SCRIPT"||a==="STYLE"||a==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=i}}else n==="body"&&fi(t.ownerDocument.body);n=o}while(n);Ko(e)}function ax(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function tm(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":tm(n),mm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function a3(t,e,n,r){for(;t.nodeType===1;){var o=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Vi])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=wt(t.nextSibling),t===null)break}return null}function c3(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=wt(t.nextSibling),t===null))return null;return t}function Q0(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=wt(t.nextSibling),t===null))return null;return t}function nm(t){return t.data==="$?"||t.data==="$~"}function rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function u3(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function wt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var om=null;function cx(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return wt(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function ux(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function q0(t,e,n){switch(e=Bc(n),t){case"html":if(t=e.documentElement,!t)throw Error(C(452));return t;case"head":if(t=e.head,!t)throw Error(C(453));return t;case"body":if(t=e.body,!t)throw Error(C(454));return t;default:throw Error(C(451))}}function fi(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);mm(t)}var Et=new Map,lx=new Set;function wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var wn=X.d;X.d={f:l3,r:f3,D:m3,C:d3,L:h3,m:p3,X:x3,S:y3,M:g3};function l3(){var t=wn.f(),e=Hc();return t||e}function f3(t){var e=jo(t);e!==null&&e.tag===5&&e.type==="form"?Pg(e):wn.r(t)}var qo=typeof document>"u"?null:document;function W0(t,e,n){var r=qo;if(r&&typeof e=="string"&&e){var o=vt(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),lx.has(o)||(lx.add(o),t={rel:t,crossOrigin:n,href:e},r.querySelector(o)===null&&(e=r.createElement("link"),Re(e,"link",t),we(e),r.head.appendChild(e)))}}function m3(t){wn.D(t),W0("dns-prefetch",t,null)}function d3(t,e){wn.C(t,e),W0("preconnect",t,e)}function h3(t,e,n){wn.L(t,e,n);var r=qo;if(r&&t&&e){var o='link[rel="preload"][as="'+vt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+vt(n.imageSizes)+'"]')):o+='[href="'+vt(t)+'"]';var s=o;switch(e){case"style":s=Po(t);break;case"script":s=Wo(t)}Et.has(s)||(t=ie({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Et.set(s,t),r.querySelector(o)!==null||e==="style"&&r.querySelector(Gi(s))||e==="script"&&r.querySelector(Ui(s))||(e=r.createElement("link"),Re(e,"link",t),we(e),r.head.appendChild(e)))}}function p3(t,e){wn.m(t,e);var n=qo;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(t)+'"]',s=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Wo(t)}if(!Et.has(s)&&(t=ie({rel:"modulepreload",href:t},e),Et.set(s,t),n.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ui(s)))return}r=n.createElement("link"),Re(r,"link",t),we(r),n.head.appendChild(r)}}}function y3(t,e,n){wn.S(t,e,n);var r=qo;if(r&&t){var o=So(r).hoistableStyles,s=Po(t);e=e||"default";var i=o.get(s);if(!i){var a={loading:0,preload:null};if(i=r.querySelector(Gi(s)))a.loading=5;else{t=ie({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Et.get(s))&&Wm(t,n);var c=i=r.createElement("link");we(c),Re(c,"link",t),c._p=new Promise(function(u,l){c.onload=u,c.onerror=l}),c.addEventListener("load",function(){a.loading|=1}),c.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Wa(i,e,r)}i={type:"stylesheet",instance:i,count:1,state:a},o.set(s,i)}}}function x3(t,e){wn.X(t,e);var n=qo;if(n&&t){var r=So(n).hoistableScripts,o=Wo(t),s=r.get(o);s||(s=n.querySelector(Ui(o)),s||(t=ie({src:t,async:!0},e),(e=Et.get(o))&&$m(t,e),s=n.createElement("script"),we(s),Re(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(o,s))}}function g3(t,e){wn.M(t,e);var n=qo;if(n&&t){var r=So(n).hoistableScripts,o=Wo(t),s=r.get(o);s||(s=n.querySelector(Ui(o)),s||(t=ie({src:t,async:!0,type:"module"},e),(e=Et.get(o))&&$m(t,e),s=n.createElement("script"),we(s),Re(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(o,s))}}function fx(t,e,n,r){var o=(o=Kn.current)?wc(o):null;if(!o)throw Error(C(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Po(n.href),n=So(o).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Po(n.href);var s=So(o).hoistableStyles,i=s.get(t);if(i||(o=o.ownerDocument||o,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,i),(s=o.querySelector(Gi(t)))&&!s._p&&(i.instance=s,i.state.loading=5),Et.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Et.set(t,n),s||A3(o,t,n,i.state))),e&&r===null)throw Error(C(528,""));return i}if(e&&r!==null)throw Error(C(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Wo(n),n=So(o).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(C(444,t))}}function Po(t){return'href="'+vt(t)+'"'}function Gi(t){return'link[rel="stylesheet"]['+t+"]"}function $0(t){return ie({},t,{"data-precedence":t.precedence,precedence:null})}function A3(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Re(e,"link",n),we(e),t.head.appendChild(e))}function Wo(t){return'[src="'+vt(t)+'"]'}function Ui(t){return"script[async]"+t}function mx(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return e.instance=r,we(r),r;var o=ie({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),we(r),Re(r,"style",o),Wa(r,n.precedence,t),e.instance=r;case"stylesheet":o=Po(n.href);var s=t.querySelector(Gi(o));if(s)return e.state.loading|=4,e.instance=s,we(s),s;r=$0(n),(o=Et.get(o))&&Wm(r,o),s=(t.ownerDocument||t).createElement("link"),we(s);var i=s;return i._p=new Promise(function(a,c){i.onload=a,i.onerror=c}),Re(s,"link",r),e.state.loading|=4,Wa(s,n.precedence,t),e.instance=s;case"script":return s=Wo(n.src),(o=t.querySelector(Ui(s)))?(e.instance=o,we(o),o):(r=n,(o=Et.get(s))&&(r=ie({},n),$m(r,o)),t=t.ownerDocument||t,o=t.createElement("script"),we(o),Re(o,"link",r),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(C(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,Wa(r,n.precedence,t));return e.instance}function Wa(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,s=o,i=0;i<r.length;i++){var a=r[i];if(a.dataset.precedence===e)s=a;else if(s!==o)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Wm(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function $m(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var $a=null;function dx(t,e,n){if($a===null){var r=new Map,o=$a=new Map;o.set(n,r)}else o=$a,r=o.get(n),r||(r=new Map,o.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),o=0;o<n.length;o++){var s=n[o];if(!(s[Vi]||s[Me]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var i=s.getAttribute(e)||"";i=t+i;var a=r.get(i);a?a.push(s):r.set(i,[s])}}return r}function hx(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function b3(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Z0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function v3(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Po(r.href),s=e.querySelector(Gi(o));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Ec.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,we(s);return}s=e.ownerDocument||e,r=$0(r),(o=Et.get(o))&&Wm(r,o),s=s.createElement("link"),we(s);var i=s;i._p=new Promise(function(a,c){i.onload=a,i.onerror=c}),Re(s,"link",r),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=Ec.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var ff=0;function _3(t,e){return t.stylesheets&&t.count===0&&Za(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Za(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&ff===0&&(ff=62500*n3());var o=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Za(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>ff?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Za(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sc=null;function Za(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sc=new Map,e.forEach(T3,t),Sc=null,Ec.call(t))}function T3(t,e){if(!(e.state.loading&4)){var n=Sc.get(t);if(n)var r=n.get(null);else{n=new Map,Sc.set(t,n);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<o.length;s++){var i=o[s];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}o=e.instance,i=o.getAttribute("data-precedence"),s=n.get(i)||r,s===r&&n.set(null,o),n.set(i,o),this.count++,r=Ec.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),s?s.parentNode.insertBefore(o,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var Ti={$$typeof:hn,Provider:null,Consumer:null,_currentValue:_r,_currentValue2:_r,_threadCount:0};function B3(t,e,n,r,o,s,i,a,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.hiddenUpdates=Gl(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function e1(t,e,n,r,o,s,i,a,c,u,l,f){return t=new B3(t,e,n,i,c,u,l,f,a),e=1,s===!0&&(e|=24),s=nt(3,null,null,e),t.current=s,s.stateNode=t,e=Bm(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},Sm(s),t}function t1(t){return t?(t=To,t):To}function n1(t,e,n,r,o,s){o=t1(o),r.context===null?r.context=o:r.pendingContext=o,r=jn(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=Xn(t,r,e),n!==null&&(Qe(n,t,e),ri(n,t,e))}function px(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zm(t,e){px(t,e),(t=t.alternate)&&px(t,e)}function r1(t){if(t.tag===13||t.tag===31){var e=Or(t,67108864);e!==null&&Qe(e,t,67108864),Zm(t,67108864)}}function yx(t){if(t.tag===13||t.tag===31){var e=at();e=lm(e);var n=Or(t,e);n!==null&&Qe(n,t,e),Zm(t,e)}}var Cc=!0;function w3(t,e,n,r){var o=L.T;L.T=null;var s=X.p;try{X.p=2,ed(t,e,n,r)}finally{X.p=s,L.T=o}}function E3(t,e,n,r){var o=L.T;L.T=null;var s=X.p;try{X.p=8,ed(t,e,n,r)}finally{X.p=s,L.T=o}}function ed(t,e,n,r){if(Cc){var o=sm(r);if(o===null)uf(t,e,r,Mc,n),xx(t,r);else if(C3(o,t,e,n,r))r.stopPropagation();else if(xx(t,r),e&4&&-1<S3.indexOf(t)){for(;o!==null;){var s=jo(o);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var i=Ar(s.pendingLanes);if(i!==0){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;i;){var c=1<<31-it(i);a.entanglements[1]|=c,i&=~c}Kt(s),(j&6)===0&&(gc=ot()+500,Oi(0,!1))}}break;case 31:case 13:a=Or(s,2),a!==null&&Qe(a,s,2),Hc(),Zm(s,2)}if(s=sm(r),s===null&&uf(t,e,r,Mc,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else uf(t,e,r,null,n)}}function sm(t){return t=hm(t),td(t)}var Mc=null;function td(t){if(Mc=null,t=xo(t),t!==null){var e=Ei(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Tx(e),t!==null)return t;t=null}else if(n===31){if(t=Bx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Mc=t,null}function o1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hv()){case Cx:return 2;case Mx:return 8;case oc:case pv:return 32;case Vx:return 268435456;default:return 32}default:return 32}}var im=!1,qn=null,Wn=null,$n=null,Bi=new Map,wi=new Map,Ln=[],S3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xx(t,e){switch(t){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Bi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(e.pointerId)}}function js(t,e,n,r,o,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},e!==null&&(e=jo(e),e!==null&&r1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function C3(t,e,n,r,o){switch(e){case"focusin":return qn=js(qn,t,e,n,r,o),!0;case"dragenter":return Wn=js(Wn,t,e,n,r,o),!0;case"mouseover":return $n=js($n,t,e,n,r,o),!0;case"pointerover":var s=o.pointerId;return Bi.set(s,js(Bi.get(s)||null,t,e,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,wi.set(s,js(wi.get(s)||null,t,e,n,r,o)),!0}return!1}function s1(t){var e=xo(t.target);if(e!==null){var n=Ei(e);if(n!==null){if(e=n.tag,e===13){if(e=Tx(n),e!==null){t.blockedOn=e,ey(t.priority,function(){yx(n)});return}}else if(e===31){if(e=Bx(n),e!==null){t.blockedOn=e,ey(t.priority,function(){yx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sm(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bf=r,n.target.dispatchEvent(r),Bf=null}else return e=jo(n),e!==null&&r1(e),t.blockedOn=n,!1;e.shift()}return!0}function gx(t,e,n){ec(t)&&n.delete(e)}function M3(){im=!1,qn!==null&&ec(qn)&&(qn=null),Wn!==null&&ec(Wn)&&(Wn=null),$n!==null&&ec($n)&&($n=null),Bi.forEach(gx),wi.forEach(gx)}function La(t,e){t.blockedOn===e&&(t.blockedOn=null,im||(im=!0,_e.unstable_scheduleCallback(_e.unstable_NormalPriority,M3)))}var Fa=null;function Ax(t){Fa!==t&&(Fa=t,_e.unstable_scheduleCallback(_e.unstable_NormalPriority,function(){Fa===t&&(Fa=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],o=t[e+2];if(typeof r!="function"){if(td(r||n)===null)continue;break}var s=jo(n);s!==null&&(t.splice(e,3),e-=3,Nf(s,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Ko(t){function e(c){return La(c,t)}qn!==null&&La(qn,t),Wn!==null&&La(Wn,t),$n!==null&&La($n,t),Bi.forEach(e),wi.forEach(e);for(var n=0;n<Ln.length;n++){var r=Ln[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ln.length&&(n=Ln[0],n.blockedOn===null);)s1(n),n.blockedOn===null&&Ln.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var o=n[r],s=n[r+1],i=o[qe]||null;if(typeof s=="function")i||Ax(n);else if(i){var a=null;if(s&&s.hasAttribute("formAction")){if(o=s,i=s[qe]||null)a=i.formAction;else if(td(o)!==null)continue}else a=i.action;typeof a=="function"?n[r+1]=a:(n.splice(r,3),r-=3),Ax(n)}}}function i1(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(i){return o=i})},focusReset:"manual",scroll:"manual"})}function e(){o!==null&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),o!==null&&(o(),o=null)}}}function nd(t){this._internalRoot=t}Jc.prototype.render=nd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));var n=e.current,r=at();n1(n,r,t,e,null,null)};Jc.prototype.unmount=nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;n1(t.current,2,null,t,null,null),Hc(),e[Jo]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ox();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ln.length&&e!==0&&e<Ln[n].priority;n++);Ln.splice(n,0,t),n===0&&s1(t)}};var bx=vx.version;if(bx!=="19.2.0")throw Error(C(527,bx,"19.2.0"));X.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=av(e),t=t!==null?wx(t):null,t=t===null?null:t.stateNode,t};var V3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Xs=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Xs.isDisabled&&Xs.supportsFiber))try{Si=Xs.inject(V3),st=Xs}catch{}var Xs;jc.createRoot=function(t,e){if(!_x(t))throw Error(C(299));var n=!1,r="",o=Wg,s=$g,i=Zg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=e1(t,1,!1,null,null,n,r,null,o,s,i,i1),t[Jo]=e.current,qm(t),new nd(e)};jc.hydrateRoot=function(t,e,n){if(!_x(t))throw Error(C(299));var r=!1,o="",s=Wg,i=$g,a=Zg,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(i=n.onCaughtError),n.onRecoverableError!==void 0&&(a=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=e1(t,1,!0,e,n??null,r,o,c,s,i,a,i1),e.context=t1(null),n=e.current,r=at(),r=lm(r),o=jn(r),o.callback=null,Xn(n,o,r),n=r,e.current.lanes=n,Mi(e,n),Kt(e),t[Jo]=e.current,qm(t),new Jc(e)};jc.version="19.2.0"});var l1=Ut((QC,u1)=>{"use strict";function c1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c1)}catch(t){console.error(t)}}c1(),u1.exports=a1()});function ap(t,e){let n=new Map;for(let r of t){let o=e(r),s=n.get(o)??[];s.push(r),n.set(o,s)}return n}function tn(t){let e=[];for(let n=0;n<t&&n<1e7;n++)e.push(n);return e}function da(t){return t}function no(t,e,n){return n||(n=()=>Math.random()),n()*(e-t)+t}function cp(t,e){return t.length===0?[e]:t[0].map(n=>cp(t.slice(1),[...e,n])).flat(1)}function ha(...t){return cp(t,[])}function tS(t){return Object.fromEntries(Array.from(ap(t,e=>e.name).entries()).map(([e,n])=>{let r=n.reduce((s,i)=>s+i.runtime,0)/n.length,o=n.length;return[e,{totalRuntime:r,invocationCount:o,averageRuntime:r/o,worstCaseRuntime:n.reduce((s,i)=>Math.max(s,i.runtime),0),bestCaseRuntime:n.reduce((s,i)=>Math.min(s,i.runtime),0)}]}))}function hb(t){return t instanceof Promise?t:Promise.resolve(t)}function pb(t,e,n,r){let o=e??navigator.hardwareConcurrency,s=[],i=[],a=0;for(let f=0;f<o;f++)i.push(new Worker(t));function c(){let f=a;return a=(a+1)%o,f}let u=0;function l(f,m,d){let b=i[d],E=n?.[f],S=performance.now();if((E?.runMode?.(m)??"worker")==="main"){if(!r)throw new Error("If a threadpool method is to run in the main thread, its interface should be provided to the main thread!");let y=r[f](...m);return s.push(hb(y).then(A=>({name:f,inputSize:E?.estimateInputSize?.(m)??1,runtime:performance.now()-S,metadata:E?.getRuntimeMetadata?.(m,A),thread:{type:"main"}}))),y}let x=new Promise(async(y,A)=>{let V=u;u++;let I=async k=>{if(k.data.id!==V)return;b.removeEventListener("message",I);let O=n?.[f]?.parseRetVal??(G=>G);y(await O(k.data.returnValue))};b.addEventListener("message",I);let D=n?.[f]?.serializeArgs??(k=>k);b.postMessage({type:f,args:await D(m),id:V},n?.[f]?.transferArgs?.(m)??[])});return s.push(x.then(y=>({name:f,inputSize:E?.estimateInputSize?.(m)??1,runtime:performance.now()-S,metadata:E?.getRuntimeMetadata?.(m,y),thread:{type:"worker",workerId:d}}))),x}return{threadCount:o,getCurrentPerformanceRecords(){return Promise.all(s)},send:new Proxy({},{get(f,m){return async(...d)=>{let b=c();return l(m,d,b)}}}),sendToThread:f=>new Proxy({},{get(m,d){return async(...b)=>l(d,b,f)}}),broadcast:new Proxy({},{get(f,m){return async(...d)=>await Promise.all(i.map((b,E)=>l(m,d,E)))}})}}function yb(t,e){self.addEventListener("message",async n=>{let o=await(e?.[n.data.type]?.parseArgs??da)(n.data.args),s=await t[n.data.type](...o),i=e?.[n.data.type]?.serializeRetVal??da;postMessage({returnValue:await i(s),id:n.data.id},e?.[n.data.type]?.transferRetVal?.(s)??[])})}function nS(getInterface,src,workerCount,serialization){if(eval("self.WorkerGlobalScope")){yb(getInterface(!1),serialization);return}else return pb(src??document.currentScript.src,workerCount,serialization,getInterface(!0))}async function rS(cb){if(!eval("self.WorkerGlobalScope"))return await cb()}function up(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lp(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3]]}function nn(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]}function hl(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]}function xb(t,e){return[t[0]*e[0],t[1]*e[1],t[2]*e[2]]}function gb(t){return t[0]+t[1]+t[2]}function fp(t,e){return gb(xb(t,e))}function ro(t,e){return[t[0]*e,t[1]*e,t[2]*e]}var AS=Symbol("allKeys");var bS=Symbol("all2");var Sb=en(dp()),Cb=en(pp());function Db(t,e){if(e)return e;if(t==="f32"||t==="i32"||t==="u32"||t==="f16")return t;if(t.startsWith("vec")||t.startsWith("mat")){if(t.endsWith("i"))return"i32";if(t.endsWith("u"))return"u32";if(t.endsWith("h"))return"f16"}return"f32"}function Rb(t){return t.startsWith("vec2")?2:t.startsWith("vec3")?3:t.startsWith("vec4")?4:t.startsWith("mat2x3")||t.startsWith("mat3x2")?6:t.startsWith("mat2x4")||t.startsWith("mat4x2")?8:t.startsWith("mat3x4")||t.startsWith("mat4x3")?12:t.startsWith("mat2")?4:t.startsWith("mat3")?9:t.startsWith("mat4")?16:1}function Ib(t,e,n,r,o){let s=Db(t,e),i=Rb(t),a={i32:4,f32:4,u32:4,f16:2}[s],c={i32:"setInt32",f32:"setFloat32",u32:"setUint32",f16:"setFloat16"}[s];for(let u=0;u<i;u++)n[c](r+a*u,o[u],!0)}function pl(t,e,n,r){if(t.members){for(let s of t.members)pl(s.type,e[s.name],n,r+s.offset);return}if(t.name==="array")for(let s=0;s<t.count;s++)pl(t.format,e[s],n,r+t.stride*s);else Ib(t.name,t.format?.name,n,r,Array.isArray(e)?e:[e])}function kb(t,e){let n=new ArrayBuffer(t.size),r=new DataView(n);return pl(t,e,r,0),n}function oo(t,e,n,r){return kb(t.bindGroups[e][n].type,r)}function Lb(t){let e=Math.hypot(...t);return ro(t,1/e)}function yl(t,e,n){return e=Lb(e),hl(hl(ro(t,Math.cos(n)),ro(up(e,t),Math.sin(n))),ro(e,fp(e,t)*(1-Math.cos(n))))}function gp(t,e){return[...yl([1,0,0],t,e),0,...yl([0,1,0],t,e),0,...yl([0,0,1],t,e),0,0,0,0,1]}function Ap(t){return[t[0],0,0,0,0,t[1],0,0,0,0,t[2],0,0,0,0,1]}function rn(t){return[1,0,0,0,0,1,0,0,0,0,1,0,...t,1]}var tv=en(on());var Rp=en(on());var ya=en(on());var xa=en(on());var rd=en(on()),D3=en(l1());var od=en(on());async function f1(t){let e=new Map,n=new Map;for(let o of t)for(let s of o.tags)e.set(s,(e.get(s)??new Set).add(o));function r(o){if(n.has(o))return;let s=(async()=>{let i=[];for(let a of o.waitFor)for(let c of e.get(a)??new Set)i.push(r(c));return await Promise.all(i),await o.task()})();return n.set(o,s),s}for(let o of t)r(o);return await Promise.all([...n.values()])}async function m1(t){let e={};async function n(s){e[s.brand]||(e[s.brand]=(async()=>({componentTemplate:s,instances:new Set,state:await s.init(async i=>(await n(i),(await e[i.brand]).state))}))())}for(let s of t)n(s);let r=Object.fromEntries(await Promise.all(Object.entries(e).map(async([s,i])=>[s,await i])));async function o(s){let i={},a=[];async function c(u){i[u.brand]||(i[u.brand]=u[s]?.({state:r[u.brand].state,instances:r[u.brand].instances,subsystem(l){return r[l.brand]},scheduleTask(l,f,m){a.push({task:l,tags:f??[],waitFor:m??[]})}})??Promise.resolve(),await i[u.brand])}await Promise.all(Object.values(r).map(async u=>await c(u.componentTemplate))),await f1(a)}return{subsystem(s){return{instances:r[s.brand].instances,global:r[s.brand].state}},async renderUpdate(){await o("renderUpdate")},async fixedUpdate(){await o("fixedUpdate")},entity(s){let i={};function a(c,u){if(i[c])return;let l=r[c].componentTemplate.create(u,r[c],r,f=>(a(f.brand,s[f.brand]),i[f.brand]));r[c].instances.add({data:l,entity:i}),i[c]=l}for(let[c,u]of Object.entries(s))a(c,u);return{component(c){return i[c.brand]},destroy(){for(let[c,u]of Object.entries(i))r[c]?.instances.delete(u)}}}}}var sd=`struct DOFFragInput {\r
  @builtin(position) position : vec4f,\r
  @location(0) uv : vec2f,\r
}\r
\r
@group(0) @binding(0) var tex_sampler : sampler;\r
@group(0) @binding(1) var tex_color : texture_2d<f32>;\r
@group(0) @binding(2) var tex_position : texture_2d<f32>;\r
@group(0) @binding(3) var tex_linear_sampler : sampler;\r
\r
@vertex\r
fn VSMain(@builtin(vertex_index) vertexIndex: u32) -> DOFFragInput {\r
  var output: DOFFragInput;\r
\r
  output.position = vec4(array(\r
    vec2( 1.0,  1.0),\r
    vec2( 1.0, -1.0),\r
    vec2(-1.0, -1.0),\r
    vec2( 1.0,  1.0),\r
    vec2(-1.0, -1.0),\r
    vec2(-1.0,  1.0),\r
  )[vertexIndex], 0.5, 1.0);\r
\r
  output.uv = array(\r
    vec2(1.0, 0.0),\r
    vec2(1.0, 1.0),\r
    vec2(0.0, 1.0),\r
    vec2(1.0, 0.0),\r
    vec2(0.0, 1.0),\r
    vec2(0.0, 0.0),\r
  )[vertexIndex];\r
  return output;\r
}\r
\r
\r
fn get_individual_defocus_amount(dist: f32) -> f32 {\r
  return max(abs(dist - 10.0) / dist * 35.0 - 00.0, 0.01); \r
}\r
\r
fn get_defocus_amount(dists: vec2f) -> f32 {\r
  return max(\r
    get_individual_defocus_amount(dists.x),\r
    get_individual_defocus_amount(dists.y)\r
  );  \r
}\r
\r
fn logistic(x: f32) -> f32 {\r
  return 1.0 / (1.0 + exp(-x)); \r
}\r
\r
fn blur(uv: vec2f, size: f32) -> vec4f {\r
  let dims = vec2f(textureDimensions(tex_color, 0));\r
  var accum = vec4f(0.0);\r
  let mip_level = log2(f32(size)) * 1.0;\r
  var factor = 0.0;\r
  for (var i = 0; i < i32(floor(size)) + 1; i += 1) {\r
    let offset = OFFSET_LUT[i];\r
    let uv2 = uv + offset.xy / dims * 1.0;\r
    let pos = textureSampleLevel(tex_position, tex_sampler, uv2, 0.0);\r
    let f = \r
    select(\r
      0.0,\r
      clamp(size - offset.z, 0.0, 1.0),\r
      pos.y < 23 && pos.y > 17 \r
    );\r
    accum += textureSampleLevel(tex_color, tex_linear_sampler, uv2, 0.0) \r
      * f;\r
    factor += f;\r
  }\r
  return accum / factor;\r
}\r
\r
@fragment\r
fn FSMain(@location(0) uv:  vec2f) -> @location(0) vec4f {\r
  _ = tex_sampler;\r
  _ = tex_color;\r
  _ = tex_position;\r
\r
  let dims = vec2f(textureDimensions(tex_color, 0));\r
\r
  let pos = textureSampleLevel(tex_position, tex_linear_sampler, uv, 0.0);\r
  let center_color = textureSampleLevel(tex_color, tex_linear_sampler, uv, 0.0);\r
\r
  var factor = 0.0;\r
\r
  var accum = vec4f(0.0);\r
\r
  for (var i = 0; i < 30; i += 1) {\r
    let offset = OFFSET_LUT[i];\r
    let uv2 = uv + offset.xy / dims * 1.0;\r
    let pos_mip_level = min(log2(offset.z), 2.0);\r
    let pos2 = textureSampleLevel(tex_position, tex_linear_sampler, uv2, pos_mip_level);\r
\r
    let defocus = min(get_defocus_amount(pos2.xy), 30.0);\r
\r
    let mip_level = min(log2(defocus), 2.0);\r
    let f = (offset.z + 1.0)\r
      * logistic(defocus - offset.z)\r
      * select(0.0, 1.0, pos.y >= pos2.y);\r
      // * logistic(pos.y - pos2.y);\r
    accum += textureSampleLevel(tex_color, tex_linear_sampler, uv2, mip_level) \r
      * f;\r
    factor += f;\r
  }\r
\r
  return vec4f(\r
    accum.rgb / factor,\r
    1.0\r
  );\r
}\r
\r
/*\r
\`array(\r
	\${new Array(100).fill(0).map((e,i) => {\r
		const factor = i;\r
		const angle = factor * 2.399963;\r
		const x = factor * Math.cos(angle);\r
		const y = factor * Math.sin(angle);\r
		const dist = Math.hypot(x, y);\r
		return \`vec3f(\${x}, \${y}, \${dist})\`\r
	}).join(",\\n  ")}\r
)\`\r
*/\r
\r
const OFFSET_LUT = array(\r
	vec3f(0, 0, 0),\r
  vec3f(-0.7373687228988248, 0.6754904636562651, 1),\r
  vec3f(0.17485053403777584, -1.9923421620662212, 2),\r
  vec3f(1.8253182237516365, 2.3808009958919643, 3),\r
  vec3f(-3.938854581493409, -0.6967241820465114, 4),\r
  vec3f(4.218773391513887, -2.6836451089990305, 5),\r
  vec3f(-1.5576178427202265, 5.7942925932368645, 6),\r
  vec3f(-3.2263591627336985, -6.2121338164147994, 7),\r
  vec3f(7.5145754141516194, 2.7442952364911495, 8),\r
  vec3f(-8.319102905212844, 3.4340248765084995, 9),\r
  vec3f(4.238439143156467, -9.057352462489195, 10),\r
  vec3f(3.2921490319425093, 10.495797004109788, 11),\r
  vec3f(-10.382551104026392, -6.016862352778261, 12),\r
  vec3f(12.696776720811991, -2.791390496123163, 13),\r
  vec3f(-8.051775173168176, 11.452899919267285, 14),\r
  vec3f(-1.9277116073219824, -14.875615212790228, 15),\r
  vec3f(12.234421827485994, 10.311106756654898, 16),\r
  vec3f(-16.985480174838475, 0.702469380235959, 17),\r
  vec3f(12.758876954453681, -12.696891700771129, 18),\r
  vec3f(-0.8775546293360044, 18.979723334983863, 19),\r
  vec3f(-12.81425345190363, -15.355614884151525, 20),\r
  vec3f(20.81247117658233, 2.800186337358594, 21),\r
  vec3f(-18.058819909629094, 12.564991980561862, 22),\r
  vec3f(5.047952929355901, -22.43921057486219, 23),\r
  vec3f(11.932455809239883, 20.823460287870923, 24),\r
  vec3f(-23.81736306863295, -7.598237720479611, 25),\r
  vec3f(23.60250433789332, -10.905126729191508, 26),\r
  vec3f(-10.423494730711166, 24.906841582160443, 27),\r
  vec3f(-9.476833303072167, -26.347478637353184, 28),\r
  vec3f(25.670583567542433, 13.491521015134673, 29)\r
);`;var d1=`@group(0) @binding(0) \r
var tex_color_in : texture_storage_2d<rgba8unorm, read>;\r
@group(0) @binding(1) \r
var tex_depth_in : texture_storage_2d<rg32float, read>;\r
@group(0) @binding(2) \r
var tex_color_out : texture_storage_2d<rgba8unorm, write>;\r
@group(0) @binding(3) \r
var tex_depth_out : texture_storage_2d<rg32float, write>;\r
\r
@compute @workgroup_size(8, 8)\r
fn ComputeMain(\r
  @builtin(global_invocation_id) id : vec3<u32>\r
) {\r
  let i1 = id.xy * 2;\r
  let i2 = i1 + vec2u(1, 0);\r
  let i3 = i1 + vec2u(0, 1);\r
  let i4 = i1 + vec2u(1, 1);\r
\r
  let d1 = textureLoad(tex_depth_in, i1);\r
  let d2 = textureLoad(tex_depth_in, i2);\r
  let d3 = textureLoad(tex_depth_in, i3);\r
  let d4 = textureLoad(tex_depth_in, i4);\r
\r
  let c1 = textureLoad(tex_color_in, i1);\r
  let c2 = textureLoad(tex_color_in, i2);\r
  let c3 = textureLoad(tex_color_in, i3);\r
  let c4 = textureLoad(tex_color_in, i4);\r
\r
  let avg_color = (\r
    c1 + c2 + c3 + c4\r
  ) / 4.0;\r
\r
  let min_max_depth = vec4f(\r
    min(\r
      min(d1.x, d2.x),\r
      min(d3.x, d4.x)\r
    ),\r
    max(\r
      max(d1.y, d2.y),\r
      max(d3.y, d4.y)\r
    ),0.0,0.0\r
  );\r
\r
  textureStore(tex_color_out, id.xy, avg_color);\r
  textureStore(tex_depth_out, id.xy, min_max_depth);\r
}\r
`;var h1=`\r
@group(0) @binding(0)\r
var tex_src : texture_storage_2d<rgba32float, read>;\r
@group(0) @binding(1)\r
var tex_dst : texture_storage_2d<rg32float, write>;\r
\r
@compute @workgroup_size(8, 8)\r
fn ComputeMain(\r
  @builtin(global_invocation_id) id : vec3<u32>\r
) {\r
  var src_pixel = textureLoad(tex_src, id.xy);\r
  if (src_pixel.z == 0.0) {\r
    src_pixel.z = 100.0;\r
  }\r
  textureStore(tex_dst, id.xy, src_pixel.zzzz);\r
}`;function p1(t,e){let n=t.createBindGroupLayout({entries:[{binding:0,sampler:{type:"filtering"},visibility:GPUShaderStage.FRAGMENT},{binding:1,texture:{sampleType:"float",viewDimension:"2d"},visibility:GPUShaderStage.FRAGMENT},{binding:2,texture:{sampleType:"float",viewDimension:"2d"},visibility:GPUShaderStage.FRAGMENT},{binding:3,sampler:{type:"filtering"},visibility:GPUShaderStage.FRAGMENT}]}),r=t.createRenderPipeline({layout:t.createPipelineLayout({bindGroupLayouts:[n]}),vertex:{module:t.createShaderModule({code:sd})},fragment:{module:t.createShaderModule({code:sd}),targets:[{format:e}]},primitive:{topology:"triangle-list"}});return{dofBindGroupLayout:n,dofPipeline:r}}function y1(t){return{pipeline:t.createComputePipeline({compute:{module:t.createShaderModule({code:d1})},layout:"auto"})}}function x1(t){return{pipeline:t.createComputePipeline({compute:{module:t.createShaderModule({code:h1})},layout:"auto"})}}var g1=`@group(0) @binding(0)\r
var samp : sampler;\r
@group(0) @binding(1)\r
var tex_src : texture_2d<f32>;\r
\r
/*PASTE_START*/\r
const KERNEL = array(\r
);\r
\r
fn accumulate(acc: vec4f, curr: vec4f, k: vec4f) -> vec4f {\r
  return max(acc, curr); \r
}\r
\r
fn convert(acc: vec4f) -> vec4f {\r
  return acc;\r
}\r
/*PASTE_END*/\r
\r
struct FragInput {\r
  @builtin(position) position : vec4f,\r
  @location(0) uv : vec2f,\r
}\r
\r
@vertex\r
fn VSMain(@builtin(vertex_index) vertexIndex: u32) -> FragInput {\r
  var output: FragInput;\r
\r
  output.position = vec4(array(\r
    vec2( 1.0,  1.0),\r
    vec2( 1.0, -1.0),\r
    vec2(-1.0, -1.0),\r
    vec2( 1.0,  1.0),\r
    vec2(-1.0, -1.0),\r
    vec2(-1.0,  1.0),\r
  )[vertexIndex], 0.5, 1.0);\r
\r
  output.uv = array(\r
    vec2(1.0, 0.0),\r
    vec2(1.0, 1.0),\r
    vec2(0.0, 1.0),\r
    vec2(1.0, 0.0),\r
    vec2(0.0, 1.0),\r
    vec2(0.0, 0.0),\r
  )[vertexIndex];\r
  return output;\r
}\r
\r
@fragment\r
fn FSMain(@location(0) uv : vec2f) -> /*OUT_LOCATION*/@location(0)/*OUT_LOCATION*/ /*OUT_TYPE*/vec4f/*OUT_TYPE*/ {\r
  /*BODY_START*/\r
  var acc = vec4(0.0);\r
  let dims = textureDimensions(tex_src, 0);\r
  for (var i = 0; i < 10; i++) {\r
    let smpl = KERNEL[i];\r
    let uv2 = uv + smpl.xy / dims;\r
    acc = accumulate(acc, uv2, smpl);\r
  }\r
  /*BODY_END*/\r
  return convert(acc);\r
}`;function A1(t,e){return new RegExp(RegExp.escape(t)+"[\\s\\S]*?"+RegExp.escape(e),"g")}function Xc(t,e){for(let n of e)t=t.replaceAll(typeof n.delimiter=="string"?A1(n.delimiter,n.delimiter):A1(n.start,n.end),n.replaceWith);return t}function G3(t){return Xc(g1,[{start:"/*PASTE_START*/",end:"/*PASTE_END*/",replaceWith:t.paste},{start:"/*OUT_LOCATION*/",end:"/*OUT_LOCATION*/",replaceWith:t.outLocation},{start:"/*OUT_TYPE*/",end:"/*OUT_TYPE*/",replaceWith:t.outType},{start:"/*BODY_START*/",end:"/*BODY_END*/",replaceWith:t.body}])}function U3(t){let e=t.outType??"vec4f",n=t.accumulatorType??"vec4f",r=t.kernelType??"vec2f",o=t.extraGlobal??"",s=t.extraInMain??"",i=t.outLocation??"@location(0)";return G3({paste:`${o}const KERNEL = array(
  ${t.kernel.join(`,
  `)}
);

fn accumulate(acc: ${n}, curr: vec4f, k: ${r}) -> ${n} {
  return ${t.accumulate};
}

fn convert(acc: vec4f) -> vec4f {
  return ${t.convert};
}`,outType:e,outLocation:i,body:`${s}  var acc = ${t.initial};
  let dims = vec2f(textureDimensions(tex_src, 0).xy);
  for (var i = 0; i < ${t.kernel.length}; i++) {
    let smpl = KERNEL[i];
    let uv2 = uv + smpl.xy / dims;
    let pixel = textureSample(tex_src, samp, uv2);
    acc = accumulate(acc, pixel, smpl);
  }`})}function Yc(t,e,n){let r=U3(e),o=t.createShaderModule({code:r}),s=t.createRenderPipeline({layout:"auto",vertex:{module:o},fragment:{module:o,targets:[{format:n}]}});return{pipeline:s,drawUsing(i,a,c){i.setPipeline(s),i.setBindGroup(0,t.createBindGroup({layout:s.getBindGroupLayout(0),entries:[{binding:0,resource:a},{binding:1,resource:c}]})),i.draw(6)}}}var $e=class{constructor(e,n){this.name=e,this.attributes=n,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}get isPointer(){return!1}getTypeName(){return this.name}},Qc=class{constructor(e,n,r){this.name=e,this.type=n,this.attributes=r,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}},Jt=class extends $e{constructor(e,n){super(e,n),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}},jt=class extends $e{constructor(e,n){super(e,n),this.count=0,this.stride=0}get isArray(){return!0}getTypeName(){return`array<${this.format.getTypeName()}, ${this.count}>`}},Fi=class extends $e{constructor(e,n,r){super(e,r),this.format=n}get isPointer(){return!0}getTypeName(){return`&${this.format.getTypeName()}`}},Sn=class extends $e{constructor(e,n,r,o){super(e,r),this.format=n,this.access=o}get isTemplate(){return!0}getTypeName(){let e=this.name;if(this.format!==null){if(e==="vec2"||e==="vec3"||e==="vec4"||e==="mat2x2"||e==="mat2x3"||e==="mat2x4"||e==="mat3x2"||e==="mat3x3"||e==="mat3x4"||e==="mat4x2"||e==="mat4x3"||e==="mat4x4"){if(this.format.name==="f32")return e+="f",e;if(this.format.name==="i32")return e+="i",e;if(this.format.name==="u32")return e+="u",e;if(this.format.name==="bool")return e+="b",e;if(this.format.name==="f16")return e+="h",e}e+=`<${this.format.name}>`}else if(e==="vec2"||e==="vec3"||e==="vec4")return e;return e}},sr;(t=>{t[t.Uniform=0]="Uniform",t[t.Storage=1]="Storage",t[t.Texture=2]="Texture",t[t.Sampler=3]="Sampler",t[t.StorageTexture=4]="StorageTexture"})(sr||(sr={}));var $o=class{constructor(e,n,r,o,s,i,a){this.name=e,this.type=n,this.group=r,this.binding=o,this.attributes=s,this.resourceType=i,this.access=a}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}},cd=class{constructor(e,n){this.name=e,this.type=n}},ud=class{constructor(e,n,r,o){this.name=e,this.type=n,this.locationType=r,this.location=o,this.interpolation=null}},qc=class{constructor(e,n,r,o){this.name=e,this.type=n,this.locationType=r,this.location=o}},ld=class{constructor(e,n,r,o){this.name=e,this.type=n,this.attributes=r,this.id=o}},fd=class{constructor(e,n,r){this.name=e,this.type=n,this.attributes=r}},md=class{constructor(e,n=null,r){this.stage=null,this.inputs=[],this.outputs=[],this.arguments=[],this.returnType=null,this.resources=[],this.overrides=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=e,this.stage=n,this.attributes=r}},dd=class{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}};function L3(t){var e=(32768&t)>>15,n=(31744&t)>>10,r=1023&t;return n==0?(e?-1:1)*Math.pow(2,-14)*(r/Math.pow(2,10)):n==31?r?NaN:1/0*(e?-1:1):(e?-1:1)*Math.pow(2,n-15)*(1+r/Math.pow(2,10))}var _1=new Float32Array(1),F3=new Int32Array(_1.buffer),Ge=new Uint16Array(1);function N3(t){_1[0]=t;let e=F3[0],n=e>>31&1,r=e>>23&255,o=8388607&e;if(r===255)return Ge[0]=n<<15|31744|(o!==0?512:0),Ge[0];if(r===0){if(o===0)return Ge[0]=n<<15,Ge[0];o|=8388608;let s=113;for(;!(8388608&o);)o<<=1,s--;return r=127-s,o&=8388607,r>0?(o=(o>>126-r)+(o>>127-r&1),Ge[0]=n<<15|r<<10|o>>13,Ge[0]):(Ge[0]=n<<15,Ge[0])}return r=r-127+15,r>=31?(Ge[0]=n<<15|31744,Ge[0]):r<=0?r<-10?(Ge[0]=n<<15,Ge[0]):(o=(8388608|o)>>1-r,Ge[0]=n<<15|o>>13,Ge[0]):(o>>=13,Ge[0]=n<<15|r<<10|o,Ge[0])}var Cd=new Uint32Array(1),T1=new Float32Array(Cd.buffer,0,1);function b1(t){let e=112+(t>>6&31)<<23|(63&t)<<17;return Cd[0]=e,T1[0]}function z3(t,e,n,r,o,s,i,a,c){let u=r*(i>>=o)*(s>>=o)+n*i+e*a;switch(c){case"r8unorm":return[Y(t,u,"8unorm",1)[0]];case"r8snorm":return[Y(t,u,"8snorm",1)[0]];case"r8uint":return[Y(t,u,"8uint",1)[0]];case"r8sint":return[Y(t,u,"8sint",1)[0]];case"rg8unorm":{let l=Y(t,u,"8unorm",2);return[l[0],l[1]]}case"rg8snorm":{let l=Y(t,u,"8snorm",2);return[l[0],l[1]]}case"rg8uint":{let l=Y(t,u,"8uint",2);return[l[0],l[1]]}case"rg8sint":{let l=Y(t,u,"8sint",2);return[l[0],l[1]]}case"rgba8unorm-srgb":case"rgba8unorm":{let l=Y(t,u,"8unorm",4);return[l[0],l[1],l[2],l[3]]}case"rgba8snorm":{let l=Y(t,u,"8snorm",4);return[l[0],l[1],l[2],l[3]]}case"rgba8uint":{let l=Y(t,u,"8uint",4);return[l[0],l[1],l[2],l[3]]}case"rgba8sint":{let l=Y(t,u,"8sint",4);return[l[0],l[1],l[2],l[3]]}case"bgra8unorm-srgb":case"bgra8unorm":{let l=Y(t,u,"8unorm",4);return[l[2],l[1],l[0],l[3]]}case"r16uint":return[Y(t,u,"16uint",1)[0]];case"r16sint":return[Y(t,u,"16sint",1)[0]];case"r16float":return[Y(t,u,"16float",1)[0]];case"rg16uint":{let l=Y(t,u,"16uint",2);return[l[0],l[1]]}case"rg16sint":{let l=Y(t,u,"16sint",2);return[l[0],l[1]]}case"rg16float":{let l=Y(t,u,"16float",2);return[l[0],l[1]]}case"rgba16uint":{let l=Y(t,u,"16uint",4);return[l[0],l[1],l[2],l[3]]}case"rgba16sint":{let l=Y(t,u,"16sint",4);return[l[0],l[1],l[2],l[3]]}case"rgba16float":{let l=Y(t,u,"16float",4);return[l[0],l[1],l[2],l[3]]}case"r32uint":return[Y(t,u,"32uint",1)[0]];case"r32sint":return[Y(t,u,"32sint",1)[0]];case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return[Y(t,u,"32float",1)[0]];case"rg32uint":{let l=Y(t,u,"32uint",2);return[l[0],l[1]]}case"rg32sint":{let l=Y(t,u,"32sint",2);return[l[0],l[1]]}case"rg32float":{let l=Y(t,u,"32float",2);return[l[0],l[1]]}case"rgba32uint":{let l=Y(t,u,"32uint",4);return[l[0],l[1],l[2],l[3]]}case"rgba32sint":{let l=Y(t,u,"32sint",4);return[l[0],l[1],l[2],l[3]]}case"rgba32float":{let l=Y(t,u,"32float",4);return[l[0],l[1],l[2],l[3]]}case"rg11b10ufloat":{let l=new Uint32Array(t.buffer,u,1)[0],f=(4192256&l)>>11,m=(4290772992&l)>>22;return[b1(2047&l),b1(f),(function(d){let b=112+(d>>5&31)<<23|(31&d)<<18;return Cd[0]=b,T1[0]})(m),1]}}return null}function Y(t,e,n,r){let o=[0,0,0,0];for(let s=0;s<r;++s)switch(n){case"8unorm":o[s]=t[e]/255,e++;break;case"8snorm":o[s]=t[e]/255*2-1,e++;break;case"8uint":o[s]=t[e],e++;break;case"8sint":o[s]=t[e]-127,e++;break;case"16uint":o[s]=t[e]|t[e+1]<<8,e+=2;break;case"16sint":o[s]=(t[e]|t[e+1]<<8)-32768,e+=2;break;case"16float":o[s]=L3(t[e]|t[e+1]<<8),e+=2;break;case"32uint":case"32sint":o[s]=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24,e+=4;break;case"32float":o[s]=new Float32Array(t.buffer,e,1)[0],e+=4}return o}function Q(t,e,n,r,o){for(let s=0;s<r;++s)switch(n){case"8unorm":t[e]=255*o[s],e++;break;case"8snorm":t[e]=.5*(o[s]+1)*255,e++;break;case"8uint":t[e]=o[s],e++;break;case"8sint":t[e]=o[s]+127,e++;break;case"16uint":new Uint16Array(t.buffer,e,1)[0]=o[s],e+=2;break;case"16sint":new Int16Array(t.buffer,e,1)[0]=o[s],e+=2;break;case"16float":{let i=N3(o[s]);new Uint16Array(t.buffer,e,1)[0]=i,e+=2;break}case"32uint":new Uint32Array(t.buffer,e,1)[0]=o[s],e+=4;break;case"32sint":new Int32Array(t.buffer,e,1)[0]=o[s],e+=4;break;case"32float":new Float32Array(t.buffer,e,1)[0]=o[s],e+=4}return o}var id={r8unorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8snorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8uint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8sint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg8unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8snorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"rgba8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8snorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},bgra8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bgra8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r16uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16float:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg16uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba16uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r32uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg32uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba32uint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32sint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32float:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rg11b10ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},stencil8:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!1,hasStencil:!0,channels:1},depth16unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},depth24plus:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,depthOnlyFormat:"depth32float",channels:1},"depth24plus-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,depthOnlyFormat:"depth32float",channels:1},depth32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},"depth32float-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,stencilOnlyFormat:"depth32float",channels:1},rgb9e5ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bc1-rgba-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc1-rgba-unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc4-r-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc4-r-snorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc5-rg-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc5-rg-snorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc6h-rgb-ufloat":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc6h-rgb-float":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"eac-r11unorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-r11snorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-rg11unorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"eac-rg11snorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"astc-4x4-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-4x4-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x5-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-5x5-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x6-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-6x6-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-8x5-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x5-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x6-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x6-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x8-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-8x8-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-10x5-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x5-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x6-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x6-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x8-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x8-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x10-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-10x10-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x12-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4},"astc-12x12-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4}},Ct=class t{constructor(){this.id=t._id++,this.line=0}get isAstNode(){return!0}get astNodeType(){return""}search(e){e(this)}searchBlock(e,n){if(e){n(ss.instance);for(let r of e)r instanceof Array?this.searchBlock(r,n):r.search(n);n(is.instance)}}constEvaluate(e,n){throw new Error("Cannot evaluate node")}constEvaluateString(e){return this.constEvaluate(e).toString()}};Ct._id=0;var ss=class extends Ct{};ss.instance=new ss;var is=class extends Ct{};is.instance=new is;var B1=new Set(["all","all","any","select","arrayLength","abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","clamp","cos","cosh","countLeadingZeros","countOneBits","countTrailingZeros","cross","degrees","determinant","distance","dot","dot4U8Packed","dot4I8Packed","exp","exp2","extractBits","faceForward","firstLeadingBit","firstTrailingBit","floor","fma","fract","frexp","insertBits","inverseSqrt","ldexp","length","log","log2","max","min","mix","modf","normalize","pow","quantizeToF16","radians","reflect","refract","reverseBits","round","saturate","sign","sin","sinh","smoothStep","sqrt","step","tan","tanh","transpose","trunc","dpdx","dpdxCoarse","dpdxFine","dpdy","dpdyCoarse","dpdyFine","fwidth","fwidthCoarse","fwidthFine","textureDimensions","textureGather","textureGatherCompare","textureLoad","textureNumLayers","textureNumLevels","textureNumSamples","textureSample","textureSampleBias","textureSampleCompare","textureSampleCompareLevel","textureSampleGrad","textureSampleLevel","textureSampleBaseClampToEdge","textureStore","atomicLoad","atomicStore","atomicAdd","atomicSub","atomicMax","atomicMin","atomicAnd","atomicOr","atomicXor","atomicExchange","atomicCompareExchangeWeak","pack4x8snorm","pack4x8unorm","pack4xI8","pack4xU8","pack4x8Clamp","pack4xU8Clamp","pack2x16snorm","pack2x16unorm","pack2x16float","unpack4x8snorm","unpack4x8unorm","unpack4xI8","unpack4xU8","unpack2x16snorm","unpack2x16unorm","unpack2x16float","storageBarrier","textureBarrier","workgroupBarrier","workgroupUniformLoad","subgroupAdd","subgroupExclusiveAdd","subgroupInclusiveAdd","subgroupAll","subgroupAnd","subgroupAny","subgroupBallot","subgroupBroadcast","subgroupBroadcastFirst","subgroupElect","subgroupMax","subgroupMin","subgroupMul","subgroupExclusiveMul","subgroupInclusiveMul","subgroupOr","subgroupShuffle","subgroupShuffleDown","subgroupShuffleUp","subgroupShuffleXor","subgroupXor","quadBroadcast","quadSwapDiagonal","quadSwapX","quadSwapY"]),ne=class extends Ct{constructor(){super()}},zr=class extends ne{constructor(e,n,r,o,s,i){super(),this.calls=new Set,this.name=e,this.args=n,this.returnType=r,this.body=o,this.startLine=s,this.endLine=i}get astNodeType(){return"function"}search(e){if(this.attributes)for(let n of this.attributes)e(n);e(this);for(let n of this.args)e(n);this.searchBlock(this.body,e)}},hd=class extends ne{constructor(e){super(),this.expression=e}get astNodeType(){return"staticAssert"}search(e){this.expression.search(e)}},Wc=class extends ne{constructor(e,n){super(),this.condition=e,this.body=n}get astNodeType(){return"while"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}},Ni=class extends ne{constructor(e,n){super(),this.body=e,this.loopId=n}get astNodeType(){return"continuing"}search(e){this.searchBlock(this.body,e)}},$c=class extends ne{constructor(e,n,r,o){super(),this.init=e,this.condition=n,this.increment=r,this.body=o}get astNodeType(){return"for"}search(e){var n,r,o;(n=this.init)===null||n===void 0||n.search(e),(r=this.condition)===null||r===void 0||r.search(e),(o=this.increment)===null||o===void 0||o.search(e),this.searchBlock(this.body,e)}},Gt=class extends ne{constructor(e,n,r,o,s){super(),this.attributes=null,this.name=e,this.type=n,this.storage=r,this.access=o,this.value=s}get astNodeType(){return"var"}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}},zi=class extends ne{constructor(e,n,r){super(),this.attributes=null,this.name=e,this.type=n,this.value=r}get astNodeType(){return"override"}search(e){var n;(n=this.value)===null||n===void 0||n.search(e)}},Lr=class extends ne{constructor(e,n,r,o,s){super(),this.attributes=null,this.name=e,this.type=n,this.storage=r,this.access=o,this.value=s}get astNodeType(){return"let"}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}},ts=class extends ne{constructor(e,n,r,o,s){super(),this.attributes=null,this.name=e,this.type=n,this.storage=r,this.access=o,this.value=s}get astNodeType(){return"const"}constEvaluate(e,n){return this.value.constEvaluate(e,n)}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}},Zo,Li,w,_;(t=>{t.increment="++",t.decrement="--"})(Zo||(Zo={})),(t=>{t.parse=function(e){let n=e;if(n=="parse")throw new Error("Invalid value for IncrementOperator");return t[n]}})(Zo||(Zo={}));var Zc=class extends ne{constructor(e,n){super(),this.operator=e,this.variable=n}get astNodeType(){return"increment"}search(e){this.variable.search(e)}};(t=>{t.assign="=",t.addAssign="+=",t.subtractAssin="-=",t.multiplyAssign="*=",t.divideAssign="/=",t.moduloAssign="%=",t.andAssign="&=",t.orAssign="|=",t.xorAssign="^=",t.shiftLeftAssign="<<=",t.shiftRightAssign=">>="})(Li||(Li={})),(t=>{t.parse=function(e){let n=e;if(n=="parse")throw new Error("Invalid value for AssignOperator");return n}})(Li||(Li={}));var eu=class extends ne{constructor(e,n,r){super(),this.operator=e,this.variable=n,this.value=r}get astNodeType(){return"assign"}search(e){this.variable.search(e),this.value.search(e)}},Hi=class extends ne{constructor(e,n){super(),this.name=e,this.args=n}get astNodeType(){return"call"}isBuiltin(){return B1.has(this.name)}search(e){for(let n of this.args)n.search(e);e(this)}},tu=class extends ne{constructor(e,n){super(),this.body=e,this.continuing=n}get astNodeType(){return"loop"}search(e){var n;this.searchBlock(this.body,e),(n=this.continuing)===null||n===void 0||n.search(e)}},nu=class extends ne{constructor(e,n){super(),this.condition=e,this.cases=n}get astNodeType(){return"switch"}search(e){e(this);for(let n of this.cases)n.search(e)}},ru=class extends ne{constructor(e,n,r,o){super(),this.condition=e,this.body=n,this.elseif=r,this.else=o}get astNodeType(){return"if"}search(e){this.condition.search(e),this.searchBlock(this.body,e),this.searchBlock(this.elseif,e),this.searchBlock(this.else,e)}},ou=class extends ne{constructor(e){super(),this.value=e}get astNodeType(){return"return"}search(e){var n;(n=this.value)===null||n===void 0||n.search(e)}},pd=class extends ne{constructor(e){super(),this.name=e}get astNodeType(){return"enable"}},yd=class extends ne{constructor(e){super(),this.extensions=e}get astNodeType(){return"requires"}},su=class extends ne{constructor(e,n){super(),this.severity=e,this.rule=n}get astNodeType(){return"diagnostic"}},Pi=class extends ne{constructor(e,n){super(),this.name=e,this.type=n}get astNodeType(){return"alias"}},xd=class extends ne{constructor(){super()}get astNodeType(){return"discard"}},iu=class extends ne{constructor(){super(),this.condition=null,this.loopId=-1}get astNodeType(){return"break"}},au=class extends ne{constructor(){super(),this.loopId=-1}get astNodeType(){return"continue"}},M=class t extends ne{constructor(e){super(),this.attributes=null,this.name=e}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}static maxFormatType(e){let n=e[0];if(n.name==="f32")return n;for(let r=1;r<e.length;++r){let o=t._priority.get(n.name);t._priority.get(e[r].name)<o&&(n=e[r])}return n.name==="x32"?t.i32:n}getTypeName(){return this.name}};M.x32=new M("x32"),M.f32=new M("f32"),M.i32=new M("i32"),M.u32=new M("u32"),M.f16=new M("f16"),M.bool=new M("bool"),M.void=new M("void"),M._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);var cu=class extends M{constructor(e){super(e)}},Ot=class extends M{constructor(e,n,r,o){super(e),this.members=n,this.startLine=r,this.endLine=o}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(e){for(let n=0;n<this.members.length;n++)if(this.members[n].name==e)return n;return-1}search(e){for(let n of this.members)e(n)}},B=class extends M{constructor(e,n,r){super(e),this.format=n,this.access=r}get astNodeType(){return"template"}getTypeName(){let e=this.name;if(this.format!==null){if(e==="vec2"||e==="vec3"||e==="vec4"||e==="mat2x2"||e==="mat2x3"||e==="mat2x4"||e==="mat3x2"||e==="mat3x3"||e==="mat3x4"||e==="mat4x2"||e==="mat4x3"||e==="mat4x4"){if(this.format.name==="f32")return e+="f",e;if(this.format.name==="i32")return e+="i",e;if(this.format.name==="u32")return e+="u",e;if(this.format.name==="bool")return e+="b",e;if(this.format.name==="f16")return e+="h",e}e+=`<${this.format.name}>`}else if(e==="vec2"||e==="vec3"||e==="vec4")return e;return e}};B.vec2f=new B("vec2",M.f32,null),B.vec3f=new B("vec3",M.f32,null),B.vec4f=new B("vec4",M.f32,null),B.vec2i=new B("vec2",M.i32,null),B.vec3i=new B("vec3",M.i32,null),B.vec4i=new B("vec4",M.i32,null),B.vec2u=new B("vec2",M.u32,null),B.vec3u=new B("vec3",M.u32,null),B.vec4u=new B("vec4",M.u32,null),B.vec2h=new B("vec2",M.f16,null),B.vec3h=new B("vec3",M.f16,null),B.vec4h=new B("vec4",M.f16,null),B.vec2b=new B("vec2",M.bool,null),B.vec3b=new B("vec3",M.bool,null),B.vec4b=new B("vec4",M.bool,null),B.mat2x2f=new B("mat2x2",M.f32,null),B.mat2x3f=new B("mat2x3",M.f32,null),B.mat2x4f=new B("mat2x4",M.f32,null),B.mat3x2f=new B("mat3x2",M.f32,null),B.mat3x3f=new B("mat3x3",M.f32,null),B.mat3x4f=new B("mat3x4",M.f32,null),B.mat4x2f=new B("mat4x2",M.f32,null),B.mat4x3f=new B("mat4x3",M.f32,null),B.mat4x4f=new B("mat4x4",M.f32,null),B.mat2x2h=new B("mat2x2",M.f16,null),B.mat2x3h=new B("mat2x3",M.f16,null),B.mat2x4h=new B("mat2x4",M.f16,null),B.mat3x2h=new B("mat3x2",M.f16,null),B.mat3x3h=new B("mat3x3",M.f16,null),B.mat3x4h=new B("mat3x4",M.f16,null),B.mat4x2h=new B("mat4x2",M.f16,null),B.mat4x3h=new B("mat4x3",M.f16,null),B.mat4x4h=new B("mat4x4",M.f16,null),B.mat2x2i=new B("mat2x2",M.i32,null),B.mat2x3i=new B("mat2x3",M.i32,null),B.mat2x4i=new B("mat2x4",M.i32,null),B.mat3x2i=new B("mat3x2",M.i32,null),B.mat3x3i=new B("mat3x3",M.i32,null),B.mat3x4i=new B("mat3x4",M.i32,null),B.mat4x2i=new B("mat4x2",M.i32,null),B.mat4x3i=new B("mat4x3",M.i32,null),B.mat4x4i=new B("mat4x4",M.i32,null),B.mat2x2u=new B("mat2x2",M.u32,null),B.mat2x3u=new B("mat2x3",M.u32,null),B.mat2x4u=new B("mat2x4",M.u32,null),B.mat3x2u=new B("mat3x2",M.u32,null),B.mat3x3u=new B("mat3x3",M.u32,null),B.mat3x4u=new B("mat3x4",M.u32,null),B.mat4x2u=new B("mat4x2",M.u32,null),B.mat4x3u=new B("mat4x3",M.u32,null),B.mat4x4u=new B("mat4x4",M.u32,null);var ns=class extends M{constructor(e,n,r,o){super(e),this.storage=n,this.type=r,this.access=o}get astNodeType(){return"pointer"}},Fr=class extends M{constructor(e,n,r,o){super(e),this.attributes=n,this.format=r,this.count=o}get astNodeType(){return"array"}get isArray(){return!0}},Ur=class extends M{constructor(e,n,r){super(e),this.format=n,this.access=r}get astNodeType(){return"sampler"}},ft=class extends Ct{constructor(){super(),this.postfix=null}},Cn=class extends ft{constructor(e){super(),this.value=e}get astNodeType(){return"stringExpr"}toString(){return this.value}constEvaluateString(){return this.value}},St=class extends ft{constructor(e,n){super(),this.type=e,this.args=n}get astNodeType(){return"createExpr"}search(e){if(e(this),this.args)for(let n of this.args)n.search(e)}constEvaluate(e,n){return n&&(n[0]=this.type),e.evalExpression(this,e.context)}},Ki=class extends ft{constructor(e,n){super(),this.cachedReturnValue=null,this.name=e,this.args=n}get astNodeType(){return"callExpr"}setCachedReturnValue(e){this.cachedReturnValue=e}get isBuiltin(){return B1.has(this.name)}constEvaluate(e,n){return e.evalExpression(this,e.context)}search(e){for(let n of this.args)n.search(e);e(this)}},He=class extends ft{constructor(e){super(),this.name=e}get astNodeType(){return"varExpr"}search(e){e(this),this.postfix&&this.postfix.search(e)}constEvaluate(e,n){return e.evalExpression(this,e.context)}},uu=class extends ft{constructor(e,n){super(),this.name=e,this.initializer=n}get astNodeType(){return"constExpr"}constEvaluate(e,n){if(this.initializer){let r=e.evalExpression(this.initializer,e.context);return r!==null&&this.postfix?r.getSubData(e,this.postfix,e.context):r}return null}search(e){this.initializer.search(e)}},pe=class extends ft{constructor(e,n){super(),this.value=e,this.type=n}get astNodeType(){return"literalExpr"}constEvaluate(e,n){return n!==void 0&&(n[0]=this.type),this.value}get isScalar(){return this.value instanceof T}get isVector(){return this.value instanceof p||this.value instanceof U}get scalarValue(){return this.value instanceof T?this.value.value:(console.error("Value is not scalar."),0)}get vectorValue(){return this.value instanceof p||this.value instanceof U?this.value.data:(console.error("Value is not a vector or matrix."),new Float32Array(0))}},lu=class extends ft{constructor(e,n){super(),this.type=e,this.value=n}get astNodeType(){return"bitcastExpr"}search(e){this.value.search(e)}};var ar=class extends ft{constructor(e){super(),this.index=e}search(e){this.index.search(e)}},fu=class extends ft{constructor(){super()}},me=class extends fu{constructor(e,n){super(),this.operator=e,this.right=n}get astNodeType(){return"unaryOp"}constEvaluate(e,n){return e.evalExpression(this,e.context)}search(e){this.right.search(e)}},lt=class extends fu{constructor(e,n,r){super(),this.operator=e,this.left=n,this.right=r}get astNodeType(){return"binaryOp"}_getPromotedType(e,n){return e.name===n.name?e:e.name==="f32"||n.name==="f32"?M.f32:e.name==="u32"||n.name==="u32"?M.u32:M.i32}constEvaluate(e,n){return e.evalExpression(this,e.context)}search(e){this.left.search(e),this.right.search(e)}},mu=class extends Ct{constructor(e){super(),this.body=e}search(e){e(this),this.searchBlock(this.body,e)}},rs=class extends ft{constructor(){super()}get astNodeType(){return"default"}},du=class extends mu{constructor(e,n){super(n),this.selectors=e}get astNodeType(){return"case"}search(e){this.searchBlock(this.body,e)}},hu=class extends mu{constructor(e){super(e)}get astNodeType(){return"default"}search(e){this.searchBlock(this.body,e)}},pu=class extends Ct{constructor(e,n,r){super(),this.name=e,this.type=n,this.attributes=r}get astNodeType(){return"argument"}},gd=class extends Ct{constructor(e,n){super(),this.condition=e,this.body=n}get astNodeType(){return"elseif"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}},yu=class extends Ct{constructor(e,n,r){super(),this.name=e,this.type=n,this.attributes=r}get astNodeType(){return"member"}},xu=class extends Ct{constructor(e,n){super(),this.name=e,this.value=n}get astNodeType(){return"attribute"}},Mt=class t{constructor(e,n){this.parent=null,this.typeInfo=e,this.parent=n,this.id=t._id++}clone(){throw`Clone: Not implemented for ${this.constructor.name}`}setDataValue(e,n,r,o){console.error(`SetDataValue: Not implemented for ${this.constructor.name}`)}getSubData(e,n,r){return console.error(`GetDataValue: Not implemented for ${this.constructor.name}`),null}toString(){return`<${this.typeInfo.getTypeName()}>`}};Mt._id=0;var Ji=class extends Mt{constructor(){super(new $e("void",null),null)}toString(){return"void"}};Ji.void=new Ji;var ir=class extends Mt{constructor(e){super(new Fi("pointer",e.typeInfo,null),null),this.reference=e}clone(){return this}setDataValue(e,n,r,o){this.reference.setDataValue(e,n,r,o)}getSubData(e,n,r){return n?this.reference.getSubData(e,n,r):this}toString(){return`&${this.reference.toString()}`}},T=class t extends Mt{constructor(e,n,r=null){super(n,r),e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array?this.data=e:this.typeInfo.name==="x32"?e-Math.floor(e)!==0?this.data=new Float32Array([e]):this.data=e>=0?new Uint32Array([e]):new Int32Array([e]):this.typeInfo.name==="i32"||this.typeInfo.name==="bool"?this.data=new Int32Array([e]):this.typeInfo.name==="u32"?this.data=new Uint32Array([e]):this.typeInfo.name==="f32"||this.typeInfo.name==="f16"?this.data=new Float32Array([e]):console.error("ScalarData2: Invalid type",n)}clone(){if(this.data instanceof Float32Array)return new t(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new t(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new t(new Uint32Array(this.data),this.typeInfo,null);throw"ScalarData: Invalid data type"}get value(){return this.data[0]}set value(e){this.data[0]=e}setDataValue(e,n,r,o){if(r)return void console.error("SetDataValue: Scalar data does not support postfix",r);if(!(n instanceof t))return void console.error("SetDataValue: Invalid value",n);let s=n.data[0];this.typeInfo.name==="i32"||this.typeInfo.name==="u32"?s=Math.floor(s):this.typeInfo.name==="bool"&&(s=s?1:0),this.data[0]=s}getSubData(e,n,r){return n?(console.error("getSubData: Scalar data does not support postfix",n),null):this}toString(){return`${this.value}`}};function H3(t,e,n){let r=e.length;return r===2?n==="f32"?new p(new Float32Array(e),t.getTypeInfo("vec2f")):n==="i32"||n==="bool"?new p(new Int32Array(e),t.getTypeInfo("vec2i")):n==="u32"?new p(new Uint32Array(e),t.getTypeInfo("vec2u")):n==="f16"?new p(new Float32Array(e),t.getTypeInfo("vec2h")):(console.error(`getSubData: Unknown format ${n}`),null):r===3?n==="f32"?new p(new Float32Array(e),t.getTypeInfo("vec3f")):n==="i32"||n==="bool"?new p(new Int32Array(e),t.getTypeInfo("vec3i")):n==="u32"?new p(new Uint32Array(e),t.getTypeInfo("vec3u")):n==="f16"?new p(new Float32Array(e),t.getTypeInfo("vec3h")):(console.error(`getSubData: Unknown format ${n}`),null):r===4?n==="f32"?new p(new Float32Array(e),t.getTypeInfo("vec4f")):n==="i32"||n==="bool"?new p(new Int32Array(e),t.getTypeInfo("vec4i")):n==="u32"?new p(new Uint32Array(e),t.getTypeInfo("vec4u")):n==="f16"?new p(new Float32Array(e),t.getTypeInfo("vec4h")):(console.error(`getSubData: Unknown format ${n}`),null):(console.error(`getSubData: Invalid vector size ${e.length}`),null)}var p=class t extends Mt{constructor(e,n,r=null){if(super(n,r),e instanceof Float32Array||e instanceof Uint32Array||e instanceof Int32Array)this.data=e;else{let o=this.typeInfo.name;o==="vec2f"||o==="vec3f"||o==="vec4f"?this.data=new Float32Array(e):o==="vec2i"||o==="vec3i"||o==="vec4i"?this.data=new Int32Array(e):o==="vec2u"||o==="vec3u"||o==="vec4u"?this.data=new Uint32Array(e):o==="vec2h"||o==="vec3h"||o==="vec4h"?this.data=new Float32Array(e):o==="vec2b"||o==="vec3b"||o==="vec4b"?this.data=new Int32Array(e):o==="vec2"||o==="vec3"||o==="vec4"?this.data=new Float32Array(e):console.error(`VectorData: Invalid type ${o}`)}}clone(){if(this.data instanceof Float32Array)return new t(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new t(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new t(new Uint32Array(this.data),this.typeInfo,null);throw"VectorData: Invalid data type"}setDataValue(e,n,r,o){r instanceof Cn?console.error("TODO: Set vector postfix"):n instanceof t?this.data=n.data:console.error("SetDataValue: Invalid value",n)}getSubData(e,n,r){if(n===null)return this;let o=e.getTypeInfo("f32");if(this.typeInfo instanceof Sn)o=this.typeInfo.format||o;else{let i=this.typeInfo.name;i==="vec2f"||i==="vec3f"||i==="vec4f"?o=e.getTypeInfo("f32"):i==="vec2i"||i==="vec3i"||i==="vec4i"?o=e.getTypeInfo("i32"):i==="vec2b"||i==="vec3b"||i==="vec4b"?o=e.getTypeInfo("bool"):i==="vec2u"||i==="vec3u"||i==="vec4u"?o=e.getTypeInfo("u32"):i==="vec2h"||i==="vec3h"||i==="vec4h"?o=e.getTypeInfo("f16"):console.error(`GetSubData: Unknown type ${i}`)}let s=this;for(;n!==null&&s!==null;){if(n instanceof ar){let i=n.index,a=-1;if(i instanceof pe){if(!(i.value instanceof T))return console.error(`GetSubData: Invalid array index ${i.value}`),null;a=i.value.value}else{let c=e.evalExpression(i,r);if(!(c instanceof T))return console.error("GetSubData: Unknown index type",i),null;a=c.value}if(a<0||a>=s.data.length)return console.error("GetSubData: Index out of range",a),null;if(s.data instanceof Float32Array){let c=new Float32Array(s.data.buffer,s.data.byteOffset+4*a,1);return new T(c,o)}if(s.data instanceof Int32Array){let c=new Int32Array(s.data.buffer,s.data.byteOffset+4*a,1);return new T(c,o)}if(s.data instanceof Uint32Array){let c=new Uint32Array(s.data.buffer,s.data.byteOffset+4*a,1);return new T(c,o)}throw"GetSubData: Invalid data type"}if(!(n instanceof Cn))return console.error("GetSubData: Unknown postfix",n),null;{let i=n.value.toLowerCase();if(i.length===1){let c=0;if(i==="x"||i==="r")c=0;else if(i==="y"||i==="g")c=1;else if(i==="z"||i==="b")c=2;else{if(i!=="w"&&i!=="a")return console.error(`GetSubData: Unknown member ${i}`),null;c=3}if(this.data instanceof Float32Array){let u=new Float32Array(this.data.buffer,this.data.byteOffset+4*c,1);return new T(u,o,this)}if(this.data instanceof Int32Array){let u=new Int32Array(this.data.buffer,this.data.byteOffset+4*c,1);return new T(u,o,this)}if(this.data instanceof Uint32Array){let u=new Uint32Array(this.data.buffer,this.data.byteOffset+4*c,1);return new T(u,o,this)}}let a=[];for(let c of i)c==="x"||c==="r"?a.push(this.data[0]):c==="y"||c==="g"?a.push(this.data[1]):c==="z"||c==="b"?a.push(this.data[2]):c==="w"||c==="a"?a.push(this.data[3]):console.error(`GetDataValue: Unknown member ${c}`);s=H3(e,a,o.name)}n=n.postfix}return s}toString(){let e=`${this.data[0]}`;for(let n=1;n<this.data.length;++n)e+=`, ${this.data[n]}`;return e}},U=class t extends Mt{constructor(e,n,r=null){super(n,r),e instanceof Float32Array?this.data=e:this.data=new Float32Array(e)}clone(){return new t(new Float32Array(this.data),this.typeInfo,null)}setDataValue(e,n,r,o){r instanceof Cn?console.error("TODO: Set matrix postfix"):n instanceof t?this.data=n.data:console.error("SetDataValue: Invalid value",n)}getSubData(e,n,r){if(n===null)return this;let o=this.typeInfo.name;if(e.getTypeInfo("f32"),this.typeInfo instanceof Sn)this.typeInfo.format;else if(o.endsWith("f"))e.getTypeInfo("f32");else if(o.endsWith("i"))e.getTypeInfo("i32");else if(o.endsWith("u"))e.getTypeInfo("u32");else{if(!o.endsWith("h"))return console.error(`GetDataValue: Unknown type ${o}`),null;e.getTypeInfo("f16")}if(n instanceof ar){let s=n.index,i=-1;if(s instanceof pe){if(!(s.value instanceof T))return console.error(`GetDataValue: Invalid array index ${s.value}`),null;i=s.value.value}else{let u=e.evalExpression(s,r);if(!(u instanceof T))return console.error("GetDataValue: Unknown index type",s),null;i=u.value}if(i<0||i>=this.data.length)return console.error("GetDataValue: Index out of range",i),null;let a=o.endsWith("h")?"h":"f",c;if(o==="mat2x2"||o==="mat2x2f"||o==="mat2x2h"||o==="mat3x2"||o==="mat3x2f"||o==="mat3x2h"||o==="mat4x2"||o==="mat4x2f"||o==="mat4x2h")c=new p(new Float32Array(this.data.buffer,this.data.byteOffset+2*i*4,2),e.getTypeInfo(`vec2${a}`));else if(o==="mat2x3"||o==="mat2x3f"||o==="mat2x3h"||o==="mat3x3"||o==="mat3x3f"||o==="mat3x3h"||o==="mat4x3"||o==="mat4x3f"||o==="mat4x3h")c=new p(new Float32Array(this.data.buffer,this.data.byteOffset+3*i*4,3),e.getTypeInfo(`vec3${a}`));else{if(o!=="mat2x4"&&o!=="mat2x4f"&&o!=="mat2x4h"&&o!=="mat3x4"&&o!=="mat3x4f"&&o!=="mat3x4h"&&o!=="mat4x4"&&o!=="mat4x4f"&&o!=="mat4x4h")return console.error(`GetDataValue: Unknown type ${o}`),null;c=new p(new Float32Array(this.data.buffer,this.data.byteOffset+4*i*4,4),e.getTypeInfo(`vec4${a}`))}return n.postfix?c.getSubData(e,n.postfix,r):c}return console.error("GetDataValue: Invalid postfix",n),null}toString(){let e=`${this.data[0]}`;for(let n=1;n<this.data.length;++n)e+=`, ${this.data[n]}`;return e}},be=class t extends Mt{constructor(e,n,r=0,o=null){super(n,o),this.buffer=e instanceof ArrayBuffer?e:e.buffer,this.offset=r}clone(){let e=new Uint8Array(new Uint8Array(this.buffer,this.offset,this.typeInfo.size));return new t(e.buffer,this.typeInfo,0,null)}setDataValue(e,n,r,o){if(n===null)return void console.log("setDataValue: NULL data.");let s=this.offset,i=this.typeInfo;for(;r;){if(r instanceof ar)if(i instanceof jt){let a=r.index;if(a instanceof pe){if(!(a.value instanceof T))return void console.error(`SetDataValue: Invalid index type ${a.value}`);s+=a.value.value*i.stride}else{let c=e.evalExpression(a,o);if(!(c instanceof T))return void console.error("SetDataValue: Unknown index type",a);s+=c.value*i.stride}i=i.format}else console.error(`SetDataValue: Type ${i.getTypeName()} is not an array`);else{if(!(r instanceof Cn))return void console.error("SetDataValue: Unknown postfix type",r);{let a=r.value;if(i instanceof Jt){let c=!1;for(let u of i.members)if(u.name===a){s+=u.offset,i=u.type,c=!0;break}if(!c)return void console.error(`SetDataValue: Member ${a} not found`)}else if(i instanceof $e){let c=i.getTypeName(),u=0;if(a==="x"||a==="r")u=0;else if(a==="y"||a==="g")u=1;else if(a==="z"||a==="b")u=2;else{if(a!=="w"&&a!=="a")return void console.error(`SetDataValue: Unknown member ${a}`);u=3}if(!(n instanceof T))return void console.error("SetDataValue: Invalid value",n);let l=n.value;return c==="vec2f"?void(new Float32Array(this.buffer,s,2)[u]=l):c==="vec3f"?void(new Float32Array(this.buffer,s,3)[u]=l):c==="vec4f"?void(new Float32Array(this.buffer,s,4)[u]=l):c==="vec2i"?void(new Int32Array(this.buffer,s,2)[u]=l):c==="vec3i"?void(new Int32Array(this.buffer,s,3)[u]=l):c==="vec4i"?void(new Int32Array(this.buffer,s,4)[u]=l):c==="vec2u"?void(new Uint32Array(this.buffer,s,2)[u]=l):c==="vec3u"?void(new Uint32Array(this.buffer,s,3)[u]=l):c==="vec4u"?void(new Uint32Array(this.buffer,s,4)[u]=l):void console.error(`SetDataValue: Type ${c} is not a struct`)}}}r=r.postfix}this.setData(e,n,i,s,o)}setData(e,n,r,o,s){let i=r.getTypeName();if(i!=="f32"&&i!=="f16")if(i!=="i32"&&i!=="atomic<i32>"&&i!=="x32")if(i!=="u32"&&i!=="atomic<u32>")if(i!=="bool"){if(i==="vec2f"||i==="vec2h"){let a=new Float32Array(this.buffer,o,2);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1]):(a[0]=n[0],a[1]=n[1]))}if(i==="vec3f"||i==="vec3h"){let a=new Float32Array(this.buffer,o,3);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2]):(a[0]=n[0],a[1]=n[1],a[2]=n[2]))}if(i==="vec4f"||i==="vec4h"){let a=new Float32Array(this.buffer,o,4);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3]))}if(i==="vec2i"){let a=new Int32Array(this.buffer,o,2);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1]):(a[0]=n[0],a[1]=n[1]))}if(i==="vec3i"){let a=new Int32Array(this.buffer,o,3);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2]):(a[0]=n[0],a[1]=n[1],a[2]=n[2]))}if(i==="vec4i"){let a=new Int32Array(this.buffer,o,4);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3]))}if(i==="vec2u"){let a=new Uint32Array(this.buffer,o,2);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1]):(a[0]=n[0],a[1]=n[1]))}if(i==="vec3u"){let a=new Uint32Array(this.buffer,o,3);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2]):(a[0]=n[0],a[1]=n[1],a[2]=n[2]))}if(i==="vec4u"){let a=new Uint32Array(this.buffer,o,4);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3]))}if(i==="vec2b"){let a=new Uint32Array(this.buffer,o,2);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1]):(a[0]=n[0],a[1]=n[1]))}if(i==="vec3b"){let a=new Uint32Array(this.buffer,o,3);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2]):(a[0]=n[0],a[1]=n[1],a[2]=n[2]))}if(i==="vec4b"){let a=new Uint32Array(this.buffer,o,4);return void(n instanceof p?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3]))}if(i==="mat2x2f"||i==="mat2x2h"){let a=new Float32Array(this.buffer,o,4);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3]))}if(i==="mat2x3f"||i==="mat2x3h"){let a=new Float32Array(this.buffer,o,6);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3],a[4]=n.data[4],a[5]=n.data[5]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5]))}if(i==="mat2x4f"||i==="mat2x4h"){let a=new Float32Array(this.buffer,o,8);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3],a[4]=n.data[4],a[5]=n.data[5],a[6]=n.data[6],a[7]=n.data[7]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7]))}if(i==="mat3x2f"||i==="mat3x2h"){let a=new Float32Array(this.buffer,o,6);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3],a[4]=n.data[4],a[5]=n.data[5]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5]))}if(i==="mat3x3f"||i==="mat3x3h"){let a=new Float32Array(this.buffer,o,9);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3],a[4]=n.data[4],a[5]=n.data[5],a[6]=n.data[6],a[7]=n.data[7],a[8]=n.data[8]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7],a[8]=n[8]))}if(i==="mat3x4f"||i==="mat3x4h"){let a=new Float32Array(this.buffer,o,12);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3],a[4]=n.data[4],a[5]=n.data[5],a[6]=n.data[6],a[7]=n.data[7],a[8]=n.data[8],a[9]=n.data[9],a[10]=n.data[10],a[11]=n.data[11]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7],a[8]=n[8],a[9]=n[9],a[10]=n[10],a[11]=n[11]))}if(i==="mat4x2f"||i==="mat4x2h"){let a=new Float32Array(this.buffer,o,8);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3],a[4]=n.data[4],a[5]=n.data[5],a[6]=n.data[6],a[7]=n.data[7]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7]))}if(i==="mat4x3f"||i==="mat4x3h"){let a=new Float32Array(this.buffer,o,12);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3],a[4]=n.data[4],a[5]=n.data[5],a[6]=n.data[6],a[7]=n.data[7],a[8]=n.data[8],a[9]=n.data[9],a[10]=n.data[10],a[11]=n.data[11]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7],a[8]=n[8],a[9]=n[9],a[10]=n[10],a[11]=n[11]))}if(i==="mat4x4f"||i==="mat4x4h"){let a=new Float32Array(this.buffer,o,16);return void(n instanceof U?(a[0]=n.data[0],a[1]=n.data[1],a[2]=n.data[2],a[3]=n.data[3],a[4]=n.data[4],a[5]=n.data[5],a[6]=n.data[6],a[7]=n.data[7],a[8]=n.data[8],a[9]=n.data[9],a[10]=n.data[10],a[11]=n.data[11],a[12]=n.data[12],a[13]=n.data[13],a[14]=n.data[14],a[15]=n.data[15]):(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7],a[8]=n[8],a[9]=n[9],a[10]=n[10],a[11]=n[11],a[12]=n[12],a[13]=n[13],a[14]=n[14],a[15]=n[15]))}if(n instanceof t){if(r===n.typeInfo)return void new Uint8Array(this.buffer,o,n.buffer.byteLength).set(new Uint8Array(n.buffer));console.error("SetDataValue: Type mismatch",i,n.typeInfo.getTypeName())}else console.error(`SetData: Unknown type ${i}`)}else n instanceof T&&(new Int32Array(this.buffer,o,1)[0]=n.value);else n instanceof T&&(new Uint32Array(this.buffer,o,1)[0]=n.value);else n instanceof T&&(new Int32Array(this.buffer,o,1)[0]=n.value);else n instanceof T&&(new Float32Array(this.buffer,o,1)[0]=n.value)}getSubData(e,n,r){var o,s,i;if(n===null)return this;let a=this.offset,c=this.typeInfo;for(;n;){if(n instanceof ar){let l=n.index,f=l instanceof ft?e.evalExpression(l,r):l,m=0;if(f instanceof T?m=f.value:typeof f=="number"?m=f:console.error("GetDataValue: Invalid index type",l),c instanceof jt)a+=m*c.stride,c=c.format;else{let d=c.getTypeName();d==="mat4x4"||d==="mat4x4f"||d==="mat4x4h"?(a+=16*m,c=e.getTypeInfo("vec4f")):console.error(`getDataValue: Type ${c.getTypeName()} is not an array`)}}else{if(!(n instanceof Cn))return console.error("GetDataValue: Unknown postfix type",n),null;{let l=n.value;if(c instanceof Jt){let f=!1;for(let m of c.members)if(m.name===l){a+=m.offset,c=m.type,f=!0;break}if(!f)return console.error(`GetDataValue: Member ${l} not found`),null}else if(c instanceof $e){let f=c.getTypeName();if(f==="vec2f"||f==="vec3f"||f==="vec4f"||f==="vec2i"||f==="vec3i"||f==="vec4i"||f==="vec2u"||f==="vec3u"||f==="vec4u"||f==="vec2b"||f==="vec3b"||f==="vec4b"||f==="vec2h"||f==="vec3h"||f==="vec4h"||f==="vec2"||f==="vec3"||f==="vec4"){if(l.length>0&&l.length<5){let m="f",d=[];for(let b=0;b<l.length;++b){let E=l[b].toLowerCase(),S=0;if(E==="x"||E==="r")S=0;else if(E==="y"||E==="g")S=1;else if(E==="z"||E==="b")S=2;else{if(E!=="w"&&E!=="a")return console.error(`Unknown member ${l}`),null;S=3}if(l.length===1){if(f.endsWith("f"))return this.buffer.byteLength<a+4*S+4?(console.log("Insufficient buffer data"),null):new T(new Float32Array(this.buffer,a+4*S,1),e.getTypeInfo("f32"),this);if(f.endsWith("h"))return new T(new Float32Array(this.buffer,a+4*S,1),e.getTypeInfo("f16"),this);if(f.endsWith("i"))return new T(new Int32Array(this.buffer,a+4*S,1),e.getTypeInfo("i32"),this);if(f.endsWith("b"))return new T(new Int32Array(this.buffer,a+4*S,1),e.getTypeInfo("bool"),this);if(f.endsWith("u"))return new T(new Uint32Array(this.buffer,a+4*S,1),e.getTypeInfo("i32"),this)}if(f==="vec2f")d.push(new Float32Array(this.buffer,a,2)[S]);else if(f==="vec3f"){if(a+12>=this.buffer.byteLength)return console.log("Insufficient buffer data"),null;let g=new Float32Array(this.buffer,a,3);d.push(g[S])}else if(f==="vec4f")d.push(new Float32Array(this.buffer,a,4)[S]);else if(f==="vec2i")m="i",d.push(new Int32Array(this.buffer,a,2)[S]);else if(f==="vec3i")m="i",d.push(new Int32Array(this.buffer,a,3)[S]);else if(f==="vec4i")m="i",d.push(new Int32Array(this.buffer,a,4)[S]);else if(f==="vec2u"){m="u";let g=new Uint32Array(this.buffer,a,2);d.push(g[S])}else f==="vec3u"?(m="u",d.push(new Uint32Array(this.buffer,a,3)[S])):f==="vec4u"&&(m="u",d.push(new Uint32Array(this.buffer,a,4)[S]))}return d.length===2?c=e.getTypeInfo(`vec2${m}`):d.length===3?c=e.getTypeInfo(`vec3${m}`):d.length===4?c=e.getTypeInfo(`vec4${m}`):console.error(`GetDataValue: Invalid vector length ${d.length}`),new p(d,c,null)}return console.error(`GetDataValue: Unknown member ${l}`),null}return console.error(`GetDataValue: Type ${f} is not a struct`),null}}}n=n.postfix}let u=c.getTypeName();return u==="f32"?new T(new Float32Array(this.buffer,a,1),c,this):u==="i32"?new T(new Int32Array(this.buffer,a,1),c,this):u==="u32"?new T(new Uint32Array(this.buffer,a,1),c,this):u==="vec2f"?new p(new Float32Array(this.buffer,a,2),c,this):u==="vec3f"?new p(new Float32Array(this.buffer,a,3),c,this):u==="vec4f"?new p(new Float32Array(this.buffer,a,4),c,this):u==="vec2i"?new p(new Int32Array(this.buffer,a,2),c,this):u==="vec3i"?new p(new Int32Array(this.buffer,a,3),c,this):u==="vec4i"?new p(new Int32Array(this.buffer,a,4),c,this):u==="vec2u"?new p(new Uint32Array(this.buffer,a,2),c,this):u==="vec3u"?new p(new Uint32Array(this.buffer,a,3),c,this):u==="vec4u"?new p(new Uint32Array(this.buffer,a,4),c,this):c instanceof Sn&&c.name==="atomic"?((o=c.format)===null||o===void 0?void 0:o.name)==="u32"?new T(new Uint32Array(this.buffer,a,1)[0],c.format,this):((s=c.format)===null||s===void 0?void 0:s.name)==="i32"?new T(new Int32Array(this.buffer,a,1)[0],c.format,this):(console.error(`GetDataValue: Invalid atomic format ${(i=c.format)===null||i===void 0?void 0:i.name}`),null):new t(this.buffer,c,a,this)}toString(){let e="";if(this.typeInfo instanceof jt)if(this.typeInfo.format.name==="f32"){let n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}`;for(let r=1;r<n.length;++r)e+=`, ${n[r]}`}else if(this.typeInfo.format.name==="i32"){let n=new Int32Array(this.buffer,this.offset);e=`[${n[0]}`;for(let r=1;r<n.length;++r)e+=`, ${n[r]}`}else if(this.typeInfo.format.name==="u32"){let n=new Uint32Array(this.buffer,this.offset);e=`[${n[0]}`;for(let r=1;r<n.length;++r)e+=`, ${n[r]}`}else if(this.typeInfo.format.name==="vec2f"){let n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}, ${n[1]}]`;for(let r=1;r<n.length/2;++r)e+=`, [${n[2*r]}, ${n[2*r+1]}]`}else if(this.typeInfo.format.name==="vec3f"){let n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}, ${n[1]}, ${n[2]}]`;for(let r=4;r<n.length;r+=4)e+=`, [${n[r]}, ${n[r+1]}, ${n[r+2]}]`}else if(this.typeInfo.format.name==="vec4f"){let n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}, ${n[1]}, ${n[2]}, ${n[3]}]`;for(let r=4;r<n.length;r+=4)e+=`, [${n[r]}, ${n[r+1]}, ${n[r+2]}, ${n[r+3]}]`}else e="[...]";else this.typeInfo instanceof Jt?e+="{...}":e="[...]";return e}},En=class t extends Mt{constructor(e,n,r,o){super(n,null),this.data=e,this.descriptor=r,this.view=o}clone(){return new t(this.data,this.typeInfo,this.descriptor,this.view)}get width(){var e,n;let r=this.descriptor.size;return r instanceof Array&&r.length>0?(e=r[0])!==null&&e!==void 0?e:0:r instanceof Object&&(n=r.width)!==null&&n!==void 0?n:0}get height(){var e,n;let r=this.descriptor.size;return r instanceof Array&&r.length>1?(e=r[1])!==null&&e!==void 0?e:0:r instanceof Object&&(n=r.height)!==null&&n!==void 0?n:0}get depthOrArrayLayers(){var e,n;let r=this.descriptor.size;return r instanceof Array&&r.length>2?(e=r[2])!==null&&e!==void 0?e:0:r instanceof Object&&(n=r.depthOrArrayLayers)!==null&&n!==void 0?n:0}get format(){var e;return this.descriptor&&(e=this.descriptor.format)!==null&&e!==void 0?e:"rgba8unorm"}get sampleCount(){var e;return this.descriptor&&(e=this.descriptor.sampleCount)!==null&&e!==void 0?e:1}get mipLevelCount(){var e;return this.descriptor&&(e=this.descriptor.mipLevelCount)!==null&&e!==void 0?e:1}get dimension(){var e;return this.descriptor&&(e=this.descriptor.dimension)!==null&&e!==void 0?e:"2d"}getMipLevelSize(e){if(e>=this.mipLevelCount)return[0,0,0];let n=[this.width,this.height,this.depthOrArrayLayers];for(let r=0;r<n.length;++r)n[r]=Math.max(1,n[r]>>e);return n}get texelByteSize(){let e=this.format,n=id[e];return n?n.isDepthStencil?4:n.bytesPerBlock:0}get bytesPerRow(){return this.width*this.texelByteSize}get isDepthStencil(){let e=this.format,n=id[e];return!!n&&n.isDepthStencil}getGpuSize(){let e=this.format,n=id[e],r=this.width;if(!e||r<=0||!n)return-1;let o=this.height,s=this.depthOrArrayLayers,i=this.dimension;return r/n.blockWidth*(i==="1d"?1:o/n.blockHeight)*n.bytesPerBlock*s}getPixel(e,n,r=0,o=0){let s=this.texelByteSize,i=this.bytesPerRow,a=this.height,c=this.data[o];return z3(new Uint8Array(c),e,n,r,o,a,i,s,this.format)}setPixel(e,n,r,o,s){let i=this.texelByteSize,a=this.bytesPerRow,c=this.height,u=this.data[o];(function(l,f,m,d,b,E,S,g,x,y){let A=d*(S>>=b)*(E>>=b)+m*S+f*g;switch(x){case"r8unorm":return void Q(l,A,"8unorm",1,y);case"r8snorm":return void Q(l,A,"8snorm",1,y);case"r8uint":return void Q(l,A,"8uint",1,y);case"r8sint":return void Q(l,A,"8sint",1,y);case"rg8unorm":return void Q(l,A,"8unorm",2,y);case"rg8snorm":return void Q(l,A,"8snorm",2,y);case"rg8uint":return void Q(l,A,"8uint",2,y);case"rg8sint":return void Q(l,A,"8sint",2,y);case"rgba8unorm-srgb":case"rgba8unorm":case"bgra8unorm-srgb":case"bgra8unorm":return void Q(l,A,"8unorm",4,y);case"rgba8snorm":return void Q(l,A,"8snorm",4,y);case"rgba8uint":return void Q(l,A,"8uint",4,y);case"rgba8sint":return void Q(l,A,"8sint",4,y);case"r16uint":return void Q(l,A,"16uint",1,y);case"r16sint":return void Q(l,A,"16sint",1,y);case"r16float":return void Q(l,A,"16float",1,y);case"rg16uint":return void Q(l,A,"16uint",2,y);case"rg16sint":return void Q(l,A,"16sint",2,y);case"rg16float":return void Q(l,A,"16float",2,y);case"rgba16uint":return void Q(l,A,"16uint",4,y);case"rgba16sint":return void Q(l,A,"16sint",4,y);case"rgba16float":return void Q(l,A,"16float",4,y);case"r32uint":return void Q(l,A,"32uint",1,y);case"r32sint":return void Q(l,A,"32sint",1,y);case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return void Q(l,A,"32float",1,y);case"rg32uint":return void Q(l,A,"32uint",2,y);case"rg32sint":return void Q(l,A,"32sint",2,y);case"rg32float":return void Q(l,A,"32float",2,y);case"rgba32uint":return void Q(l,A,"32uint",4,y);case"rgba32sint":return void Q(l,A,"32sint",4,y);case"rgba32float":return void Q(l,A,"32float",4,y);case"rg11b10ufloat":console.error("TODO: rg11b10ufloat not supported for writing")}})(new Uint8Array(u),e,n,r,o,c,a,i,this.format,s)}};(t=>{t[t.token=0]="token",t[t.keyword=1]="keyword",t[t.reserved=2]="reserved"})(_||(_={}));var v=class{constructor(e,n,r){this.name=e,this.type=n,this.rule=r}toString(){return this.name}},h=class{};w=h,h.none=new v("",_.reserved,""),h.eof=new v("EOF",_.token,""),h.reserved={asm:new v("asm",_.reserved,"asm"),bf16:new v("bf16",_.reserved,"bf16"),do:new v("do",_.reserved,"do"),enum:new v("enum",_.reserved,"enum"),f16:new v("f16",_.reserved,"f16"),f64:new v("f64",_.reserved,"f64"),handle:new v("handle",_.reserved,"handle"),i8:new v("i8",_.reserved,"i8"),i16:new v("i16",_.reserved,"i16"),i64:new v("i64",_.reserved,"i64"),mat:new v("mat",_.reserved,"mat"),premerge:new v("premerge",_.reserved,"premerge"),regardless:new v("regardless",_.reserved,"regardless"),typedef:new v("typedef",_.reserved,"typedef"),u8:new v("u8",_.reserved,"u8"),u16:new v("u16",_.reserved,"u16"),u64:new v("u64",_.reserved,"u64"),unless:new v("unless",_.reserved,"unless"),using:new v("using",_.reserved,"using"),vec:new v("vec",_.reserved,"vec"),void:new v("void",_.reserved,"void")},h.keywords={array:new v("array",_.keyword,"array"),atomic:new v("atomic",_.keyword,"atomic"),bool:new v("bool",_.keyword,"bool"),f32:new v("f32",_.keyword,"f32"),i32:new v("i32",_.keyword,"i32"),mat2x2:new v("mat2x2",_.keyword,"mat2x2"),mat2x3:new v("mat2x3",_.keyword,"mat2x3"),mat2x4:new v("mat2x4",_.keyword,"mat2x4"),mat3x2:new v("mat3x2",_.keyword,"mat3x2"),mat3x3:new v("mat3x3",_.keyword,"mat3x3"),mat3x4:new v("mat3x4",_.keyword,"mat3x4"),mat4x2:new v("mat4x2",_.keyword,"mat4x2"),mat4x3:new v("mat4x3",_.keyword,"mat4x3"),mat4x4:new v("mat4x4",_.keyword,"mat4x4"),ptr:new v("ptr",_.keyword,"ptr"),sampler:new v("sampler",_.keyword,"sampler"),sampler_comparison:new v("sampler_comparison",_.keyword,"sampler_comparison"),struct:new v("struct",_.keyword,"struct"),texture_1d:new v("texture_1d",_.keyword,"texture_1d"),texture_2d:new v("texture_2d",_.keyword,"texture_2d"),texture_2d_array:new v("texture_2d_array",_.keyword,"texture_2d_array"),texture_3d:new v("texture_3d",_.keyword,"texture_3d"),texture_cube:new v("texture_cube",_.keyword,"texture_cube"),texture_cube_array:new v("texture_cube_array",_.keyword,"texture_cube_array"),texture_multisampled_2d:new v("texture_multisampled_2d",_.keyword,"texture_multisampled_2d"),texture_storage_1d:new v("texture_storage_1d",_.keyword,"texture_storage_1d"),texture_storage_2d:new v("texture_storage_2d",_.keyword,"texture_storage_2d"),texture_storage_2d_array:new v("texture_storage_2d_array",_.keyword,"texture_storage_2d_array"),texture_storage_3d:new v("texture_storage_3d",_.keyword,"texture_storage_3d"),texture_depth_2d:new v("texture_depth_2d",_.keyword,"texture_depth_2d"),texture_depth_2d_array:new v("texture_depth_2d_array",_.keyword,"texture_depth_2d_array"),texture_depth_cube:new v("texture_depth_cube",_.keyword,"texture_depth_cube"),texture_depth_cube_array:new v("texture_depth_cube_array",_.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new v("texture_depth_multisampled_2d",_.keyword,"texture_depth_multisampled_2d"),texture_external:new v("texture_external",_.keyword,"texture_external"),u32:new v("u32",_.keyword,"u32"),vec2:new v("vec2",_.keyword,"vec2"),vec3:new v("vec3",_.keyword,"vec3"),vec4:new v("vec4",_.keyword,"vec4"),bitcast:new v("bitcast",_.keyword,"bitcast"),block:new v("block",_.keyword,"block"),break:new v("break",_.keyword,"break"),case:new v("case",_.keyword,"case"),continue:new v("continue",_.keyword,"continue"),continuing:new v("continuing",_.keyword,"continuing"),default:new v("default",_.keyword,"default"),diagnostic:new v("diagnostic",_.keyword,"diagnostic"),discard:new v("discard",_.keyword,"discard"),else:new v("else",_.keyword,"else"),enable:new v("enable",_.keyword,"enable"),fallthrough:new v("fallthrough",_.keyword,"fallthrough"),false:new v("false",_.keyword,"false"),fn:new v("fn",_.keyword,"fn"),for:new v("for",_.keyword,"for"),function:new v("function",_.keyword,"function"),if:new v("if",_.keyword,"if"),let:new v("let",_.keyword,"let"),const:new v("const",_.keyword,"const"),loop:new v("loop",_.keyword,"loop"),while:new v("while",_.keyword,"while"),private:new v("private",_.keyword,"private"),read:new v("read",_.keyword,"read"),read_write:new v("read_write",_.keyword,"read_write"),return:new v("return",_.keyword,"return"),requires:new v("requires",_.keyword,"requires"),storage:new v("storage",_.keyword,"storage"),switch:new v("switch",_.keyword,"switch"),true:new v("true",_.keyword,"true"),alias:new v("alias",_.keyword,"alias"),type:new v("type",_.keyword,"type"),uniform:new v("uniform",_.keyword,"uniform"),var:new v("var",_.keyword,"var"),override:new v("override",_.keyword,"override"),workgroup:new v("workgroup",_.keyword,"workgroup"),write:new v("write",_.keyword,"write"),r8unorm:new v("r8unorm",_.keyword,"r8unorm"),r8snorm:new v("r8snorm",_.keyword,"r8snorm"),r8uint:new v("r8uint",_.keyword,"r8uint"),r8sint:new v("r8sint",_.keyword,"r8sint"),r16uint:new v("r16uint",_.keyword,"r16uint"),r16sint:new v("r16sint",_.keyword,"r16sint"),r16float:new v("r16float",_.keyword,"r16float"),rg8unorm:new v("rg8unorm",_.keyword,"rg8unorm"),rg8snorm:new v("rg8snorm",_.keyword,"rg8snorm"),rg8uint:new v("rg8uint",_.keyword,"rg8uint"),rg8sint:new v("rg8sint",_.keyword,"rg8sint"),r32uint:new v("r32uint",_.keyword,"r32uint"),r32sint:new v("r32sint",_.keyword,"r32sint"),r32float:new v("r32float",_.keyword,"r32float"),rg16uint:new v("rg16uint",_.keyword,"rg16uint"),rg16sint:new v("rg16sint",_.keyword,"rg16sint"),rg16float:new v("rg16float",_.keyword,"rg16float"),rgba8unorm:new v("rgba8unorm",_.keyword,"rgba8unorm"),rgba8unorm_srgb:new v("rgba8unorm_srgb",_.keyword,"rgba8unorm_srgb"),rgba8snorm:new v("rgba8snorm",_.keyword,"rgba8snorm"),rgba8uint:new v("rgba8uint",_.keyword,"rgba8uint"),rgba8sint:new v("rgba8sint",_.keyword,"rgba8sint"),bgra8unorm:new v("bgra8unorm",_.keyword,"bgra8unorm"),bgra8unorm_srgb:new v("bgra8unorm_srgb",_.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new v("rgb10a2unorm",_.keyword,"rgb10a2unorm"),rg11b10float:new v("rg11b10float",_.keyword,"rg11b10float"),rg32uint:new v("rg32uint",_.keyword,"rg32uint"),rg32sint:new v("rg32sint",_.keyword,"rg32sint"),rg32float:new v("rg32float",_.keyword,"rg32float"),rgba16uint:new v("rgba16uint",_.keyword,"rgba16uint"),rgba16sint:new v("rgba16sint",_.keyword,"rgba16sint"),rgba16float:new v("rgba16float",_.keyword,"rgba16float"),rgba32uint:new v("rgba32uint",_.keyword,"rgba32uint"),rgba32sint:new v("rgba32sint",_.keyword,"rgba32sint"),rgba32float:new v("rgba32float",_.keyword,"rgba32float"),static_assert:new v("static_assert",_.keyword,"static_assert")},h.tokens={decimal_float_literal:new v("decimal_float_literal",_.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?[fh]?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+[fh]?)|(-?[0-9]+[fh])/),hex_float_literal:new v("hex_float_literal",_.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+[fh]?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+[fh]?))/),int_literal:new v("int_literal",_.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new v("uint_literal",_.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),name:new v("name",_.token,/([_\p{XID_Start}][\p{XID_Continue}]+)|([\p{XID_Start}])/u),ident:new v("ident",_.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new v("and",_.token,"&"),and_and:new v("and_and",_.token,"&&"),arrow:new v("arrow ",_.token,"->"),attr:new v("attr",_.token,"@"),forward_slash:new v("forward_slash",_.token,"/"),bang:new v("bang",_.token,"!"),bracket_left:new v("bracket_left",_.token,"["),bracket_right:new v("bracket_right",_.token,"]"),brace_left:new v("brace_left",_.token,"{"),brace_right:new v("brace_right",_.token,"}"),colon:new v("colon",_.token,":"),comma:new v("comma",_.token,","),equal:new v("equal",_.token,"="),equal_equal:new v("equal_equal",_.token,"=="),not_equal:new v("not_equal",_.token,"!="),greater_than:new v("greater_than",_.token,">"),greater_than_equal:new v("greater_than_equal",_.token,">="),shift_right:new v("shift_right",_.token,">>"),less_than:new v("less_than",_.token,"<"),less_than_equal:new v("less_than_equal",_.token,"<="),shift_left:new v("shift_left",_.token,"<<"),modulo:new v("modulo",_.token,"%"),minus:new v("minus",_.token,"-"),minus_minus:new v("minus_minus",_.token,"--"),period:new v("period",_.token,"."),plus:new v("plus",_.token,"+"),plus_plus:new v("plus_plus",_.token,"++"),or:new v("or",_.token,"|"),or_or:new v("or_or",_.token,"||"),paren_left:new v("paren_left",_.token,"("),paren_right:new v("paren_right",_.token,")"),semicolon:new v("semicolon",_.token,";"),star:new v("star",_.token,"*"),tilde:new v("tilde",_.token,"~"),underscore:new v("underscore",_.token,"_"),xor:new v("xor",_.token,"^"),plus_equal:new v("plus_equal",_.token,"+="),minus_equal:new v("minus_equal",_.token,"-="),times_equal:new v("times_equal",_.token,"*="),division_equal:new v("division_equal",_.token,"/="),modulo_equal:new v("modulo_equal",_.token,"%="),and_equal:new v("and_equal",_.token,"&="),or_equal:new v("or_equal",_.token,"|="),xor_equal:new v("xor_equal",_.token,"^="),shift_right_equal:new v("shift_right_equal",_.token,">>="),shift_left_equal:new v("shift_left_equal",_.token,"<<=")},h.simpleTokens={"@":w.tokens.attr,"{":w.tokens.brace_left,"}":w.tokens.brace_right,":":w.tokens.colon,",":w.tokens.comma,"(":w.tokens.paren_left,")":w.tokens.paren_right,";":w.tokens.semicolon},h.literalTokens={"&":w.tokens.and,"&&":w.tokens.and_and,"->":w.tokens.arrow,"/":w.tokens.forward_slash,"!":w.tokens.bang,"[":w.tokens.bracket_left,"]":w.tokens.bracket_right,"=":w.tokens.equal,"==":w.tokens.equal_equal,"!=":w.tokens.not_equal,">":w.tokens.greater_than,">=":w.tokens.greater_than_equal,">>":w.tokens.shift_right,"<":w.tokens.less_than,"<=":w.tokens.less_than_equal,"<<":w.tokens.shift_left,"%":w.tokens.modulo,"-":w.tokens.minus,"--":w.tokens.minus_minus,".":w.tokens.period,"+":w.tokens.plus,"++":w.tokens.plus_plus,"|":w.tokens.or,"||":w.tokens.or_or,"*":w.tokens.star,"~":w.tokens.tilde,_:w.tokens.underscore,"^":w.tokens.xor,"+=":w.tokens.plus_equal,"-=":w.tokens.minus_equal,"*=":w.tokens.times_equal,"/=":w.tokens.division_equal,"%=":w.tokens.modulo_equal,"&=":w.tokens.and_equal,"|=":w.tokens.or_equal,"^=":w.tokens.xor_equal,">>=":w.tokens.shift_right_equal,"<<=":w.tokens.shift_left_equal},h.regexTokens={decimal_float_literal:w.tokens.decimal_float_literal,hex_float_literal:w.tokens.hex_float_literal,int_literal:w.tokens.int_literal,uint_literal:w.tokens.uint_literal,ident:w.tokens.ident},h.storage_class=[w.keywords.function,w.keywords.private,w.keywords.workgroup,w.keywords.uniform,w.keywords.storage],h.access_mode=[w.keywords.read,w.keywords.write,w.keywords.read_write],h.sampler_type=[w.keywords.sampler,w.keywords.sampler_comparison],h.sampled_texture_type=[w.keywords.texture_1d,w.keywords.texture_2d,w.keywords.texture_2d_array,w.keywords.texture_3d,w.keywords.texture_cube,w.keywords.texture_cube_array],h.multisampled_texture_type=[w.keywords.texture_multisampled_2d],h.storage_texture_type=[w.keywords.texture_storage_1d,w.keywords.texture_storage_2d,w.keywords.texture_storage_2d_array,w.keywords.texture_storage_3d],h.depth_texture_type=[w.keywords.texture_depth_2d,w.keywords.texture_depth_2d_array,w.keywords.texture_depth_cube,w.keywords.texture_depth_cube_array,w.keywords.texture_depth_multisampled_2d],h.texture_external_type=[w.keywords.texture_external],h.any_texture_type=[...w.sampled_texture_type,...w.multisampled_texture_type,...w.storage_texture_type,...w.depth_texture_type,...w.texture_external_type],h.texel_format=[w.keywords.r8unorm,w.keywords.r8snorm,w.keywords.r8uint,w.keywords.r8sint,w.keywords.r16uint,w.keywords.r16sint,w.keywords.r16float,w.keywords.rg8unorm,w.keywords.rg8snorm,w.keywords.rg8uint,w.keywords.rg8sint,w.keywords.r32uint,w.keywords.r32sint,w.keywords.r32float,w.keywords.rg16uint,w.keywords.rg16sint,w.keywords.rg16float,w.keywords.rgba8unorm,w.keywords.rgba8unorm_srgb,w.keywords.rgba8snorm,w.keywords.rgba8uint,w.keywords.rgba8sint,w.keywords.bgra8unorm,w.keywords.bgra8unorm_srgb,w.keywords.rgb10a2unorm,w.keywords.rg11b10float,w.keywords.rg32uint,w.keywords.rg32sint,w.keywords.rg32float,w.keywords.rgba16uint,w.keywords.rgba16sint,w.keywords.rgba16float,w.keywords.rgba32uint,w.keywords.rgba32sint,w.keywords.rgba32float],h.const_literal=[w.tokens.int_literal,w.tokens.uint_literal,w.tokens.decimal_float_literal,w.tokens.hex_float_literal,w.keywords.true,w.keywords.false],h.literal_or_ident=[w.tokens.ident,w.tokens.int_literal,w.tokens.uint_literal,w.tokens.decimal_float_literal,w.tokens.hex_float_literal,w.tokens.name],h.element_count_expression=[w.tokens.int_literal,w.tokens.uint_literal,w.tokens.ident],h.template_types=[w.keywords.vec2,w.keywords.vec3,w.keywords.vec4,w.keywords.mat2x2,w.keywords.mat2x3,w.keywords.mat2x4,w.keywords.mat3x2,w.keywords.mat3x3,w.keywords.mat3x4,w.keywords.mat4x2,w.keywords.mat4x3,w.keywords.mat4x4,w.keywords.atomic,w.keywords.bitcast,...w.any_texture_type],h.attribute_name=[w.tokens.ident,w.keywords.block,w.keywords.diagnostic],h.assignment_operators=[w.tokens.equal,w.tokens.plus_equal,w.tokens.minus_equal,w.tokens.times_equal,w.tokens.division_equal,w.tokens.modulo_equal,w.tokens.and_equal,w.tokens.or_equal,w.tokens.xor_equal,w.tokens.shift_right_equal,w.tokens.shift_left_equal],h.increment_operators=[w.tokens.plus_plus,w.tokens.minus_minus];var gu=class{constructor(e,n,r,o,s){this.type=e,this.lexeme=n,this.line=r,this.start=o,this.end=s}toString(){return this.lexeme}isTemplateType(){return h.template_types.indexOf(this.type)!=-1}isArrayType(){return this.type==h.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}},Ad=class{constructor(e){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=e??""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new gu(h.eof,"",this._line,this._current,this._current)),this._tokens}scanToken(){let e=this._advance();if(e==`
`)return this._line++,!0;if(this._isWhitespace(e))return!0;if(e=="/"){if(this._peekAhead()=="/"){for(;e!=`
`;){if(this._isAtEnd())return!0;e=this._advance()}return this._line++,!0}if(this._peekAhead()=="*"){this._advance();let i=1;for(;i>0;){if(this._isAtEnd())return!0;if(e=this._advance(),e==`
`)this._line++;else if(e=="*"){if(this._peekAhead()=="/"&&(this._advance(),i--,i==0))return!0}else e=="/"&&this._peekAhead()=="*"&&(this._advance(),i++)}return!0}}let n=h.simpleTokens[e];if(n)return this._addToken(n),!0;let r=h.none,o=this._isAlpha(e),s=e==="_";if(this._isAlphaNumeric(e)){let i=this._peekAhead();for(;this._isAlphaNumeric(i);)e+=this._advance(),i=this._peekAhead()}if(o){let i=h.keywords[e];if(i)return this._addToken(i),!0}if(o||s)return this._addToken(h.tokens.ident),!0;for(;;){let i=this._findType(e),a=this._peekAhead();if(e=="-"&&this._tokens.length>0){if(a=="=")return this._current++,e+=a,this._addToken(h.tokens.minus_equal),!0;if(a=="-")return this._current++,e+=a,this._addToken(h.tokens.minus_minus),!0;let c=this._tokens.length-1;if((h.literal_or_ident.indexOf(this._tokens[c].type)!=-1||this._tokens[c].type==h.tokens.paren_right)&&a!=">")return this._addToken(i),!0}if(e==">"&&(a==">"||a=="=")){let c=!1,u=this._tokens.length-1;for(let l=0;l<5&&u>=0&&h.assignment_operators.indexOf(this._tokens[u].type)===-1;++l,--u)if(this._tokens[u].type===h.tokens.less_than){u>0&&this._tokens[u-1].isArrayOrTemplateType()&&(c=!0);break}if(c)return this._addToken(i),!0}if(i===h.none){let c=e,u=0,l=2;for(let f=0;f<l;++f)if(c+=this._peekAhead(f),i=this._findType(c),i!==h.none){u=f;break}if(i===h.none)return r!==h.none&&(this._current--,this._addToken(r),!0);e=c,this._current+=u+1}if(r=i,this._isAtEnd())break;e+=this._advance()}return r!==h.none&&(this._addToken(r),!0)}_findType(e){for(let r in h.regexTokens){let o=h.regexTokens[r];if(this._match(e,o.rule))return o}return h.literalTokens[e]||h.none}_match(e,n){let r=n.exec(e);return r&&r.index==0&&r[0]==e}_isAtEnd(){return this._current>=this._source.length}_isAlpha(e){return!this._isNumeric(e)&&!this._isWhitespace(e)&&e!=="_"&&e!=="."&&e!=="("&&e!==")"&&e!=="["&&e!=="]"&&e!=="{"&&e!=="}"&&e!==","&&e!==";"&&e!==":"&&e!=="="&&e!=="!"&&e!=="<"&&e!==">"&&e!=="+"&&e!=="-"&&e!=="*"&&e!=="/"&&e!=="%"&&e!=="&"&&e!=="|"&&e!=="^"&&e!=="~"&&e!=="@"&&e!=="#"&&e!=="?"&&e!=="'"&&e!=="`"&&e!=='"'&&e!=="\\"&&e!==`
`&&e!=="\r"&&e!=="	"&&e!=="\0"}_isNumeric(e){return e>="0"&&e<="9"}_isAlphaNumeric(e){return this._isAlpha(e)||this._isNumeric(e)||e==="_"}_isWhitespace(e){return e==" "||e=="	"||e=="\r"}_advance(e=0){let n=this._source[this._current];return e=e||0,e++,this._current+=e,n}_peekAhead(e=0){return e=e||0,this._current+e>=this._source.length?"\0":this._source[this._current+e]}_addToken(e){let n=this._source.substring(this._start,this._current);this._tokens.push(new gu(e,n,this._line,this._start,this._current))}};function R(t){return Array.isArray(t)||t?.buffer instanceof ArrayBuffer}var Au=new Float32Array(1),P3=new Uint32Array(Au.buffer),K3=new Uint32Array(Au.buffer),bu=new Int32Array(1),J3=new Float32Array(bu.buffer),j3=new Uint32Array(bu.buffer),vu=new Uint32Array(1),X3=new Float32Array(vu.buffer),Y3=new Int32Array(vu.buffer);function v1(t,e,n){if(e===n)return t;if(e==="f32"){if(n==="i32"||n==="x32")return Au[0]=t,P3[0];if(n==="u32")return Au[0]=t,K3[0]}else if(e==="i32"||e==="x32"){if(n==="f32")return bu[0]=t,J3[0];if(n==="u32")return bu[0]=t,j3[0]}else if(e==="u32"){if(n==="f32")return vu[0]=t,X3[0];if(n==="i32"||n==="x32")return vu[0]=t,Y3[0]}return console.error(`Unsupported cast from ${e} to ${n}`),t}var bd=class{constructor(e){this.resources=null,this.inUse=!1,this.info=null,this.node=e}},es=class{constructor(e,n){this.align=e,this.size=n}},Nr=class t{constructor(){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new dd,this.functions=[],this._types=new Map,this._functions=new Map}_isStorageTexture(e){return e.name=="texture_storage_1d"||e.name=="texture_storage_2d"||e.name=="texture_storage_2d_array"||e.name=="texture_storage_3d"}updateAST(e){for(let n of e)n instanceof zr&&this._functions.set(n.name,new bd(n));for(let n of e)if(n instanceof Ot){let r=this.getTypeInfo(n,null);r instanceof Jt&&this.structs.push(r)}for(let n of e)if(n instanceof Pi)this.aliases.push(this._getAliasInfo(n));else{if(n instanceof zi){let r=n,o=this._getAttributeNum(r.attributes,"id",0),s=r.type!=null?this.getTypeInfo(r.type,r.attributes):null;this.overrides.push(new ld(r.name,s,r.attributes,o));continue}if(this._isUniformVar(n)){let r=n,o=this._getAttributeNum(r.attributes,"group",0),s=this._getAttributeNum(r.attributes,"binding",0),i=this.getTypeInfo(r.type,r.attributes),a=new $o(r.name,i,o,s,r.attributes,sr.Uniform,r.access);a.access||(a.access="read"),this.uniforms.push(a);continue}if(this._isStorageVar(n)){let r=n,o=this._getAttributeNum(r.attributes,"group",0),s=this._getAttributeNum(r.attributes,"binding",0),i=this.getTypeInfo(r.type,r.attributes),a=this._isStorageTexture(i),c=new $o(r.name,i,o,s,r.attributes,a?sr.StorageTexture:sr.Storage,r.access);c.access||(c.access="read"),this.storage.push(c);continue}if(this._isTextureVar(n)){let r=n,o=this._getAttributeNum(r.attributes,"group",0),s=this._getAttributeNum(r.attributes,"binding",0),i=this.getTypeInfo(r.type,r.attributes),a=this._isStorageTexture(i),c=new $o(r.name,i,o,s,r.attributes,a?sr.StorageTexture:sr.Texture,r.access);c.access||(c.access="read"),a?this.storage.push(c):this.textures.push(c);continue}if(this._isSamplerVar(n)){let r=n,o=this._getAttributeNum(r.attributes,"group",0),s=this._getAttributeNum(r.attributes,"binding",0),i=this.getTypeInfo(r.type,r.attributes),a=new $o(r.name,i,o,s,r.attributes,sr.Sampler,r.access);this.samplers.push(a);continue}}for(let n of e)if(n instanceof zr){let r=this._getAttribute(n,"vertex"),o=this._getAttribute(n,"fragment"),s=this._getAttribute(n,"compute"),i=r||o||s,a=new md(n.name,i?.name,n.attributes);a.attributes=n.attributes,a.startLine=n.startLine,a.endLine=n.endLine,this.functions.push(a),this._functions.get(n.name).info=a,i&&(this._functions.get(n.name).inUse=!0,a.inUse=!0,a.resources=this._findResources(n,!!i),a.inputs=this._getInputs(n.args),a.outputs=this._getOutputs(n.returnType),this.entry[i.name].push(a)),a.arguments=n.args.map(c=>new fd(c.name,this.getTypeInfo(c.type,c.attributes),c.attributes)),a.returnType=n.returnType?this.getTypeInfo(n.returnType,n.attributes):null;continue}for(let n of this._functions.values())n.info&&(n.info.inUse=n.inUse,this._addCalls(n.node,n.info.calls));for(let n of this._functions.values())n.node.search(r=>{var o,s,i;if(r instanceof xu){if(r.value)if(R(r.value))for(let a of r.value)for(let c of this.overrides)a===c.name&&((o=n.info)===null||o===void 0||o.overrides.push(c));else for(let a of this.overrides)r.value===a.name&&((s=n.info)===null||s===void 0||s.overrides.push(a))}else if(r instanceof He)for(let a of this.overrides)r.name===a.name&&((i=n.info)===null||i===void 0||i.overrides.push(a))});for(let n of this.uniforms)this._markStructsInUse(n.type);for(let n of this.storage)this._markStructsInUse(n.type)}getFunctionInfo(e){for(let n of this.functions)if(n.name==e)return n;return null}getStructInfo(e){for(let n of this.structs)if(n.name==e)return n;return null}getOverrideInfo(e){for(let n of this.overrides)if(n.name==e)return n;return null}_markStructsInUse(e){if(e)if(e.isStruct){if(e.inUse=!0,e.members)for(let n of e.members)this._markStructsInUse(n.type)}else if(e.isArray)this._markStructsInUse(e.format);else if(e.isTemplate)e.format&&this._markStructsInUse(e.format);else{let n=this._getAlias(e.name);n&&this._markStructsInUse(n)}}_addCalls(e,n){var r;for(let o of e.calls){let s=(r=this._functions.get(o.name))===null||r===void 0?void 0:r.info;s&&n.add(s)}}findResource(e,n,r){if(r){for(let o of this.entry.compute)if(o.name===r){for(let s of o.resources)if(s.group==e&&s.binding==n)return s}for(let o of this.entry.vertex)if(o.name===r){for(let s of o.resources)if(s.group==e&&s.binding==n)return s}for(let o of this.entry.fragment)if(o.name===r){for(let s of o.resources)if(s.group==e&&s.binding==n)return s}}for(let o of this.uniforms)if(o.group==e&&o.binding==n)return o;for(let o of this.storage)if(o.group==e&&o.binding==n)return o;for(let o of this.textures)if(o.group==e&&o.binding==n)return o;for(let o of this.samplers)if(o.group==e&&o.binding==n)return o;return null}_findResource(e){for(let n of this.uniforms)if(n.name==e)return n;for(let n of this.storage)if(n.name==e)return n;for(let n of this.textures)if(n.name==e)return n;for(let n of this.samplers)if(n.name==e)return n;return null}_markStructsFromAST(e){let n=this.getTypeInfo(e,null);this._markStructsInUse(n)}_findResources(e,n){let r=[],o=this,s=[];return e.search(i=>{if(i instanceof ss)s.push({});else if(i instanceof is)s.pop();else if(i instanceof Gt){let a=i;n&&a.type!==null&&this._markStructsFromAST(a.type),s.length>0&&(s[s.length-1][a.name]=a)}else if(i instanceof St){let a=i;n&&a.type!==null&&this._markStructsFromAST(a.type)}else if(i instanceof Lr){let a=i;n&&a.type!==null&&this._markStructsFromAST(a.type),s.length>0&&(s[s.length-1][a.name]=a)}else if(i instanceof He){let a=i;if(s.length>0&&s[s.length-1][a.name])return;let c=o._findResource(a.name);c&&r.push(c)}else if(i instanceof Ki){let a=i,c=o._functions.get(a.name);c&&(n&&(c.inUse=!0),e.calls.add(c.node),c.resources===null&&(c.resources=o._findResources(c.node,n)),r.push(...c.resources))}else if(i instanceof Hi){let a=i,c=o._functions.get(a.name);c&&(n&&(c.inUse=!0),e.calls.add(c.node),c.resources===null&&(c.resources=o._findResources(c.node,n)),r.push(...c.resources))}}),[...new Map(r.map(i=>[i.name,i])).values()]}getBindGroups(){let e=[];function n(r,o){r>=e.length&&(e.length=r+1),e[r]===void 0&&(e[r]=[]),o>=e[r].length&&(e[r].length=o+1)}for(let r of this.uniforms)n(r.group,r.binding),e[r.group][r.binding]=r;for(let r of this.storage)n(r.group,r.binding),e[r.group][r.binding]=r;for(let r of this.textures)n(r.group,r.binding),e[r.group][r.binding]=r;for(let r of this.samplers)n(r.group,r.binding),e[r.group][r.binding]=r;return e}_getOutputs(e,n=void 0){if(n===void 0&&(n=[]),e instanceof Ot)this._getStructOutputs(e,n);else{let r=this._getOutputInfo(e);r!==null&&n.push(r)}return n}_getStructOutputs(e,n){for(let r of e.members)if(r.type instanceof Ot)this._getStructOutputs(r.type,n);else{let o=this._getAttribute(r,"location")||this._getAttribute(r,"builtin");if(o!==null){let s=this.getTypeInfo(r.type,r.type.attributes),i=this._parseInt(o.value),a=new qc(r.name,s,o.name,i);n.push(a)}}}_getOutputInfo(e){let n=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(n!==null){let r=this.getTypeInfo(e,e.attributes),o=this._parseInt(n.value);return new qc("",r,n.name,o)}return null}_getInputs(e,n=void 0){n===void 0&&(n=[]);for(let r of e)if(r.type instanceof Ot)this._getStructInputs(r.type,n);else{let o=this._getInputInfo(r);o!==null&&n.push(o)}return n}_getStructInputs(e,n){for(let r of e.members)if(r.type instanceof Ot)this._getStructInputs(r.type,n);else{let o=this._getInputInfo(r);o!==null&&n.push(o)}}_getInputInfo(e){let n=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(n!==null){let r=this._getAttribute(e,"interpolation"),o=this.getTypeInfo(e.type,e.attributes),s=this._parseInt(n.value),i=new ud(e.name,o,n.name,s);return r!==null&&(i.interpolation=this._parseString(r.value)),i}return null}_parseString(e){return e instanceof Array&&(e=e[0]),e}_parseInt(e){e instanceof Array&&(e=e[0]);let n=parseInt(e);return isNaN(n)?e:n}_getAlias(e){for(let n of this.aliases)if(n.name==e)return n.type;return null}_getAliasInfo(e){return new cd(e.name,this.getTypeInfo(e.type,null))}getTypeInfoByName(e){for(let n of this.structs)if(n.name==e)return n;for(let n of this.aliases)if(n.name==e)return n.type;return null}getTypeInfo(e,n=null){if(this._types.has(e))return this._types.get(e);if(e instanceof ns){let o=e.type?this.getTypeInfo(e.type,e.attributes):null,s=new Fi(e.name,o,n);return this._types.set(e,s),this._updateTypeInfo(s),s}if(e instanceof Fr){let o=e,s=o.format?this.getTypeInfo(o.format,o.attributes):null,i=new jt(o.name,n);return i.format=s,i.count=o.count,this._types.set(e,i),this._updateTypeInfo(i),i}if(e instanceof Ot){let o=e,s=new Jt(o.name,n);s.startLine=o.startLine,s.endLine=o.endLine;for(let i of o.members){let a=this.getTypeInfo(i.type,i.attributes);s.members.push(new Qc(i.name,a,i.attributes))}return this._types.set(e,s),this._updateTypeInfo(s),s}if(e instanceof Ur){let o=e,s=o.format instanceof M,i=o.format?s?this.getTypeInfo(o.format,null):new $e(o.format,null):null,a=new Sn(o.name,i,n,o.access);return this._types.set(e,a),this._updateTypeInfo(a),a}if(e instanceof B){let o=e,s=o.format?this.getTypeInfo(o.format,null):null,i=new Sn(o.name,s,n,o.access);return this._types.set(e,i),this._updateTypeInfo(i),i}let r=new $e(e.name,n);return this._types.set(e,r),this._updateTypeInfo(r),r}_updateTypeInfo(e){var n,r,o;let s=this._getTypeSize(e);if(e.size=(n=s?.size)!==null&&n!==void 0?n:0,e instanceof jt&&e.format){let i=this._getTypeSize(e.format);e.stride=Math.max((r=i?.size)!==null&&r!==void 0?r:0,(o=i?.align)!==null&&o!==void 0?o:0),this._updateTypeInfo(e.format)}e instanceof Fi&&this._updateTypeInfo(e.format),e instanceof Jt&&this._updateStructInfo(e)}_updateStructInfo(e){var n;let r=0,o=0,s=0,i=0;for(let a=0,c=e.members.length;a<c;++a){let u=e.members[a],l=this._getTypeSize(u);if(!l)continue;(n=this._getAlias(u.type.name))!==null&&n!==void 0||u.type;let f=l.align,m=l.size;r=this._roundUp(f,r+o),o=m,s=r,i=Math.max(i,f),u.offset=r,u.size=m,this._updateTypeInfo(u.type)}e.size=this._roundUp(i,s+o),e.align=i}_getTypeSize(e){var n,r;if(e==null)return null;let o=this._getAttributeNum(e.attributes,"size",0),s=this._getAttributeNum(e.attributes,"align",0);if(e instanceof Qc&&(e=e.type),e instanceof $e){let i=this._getAlias(e.name);i!==null&&(e=i)}{let i=t._typeInfo[e.name];if(i!==void 0){let a=((n=e.format)===null||n===void 0?void 0:n.name)==="f16"?2:1;return new es(Math.max(s,i.align/a),Math.max(o,i.size/a))}}{let i=t._typeInfo[e.name.substring(0,e.name.length-1)];if(i){let a=e.name[e.name.length-1]==="h"?2:1;return new es(Math.max(s,i.align/a),Math.max(o,i.size/a))}}if(e instanceof jt){let i=e,a=8,c=8,u=this._getTypeSize(i.format);return u!==null&&(c=u.size,a=u.align),c=i.count*this._getAttributeNum((r=e?.attributes)!==null&&r!==void 0?r:null,"stride",this._roundUp(a,c)),o&&(c=o),new es(Math.max(s,a),Math.max(o,c))}if(e instanceof Jt){let i=0,a=0,c=0,u=0,l=0;for(let f of e.members){let m=this._getTypeSize(f.type);m!==null&&(i=Math.max(m.align,i),c=this._roundUp(m.align,c+u),u=m.size,l=c)}return a=this._roundUp(i,l+u),new es(Math.max(s,i),Math.max(o,a))}return null}_isUniformVar(e){return e instanceof Gt&&e.storage=="uniform"}_isStorageVar(e){return e instanceof Gt&&e.storage=="storage"}_isTextureVar(e){return e instanceof Gt&&e.type!==null&&t._textureTypes.indexOf(e.type.name)!=-1}_isSamplerVar(e){return e instanceof Gt&&e.type!==null&&t._samplerTypes.indexOf(e.type.name)!=-1}_getAttribute(e,n){let r=e;if(!r||!r.attributes)return null;let o=r.attributes;for(let s of o)if(s.name==n)return s;return null}_getAttributeNum(e,n,r){if(e===null)return r;for(let o of e)if(o.name==n){let s=o!==null&&o.value!==null?o.value:r;return s instanceof Array&&(s=s[0]),typeof s=="number"?s:typeof s=="string"?parseInt(s):r}return r}_roundUp(e,n){return Math.ceil(n/e)*e}};Nr._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},Nr._textureTypes=h.any_texture_type.map(t=>t.name),Nr._samplerTypes=h.sampler_type.map(t=>t.name);var Md=0,vd=class t{constructor(e,n,r){this.id=Md++,this.name=e,this.value=n,this.node=r}clone(){return new t(this.name,this.value,this.node)}},_d=class t{constructor(e){this.id=Md++,this.name=e.name,this.node=e}clone(){return new t(this.node)}},Td=class t{constructor(e){this.parent=null,this.variables=new Map,this.functions=new Map,this.currentFunctionName="",this.id=Md++,e&&(this.parent=e,this.currentFunctionName=e.currentFunctionName)}getVariable(e){var n;return this.variables.has(e)?(n=this.variables.get(e))!==null&&n!==void 0?n:null:this.parent?this.parent.getVariable(e):null}getFunction(e){var n;return this.functions.has(e)?(n=this.functions.get(e))!==null&&n!==void 0?n:null:this.parent?this.parent.getFunction(e):null}createVariable(e,n,r){this.variables.set(e,new vd(e,n,r??null))}setVariable(e,n,r){let o=this.getVariable(e);o!==null?o.value=n:this.createVariable(e,n,r)}getVariableValue(e){var n;let r=this.getVariable(e);return(n=r?.value)!==null&&n!==void 0?n:null}clone(){return new t(this)}},Bd=class{evalExpression(e,n){return null}getTypeInfo(e){return null}getVariableName(e,n){return""}},wd=class{constructor(e){this.exec=e}getTypeInfo(e){return this.exec.getTypeInfo(e)}All(e,n){let r=this.exec.evalExpression(e.args[0],n),o=!0;if(r instanceof p)return r.data.forEach(s=>{s||(o=!1)}),new T(o?1:0,this.getTypeInfo("bool"));throw new Error(`All() expects a vector argument. Line ${e.line}`)}Any(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p){let o=r.data.some(s=>s);return new T(o?1:0,this.getTypeInfo("bool"))}throw new Error(`Any() expects a vector argument. Line ${e.line}`)}Select(e,n){let r=this.exec.evalExpression(e.args[2],n);if(!(r instanceof T))throw new Error(`Select() expects a bool condition. Line ${e.line}`);return r.value?this.exec.evalExpression(e.args[1],n):this.exec.evalExpression(e.args[0],n)}ArrayLength(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.evalExpression(r,n);if(o instanceof be&&o.typeInfo.size===0){let s=o.typeInfo,i=o.buffer.byteLength/s.stride;return new T(i,this.getTypeInfo("u32"))}return new T(o.typeInfo.size,this.getTypeInfo("u32"))}Abs(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.abs(s)),r.typeInfo);let o=r;return new T(Math.abs(o.value),o.typeInfo)}Acos(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.acos(s)),r.typeInfo);let o=r;return new T(Math.acos(o.value),r.typeInfo)}Acosh(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.acosh(s)),r.typeInfo);let o=r;return new T(Math.acosh(o.value),r.typeInfo)}Asin(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.asin(s)),r.typeInfo);let o=r;return new T(Math.asin(o.value),r.typeInfo)}Asinh(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.asinh(s)),r.typeInfo);let o=r;return new T(Math.asinh(o.value),r.typeInfo)}Atan(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.atan(s)),r.typeInfo);let o=r;return new T(Math.atan(o.value),r.typeInfo)}Atanh(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.atanh(s)),r.typeInfo);let o=r;return new T(Math.atanh(o.value),r.typeInfo)}Atan2(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(r instanceof p&&o instanceof p)return new p(r.data.map((a,c)=>Math.atan2(a,o.data[c])),r.typeInfo);let s=r,i=o;return new T(Math.atan2(s.value,i.value),r.typeInfo)}Ceil(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.ceil(s)),r.typeInfo);let o=r;return new T(Math.ceil(o.value),r.typeInfo)}_clamp(e,n,r){return Math.min(Math.max(e,n),r)}Clamp(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n),s=this.exec.evalExpression(e.args[2],n);if(r instanceof p&&o instanceof p&&s instanceof p)return new p(r.data.map((u,l)=>this._clamp(u,o.data[l],s.data[l])),r.typeInfo);let i=r,a=o,c=s;return new T(this._clamp(i.value,a.value,c.value),r.typeInfo)}Cos(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.cos(s)),r.typeInfo);let o=r;return new T(Math.cos(o.value),r.typeInfo)}Cosh(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.cosh(s)),r.typeInfo);let o=r;return new T(Math.cos(o.value),r.typeInfo)}CountLeadingZeros(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.clz32(s)),r.typeInfo);let o=r;return new T(Math.clz32(o.value),r.typeInfo)}_countOneBits(e){let n=0;for(;e!==0;)1&e&&n++,e>>=1;return n}CountOneBits(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>this._countOneBits(s)),r.typeInfo);let o=r;return new T(this._countOneBits(o.value),r.typeInfo)}_countTrailingZeros(e){if(e===0)return 32;let n=0;for(;!(1&e);)e>>=1,n++;return n}CountTrailingZeros(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>this._countTrailingZeros(s)),r.typeInfo);let o=r;return new T(this._countTrailingZeros(o.value),r.typeInfo)}Cross(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(r instanceof p&&o instanceof p){if(r.data.length!==3||o.data.length!==3)return console.error(`Cross() expects 3D vectors. Line ${e.line}`),null;let s=r.data,i=o.data;return new p([s[1]*i[2]-i[1]*s[2],s[2]*i[0]-i[2]*s[0],s[0]*i[1]-i[0]*s[1]],r.typeInfo)}return console.error(`Cross() expects vector arguments. Line ${e.line}`),null}Degrees(e,n){let r=this.exec.evalExpression(e.args[0],n),o=180/Math.PI;return r instanceof p?new p(r.data.map(s=>s*o),r.typeInfo):new T(r.value*o,this.getTypeInfo("f32"))}Determinant(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof U){let o=r.data,s=r.typeInfo.getTypeName(),i=s.endsWith("h")?this.getTypeInfo("f16"):this.getTypeInfo("f32");if(s==="mat2x2"||s==="mat2x2f"||s==="mat2x2h")return new T(o[0]*o[3]-o[1]*o[2],i);if(s==="mat2x3"||s==="mat2x3f"||s==="mat2x3h")return new T(o[0]*(o[4]*o[8]-o[5]*o[7])-o[1]*(o[3]*o[8]-o[5]*o[6])+o[2]*(o[3]*o[7]-o[4]*o[6]),i);if(s==="mat2x4"||s==="mat2x4f"||s==="mat2x4h")console.error(`TODO: Determinant for ${s}`);else if(s==="mat3x2"||s==="mat3x2f"||s==="mat3x2h")console.error(`TODO: Determinant for ${s}`);else{if(s==="mat3x3"||s==="mat3x3f"||s==="mat3x3h")return new T(o[0]*(o[4]*o[8]-o[5]*o[7])-o[1]*(o[3]*o[8]-o[5]*o[6])+o[2]*(o[3]*o[7]-o[4]*o[6]),i);s==="mat3x4"||s==="mat3x4f"||s==="mat3x4h"||s==="mat4x2"||s==="mat4x2f"||s==="mat4x2h"||s==="mat4x3"||s==="mat4x3f"||s==="mat4x3h"?console.error(`TODO: Determinant for ${s}`):s!=="mat4x4"&&s!=="mat4x4f"&&s!=="mat4x4h"||console.error(`TODO: Determinant for ${s}`)}}return console.error(`Determinant expects a matrix argument. Line ${e.line}`),null}Distance(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(r instanceof p&&o instanceof p){let a=0;for(let c=0;c<r.data.length;++c)a+=(r.data[c]-o.data[c])*(r.data[c]-o.data[c]);return new T(Math.sqrt(a),this.getTypeInfo("f32"))}let s=r,i=o;return new T(Math.abs(s.value-i.value),r.typeInfo)}_dot(e,n){let r=0;for(let o=0;o<e.length;++o)r+=n[o]*e[o];return r}Dot(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);return r instanceof p&&o instanceof p?new T(this._dot(r.data,o.data),this.getTypeInfo("f32")):(console.error(`Dot() expects vector arguments. Line ${e.line}`),null)}Dot4U8Packed(e,n){return console.error(`TODO: dot4U8Packed. Line ${e.line}`),null}Dot4I8Packed(e,n){return console.error(`TODO: dot4I8Packed. Line ${e.line}`),null}Exp(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.exp(s)),r.typeInfo);let o=r;return new T(Math.exp(o.value),r.typeInfo)}Exp2(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.pow(2,s)),r.typeInfo);let o=r;return new T(Math.pow(2,o.value),r.typeInfo)}ExtractBits(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n),s=this.exec.evalExpression(e.args[2],n);if(o.typeInfo.name!=="u32"&&o.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 offset argument. Line ${e.line}`),null;if(s.typeInfo.name!=="u32"&&s.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 count argument. Line ${e.line}`),null;let i=o.value,a=s.value;if(r instanceof p)return new p(r.data.map(u=>u>>i&(1<<a)-1),r.typeInfo);if(r.typeInfo.name!=="i32"&&r.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 argument. Line ${e.line}`),null;let c=r.value;return new T(c>>i&(1<<a)-1,this.getTypeInfo("i32"))}FaceForward(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n),s=this.exec.evalExpression(e.args[2],n);if(r instanceof p&&o instanceof p&&s instanceof p){let i=this._dot(o.data,s.data);return new p(i<0?Array.from(r.data):r.data.map(a=>-a),r.typeInfo)}return console.error(`FaceForward() expects vector arguments. Line ${e.line}`),null}_firstLeadingBit(e){return e===0?-1:31-Math.clz32(e)}FirstLeadingBit(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>this._firstLeadingBit(s)),r.typeInfo);let o=r;return new T(this._firstLeadingBit(o.value),r.typeInfo)}_firstTrailingBit(e){return e===0?-1:Math.log2(e&-e)}FirstTrailingBit(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>this._firstTrailingBit(s)),r.typeInfo);let o=r;return new T(this._firstTrailingBit(o.value),r.typeInfo)}Floor(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.floor(s)),r.typeInfo);let o=r;return new T(Math.floor(o.value),r.typeInfo)}Fma(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n),s=this.exec.evalExpression(e.args[2],n);if(r instanceof p&&o instanceof p&&s instanceof p)return r.data.length!==o.data.length||r.data.length!==s.data.length?(console.error(`Fma() expects vectors of the same length. Line ${e.line}`),null):new p(r.data.map((u,l)=>u*o.data[l]+s.data[l]),r.typeInfo);let i=r,a=o,c=s;return new T(i.value*a.value+c.value,i.typeInfo)}Fract(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>s-Math.floor(s)),r.typeInfo);let o=r;return new T(o.value-Math.floor(o.value),r.typeInfo)}Frexp(e,n){return console.error(`TODO: frexp. Line ${e.line}`),null}InsertBits(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n),s=this.exec.evalExpression(e.args[2],n),i=this.exec.evalExpression(e.args[3],n);if(s.typeInfo.name!=="u32"&&s.typeInfo.name!=="x32")return console.error(`InsertBits() expects an i32 offset argument. Line ${e.line}`),null;let a=s.value,c=(1<<i.value)-1<<a,u=~c;if(r instanceof p&&o instanceof p)return new p(r.data.map((m,d)=>m&u|o.data[d]<<a&c),r.typeInfo);let l=r.value,f=o.value;return new T(l&u|f<<a&c,r.typeInfo)}InverseSqrt(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>1/Math.sqrt(s)),r.typeInfo);let o=r;return new T(1/Math.sqrt(o.value),r.typeInfo)}Ldexp(e,n){return console.error(`TODO: ldexp. Line ${e.line}`),null}Length(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p){let s=0;return r.data.forEach(i=>{s+=i*i}),new T(Math.sqrt(s),this.getTypeInfo("f32"))}let o=r;return new T(Math.abs(o.value),r.typeInfo)}Log(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.log(s)),r.typeInfo);let o=r;return new T(Math.log(o.value),r.typeInfo)}Log2(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.log2(s)),r.typeInfo);let o=r;return new T(Math.log2(o.value),r.typeInfo)}Max(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(r instanceof p&&o instanceof p)return new p(r.data.map((a,c)=>Math.max(a,o.data[c])),r.typeInfo);let s=r,i=o;return new T(Math.max(s.value,i.value),r.typeInfo)}Min(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(r instanceof p&&o instanceof p)return new p(r.data.map((a,c)=>Math.min(a,o.data[c])),r.typeInfo);let s=r,i=o;return new T(Math.min(s.value,i.value),r.typeInfo)}Mix(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n),s=this.exec.evalExpression(e.args[2],n);if(r instanceof p&&o instanceof p&&s instanceof p)return new p(r.data.map((c,u)=>r.data[u]*(1-s.data[u])+o.data[u]*s.data[u]),r.typeInfo);let i=o,a=s;return new T(r.value*(1-a.value)+i.value*a.value,r.typeInfo)}Modf(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(r instanceof p&&o instanceof p)return new p(r.data.map((i,a)=>i%o.data[a]),r.typeInfo);let s=o;return new T(r.value%s.value,r.typeInfo)}Normalize(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p){let o=this.Length(e,n).value;return new p(r.data.map(s=>s/o),r.typeInfo)}return console.error(`Normalize() expects a vector argument. Line ${e.line}`),null}Pow(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(r instanceof p&&o instanceof p)return new p(r.data.map((a,c)=>Math.pow(a,o.data[c])),r.typeInfo);let s=r,i=o;return new T(Math.pow(s.value,i.value),r.typeInfo)}QuantizeToF16(e,n){let r=this.exec.evalExpression(e.args[0],n);return r instanceof p?new p(r.data.map(o=>o),r.typeInfo):new T(r.value,r.typeInfo)}Radians(e,n){let r=this.exec.evalExpression(e.args[0],n);return r instanceof p?new p(r.data.map(o=>o*Math.PI/180),r.typeInfo):new T(r.value*Math.PI/180,this.getTypeInfo("f32"))}Reflect(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(r instanceof p&&o instanceof p){let s=this._dot(r.data,o.data);return new p(r.data.map((i,a)=>i-2*s*o.data[a]),r.typeInfo)}return console.error(`Reflect() expects vector arguments. Line ${e.line}`),null}Refract(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n),s=this.exec.evalExpression(e.args[2],n);if(r instanceof p&&o instanceof p&&s instanceof T){let i=this._dot(o.data,r.data);return new p(r.data.map((a,c)=>{let u=1-s.value*s.value*(1-i*i);if(u<0)return 0;let l=Math.sqrt(u);return s.value*a-(s.value*i+l)*o.data[c]}),r.typeInfo)}return console.error(`Refract() expects vector arguments and a scalar argument. Line ${e.line}`),null}ReverseBits(e,n){return console.error(`TODO: reverseBits. Line ${e.line}`),null}Round(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.round(s)),r.typeInfo);let o=r;return new T(Math.round(o.value),r.typeInfo)}Saturate(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.min(Math.max(s,0),1)),r.typeInfo);let o=r;return new T(Math.min(Math.max(o.value,0),1),r.typeInfo)}Sign(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.sign(s)),r.typeInfo);let o=r;return new T(Math.sign(o.value),r.typeInfo)}Sin(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.sin(s)),r.typeInfo);let o=r;return new T(Math.sin(o.value),r.typeInfo)}Sinh(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.sinh(s)),r.typeInfo);let o=r;return new T(Math.sinh(o.value),r.typeInfo)}_smoothstep(e,n,r){let o=Math.min(Math.max((r-e)/(n-e),0),1);return o*o*(3-2*o)}SmoothStep(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n),s=this.exec.evalExpression(e.args[2],n);if(s instanceof p&&r instanceof p&&o instanceof p)return new p(s.data.map((u,l)=>this._smoothstep(r.data[l],o.data[l],u)),s.typeInfo);let i=r,a=o,c=s;return new T(this._smoothstep(i.value,a.value,c.value),s.typeInfo)}Sqrt(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.sqrt(s)),r.typeInfo);let o=r;return new T(Math.sqrt(o.value),r.typeInfo)}Step(e,n){let r=this.exec.evalExpression(e.args[0],n),o=this.exec.evalExpression(e.args[1],n);if(o instanceof p&&r instanceof p)return new p(o.data.map((i,a)=>i<r.data[a]?0:1),o.typeInfo);let s=r;return new T(o.value<s.value?0:1,s.typeInfo)}Tan(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.tan(s)),r.typeInfo);let o=r;return new T(Math.tan(o.value),r.typeInfo)}Tanh(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.tanh(s)),r.typeInfo);let o=r;return new T(Math.tanh(o.value),r.typeInfo)}_getTransposeType(e){let n=e.getTypeName();return n==="mat2x2f"||n==="mat2x2h"?e:n==="mat2x3f"?this.getTypeInfo("mat3x2f"):n==="mat2x3h"?this.getTypeInfo("mat3x2h"):n==="mat2x4f"?this.getTypeInfo("mat4x2f"):n==="mat2x4h"?this.getTypeInfo("mat4x2h"):n==="mat3x2f"?this.getTypeInfo("mat2x3f"):n==="mat3x2h"?this.getTypeInfo("mat2x3h"):n==="mat3x3f"||n==="mat3x3h"?e:n==="mat3x4f"?this.getTypeInfo("mat4x3f"):n==="mat3x4h"?this.getTypeInfo("mat4x3h"):n==="mat4x2f"?this.getTypeInfo("mat2x4f"):n==="mat4x2h"?this.getTypeInfo("mat2x4h"):n==="mat4x3f"?this.getTypeInfo("mat3x4f"):n==="mat4x3h"?this.getTypeInfo("mat3x4h"):(n==="mat4x4f"||n==="mat4x4h"||console.error(`Invalid matrix type ${n}`),e)}Transpose(e,n){let r=this.exec.evalExpression(e.args[0],n);if(!(r instanceof U))return console.error(`Transpose() expects a matrix argument. Line ${e.line}`),null;let o=this._getTransposeType(r.typeInfo);if(r.typeInfo.name==="mat2x2"||r.typeInfo.name==="mat2x2f"||r.typeInfo.name==="mat2x2h"){let s=r.data;return new U([s[0],s[2],s[1],s[3]],o)}if(r.typeInfo.name==="mat2x3"||r.typeInfo.name==="mat2x3f"||r.typeInfo.name==="mat2x3h"){let s=r.data;return new U([s[0],s[3],s[6],s[1],s[4],s[7]],o)}if(r.typeInfo.name==="mat2x4"||r.typeInfo.name==="mat2x4f"||r.typeInfo.name==="mat2x4h"){let s=r.data;return new U([s[0],s[4],s[8],s[12],s[1],s[5],s[9],s[13]],o)}if(r.typeInfo.name==="mat3x2"||r.typeInfo.name==="mat3x2f"||r.typeInfo.name==="mat3x2h"){let s=r.data;return new U([s[0],s[3],s[1],s[4],s[2],s[5]],o)}if(r.typeInfo.name==="mat3x3"||r.typeInfo.name==="mat3x3f"||r.typeInfo.name==="mat3x3h"){let s=r.data;return new U([s[0],s[3],s[6],s[1],s[4],s[7],s[2],s[5],s[8]],o)}if(r.typeInfo.name==="mat3x4"||r.typeInfo.name==="mat3x4f"||r.typeInfo.name==="mat3x4h"){let s=r.data;return new U([s[0],s[4],s[8],s[12],s[1],s[5],s[9],s[13],s[2],s[6],s[10],s[14]],o)}if(r.typeInfo.name==="mat4x2"||r.typeInfo.name==="mat4x2f"||r.typeInfo.name==="mat4x2h"){let s=r.data;return new U([s[0],s[4],s[1],s[5],s[2],s[6]],o)}if(r.typeInfo.name==="mat4x3"||r.typeInfo.name==="mat4x3f"||r.typeInfo.name==="mat4x3h"){let s=r.data;return new U([s[0],s[4],s[8],s[1],s[5],s[9],s[2],s[6],s[10]],o)}if(r.typeInfo.name==="mat4x4"||r.typeInfo.name==="mat4x4f"||r.typeInfo.name==="mat4x4h"){let s=r.data;return new U([s[0],s[4],s[8],s[12],s[1],s[5],s[9],s[13],s[2],s[6],s[10],s[14],s[3],s[7],s[11],s[15]],o)}return console.error(`Invalid matrix type ${r.typeInfo.name}`),null}Trunc(e,n){let r=this.exec.evalExpression(e.args[0],n);if(r instanceof p)return new p(r.data.map(s=>Math.trunc(s)),r.typeInfo);let o=r;return new T(Math.trunc(o.value),r.typeInfo)}Dpdx(e,n){return console.error(`TODO: dpdx. Line ${e.line}`),null}DpdxCoarse(e,n){return console.error(`TODO: dpdxCoarse. Line ${e.line}`),null}DpdxFine(e,n){return console.error("TODO: dpdxFine"),null}Dpdy(e,n){return console.error("TODO: dpdy"),null}DpdyCoarse(e,n){return console.error("TODO: dpdyCoarse"),null}DpdyFine(e,n){return console.error("TODO: dpdyFine"),null}Fwidth(e,n){return console.error("TODO: fwidth"),null}FwidthCoarse(e,n){return console.error("TODO: fwidthCoarse"),null}FwidthFine(e,n){return console.error("TODO: fwidthFine"),null}TextureDimensions(e,n){let r=e.args[0],o=e.args.length>1?this.exec.evalExpression(e.args[1],n).value:0;if(r instanceof He){let s=r.name,i=n.getVariableValue(s);if(i instanceof En){if(o<0||o>=i.mipLevelCount)return console.error(`Invalid mip level for textureDimensions. Line ${e.line}`),null;let a=i.getMipLevelSize(o),c=i.dimension;return c==="1d"?new T(a[0],this.getTypeInfo("u32")):c==="3d"?new p(a,this.getTypeInfo("vec3u")):c==="2d"?new p(a.slice(0,2),this.getTypeInfo("vec2u")):(console.error(`Invalid texture dimension ${c} not found. Line ${e.line}`),null)}return console.error(`Texture ${s} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureDimensions. Line ${e.line}`),null}TextureGather(e,n){return console.error("TODO: textureGather"),null}TextureGatherCompare(e,n){return console.error("TODO: textureGatherCompare"),null}TextureLoad(e,n){let r=e.args[0],o=this.exec.evalExpression(e.args[1],n),s=e.args.length>2?this.exec.evalExpression(e.args[2],n).value:0;if(!(o instanceof p)||o.data.length!==2)return console.error(`Invalid UV argument for textureLoad. Line ${e.line}`),null;if(r instanceof He){let i=r.name,a=n.getVariableValue(i);if(a instanceof En){let c=Math.floor(o.data[0]),u=Math.floor(o.data[1]);if(c<0||c>=a.width||u<0||u>=a.height)return console.error(`Texture ${i} out of bounds. Line ${e.line}`),null;let l=a.getPixel(c,u,0,s);return l===null?(console.error(`Invalid texture format for textureLoad. Line ${e.line}`),null):new p(l,this.getTypeInfo("vec4f"))}return console.error(`Texture ${i} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureLoad. Line ${e.line}`),null}TextureNumLayers(e,n){let r=e.args[0];if(r instanceof He){let o=r.name,s=n.getVariableValue(o);return s instanceof En?new T(s.depthOrArrayLayers,this.getTypeInfo("u32")):(console.error(`Texture ${o} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLayers. Line ${e.line}`),null}TextureNumLevels(e,n){let r=e.args[0];if(r instanceof He){let o=r.name,s=n.getVariableValue(o);return s instanceof En?new T(s.mipLevelCount,this.getTypeInfo("u32")):(console.error(`Texture ${o} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLevels. Line ${e.line}`),null}TextureNumSamples(e,n){let r=e.args[0];if(r instanceof He){let o=r.name,s=n.getVariableValue(o);return s instanceof En?new T(s.sampleCount,this.getTypeInfo("u32")):(console.error(`Texture ${o} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumSamples. Line ${e.line}`),null}TextureSample(e,n){return console.error("TODO: textureSample"),null}TextureSampleBias(e,n){return console.error("TODO: textureSampleBias"),null}TextureSampleCompare(e,n){return console.error("TODO: textureSampleCompare"),null}TextureSampleCompareLevel(e,n){return console.error("TODO: textureSampleCompareLevel"),null}TextureSampleGrad(e,n){return console.error("TODO: textureSampleGrad"),null}TextureSampleLevel(e,n){return console.error("TODO: textureSampleLevel"),null}TextureSampleBaseClampToEdge(e,n){return console.error("TODO: textureSampleBaseClampToEdge"),null}TextureStore(e,n){let r=e.args[0],o=this.exec.evalExpression(e.args[1],n),s=e.args.length===4?this.exec.evalExpression(e.args[2],n).value:0,i=e.args.length===4?this.exec.evalExpression(e.args[3],n).data:this.exec.evalExpression(e.args[2],n).data;if(i.length!==4)return console.error(`Invalid value argument for textureStore. Line ${e.line}`),null;if(!(o instanceof p)||o.data.length!==2)return console.error(`Invalid UV argument for textureStore. Line ${e.line}`),null;if(r instanceof He){let a=r.name,c=n.getVariableValue(a);if(c instanceof En){let u=c.getMipLevelSize(0),l=Math.floor(o.data[0]),f=Math.floor(o.data[1]);return l<0||l>=u[0]||f<0||f>=u[1]?(console.error(`Texture ${a} out of bounds. Line ${e.line}`),null):(c.setPixel(l,f,0,s,Array.from(i)),null)}return console.error(`Texture ${a} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureStore. Line ${e.line}`),null}AtomicLoad(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n);return n.getVariable(o).value.getSubData(this.exec,r.postfix,n)}AtomicStore(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n);return c instanceof T&&a instanceof T&&(c.value=a.value),s.value instanceof be&&s.value.setDataValue(this.exec,c,r.postfix,n),null}AtomicAdd(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n),u=new T(c.value,c.typeInfo);return c instanceof T&&a instanceof T&&(c.value+=a.value),s.value instanceof be&&s.value.setDataValue(this.exec,c,r.postfix,n),u}AtomicSub(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n),u=new T(c.value,c.typeInfo);return c instanceof T&&a instanceof T&&(c.value-=a.value),s.value instanceof be&&s.value.setDataValue(this.exec,c,r.postfix,n),u}AtomicMax(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n),u=new T(c.value,c.typeInfo);return c instanceof T&&a instanceof T&&(c.value=Math.max(c.value,a.value)),s.value instanceof be&&s.value.setDataValue(this.exec,c,r.postfix,n),u}AtomicMin(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n),u=new T(c.value,c.typeInfo);return c instanceof T&&a instanceof T&&(c.value=Math.min(c.value,a.value)),s.value instanceof be&&s.value.setDataValue(this.exec,c,r.postfix,n),u}AtomicAnd(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n),u=new T(c.value,c.typeInfo);return c instanceof T&&a instanceof T&&(c.value=c.value&a.value),s.value instanceof be&&s.value.setDataValue(this.exec,c,r.postfix,n),u}AtomicOr(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n),u=new T(c.value,c.typeInfo);return c instanceof T&&a instanceof T&&(c.value=c.value|a.value),s.value instanceof be&&s.value.setDataValue(this.exec,c,r.postfix,n),u}AtomicXor(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n),u=new T(c.value,c.typeInfo);return c instanceof T&&a instanceof T&&(c.value=c.value^a.value),s.value instanceof be&&s.value.setDataValue(this.exec,c,r.postfix,n),u}AtomicExchange(e,n){let r=e.args[0];r instanceof me&&(r=r.right);let o=this.exec.getVariableName(r,n),s=n.getVariable(o),i=e.args[1],a=this.exec.evalExpression(i,n),c=s.value.getSubData(this.exec,r.postfix,n),u=new T(c.value,c.typeInfo);return c instanceof T&&a instanceof T&&(c.value=a.value),s.value instanceof be&&s.value.setDataValue(this.exec,c,r.postfix,n),u}AtomicCompareExchangeWeak(e,n){return console.error("TODO: atomicCompareExchangeWeak"),null}Pack4x8snorm(e,n){return console.error("TODO: pack4x8snorm"),null}Pack4x8unorm(e,n){return console.error("TODO: pack4x8unorm"),null}Pack4xI8(e,n){return console.error("TODO: pack4xI8"),null}Pack4xU8(e,n){return console.error("TODO: pack4xU8"),null}Pack4x8Clamp(e,n){return console.error("TODO: pack4x8Clamp"),null}Pack4xU8Clamp(e,n){return console.error("TODO: pack4xU8Clamp"),null}Pack2x16snorm(e,n){return console.error("TODO: pack2x16snorm"),null}Pack2x16unorm(e,n){return console.error("TODO: pack2x16unorm"),null}Pack2x16float(e,n){return console.error("TODO: pack2x16float"),null}Unpack4x8snorm(e,n){return console.error("TODO: unpack4x8snorm"),null}Unpack4x8unorm(e,n){return console.error("TODO: unpack4x8unorm"),null}Unpack4xI8(e,n){return console.error("TODO: unpack4xI8"),null}Unpack4xU8(e,n){return console.error("TODO: unpack4xU8"),null}Unpack2x16snorm(e,n){return console.error("TODO: unpack2x16snorm"),null}Unpack2x16unorm(e,n){return console.error("TODO: unpack2x16unorm"),null}Unpack2x16float(e,n){return console.error("TODO: unpack2x16float"),null}StorageBarrier(e,n){return null}TextureBarrier(e,n){return null}WorkgroupBarrier(e,n){return null}WorkgroupUniformLoad(e,n){return null}SubgroupAdd(e,n){return console.error("TODO: subgroupAdd"),null}SubgroupExclusiveAdd(e,n){return console.error("TODO: subgroupExclusiveAdd"),null}SubgroupInclusiveAdd(e,n){return console.error("TODO: subgroupInclusiveAdd"),null}SubgroupAll(e,n){return console.error("TODO: subgroupAll"),null}SubgroupAnd(e,n){return console.error("TODO: subgroupAnd"),null}SubgroupAny(e,n){return console.error("TODO: subgroupAny"),null}SubgroupBallot(e,n){return console.error("TODO: subgroupBallot"),null}SubgroupBroadcast(e,n){return console.error("TODO: subgroupBroadcast"),null}SubgroupBroadcastFirst(e,n){return console.error("TODO: subgroupBroadcastFirst"),null}SubgroupElect(e,n){return console.error("TODO: subgroupElect"),null}SubgroupMax(e,n){return console.error("TODO: subgroupMax"),null}SubgroupMin(e,n){return console.error("TODO: subgroupMin"),null}SubgroupMul(e,n){return console.error("TODO: subgroupMul"),null}SubgroupExclusiveMul(e,n){return console.error("TODO: subgroupExclusiveMul"),null}SubgroupInclusiveMul(e,n){return console.error("TODO: subgroupInclusiveMul"),null}SubgroupOr(e,n){return console.error("TODO: subgroupOr"),null}SubgroupShuffle(e,n){return console.error("TODO: subgroupShuffle"),null}SubgroupShuffleDown(e,n){return console.error("TODO: subgroupShuffleDown"),null}SubgroupShuffleUp(e,n){return console.error("TODO: subgroupShuffleUp"),null}SubgroupShuffleXor(e,n){return console.error("TODO: subgroupShuffleXor"),null}SubgroupXor(e,n){return console.error("TODO: subgroupXor"),null}QuadBroadcast(e,n){return console.error("TODO: quadBroadcast"),null}QuadSwapDiagonal(e,n){return console.error("TODO: quadSwapDiagonal"),null}QuadSwapX(e,n){return console.error("TODO: quadSwapX"),null}QuadSwapY(e,n){return console.error("TODO: quadSwapY"),null}},ad={vec2:2,vec2f:2,vec2i:2,vec2u:2,vec2b:2,vec2h:2,vec3:3,vec3f:3,vec3i:3,vec3u:3,vec3b:3,vec3h:3,vec4:4,vec4f:4,vec4i:4,vec4u:4,vec4b:4,vec4h:4},ze={mat2x2:[2,2,4],mat2x2f:[2,2,4],mat2x2h:[2,2,4],mat2x3:[2,3,6],mat2x3f:[2,3,6],mat2x3h:[2,3,6],mat2x4:[2,4,8],mat2x4f:[2,4,8],mat2x4h:[2,4,8],mat3x2:[3,2,6],mat3x2f:[3,2,6],mat3x2h:[3,2,6],mat3x3:[3,3,9],mat3x3f:[3,3,9],mat3x3h:[3,3,9],mat3x4:[3,4,12],mat3x4f:[3,4,12],mat3x4h:[3,4,12],mat4x2:[4,2,8],mat4x2f:[4,2,8],mat4x2h:[4,2,8],mat4x3:[4,3,12],mat4x3f:[4,3,12],mat4x3h:[4,3,12],mat4x4:[4,4,16],mat4x4f:[4,4,16],mat4x4h:[4,4,16]},os=class t extends Bd{constructor(e,n){var r;super(),this.ast=e??[],this.reflection=new Nr,this.reflection.updateAST(this.ast),this.context=(r=n?.clone())!==null&&r!==void 0?r:new Td,this.builtins=new wd(this),this.typeInfo={bool:this.getTypeInfo(M.bool),i32:this.getTypeInfo(M.i32),u32:this.getTypeInfo(M.u32),f32:this.getTypeInfo(M.f32),f16:this.getTypeInfo(M.f16),vec2f:this.getTypeInfo(B.vec2f),vec2u:this.getTypeInfo(B.vec2u),vec2i:this.getTypeInfo(B.vec2i),vec2h:this.getTypeInfo(B.vec2h),vec3f:this.getTypeInfo(B.vec3f),vec3u:this.getTypeInfo(B.vec3u),vec3i:this.getTypeInfo(B.vec3i),vec3h:this.getTypeInfo(B.vec3h),vec4f:this.getTypeInfo(B.vec4f),vec4u:this.getTypeInfo(B.vec4u),vec4i:this.getTypeInfo(B.vec4i),vec4h:this.getTypeInfo(B.vec4h),mat2x2f:this.getTypeInfo(B.mat2x2f),mat2x3f:this.getTypeInfo(B.mat2x3f),mat2x4f:this.getTypeInfo(B.mat2x4f),mat3x2f:this.getTypeInfo(B.mat3x2f),mat3x3f:this.getTypeInfo(B.mat3x3f),mat3x4f:this.getTypeInfo(B.mat3x4f),mat4x2f:this.getTypeInfo(B.mat4x2f),mat4x3f:this.getTypeInfo(B.mat4x3f),mat4x4f:this.getTypeInfo(B.mat4x4f)}}getVariableValue(e){var n,r;let o=(r=(n=this.context.getVariable(e))===null||n===void 0?void 0:n.value)!==null&&r!==void 0?r:null;if(o===null)return null;if(o instanceof T)return o.value;if(o instanceof p||o instanceof U)return Array.from(o.data);if(o instanceof be&&o.typeInfo instanceof jt){if(o.typeInfo.format.name==="u32")return Array.from(new Uint32Array(o.buffer,o.offset,o.typeInfo.count));if(o.typeInfo.format.name==="i32")return Array.from(new Int32Array(o.buffer,o.offset,o.typeInfo.count));if(o.typeInfo.format.name==="f32")return Array.from(new Float32Array(o.buffer,o.offset,o.typeInfo.count))}return console.error(`Unsupported return variable type ${o.typeInfo.name}`),null}execute(e){(e=e??{}).constants&&this._setOverrides(e.constants,this.context),this._execStatements(this.ast,this.context)}dispatchWorkgroups(e,n,r,o){let s=this.context.clone();(o=o??{}).constants&&this._setOverrides(o.constants,s),this._execStatements(this.ast,s);let i=s.getFunction(e);if(!i)return void console.error(`Function ${e} not found`);if(typeof n=="number")n=[n,1,1];else{if(n.length===0)return void console.error("Invalid dispatch count");n.length===1?n=[n[0],1,1]:n.length===2?n=[n[0],n[1],1]:n.length>3&&(n=[n[0],n[1],n[2]])}let a=n[0],c=n[1],u=n[2],l=this.getTypeInfo("vec3u");s.setVariable("@num_workgroups",new p(n,l));let f=this.reflection.getFunctionInfo(e);f===null&&console.error(`Function ${e} not found in reflection data`);for(let m in r)for(let d in r[m]){let b=r[m][d];s.variables.forEach(E=>{var S;let g=E.node;if(g?.attributes){let x=null,y=null;for(let A of g.attributes)A.name==="binding"?x=A.value:A.name==="group"&&(y=A.value);if(d==x&&m==y){let A=!1;for(let V of f.resources)if(V.name===E.name&&V.group===parseInt(m)&&V.binding===parseInt(d)){A=!0;break}if(A)if(b.texture!==void 0&&b.descriptor!==void 0){let V=new En(b.texture,this.getTypeInfo(g.type),b.descriptor,(S=b.texture.view)!==null&&S!==void 0?S:null);E.value=V}else b.uniform!==void 0?E.value=new be(b.uniform,this.getTypeInfo(g.type)):E.value=new be(b,this.getTypeInfo(g.type))}}})}for(let m=0;m<u;++m)for(let d=0;d<c;++d)for(let b=0;b<a;++b)s.setVariable("@workgroup_id",new p([b,d,m],this.getTypeInfo("vec3u"))),this._dispatchWorkgroup(i,[b,d,m],s)}execStatement(e,n){if(e instanceof ou)return this.evalExpression(e.value,n);if(e instanceof iu){if(e.condition){let r=this.evalExpression(e.condition,n);if(!(r instanceof T))throw new Error("Invalid break-if condition");if(!r.value)return null}return t._breakObj}if(e instanceof au)return t._continueObj;if(e instanceof Lr)this._let(e,n);else if(e instanceof Gt)this._var(e,n);else if(e instanceof ts)this._const(e,n);else if(e instanceof zr)this._function(e,n);else{if(e instanceof ru)return this._if(e,n);if(e instanceof nu)return this._switch(e,n);if(e instanceof $c)return this._for(e,n);if(e instanceof Wc)return this._while(e,n);if(e instanceof tu)return this._loop(e,n);if(e instanceof Ni){let r=n.clone();return r.currentFunctionName=n.currentFunctionName,this._execStatements(e.body,r)}if(e instanceof eu)this._assign(e,n);else if(e instanceof Zc)this._increment(e,n);else{if(e instanceof Ot)return null;if(e instanceof zi){let r=e.name;n.getVariable(r)===null&&n.setVariable(r,new T(0,this.getTypeInfo("u32")))}else if(e instanceof Hi)this._call(e,n);else{if(e instanceof su||e instanceof Pi)return null;console.error("Invalid statement type.",e,`Line ${e.line}`)}}}return null}evalExpression(e,n){return e instanceof lt?this._evalBinaryOp(e,n):e instanceof pe?this._evalLiteral(e,n):e instanceof He?this._evalVariable(e,n):e instanceof Ki?this._evalCall(e,n):e instanceof St?this._evalCreate(e,n):e instanceof uu?this._evalConst(e,n):e instanceof lu?this._evalBitcast(e,n):e instanceof me?this._evalUnaryOp(e,n):(console.error("Invalid expression type",e,`Line ${e.line}`),null)}getTypeInfo(e){var n;if(e instanceof M){let o=this.reflection.getTypeInfo(e);if(o!==null)return o}let r=(n=this.typeInfo[e])!==null&&n!==void 0?n:null;return r!==null||(r=this.reflection.getTypeInfoByName(e)),r}_setOverrides(e,n){for(let r in e){let o=e[r],s=this.reflection.getOverrideInfo(r);s!==null?(s.type===null&&(s.type=this.getTypeInfo("u32")),s.type.name==="u32"||s.type.name==="i32"||s.type.name==="f32"||s.type.name==="f16"?n.setVariable(r,new T(o,s.type)):s.type.name==="bool"?n.setVariable(r,new T(o?1:0,s.type)):s.type.name==="vec2"||s.type.name==="vec3"||s.type.name==="vec4"||s.type.name==="vec2f"||s.type.name==="vec3f"||s.type.name==="vec4f"||s.type.name==="vec2i"||s.type.name==="vec3i"||s.type.name==="vec4i"||s.type.name==="vec2u"||s.type.name==="vec3u"||s.type.name==="vec4u"||s.type.name==="vec2h"||s.type.name==="vec3h"||s.type.name==="vec4h"?n.setVariable(r,new p(o,s.type)):console.error(`Invalid constant type for ${r}`)):console.error(`Override ${r} does not exist in the shader.`)}}_dispatchWorkgroup(e,n,r){let o=[1,1,1];for(let l of e.node.attributes)if(l.name==="workgroup_size"){if(l.value.length>0){let f=r.getVariableValue(l.value[0]);o[0]=f instanceof T?f.value:parseInt(l.value[0])}if(l.value.length>1){let f=r.getVariableValue(l.value[1]);o[1]=f instanceof T?f.value:parseInt(l.value[1])}if(l.value.length>2){let f=r.getVariableValue(l.value[2]);o[2]=f instanceof T?f.value:parseInt(l.value[2])}}let s=this.getTypeInfo("vec3u"),i=this.getTypeInfo("u32");r.setVariable("@workgroup_size",new p(o,s));let a=o[0],c=o[1],u=o[2];for(let l=0,f=0;l<u;++l)for(let m=0;m<c;++m)for(let d=0;d<a;++d,++f){let b=[d,m,l],E=[d+n[0]*o[0],m+n[1]*o[1],l+n[2]*o[2]];r.setVariable("@local_invocation_id",new p(b,s)),r.setVariable("@global_invocation_id",new p(E,s)),r.setVariable("@local_invocation_index",new T(f,i)),this._dispatchExec(e,r)}}_dispatchExec(e,n){for(let r of e.node.args)for(let o of r.attributes)if(o.name==="builtin"){let s=`@${o.value}`,i=n.getVariable(s);i!==void 0&&n.variables.set(r.name,i)}this._execStatements(e.node.body,n)}getVariableName(e,n){for(;e instanceof me;)e=e.right;return e instanceof He?e.name:(console.error("Unknown variable type",e,"Line",e.line),null)}_execStatements(e,n){for(let r of e){if(r instanceof Array){let s=n.clone(),i=this._execStatements(r,s);if(i)return i;continue}let o=this.execStatement(r,n);if(o)return o}return null}_call(e,n){let r=n.clone();r.currentFunctionName=e.name;let o=n.getFunction(e.name);if(o){for(let s=0;s<o.node.args.length;++s){let i=o.node.args[s],a=this.evalExpression(e.args[s],r);r.setVariable(i.name,a,i)}this._execStatements(o.node.body,r)}else e.isBuiltin?this._callBuiltinFunction(e,r):this.getTypeInfo(e.name)&&this._evalCreate(e,n)}_increment(e,n){let r=this.getVariableName(e.variable,n),o=n.getVariable(r);o?e.operator==="++"?o.value instanceof T?o.value.value++:console.error(`Variable ${r} is not a scalar. Line ${e.line}`):e.operator==="--"?o.value instanceof T?o.value.value--:console.error(`Variable ${r} is not a scalar. Line ${e.line}`):console.error(`Unknown increment operator ${e.operator}. Line ${e.line}`):console.error(`Variable ${r} not found. Line ${e.line}`)}_getVariableData(e,n){if(e instanceof He){let r=this.getVariableName(e,n),o=n.getVariable(r);return o===null?(console.error(`Variable ${r} not found. Line ${e.line}`),null):o.value.getSubData(this,e.postfix,n)}if(e instanceof me){if(e.operator==="*"){let r=this._getVariableData(e.right,n);return r instanceof ir?r.reference.getSubData(this,e.postfix,n):(console.error(`Variable ${e.right} is not a pointer. Line ${e.line}`),null)}if(e.operator==="&"){let r=this._getVariableData(e.right,n);return new ir(r)}}return null}_assign(e,n){let r=null,o="<var>",s=null;if(e.variable instanceof me){let c=this._getVariableData(e.variable,n),u=this.evalExpression(e.value,n),l=e.operator;if(l==="="){if(c instanceof T||c instanceof p||c instanceof U){if(u instanceof T||u instanceof p||u instanceof U&&c.data.length===u.data.length)return void c.data.set(u.data);console.error(`Invalid assignment. Line ${e.line}`)}else if(c instanceof be&&u instanceof be&&c.buffer.byteLength-c.offset>=u.buffer.byteLength-u.offset)return void(c.buffer.byteLength%4==0?new Uint32Array(c.buffer,c.offset,c.typeInfo.size/4).set(new Uint32Array(u.buffer,u.offset,u.typeInfo.size/4)):new Uint8Array(c.buffer,c.offset,c.typeInfo.size).set(new Uint8Array(u.buffer,u.offset,u.typeInfo.size)));return console.error(`Invalid assignment. Line ${e.line}`),null}if(l==="+=")return c instanceof T||c instanceof p||c instanceof U?u instanceof T||u instanceof p||u instanceof U?void c.data.set(u.data.map((f,m)=>c.data[m]+f)):void console.error(`Invalid assignment . Line ${e.line}`):void console.error(`Invalid assignment. Line ${e.line}`);if(l==="-=")return(c instanceof T||c instanceof p||c instanceof U)&&(u instanceof T||u instanceof p||u instanceof U)?void c.data.set(u.data.map((f,m)=>c.data[m]-f)):void console.error(`Invalid assignment. Line ${e.line}`)}if(e.variable instanceof me){if(e.variable.operator==="*"){o=this.getVariableName(e.variable.right,n);let c=n.getVariable(o);if(!(c&&c.value instanceof ir))return void console.error(`Variable ${o} is not a pointer. Line ${e.line}`);r=c.value.reference;let u=e.variable.postfix;if(!u){let l=e.variable.right;for(;l instanceof me;){if(l.postfix){u=l.postfix;break}l=l.right}}u&&(r=r.getSubData(this,u,n))}}else{s=e.variable.postfix,o=this.getVariableName(e.variable,n);let c=n.getVariable(o);if(c===null)return void console.error(`Variable ${o} not found. Line ${e.line}`);r=c.value}if(r instanceof ir&&(r=r.reference),r===null)return void console.error(`Variable ${o} not found. Line ${e.line}`);let i=this.evalExpression(e.value,n),a=e.operator;if(a!=="="){let c=r.getSubData(this,s,n);if(c instanceof p&&i instanceof T){let u=c.data,l=i.value;if(a==="+=")for(let f=0;f<u.length;++f)u[f]+=l;else if(a==="-=")for(let f=0;f<u.length;++f)u[f]-=l;else if(a==="*=")for(let f=0;f<u.length;++f)u[f]*=l;else if(a==="/=")for(let f=0;f<u.length;++f)u[f]/=l;else if(a==="%=")for(let f=0;f<u.length;++f)u[f]%=l;else if(a==="&=")for(let f=0;f<u.length;++f)u[f]&=l;else if(a==="|=")for(let f=0;f<u.length;++f)u[f]|=l;else if(a==="^=")for(let f=0;f<u.length;++f)u[f]^=l;else if(a==="<<=")for(let f=0;f<u.length;++f)u[f]<<=l;else if(a===">>=")for(let f=0;f<u.length;++f)u[f]>>=l;else console.error(`Invalid operator ${a}. Line ${e.line}`)}else if(c instanceof p&&i instanceof p){let u=c.data,l=i.data;if(u.length!==l.length)return void console.error(`Vector length mismatch. Line ${e.line}`);if(a==="+=")for(let f=0;f<u.length;++f)u[f]+=l[f];else if(a==="-=")for(let f=0;f<u.length;++f)u[f]-=l[f];else if(a==="*=")for(let f=0;f<u.length;++f)u[f]*=l[f];else if(a==="/=")for(let f=0;f<u.length;++f)u[f]/=l[f];else if(a==="%=")for(let f=0;f<u.length;++f)u[f]%=l[f];else if(a==="&=")for(let f=0;f<u.length;++f)u[f]&=l[f];else if(a==="|=")for(let f=0;f<u.length;++f)u[f]|=l[f];else if(a==="^=")for(let f=0;f<u.length;++f)u[f]^=l[f];else if(a==="<<=")for(let f=0;f<u.length;++f)u[f]<<=l[f];else if(a===">>=")for(let f=0;f<u.length;++f)u[f]>>=l[f];else console.error(`Invalid operator ${a}. Line ${e.line}`)}else{if(!(c instanceof T&&i instanceof T))return void console.error(`Invalid type for ${e.operator} operator. Line ${e.line}`);a==="+="?c.value+=i.value:a==="-="?c.value-=i.value:a==="*="?c.value*=i.value:a==="/="?c.value/=i.value:a==="%="?c.value%=i.value:a==="&="?c.value&=i.value:a==="|="?c.value|=i.value:a==="^="?c.value^=i.value:a==="<<="?c.value<<=i.value:a===">>="?c.value>>=i.value:console.error(`Invalid operator ${a}. Line ${e.line}`)}return void(r instanceof be&&r.setDataValue(this,c,s,n))}if(r instanceof be)r.setDataValue(this,i,s,n);else if(s){if(!(r instanceof p||r instanceof U))return void console.error(`Variable ${o} is not a vector or matrix. Line ${e.line}`);if(s instanceof ar){let c=this.evalExpression(s.index,n).value;if(r instanceof p){if(!(i instanceof T))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[c]=i.value}else{if(!(r instanceof U))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);{let u=this.evalExpression(s.index,n).value;if(u<0)return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);if(!(i instanceof p))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);{let l=r.typeInfo.getTypeName();if(l==="mat2x2"||l==="mat2x2f"||l==="mat2x2h"){if(!(u<2&&i.data.length===2))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[2*u]=i.data[0],r.data[2*u+1]=i.data[1]}else if(l==="mat2x3"||l==="mat2x3f"||l==="mat2x3h"){if(!(u<2&&i.data.length===3))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[3*u]=i.data[0],r.data[3*u+1]=i.data[1],r.data[3*u+2]=i.data[2]}else if(l==="mat2x4"||l==="mat2x4f"||l==="mat2x4h"){if(!(u<2&&i.data.length===4))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[4*u]=i.data[0],r.data[4*u+1]=i.data[1],r.data[4*u+2]=i.data[2],r.data[4*u+3]=i.data[3]}else if(l==="mat3x2"||l==="mat3x2f"||l==="mat3x2h"){if(!(u<3&&i.data.length===2))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[2*u]=i.data[0],r.data[2*u+1]=i.data[1]}else if(l==="mat3x3"||l==="mat3x3f"||l==="mat3x3h"){if(!(u<3&&i.data.length===3))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[3*u]=i.data[0],r.data[3*u+1]=i.data[1],r.data[3*u+2]=i.data[2]}else if(l==="mat3x4"||l==="mat3x4f"||l==="mat3x4h"){if(!(u<3&&i.data.length===4))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[4*u]=i.data[0],r.data[4*u+1]=i.data[1],r.data[4*u+2]=i.data[2],r.data[4*u+3]=i.data[3]}else if(l==="mat4x2"||l==="mat4x2f"||l==="mat4x2h"){if(!(u<4&&i.data.length===2))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[2*u]=i.data[0],r.data[2*u+1]=i.data[1]}else if(l==="mat4x3"||l==="mat4x3f"||l==="mat4x3h"){if(!(u<4&&i.data.length===3))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[3*u]=i.data[0],r.data[3*u+1]=i.data[1],r.data[3*u+2]=i.data[2]}else{if(l!=="mat4x4"&&l!=="mat4x4f"&&l!=="mat4x4h")return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);if(!(u<4&&i.data.length===4))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);r.data[4*u]=i.data[0],r.data[4*u+1]=i.data[1],r.data[4*u+2]=i.data[2],r.data[4*u+3]=i.data[3]}}}}}else if(s instanceof Cn){let c=s.value;if(!(r instanceof p))return void console.error(`Invalid assignment to ${c}. Variable ${o} is not a vector. Line ${e.line}`);if(i instanceof T){if(c.length>1)return void console.error(`Invalid assignment to ${c} for variable ${o}. Line ${e.line}`);if(c==="x")r.data[0]=i.value;else if(c==="y"){if(r.data.length<2)return void console.error(`Invalid assignment to ${c} for variable ${o}. Line ${e.line}`);r.data[1]=i.value}else if(c==="z"){if(r.data.length<3)return void console.error(`Invalid assignment to ${c} for variable ${o}. Line ${e.line}`);r.data[2]=i.value}else if(c==="w"){if(r.data.length<4)return void console.error(`Invalid assignment to ${c} for variable ${o}. Line ${e.line}`);r.data[3]=i.value}}else{if(!(i instanceof p))return void console.error(`Invalid assignment to ${o}. Line ${e.line}`);if(c.length!==i.data.length)return void console.error(`Invalid assignment to ${c} for variable ${o}. Line ${e.line}`);for(let u=0;u<c.length;++u){let l=c[u];if(l==="x"||l==="r")r.data[0]=i.data[u];else if(l==="y"||l==="g"){if(i.data.length<2)return void console.error(`Invalid assignment to ${l} for variable ${o}. Line ${e.line}`);r.data[1]=i.data[u]}else if(l==="z"||l==="b"){if(i.data.length<3)return void console.error(`Invalid assignment to ${l} for variable ${o}. Line ${e.line}`);r.data[2]=i.data[u]}else{if(l!=="w"&&l!=="a")return void console.error(`Invalid assignment to ${l} for variable ${o}. Line ${e.line}`);if(i.data.length<4)return void console.error(`Invalid assignment to ${l} for variable ${o}. Line ${e.line}`);r.data[3]=i.data[u]}}}}}else r instanceof T&&i instanceof T?r.value=i.value:r instanceof p&&i instanceof p||r instanceof U&&i instanceof U?r.data.set(i.data):console.error(`Invalid assignment to ${o}. Line ${e.line}`)}_function(e,n){let r=new _d(e);n.functions.set(e.name,r)}_const(e,n){let r=null;e.value!==null&&(r=this.evalExpression(e.value,n)),n.createVariable(e.name,r,e)}_let(e,n){let r=null;if(e.value!==null){if(r=this.evalExpression(e.value,n),r===null)return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof me||(r=r.clone())}else{let o=e.type.name;if(o==="f32"||o==="i32"||o==="u32"||o==="bool"||o==="f16"||o==="vec2"||o==="vec3"||o==="vec4"||o==="vec2f"||o==="vec3f"||o==="vec4f"||o==="vec2i"||o==="vec3i"||o==="vec4i"||o==="vec2u"||o==="vec3u"||o==="vec4u"||o==="vec2h"||o==="vec3h"||o==="vec4h"||o==="vec2b"||o==="vec3b"||o==="vec4b"||o==="mat2x2"||o==="mat2x3"||o==="mat2x4"||o==="mat3x2"||o==="mat3x3"||o==="mat3x4"||o==="mat4x2"||o==="mat4x3"||o==="mat4x4"||o==="mat2x2f"||o==="mat2x3f"||o==="mat2x4f"||o==="mat3x2f"||o==="mat3x3f"||o==="mat3x4f"||o==="mat4x2f"||o==="mat4x3f"||o==="mat4x4f"||o==="mat2x2h"||o==="mat2x3h"||o==="mat2x4h"||o==="mat3x2h"||o==="mat3x3h"||o==="mat3x4h"||o==="mat4x2h"||o==="mat4x3h"||o==="mat4x4h"||o==="array"){let s=new St(e.type,[]);r=this._evalCreate(s,n)}}n.createVariable(e.name,r,e)}_var(e,n){let r=null;if(e.value!==null){if(r=this.evalExpression(e.value,n),r===null)return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof me||(r=r.clone())}else{if(e.type===null)return void console.error(`Variable ${e.name} has no type. Line ${e.line}`);let o=e.type.name;if(o==="f32"||o==="i32"||o==="u32"||o==="bool"||o==="f16"||o==="vec2"||o==="vec3"||o==="vec4"||o==="vec2f"||o==="vec3f"||o==="vec4f"||o==="vec2i"||o==="vec3i"||o==="vec4i"||o==="vec2u"||o==="vec3u"||o==="vec4u"||o==="vec2h"||o==="vec3h"||o==="vec4h"||o==="vec2b"||o==="vec3b"||o==="vec4b"||o==="mat2x2"||o==="mat2x3"||o==="mat2x4"||o==="mat3x2"||o==="mat3x3"||o==="mat3x4"||o==="mat4x2"||o==="mat4x3"||o==="mat4x4"||o==="mat2x2f"||o==="mat2x3f"||o==="mat2x4f"||o==="mat3x2f"||o==="mat3x3f"||o==="mat3x4f"||o==="mat4x2f"||o==="mat4x3f"||o==="mat4x4f"||o==="mat2x2h"||o==="mat2x3h"||o==="mat2x4h"||o==="mat3x2h"||o==="mat3x3h"||o==="mat3x4h"||o==="mat4x2h"||o==="mat4x3h"||o==="mat4x4h"||e.type instanceof Fr||e.type instanceof Ot||e.type instanceof B){let s=new St(e.type,[]);r=this._evalCreate(s,n)}}n.createVariable(e.name,r,e)}_switch(e,n){n=n.clone();let r=this.evalExpression(e.condition,n);if(!(r instanceof T))return console.error(`Invalid if condition. Line ${e.line}`),null;let o=null;for(let s of e.cases)if(s instanceof du)for(let i of s.selectors){if(i instanceof rs){o=s;continue}let a=this.evalExpression(i,n);if(!(a instanceof T))return console.error(`Invalid case selector. Line ${e.line}`),null;if(a.value===r.value)return this._execStatements(s.body,n)}else s instanceof hu&&(o=s);return o?this._execStatements(o.body,n):null}_if(e,n){n=n.clone();let r=this.evalExpression(e.condition,n);if(!(r instanceof T))return console.error(`Invalid if condition. Line ${e.line}`),null;if(r.value)return this._execStatements(e.body,n);for(let o of e.elseif){let s=this.evalExpression(o.condition,n);if(!(s instanceof T))return console.error(`Invalid if condition. Line ${e.line}`),null;if(s.value)return this._execStatements(o.body,n)}return e.else?this._execStatements(e.else,n):null}_getScalarValue(e){return e instanceof T?e.value:(console.error("Expected scalar value.",e),0)}_for(e,n){for(n=n.clone(),this.execStatement(e.init,n);this._getScalarValue(this.evalExpression(e.condition,n));){let r=this._execStatements(e.body,n);if(r===t._breakObj)break;if(r!==null&&r!==t._continueObj)return r;this.execStatement(e.increment,n)}return null}_loop(e,n){for(n=n.clone();;){let r=this._execStatements(e.body,n);if(r===t._breakObj)break;if(r===t._continueObj){if(e.continuing&&this._execStatements(e.continuing.body,n)===t._breakObj)break}else if(r!==null)return r}return null}_while(e,n){for(n=n.clone();this._getScalarValue(this.evalExpression(e.condition,n));){let r=this._execStatements(e.body,n);if(r===t._breakObj)break;if(r!==t._continueObj&&r!==null)return r}return null}_evalBitcast(e,n){let r=this.evalExpression(e.value,n),o=e.type;if(r instanceof T){let s=v1(r.value,r.typeInfo.name,o.name);return new T(s,this.getTypeInfo(o))}if(r instanceof p){let s=r.typeInfo.getTypeName(),i="";if(s.endsWith("f"))i="f32";else if(s.endsWith("i"))i="i32";else if(s.endsWith("u"))i="u32";else if(s.endsWith("b"))i="bool";else{if(!s.endsWith("h"))return console.error(`Unknown vector type ${s}. Line ${e.line}`),null;i="f16"}let a=o.getTypeName(),c="";if(a.endsWith("f"))c="f32";else if(a.endsWith("i"))c="i32";else if(a.endsWith("u"))c="u32";else if(a.endsWith("b"))c="bool";else{if(!a.endsWith("h"))return console.error(`Unknown vector type ${c}. Line ${e.line}`),null;c="f16"}let u=(function(l,f,m){if(f===m)return l;let d=new Array(l.length);for(let b=0;b<l.length;b++)d[b]=v1(l[b],f,m);return d})(Array.from(r.data),i,c);return new p(u,this.getTypeInfo(o))}return console.error(`TODO: bitcast for ${r.typeInfo.name}. Line ${e.line}`),null}_evalConst(e,n){return n.getVariableValue(e.name).clone().getSubData(this,e.postfix,n)}_evalCreate(e,n){var r;if(e instanceof St){if(e.type===null)return Ji.void;switch(e.type.getTypeName()){case"bool":case"i32":case"u32":case"f32":case"f16":return this._callConstructorValue(e,n);case"vec2":case"vec3":case"vec4":case"vec2f":case"vec3f":case"vec4f":case"vec2h":case"vec3h":case"vec4h":case"vec2i":case"vec3i":case"vec4i":case"vec2u":case"vec3u":case"vec4u":case"vec2b":case"vec3b":case"vec4b":return this._callConstructorVec(e,n);case"mat2x2":case"mat2x2f":case"mat2x2h":case"mat2x3":case"mat2x3f":case"mat2x3h":case"mat2x4":case"mat2x4f":case"mat2x4h":case"mat3x2":case"mat3x2f":case"mat3x2h":case"mat3x3":case"mat3x3f":case"mat3x3h":case"mat3x4":case"mat3x4f":case"mat3x4h":case"mat4x2":case"mat4x2f":case"mat4x2h":case"mat4x3":case"mat4x3f":case"mat4x3h":case"mat4x4":case"mat4x4f":case"mat4x4h":return this._callConstructorMatrix(e,n)}}let o=e instanceof St?e.type.name:e.name,s=e instanceof St?this.getTypeInfo(e.type):this.getTypeInfo(e.name);if(s===null)return console.error(`Unknown type ${o}. Line ${e.line}`),null;if(s.size===0)return null;let i=new be(new ArrayBuffer(s.size),s,0);if(s instanceof Jt){if(e.args)for(let a=0;a<e.args.length;++a){let c=s.members[a],u=e.args[a],l=this.evalExpression(u,n);i.setData(this,l,c.type,c.offset,n)}}else if(s instanceof jt){let a=0;if(e.args)for(let c=0;c<e.args.length;++c){let u=e.args[c],l=this.evalExpression(u,n);s.format===null&&(((r=l.typeInfo)===null||r===void 0?void 0:r.name)==="x32"?s.format=this.getTypeInfo("i32"):s.format=l.typeInfo),i.setData(this,l,s.format,a,n),a+=s.stride}}else console.error(`Unknown type "${o}". Line ${e.line}`);return e instanceof St?i.getSubData(this,e.postfix,n):i}_evalLiteral(e,n){let r=this.getTypeInfo(e.type),o=r.name;return o==="x32"||o==="u32"||o==="f32"||o==="f16"||o==="i32"||o==="bool"?new T(e.scalarValue,r):o==="vec2"||o==="vec3"||o==="vec4"||o==="vec2f"||o==="vec3f"||o==="vec4f"||o==="vec2h"||o==="vec3h"||o==="vec4h"||o==="vec2i"||o==="vec3i"||o==="vec4i"||o==="vec2u"||o==="vec3u"||o==="vec4u"?this._callConstructorVec(e,n):o==="mat2x2"||o==="mat2x3"||o==="mat2x4"||o==="mat3x2"||o==="mat3x3"||o==="mat3x4"||o==="mat4x2"||o==="mat4x3"||o==="mat4x4"||o==="mat2x2f"||o==="mat2x3f"||o==="mat2x4f"||o==="mat3x2f"||o==="mat3x3f"||o==="mat3x4f"||o==="mat4x2f"||o==="mat4x3f"||o==="mat4x4f"||o==="mat2x2h"||o==="mat2x3h"||o==="mat2x4h"||o==="mat3x2h"||o==="mat3x3h"||o==="mat3x4h"||o==="mat4x2h"||o==="mat4x3h"||o==="mat4x4h"?this._callConstructorMatrix(e,n):e.value}_evalVariable(e,n){let r=n.getVariableValue(e.name);return r===null?r:r.getSubData(this,e.postfix,n)}_maxFormatTypeInfo(e){let n=e[0];if(n.name==="f32")return n;for(let r=1;r<e.length;++r){let o=t._priority.get(n.name);t._priority.get(e[r].name)<o&&(n=e[r])}return n.name==="x32"?this.getTypeInfo("i32"):n}_evalUnaryOp(e,n){let r=this.evalExpression(e.right,n);if(e.operator==="&")return new ir(r);if(e.operator==="*")return r instanceof ir?r.reference.getSubData(this,e.postfix,n):(console.error(`Invalid dereference. Line ${e.line}`),null);let o=r instanceof T?r.value:r instanceof p?Array.from(r.data):null;switch(e.operator){case"+":{if(R(o)){let a=o.map((c,u)=>+c);return new p(a,r.typeInfo)}let s=o,i=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new T(+s,i)}case"-":{if(R(o)){let a=o.map((c,u)=>-c);return new p(a,r.typeInfo)}let s=o,i=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new T(-s,i)}case"!":{if(R(o)){let a=o.map((c,u)=>c?0:1);return new p(a,r.typeInfo)}let s=o,i=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new T(s?0:1,i)}case"~":{if(R(o)){let a=o.map((c,u)=>~c);return new p(a,r.typeInfo)}let s=o,i=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new T(~s,i)}}return console.error(`Invalid unary operator ${e.operator}. Line ${e.line}`),null}_evalBinaryOp(e,n){let r=this.evalExpression(e.left,n),o=this.evalExpression(e.right,n),s=r instanceof T?r.value:r instanceof p||r instanceof U?Array.from(r.data):null,i=o instanceof T?o.value:o instanceof p||o instanceof U?Array.from(o.data):null;switch(e.operator){case"+":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,b)=>d+f[b]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m+l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l+m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a+c,u)}case"-":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,b)=>d-f[b]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m-l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l-m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a-c,u)}case"*":{if(R(s)&&R(i)){let l=s,f=i;if(r instanceof U&&o instanceof U){let m=(function(S,g,x,y){if(ze[g.name]===void 0||ze[y.name]===void 0)return null;let A=ze[g.name][0],V=ze[g.name][1],I=ze[y.name][0];if(A!==ze[y.name][1])return null;let D=new Array(I*V);for(let k=0;k<V;k++)for(let O=0;O<I;O++){let G=0;for(let ue=0;ue<A;ue++)G+=S[ue*V+k]*x[O*A+ue];D[k*I+O]=G}return D})(l,r.typeInfo,f,o.typeInfo);if(m===null)return console.error(`Matrix multiplication failed. Line ${e.line}.`),null;let d=ze[o.typeInfo.name][0],b=ze[r.typeInfo.name][1],E=this.getTypeInfo(`mat${d}x${b}f`);return new U(m,E)}if(r instanceof U&&o instanceof p){let m=(function(d,b,E,S){if(ze[b.name]===void 0||ad[S.name]===void 0)return null;let g=ze[b.name][0],x=ze[b.name][1];if(g!==E.length)return null;let y=new Array(x);for(let A=0;A<x;A++){let V=0;for(let I=0;I<g;I++)V+=d[I*x+A]*E[I];y[A]=V}return y})(l,r.typeInfo,f,o.typeInfo);return m===null?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new p(m,o.typeInfo)}if(r instanceof p&&o instanceof U){let m=(function(d,b,E,S){if(ad[b.name]===void 0||ze[S.name]===void 0)return null;let g=ze[S.name][0],x=ze[S.name][1];if(x!==d.length)return null;let y=[];for(let A=0;A<g;A++){let V=0;for(let I=0;I<x;I++)V+=d[I]*E[I*g+A];y[A]=V}return y})(l,r.typeInfo,f,o.typeInfo);return m===null?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new p(m,r.typeInfo)}{if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,b)=>d*f[b]);return new p(m,r.typeInfo)}}if(R(s)){let l=i,f=s.map((m,d)=>m*l);return r instanceof U?new U(f,r.typeInfo):new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l*m);return o instanceof U?new U(f,o.typeInfo):new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a*c,u)}case"%":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,b)=>d%f[b]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m%l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l%m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a%c,u)}case"/":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,b)=>d/f[b]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m/l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l/m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a/c,u)}case"&":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,b)=>d&f[b]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m&l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l&m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a&c,u)}case"|":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,b)=>d|f[b]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m|l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l|m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a|c,u)}case"^":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,b)=>d^f[b]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m^l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l^m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a^c,u)}case"<<":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,b)=>d<<f[b]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m<<l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l<<m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a<<c,u)}case">>":{if(R(s)&&R(i)){let l=s,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let m=l.map((d,b)=>d>>f[b]);return new p(m,r.typeInfo)}if(R(s)){let l=i,f=s.map((m,d)=>m>>l);return new p(f,r.typeInfo)}if(R(i)){let l=s,f=i.map((m,d)=>l>>m);return new p(f,o.typeInfo)}let a=s,c=i,u=this._maxFormatTypeInfo([r.typeInfo,o.typeInfo]);return new T(a>>c,u)}case">":if(R(s)&&R(i)){let a=s,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l>c[f]?1:0);return new p(u,r.typeInfo)}if(R(s)){let a=i,c=s.map((u,l)=>u>a?1:0);return new p(c,r.typeInfo)}if(R(i)){let a=s,c=i.map((u,l)=>a>u?1:0);return new p(c,o.typeInfo)}return new T(s>i?1:0,this.getTypeInfo("bool"));case"<":if(R(s)&&R(i)){let a=s,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l<c[f]?1:0);return new p(u,r.typeInfo)}if(R(s)){let a=i,c=s.map((u,l)=>u<a?1:0);return new p(c,r.typeInfo)}if(R(i)){let a=s,c=i.map((u,l)=>a<u?1:0);return new p(c,o.typeInfo)}return new T(s<i?1:0,this.getTypeInfo("bool"));case"==":if(R(s)&&R(i)){let a=s,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l===c[f]?1:0);return new p(u,r.typeInfo)}if(R(s)){let a=i,c=s.map((u,l)=>u==a?1:0);return new p(c,r.typeInfo)}if(R(i)){let a=s,c=i.map((u,l)=>a==u?1:0);return new p(c,o.typeInfo)}return new T(s===i?1:0,this.getTypeInfo("bool"));case"!=":if(R(s)&&R(i)){let a=s,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l!==c[f]?1:0);return new p(u,r.typeInfo)}if(R(s)){let a=i,c=s.map((u,l)=>u!==a?1:0);return new p(c,r.typeInfo)}if(R(i)){let a=s,c=i.map((u,l)=>a!==u?1:0);return new p(c,o.typeInfo)}return new T(s!==i?1:0,this.getTypeInfo("bool"));case">=":if(R(s)&&R(i)){let a=s,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l>=c[f]?1:0);return new p(u,r.typeInfo)}if(R(s)){let a=i,c=s.map((u,l)=>u>=a?1:0);return new p(c,r.typeInfo)}if(R(i)){let a=s,c=i.map((u,l)=>a>=u?1:0);return new p(c,o.typeInfo)}return new T(s>=i?1:0,this.getTypeInfo("bool"));case"<=":if(R(s)&&R(i)){let a=s,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l<=c[f]?1:0);return new p(u,r.typeInfo)}if(R(s)){let a=i,c=s.map((u,l)=>u<=a?1:0);return new p(c,r.typeInfo)}if(R(i)){let a=s,c=i.map((u,l)=>a<=u?1:0);return new p(c,o.typeInfo)}return new T(s<=i?1:0,this.getTypeInfo("bool"));case"&&":if(R(s)&&R(i)){let a=s,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l&&c[f]?1:0);return new p(u,r.typeInfo)}if(R(s)){let a=i,c=s.map((u,l)=>u&&a?1:0);return new p(c,r.typeInfo)}if(R(i)){let a=s,c=i.map((u,l)=>a&&u?1:0);return new p(c,o.typeInfo)}return new T(s&&i?1:0,this.getTypeInfo("bool"));case"||":if(R(s)&&R(i)){let a=s,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l||c[f]?1:0);return new p(u,r.typeInfo)}if(R(s)){let a=i,c=s.map((u,l)=>u||a?1:0);return new p(c,r.typeInfo)}if(R(i)){let a=s,c=i.map((u,l)=>a||u?1:0);return new p(c,o.typeInfo)}return new T(s||i?1:0,this.getTypeInfo("bool"))}return console.error(`Unknown operator ${e.operator}. Line ${e.line}`),null}_evalCall(e,n){if(e.cachedReturnValue!==null)return e.cachedReturnValue;let r=n.clone();r.currentFunctionName=e.name;let o=n.getFunction(e.name);if(!o)return e.isBuiltin?this._callBuiltinFunction(e,r):this.getTypeInfo(e.name)?this._evalCreate(e,n):(console.error(`Unknown function "${e.name}". Line ${e.line}`),null);for(let s=0;s<o.node.args.length;++s){let i=o.node.args[s],a=this.evalExpression(e.args[s],r);r.createVariable(i.name,a,i)}return this._execStatements(o.node.body,r)}_callBuiltinFunction(e,n){switch(e.name){case"all":return this.builtins.All(e,n);case"any":return this.builtins.Any(e,n);case"select":return this.builtins.Select(e,n);case"arrayLength":return this.builtins.ArrayLength(e,n);case"abs":return this.builtins.Abs(e,n);case"acos":return this.builtins.Acos(e,n);case"acosh":return this.builtins.Acosh(e,n);case"asin":return this.builtins.Asin(e,n);case"asinh":return this.builtins.Asinh(e,n);case"atan":return this.builtins.Atan(e,n);case"atanh":return this.builtins.Atanh(e,n);case"atan2":return this.builtins.Atan2(e,n);case"ceil":return this.builtins.Ceil(e,n);case"clamp":return this.builtins.Clamp(e,n);case"cos":return this.builtins.Cos(e,n);case"cosh":return this.builtins.Cosh(e,n);case"countLeadingZeros":return this.builtins.CountLeadingZeros(e,n);case"countOneBits":return this.builtins.CountOneBits(e,n);case"countTrailingZeros":return this.builtins.CountTrailingZeros(e,n);case"cross":return this.builtins.Cross(e,n);case"degrees":return this.builtins.Degrees(e,n);case"determinant":return this.builtins.Determinant(e,n);case"distance":return this.builtins.Distance(e,n);case"dot":return this.builtins.Dot(e,n);case"dot4U8Packed":return this.builtins.Dot4U8Packed(e,n);case"dot4I8Packed":return this.builtins.Dot4I8Packed(e,n);case"exp":return this.builtins.Exp(e,n);case"exp2":return this.builtins.Exp2(e,n);case"extractBits":return this.builtins.ExtractBits(e,n);case"faceForward":return this.builtins.FaceForward(e,n);case"firstLeadingBit":return this.builtins.FirstLeadingBit(e,n);case"firstTrailingBit":return this.builtins.FirstTrailingBit(e,n);case"floor":return this.builtins.Floor(e,n);case"fma":return this.builtins.Fma(e,n);case"fract":return this.builtins.Fract(e,n);case"frexp":return this.builtins.Frexp(e,n);case"insertBits":return this.builtins.InsertBits(e,n);case"inverseSqrt":return this.builtins.InverseSqrt(e,n);case"ldexp":return this.builtins.Ldexp(e,n);case"length":return this.builtins.Length(e,n);case"log":return this.builtins.Log(e,n);case"log2":return this.builtins.Log2(e,n);case"max":return this.builtins.Max(e,n);case"min":return this.builtins.Min(e,n);case"mix":return this.builtins.Mix(e,n);case"modf":return this.builtins.Modf(e,n);case"normalize":return this.builtins.Normalize(e,n);case"pow":return this.builtins.Pow(e,n);case"quantizeToF16":return this.builtins.QuantizeToF16(e,n);case"radians":return this.builtins.Radians(e,n);case"reflect":return this.builtins.Reflect(e,n);case"refract":return this.builtins.Refract(e,n);case"reverseBits":return this.builtins.ReverseBits(e,n);case"round":return this.builtins.Round(e,n);case"saturate":return this.builtins.Saturate(e,n);case"sign":return this.builtins.Sign(e,n);case"sin":return this.builtins.Sin(e,n);case"sinh":return this.builtins.Sinh(e,n);case"smoothstep":return this.builtins.SmoothStep(e,n);case"sqrt":return this.builtins.Sqrt(e,n);case"step":return this.builtins.Step(e,n);case"tan":return this.builtins.Tan(e,n);case"tanh":return this.builtins.Tanh(e,n);case"transpose":return this.builtins.Transpose(e,n);case"trunc":return this.builtins.Trunc(e,n);case"dpdx":return this.builtins.Dpdx(e,n);case"dpdxCoarse":return this.builtins.DpdxCoarse(e,n);case"dpdxFine":return this.builtins.DpdxFine(e,n);case"dpdy":return this.builtins.Dpdy(e,n);case"dpdyCoarse":return this.builtins.DpdyCoarse(e,n);case"dpdyFine":return this.builtins.DpdyFine(e,n);case"fwidth":return this.builtins.Fwidth(e,n);case"fwidthCoarse":return this.builtins.FwidthCoarse(e,n);case"fwidthFine":return this.builtins.FwidthFine(e,n);case"textureDimensions":return this.builtins.TextureDimensions(e,n);case"textureGather":return this.builtins.TextureGather(e,n);case"textureGatherCompare":return this.builtins.TextureGatherCompare(e,n);case"textureLoad":return this.builtins.TextureLoad(e,n);case"textureNumLayers":return this.builtins.TextureNumLayers(e,n);case"textureNumLevels":return this.builtins.TextureNumLevels(e,n);case"textureNumSamples":return this.builtins.TextureNumSamples(e,n);case"textureSample":return this.builtins.TextureSample(e,n);case"textureSampleBias":return this.builtins.TextureSampleBias(e,n);case"textureSampleCompare":return this.builtins.TextureSampleCompare(e,n);case"textureSampleCompareLevel":return this.builtins.TextureSampleCompareLevel(e,n);case"textureSampleGrad":return this.builtins.TextureSampleGrad(e,n);case"textureSampleLevel":return this.builtins.TextureSampleLevel(e,n);case"textureSampleBaseClampToEdge":return this.builtins.TextureSampleBaseClampToEdge(e,n);case"textureStore":return this.builtins.TextureStore(e,n);case"atomicLoad":return this.builtins.AtomicLoad(e,n);case"atomicStore":return this.builtins.AtomicStore(e,n);case"atomicAdd":return this.builtins.AtomicAdd(e,n);case"atomicSub":return this.builtins.AtomicSub(e,n);case"atomicMax":return this.builtins.AtomicMax(e,n);case"atomicMin":return this.builtins.AtomicMin(e,n);case"atomicAnd":return this.builtins.AtomicAnd(e,n);case"atomicOr":return this.builtins.AtomicOr(e,n);case"atomicXor":return this.builtins.AtomicXor(e,n);case"atomicExchange":return this.builtins.AtomicExchange(e,n);case"atomicCompareExchangeWeak":return this.builtins.AtomicCompareExchangeWeak(e,n);case"pack4x8snorm":return this.builtins.Pack4x8snorm(e,n);case"pack4x8unorm":return this.builtins.Pack4x8unorm(e,n);case"pack4xI8":return this.builtins.Pack4xI8(e,n);case"pack4xU8":return this.builtins.Pack4xU8(e,n);case"pack4x8Clamp":return this.builtins.Pack4x8Clamp(e,n);case"pack4xU8Clamp":return this.builtins.Pack4xU8Clamp(e,n);case"pack2x16snorm":return this.builtins.Pack2x16snorm(e,n);case"pack2x16unorm":return this.builtins.Pack2x16unorm(e,n);case"pack2x16float":return this.builtins.Pack2x16float(e,n);case"unpack4x8snorm":return this.builtins.Unpack4x8snorm(e,n);case"unpack4x8unorm":return this.builtins.Unpack4x8unorm(e,n);case"unpack4xI8":return this.builtins.Unpack4xI8(e,n);case"unpack4xU8":return this.builtins.Unpack4xU8(e,n);case"unpack2x16snorm":return this.builtins.Unpack2x16snorm(e,n);case"unpack2x16unorm":return this.builtins.Unpack2x16unorm(e,n);case"unpack2x16float":return this.builtins.Unpack2x16float(e,n);case"storageBarrier":return this.builtins.StorageBarrier(e,n);case"textureBarrier":return this.builtins.TextureBarrier(e,n);case"workgroupBarrier":return this.builtins.WorkgroupBarrier(e,n);case"workgroupUniformLoad":return this.builtins.WorkgroupUniformLoad(e,n);case"subgroupAdd":return this.builtins.SubgroupAdd(e,n);case"subgroupExclusiveAdd":return this.builtins.SubgroupExclusiveAdd(e,n);case"subgroupInclusiveAdd":return this.builtins.SubgroupInclusiveAdd(e,n);case"subgroupAll":return this.builtins.SubgroupAll(e,n);case"subgroupAnd":return this.builtins.SubgroupAnd(e,n);case"subgroupAny":return this.builtins.SubgroupAny(e,n);case"subgroupBallot":return this.builtins.SubgroupBallot(e,n);case"subgroupBroadcast":return this.builtins.SubgroupBroadcast(e,n);case"subgroupBroadcastFirst":return this.builtins.SubgroupBroadcastFirst(e,n);case"subgroupElect":return this.builtins.SubgroupElect(e,n);case"subgroupMax":return this.builtins.SubgroupMax(e,n);case"subgroupMin":return this.builtins.SubgroupMin(e,n);case"subgroupMul":return this.builtins.SubgroupMul(e,n);case"subgroupExclusiveMul":return this.builtins.SubgroupExclusiveMul(e,n);case"subgroupInclusiveMul":return this.builtins.SubgroupInclusiveMul(e,n);case"subgroupOr":return this.builtins.SubgroupOr(e,n);case"subgroupShuffle":return this.builtins.SubgroupShuffle(e,n);case"subgroupShuffleDown":return this.builtins.SubgroupShuffleDown(e,n);case"subgroupShuffleUp":return this.builtins.SubgroupShuffleUp(e,n);case"subgroupShuffleXor":return this.builtins.SubgroupShuffleXor(e,n);case"subgroupXor":return this.builtins.SubgroupXor(e,n);case"quadBroadcast":return this.builtins.QuadBroadcast(e,n);case"quadSwapDiagonal":return this.builtins.QuadSwapDiagonal(e,n);case"quadSwapX":return this.builtins.QuadSwapX(e,n);case"quadSwapY":return this.builtins.QuadSwapY(e,n)}let r=n.getFunction(e.name);if(r){let o=n.clone();for(let s=0;s<r.node.args.length;++s){let i=r.node.args[s],a=this.evalExpression(e.args[s],o);o.setVariable(i.name,a,i)}return this._execStatements(r.node.body,o)}return null}_callConstructorValue(e,n){if(!e.args||e.args.length===0)return new T(0,this.getTypeInfo(e.type));let r=this.evalExpression(e.args[0],n);return r.typeInfo=this.getTypeInfo(e.type),r.getSubData(this,e.postfix,n).clone()}_callConstructorVec(e,n){let r=this.getTypeInfo(e.type),o=e.type.getTypeName(),s=ad[o];if(s===void 0)return console.error(`Invalid vec constructor ${o}. Line ${e.line}`),null;let i=[];if(e instanceof pe)if(e.isVector){let a=e.vectorValue;for(let c of a)i.push(c)}else i.push(e.scalarValue);else if(e.args)for(let a of e.args){let c=this.evalExpression(a,n);if(c instanceof p){let u=c.data;for(let l=0;l<u.length;++l){let f=u[l];i.push(f)}}else if(c instanceof T){let u=c.value;i.push(u)}}if(e.type instanceof B&&e.type.format===null&&(e.type.format=B.f32),i.length===0){let a=new Array(s).fill(0);return new p(a,r).getSubData(this,e.postfix,n)}if(i.length===1)for(;i.length<s;)i.push(i[0]);return i.length<s?(console.error(`Invalid vec constructor. Line ${e.line}`),null):new p(i.length>s?i.slice(0,s):i,r).getSubData(this,e.postfix,n)}_callConstructorMatrix(e,n){let r=this.getTypeInfo(e.type),o=e.type.getTypeName(),s=ze[o];if(s===void 0)return console.error(`Invalid matrix constructor ${o}. Line ${e.line}`),null;let i=[];if(e instanceof pe)if(e.isVector){let a=e.vectorValue;for(let c of a)i.push(c)}else i.push(e.scalarValue);else if(e.args)for(let a of e.args){let c=this.evalExpression(a,n);c instanceof p?i.push(...c.data):c instanceof T?i.push(c.value):c instanceof U&&i.push(...c.data)}if(r instanceof Sn&&r.format===null&&(r.format=this.getTypeInfo("f32")),i.length===0){let a=new Array(s[2]).fill(0);return new U(a,r).getSubData(this,e.postfix,n)}return i.length!==s[2]?(console.error(`Invalid matrix constructor. Line ${e.line}`),null):new U(i,r).getSubData(this,e.postfix,n)}};os._breakObj=new Mt(new $e("BREAK",null),null),os._continueObj=new Mt(new $e("CONTINUE",null),null),os._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);var Ed=class{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}},Sd=class{constructor(){this._tokens=[],this._current=0,this._currentLine=1,this._deferArrayCountEval=[],this._currentLoop=[],this._context=new Ed,this._exec=new os,this._forwardTypeCount=0}parse(e){this._initialize(e),this._deferArrayCountEval.length=0;let n=[];for(;!this._isAtEnd();){let r=this._global_decl_or_directive();if(!r)break;n.push(r)}if(this._deferArrayCountEval.length>0){for(let r of this._deferArrayCountEval){let o=r.arrayType,s=r.countNode;if(s instanceof He){let i=s.name,a=this._context.constants.get(i);if(a)try{let c=a.constEvaluate(this._exec);o.count=c}catch{}}}this._deferArrayCountEval.length=0}if(this._forwardTypeCount>0)for(let r of n)r.search(o=>{o instanceof yu||o instanceof ns?o.type=this._forwardType(o.type):o instanceof Fr?o.format=this._forwardType(o.format):o instanceof Gt||o instanceof Lr||o instanceof ts?o.type=this._forwardType(o.type):o instanceof zr?o.returnType=this._forwardType(o.returnType):o instanceof pu&&(o.type=this._forwardType(o.type))});return n}_forwardType(e){if(e instanceof cu){let n=this._getType(e.name);if(n)return n}else e instanceof ns?e.type=this._forwardType(e.type):e instanceof Fr&&(e.format=this._forwardType(e.format));return e}_initialize(e){if(e)if(typeof e=="string"){let n=new Ad(e);this._tokens=n.scanTokens()}else this._tokens=e;else this._tokens=[];this._current=0}_updateNode(e,n){return e.line=n??this._currentLine,e}_error(e,n){return{token:e,message:n,toString:()=>`${n}`}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==h.eof}_match(e){if(e instanceof v)return!!this._check(e)&&(this._advance(),!0);for(let n=0,r=e.length;n<r;++n){let o=e[n];if(this._check(o))return this._advance(),!0}return!1}_consume(e,n){if(this._check(e))return this._advance();throw this._error(this._peek(),`${n}. Line:${this._currentLine}`)}_check(e){if(this._isAtEnd())return!1;let n=this._peek();if(e instanceof Array){let r=n.type,o=!1;for(let s of e){if(r===s)return!0;s===h.tokens.name&&(o=!0)}if(o){let s=h.tokens.name.rule.exec(n.lexeme);if(s&&s.index==0&&s[0]==n.lexeme)return!0}return!1}if(n.type===e)return!0;if(e===h.tokens.name){let r=h.tokens.name.rule.exec(n.lexeme);return r&&r.index==0&&r[0]==n.lexeme}return!1}_advance(){var e,n;return this._currentLine=(n=(e=this._peek())===null||e===void 0?void 0:e.line)!==null&&n!==void 0?n:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(h.tokens.semicolon)&&!this._isAtEnd(););if(this._match(h.keywords.alias)){let n=this._type_alias();return this._consume(h.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}if(this._match(h.keywords.diagnostic)){let n=this._diagnostic();return this._consume(h.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}if(this._match(h.keywords.requires)){let n=this._requires_directive();return this._consume(h.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}if(this._match(h.keywords.enable)){let n=this._enable_directive();return this._consume(h.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}let e=this._attribute();if(this._check(h.keywords.var)){let n=this._global_variable_decl();return n!=null&&(n.attributes=e),this._consume(h.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(h.keywords.override)){let n=this._override_variable_decl();return n!=null&&(n.attributes=e),this._consume(h.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(h.keywords.let)){let n=this._global_let_decl();return n!=null&&(n.attributes=e),this._consume(h.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(h.keywords.const)){let n=this._global_const_decl();return n!=null&&(n.attributes=e),this._consume(h.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(h.keywords.struct)){let n=this._struct_decl();return n!=null&&(n.attributes=e),this._exec.reflection.updateAST([n]),n}if(this._check(h.keywords.fn)){let n=this._function_decl();return n!=null&&(n.attributes=e),this._exec.reflection.updateAST([n]),n}return null}_function_decl(){if(!this._match(h.keywords.fn))return null;let e=this._currentLine,n=this._consume(h.tokens.ident,"Expected function name.").toString();this._consume(h.tokens.paren_left,"Expected '(' for function arguments.");let r=[];if(!this._check(h.tokens.paren_right))do{if(this._check(h.tokens.paren_right))break;let a=this._attribute(),c=this._consume(h.tokens.name,"Expected argument name.").toString();this._consume(h.tokens.colon,"Expected ':' for argument type.");let u=this._attribute(),l=this._type_decl();l!=null&&(l.attributes=u,r.push(this._updateNode(new pu(c,l,a))))}while(this._match(h.tokens.comma));this._consume(h.tokens.paren_right,"Expected ')' after function arguments.");let o=null;if(this._match(h.tokens.arrow)){let a=this._attribute();o=this._type_decl(),o!=null&&(o.attributes=a)}let s=this._compound_statement(),i=this._currentLine;return this._updateNode(new zr(n,r,o,s,e,i),e)}_compound_statement(){let e=[];for(this._consume(h.tokens.brace_left,"Expected '{' for block.");!this._check(h.tokens.brace_right);){let n=this._statement();n!==null&&e.push(n)}return this._consume(h.tokens.brace_right,"Expected '}' for block."),e}_statement(){for(;this._match(h.tokens.semicolon)&&!this._isAtEnd(););if(this._check(h.tokens.attr)&&this._attribute(),this._check(h.keywords.if))return this._if_statement();if(this._check(h.keywords.switch))return this._switch_statement();if(this._check(h.keywords.loop))return this._loop_statement();if(this._check(h.keywords.for))return this._for_statement();if(this._check(h.keywords.while))return this._while_statement();if(this._check(h.keywords.continuing))return this._continuing_statement();if(this._check(h.keywords.static_assert))return this._static_assert_statement();if(this._check(h.tokens.brace_left))return this._compound_statement();let e=null;if(this._check(h.keywords.return))e=this._return_statement();else if(this._check([h.keywords.var,h.keywords.let,h.keywords.const]))e=this._variable_statement();else if(this._match(h.keywords.discard))e=this._updateNode(new xd);else if(this._match(h.keywords.break)){let n=this._updateNode(new iu);if(this._currentLoop.length>0){let r=this._currentLoop[this._currentLoop.length-1];n.loopId=r.id}e=n,this._check(h.keywords.if)&&(this._advance(),n.condition=this._optional_paren_expression())}else if(this._match(h.keywords.continue)){let n=this._updateNode(new au);if(!(this._currentLoop.length>0))throw this._error(this._peek(),`Continue statement must be inside a loop. Line: ${n.line}`);{let r=this._currentLoop[this._currentLoop.length-1];n.loopId=r.id}e=n}else e=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement();return e!=null&&this._consume(h.tokens.semicolon,"Expected ';' after statement."),e}_static_assert_statement(){if(!this._match(h.keywords.static_assert))return null;let e=this._currentLine,n=this._optional_paren_expression();return this._updateNode(new hd(n),e)}_while_statement(){if(!this._match(h.keywords.while))return null;let e=this._updateNode(new Wc(null,null));return this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(h.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_continuing_statement(){let e=this._currentLoop.length>0?this._currentLoop[this._currentLoop.length-1].id:-1;if(!this._match(h.keywords.continuing))return null;let n=this._currentLine,r=this._compound_statement();return this._updateNode(new Ni(r,e),n)}_for_statement(){if(!this._match(h.keywords.for))return null;this._consume(h.tokens.paren_left,"Expected '('.");let e=this._updateNode(new $c(null,null,null,null));return this._currentLoop.push(e),e.init=this._check(h.tokens.semicolon)?null:this._for_init(),this._consume(h.tokens.semicolon,"Expected ';'."),e.condition=this._check(h.tokens.semicolon)?null:this._short_circuit_or_expression(),this._consume(h.tokens.semicolon,"Expected ';'."),e.increment=this._check(h.tokens.paren_right)?null:this._for_increment(),this._consume(h.tokens.paren_right,"Expected ')'."),this._check(h.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(h.keywords.var)){let e=this._variable_decl();if(e===null)throw this._error(this._peek(),"Variable declaration expected.");let n=null;return this._match(h.tokens.equal)&&(n=this._short_circuit_or_expression()),this._updateNode(new Gt(e.name,e.type,e.storage,e.access,n),e.line)}if(this._match(h.keywords.let)){let e=this._currentLine,n=this._consume(h.tokens.name,"Expected name for let.").toString(),r=null;if(this._match(h.tokens.colon)){let s=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=s)}this._consume(h.tokens.equal,"Expected '=' for let.");let o=this._short_circuit_or_expression();return this._updateNode(new Lr(n,r,null,null,o),e)}if(this._match(h.keywords.const)){let e=this._currentLine,n=this._consume(h.tokens.name,"Expected name for const.").toString(),r=null;if(this._match(h.tokens.colon)){let s=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=s)}this._consume(h.tokens.equal,"Expected '=' for const.");let o=this._short_circuit_or_expression();return r===null&&o instanceof pe&&(r=o.type),this._updateNode(new ts(n,r,null,null,o),e)}return null}_increment_decrement_statement(){let e=this._current,n=this._unary_expression();if(n==null)return null;if(!this._check(h.increment_operators))return this._current=e,null;let r=this._consume(h.increment_operators,"Expected increment operator");return this._updateNode(new Zc(r.type===h.tokens.plus_plus?Zo.increment:Zo.decrement,n))}_assignment_statement(){let e=null,n=this._currentLine;if(this._check(h.tokens.brace_right))return null;let r=this._match(h.tokens.underscore);if(r||(e=this._unary_expression()),!r&&e==null)return null;let o=this._consume(h.assignment_operators,"Expected assignment operator."),s=this._short_circuit_or_expression();return this._updateNode(new eu(Li.parse(o.lexeme),e,s),n)}_func_call_statement(){if(!this._check(h.tokens.ident))return null;let e=this._currentLine,n=this._current,r=this._consume(h.tokens.ident,"Expected function name."),o=this._argument_expression_list();return o===null?(this._current=n,null):this._updateNode(new Hi(r.lexeme,o),e)}_loop_statement(){if(!this._match(h.keywords.loop))return null;this._check(h.tokens.attr)&&this._attribute(),this._consume(h.tokens.brace_left,"Expected '{' for loop.");let e=this._updateNode(new tu([],null));this._currentLoop.push(e);let n=this._statement();for(;n!==null;){if(Array.isArray(n))for(let r of n)e.body.push(r);else e.body.push(n);if(n instanceof Ni){e.continuing=n;break}n=this._statement()}return this._currentLoop.pop(),this._consume(h.tokens.brace_right,"Expected '}' for loop."),e}_switch_statement(){if(!this._match(h.keywords.switch))return null;let e=this._updateNode(new nu(null,[]));if(this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(h.tokens.attr)&&this._attribute(),this._consume(h.tokens.brace_left,"Expected '{' for switch."),e.cases=this._switch_body(),e.cases==null||e.cases.length==0)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(h.tokens.brace_right,"Expected '}' for switch."),this._currentLoop.pop(),e}_switch_body(){let e=[],n=!1;for(;this._check([h.keywords.default,h.keywords.case]);){if(this._match(h.keywords.case)){let r=this._case_selectors();for(let s of r)if(s instanceof rs){if(n)throw this._error(this._previous(),"Multiple default cases in switch statement.");n=!0;break}this._match(h.tokens.colon),this._check(h.tokens.attr)&&this._attribute(),this._consume(h.tokens.brace_left,"Exected '{' for switch case.");let o=this._case_body();this._consume(h.tokens.brace_right,"Exected '}' for switch case."),e.push(this._updateNode(new du(r,o)))}if(this._match(h.keywords.default)){if(n)throw this._error(this._previous(),"Multiple default cases in switch statement.");this._match(h.tokens.colon),this._check(h.tokens.attr)&&this._attribute(),this._consume(h.tokens.brace_left,"Exected '{' for switch default.");let r=this._case_body();this._consume(h.tokens.brace_right,"Exected '}' for switch default."),e.push(this._updateNode(new hu(r)))}}return e}_case_selectors(){let e=[];for(this._match(h.keywords.default)?e.push(this._updateNode(new rs)):e.push(this._shift_expression());this._match(h.tokens.comma);)this._match(h.keywords.default)?e.push(this._updateNode(new rs)):e.push(this._shift_expression());return e}_case_body(){if(this._match(h.keywords.fallthrough))return this._consume(h.tokens.semicolon,"Expected ';'"),[];let e=this._statement();if(e==null)return[];e instanceof Array||(e=[e]);let n=this._case_body();return n.length==0?e:[...e,n[0]]}_if_statement(){if(!this._match(h.keywords.if))return null;let e=this._currentLine,n=this._optional_paren_expression();this._check(h.tokens.attr)&&this._attribute();let r=this._compound_statement(),o=[];this._match_elseif()&&(this._check(h.tokens.attr)&&this._attribute(),o=this._elseif_statement(o));let s=null;return this._match(h.keywords.else)&&(this._check(h.tokens.attr)&&this._attribute(),s=this._compound_statement()),this._updateNode(new ru(n,r,o,s),e)}_match_elseif(){return this._tokens[this._current].type===h.keywords.else&&this._tokens[this._current+1].type===h.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement(e=[]){let n=this._optional_paren_expression(),r=this._compound_statement();return e.push(this._updateNode(new gd(n,r))),this._match_elseif()&&(this._check(h.tokens.attr)&&this._attribute(),this._elseif_statement(e)),e}_return_statement(){if(!this._match(h.keywords.return))return null;let e=this._short_circuit_or_expression();return this._updateNode(new ou(e))}_short_circuit_or_expression(){let e=this._short_circuit_and_expr();for(;this._match(h.tokens.or_or);)e=this._updateNode(new lt(this._previous().toString(),e,this._short_circuit_and_expr()));return e}_short_circuit_and_expr(){let e=this._inclusive_or_expression();for(;this._match(h.tokens.and_and);)e=this._updateNode(new lt(this._previous().toString(),e,this._inclusive_or_expression()));return e}_inclusive_or_expression(){let e=this._exclusive_or_expression();for(;this._match(h.tokens.or);)e=this._updateNode(new lt(this._previous().toString(),e,this._exclusive_or_expression()));return e}_exclusive_or_expression(){let e=this._and_expression();for(;this._match(h.tokens.xor);)e=this._updateNode(new lt(this._previous().toString(),e,this._and_expression()));return e}_and_expression(){let e=this._equality_expression();for(;this._match(h.tokens.and);)e=this._updateNode(new lt(this._previous().toString(),e,this._equality_expression()));return e}_equality_expression(){let e=this._relational_expression();return this._match([h.tokens.equal_equal,h.tokens.not_equal])?this._updateNode(new lt(this._previous().toString(),e,this._relational_expression())):e}_relational_expression(){let e=this._shift_expression();for(;this._match([h.tokens.less_than,h.tokens.greater_than,h.tokens.less_than_equal,h.tokens.greater_than_equal]);)e=this._updateNode(new lt(this._previous().toString(),e,this._shift_expression()));return e}_shift_expression(){let e=this._additive_expression();for(;this._match([h.tokens.shift_left,h.tokens.shift_right]);)e=this._updateNode(new lt(this._previous().toString(),e,this._additive_expression()));return e}_additive_expression(){let e=this._multiplicative_expression();for(;this._match([h.tokens.plus,h.tokens.minus]);)e=this._updateNode(new lt(this._previous().toString(),e,this._multiplicative_expression()));return e}_multiplicative_expression(){let e=this._unary_expression();for(;this._match([h.tokens.star,h.tokens.forward_slash,h.tokens.modulo]);)e=this._updateNode(new lt(this._previous().toString(),e,this._unary_expression()));return e}_unary_expression(){return this._match([h.tokens.minus,h.tokens.bang,h.tokens.tilde,h.tokens.star,h.tokens.and])?this._updateNode(new me(this._previous().toString(),this._unary_expression())):this._singular_expression()}_singular_expression(){let e=this._primary_expression(),n=this._postfix_expression();return n&&(e.postfix=n),e}_postfix_expression(){if(this._match(h.tokens.bracket_left)){let e=this._short_circuit_or_expression();this._consume(h.tokens.bracket_right,"Expected ']'.");let n=this._updateNode(new ar(e)),r=this._postfix_expression();return r&&(n.postfix=r),n}if(this._match(h.tokens.period)){let e=this._consume(h.tokens.name,"Expected member name."),n=this._postfix_expression(),r=this._updateNode(new Cn(e.lexeme));return n&&(r.postfix=n),r}return null}_getStruct(e){return this._context.aliases.has(e)?this._context.aliases.get(e).type:this._context.structs.has(e)?this._context.structs.get(e):null}_getType(e){let n=this._getStruct(e);if(n!==null)return n;switch(e){case"void":return M.void;case"bool":return M.bool;case"i32":return M.i32;case"u32":return M.u32;case"f32":return M.f32;case"f16":return M.f16;case"vec2f":return B.vec2f;case"vec3f":return B.vec3f;case"vec4f":return B.vec4f;case"vec2i":return B.vec2i;case"vec3i":return B.vec3i;case"vec4i":return B.vec4i;case"vec2u":return B.vec2u;case"vec3u":return B.vec3u;case"vec4u":return B.vec4u;case"vec2h":return B.vec2h;case"vec3h":return B.vec3h;case"vec4h":return B.vec4h;case"mat2x2f":return B.mat2x2f;case"mat2x3f":return B.mat2x3f;case"mat2x4f":return B.mat2x4f;case"mat3x2f":return B.mat3x2f;case"mat3x3f":return B.mat3x3f;case"mat3x4f":return B.mat3x4f;case"mat4x2f":return B.mat4x2f;case"mat4x3f":return B.mat4x3f;case"mat4x4f":return B.mat4x4f;case"mat2x2h":return B.mat2x2h;case"mat2x3h":return B.mat2x3h;case"mat2x4h":return B.mat2x4h;case"mat3x2h":return B.mat3x2h;case"mat3x3h":return B.mat3x3h;case"mat3x4h":return B.mat3x4h;case"mat4x2h":return B.mat4x2h;case"mat4x3h":return B.mat4x3h;case"mat4x4h":return B.mat4x4h;case"mat2x2i":return B.mat2x2i;case"mat2x3i":return B.mat2x3i;case"mat2x4i":return B.mat2x4i;case"mat3x2i":return B.mat3x2i;case"mat3x3i":return B.mat3x3i;case"mat3x4i":return B.mat3x4i;case"mat4x2i":return B.mat4x2i;case"mat4x3i":return B.mat4x3i;case"mat4x4i":return B.mat4x4i;case"mat2x2u":return B.mat2x2u;case"mat2x3u":return B.mat2x3u;case"mat2x4u":return B.mat2x4u;case"mat3x2u":return B.mat3x2u;case"mat3x3u":return B.mat3x3u;case"mat3x4u":return B.mat3x4u;case"mat4x2u":return B.mat4x2u;case"mat4x3u":return B.mat4x3u;case"mat4x4u":return B.mat4x4u}return null}_validateTypeRange(e,n){if(n.name==="i32"){if(e<-2147483648||e>2147483647)throw this._error(this._previous(),`Value out of range for i32: ${e}. Line: ${this._currentLine}.`)}else if(n.name==="u32"&&(e<0||e>4294967295))throw this._error(this._previous(),`Value out of range for u32: ${e}. Line: ${this._currentLine}.`)}_primary_expression(){if(this._match(h.tokens.ident)){let r=this._previous().toString();if(this._check(h.tokens.paren_left)){let o=this._argument_expression_list(),s=this._getType(r);return s!==null?this._updateNode(new St(s,o)):this._updateNode(new Ki(r,o))}if(this._context.constants.has(r)){let o=this._context.constants.get(r);return this._updateNode(new uu(r,o.value))}return this._updateNode(new He(r))}if(this._match(h.tokens.int_literal)){let r=this._previous().toString(),o=r.endsWith("i")||r.endsWith("i")?M.i32:r.endsWith("u")||r.endsWith("U")?M.u32:M.x32,s=parseInt(r);return this._validateTypeRange(s,o),this._updateNode(new pe(new T(s,this._exec.getTypeInfo(o)),o))}if(this._match(h.tokens.uint_literal)){let r=parseInt(this._previous().toString());return this._validateTypeRange(r,M.u32),this._updateNode(new pe(new T(r,this._exec.getTypeInfo(M.u32)),M.u32))}if(this._match([h.tokens.decimal_float_literal,h.tokens.hex_float_literal])){let r=this._previous().toString(),o=r.endsWith("h");o&&(r=r.substring(0,r.length-1));let s=parseFloat(r);this._validateTypeRange(s,o?M.f16:M.f32);let i=o?M.f16:M.f32;return this._updateNode(new pe(new T(s,this._exec.getTypeInfo(i)),i))}if(this._match([h.keywords.true,h.keywords.false])){let r=this._previous().toString()===h.keywords.true.rule;return this._updateNode(new pe(new T(r?1:0,this._exec.getTypeInfo(M.bool)),M.bool))}if(this._check(h.tokens.paren_left))return this._paren_expression();if(this._match(h.keywords.bitcast)){this._consume(h.tokens.less_than,"Expected '<'.");let r=this._type_decl();this._consume(h.tokens.greater_than,"Expected '>'.");let o=this._paren_expression();return this._updateNode(new lu(r,o))}let e=this._type_decl(),n=this._argument_expression_list();return this._updateNode(new St(e,n))}_argument_expression_list(){if(!this._match(h.tokens.paren_left))return null;let e=[];do{if(this._check(h.tokens.paren_right))break;let n=this._short_circuit_or_expression();e.push(n)}while(this._match(h.tokens.comma));return this._consume(h.tokens.paren_right,"Expected ')' for agument list"),e}_optional_paren_expression(){this._match(h.tokens.paren_left);let e=this._short_circuit_or_expression();return this._match(h.tokens.paren_right),e}_paren_expression(){this._consume(h.tokens.paren_left,"Expected '('.");let e=this._short_circuit_or_expression();return this._consume(h.tokens.paren_right,"Expected ')'."),e}_struct_decl(){if(!this._match(h.keywords.struct))return null;let e=this._currentLine,n=this._consume(h.tokens.ident,"Expected name for struct.").toString();this._consume(h.tokens.brace_left,"Expected '{' for struct body.");let r=[];for(;!this._check(h.tokens.brace_right);){let i=this._attribute(),a=this._consume(h.tokens.name,"Expected variable name.").toString();this._consume(h.tokens.colon,"Expected ':' for struct member type.");let c=this._attribute(),u=this._type_decl();u!=null&&(u.attributes=c),this._check(h.tokens.brace_right)?this._match(h.tokens.comma):this._consume(h.tokens.comma,"Expected ',' for struct member."),r.push(this._updateNode(new yu(a,u,i)))}this._consume(h.tokens.brace_right,"Expected '}' after struct body.");let o=this._currentLine,s=this._updateNode(new Ot(n,r,e,o),e);return this._context.structs.set(n,s),s}_global_variable_decl(){let e=this._variable_decl();if(!e)return null;if(this._match(h.tokens.equal)){let n=this._const_expression();e.value=n}if(e.type!==null&&e.value instanceof pe){if(e.value.type.name!=="x32"&&e.type.getTypeName()!==e.value.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${e.value.type.name} to ${e.type.name}. Line:${this._currentLine}`);e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type),e.value.type=e.type}else e.type===null&&e.value instanceof pe&&(e.type=e.value.type.name==="x32"?M.i32:e.value.type,e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type));return e}_override_variable_decl(){let e=this._override_decl();return e&&this._match(h.tokens.equal)&&(e.value=this._const_expression()),e}_global_const_decl(){var e;if(!this._match(h.keywords.const))return null;let n=this._consume(h.tokens.name,"Expected variable name"),r=this._currentLine,o=null;if(this._match(h.tokens.colon)){let c=this._attribute();o=this._type_decl(),o!=null&&(o.attributes=c)}let s=null;this._consume(h.tokens.equal,"const declarations require an assignment");let i=this._short_circuit_or_expression();try{let c=[M.f32],u=i.constEvaluate(this._exec,c);u instanceof T&&this._validateTypeRange(u.value,c[0]),c[0]instanceof B&&c[0].format===null&&u.typeInfo instanceof Sn&&u.typeInfo.format!==null&&(u.typeInfo.format.name==="f16"?c[0].format=M.f16:u.typeInfo.format.name==="f32"?c[0].format=M.f32:u.typeInfo.format.name==="i32"?c[0].format=M.i32:u.typeInfo.format.name==="u32"?c[0].format=M.u32:u.typeInfo.format.name==="bool"?c[0].format=M.bool:console.error(`TODO: impelement template format type ${u.typeInfo.format.name}`)),s=this._updateNode(new pe(u,c[0])),this._exec.context.setVariable(n.toString(),u)}catch{s=i}if(o!==null&&s instanceof pe){if(s.type.name!=="x32"&&o.getTypeName()!==s.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${s.type.name} to ${o.name}. Line:${this._currentLine}`);s.type=o,s.isScalar&&this._validateTypeRange(s.scalarValue,s.type)}else o===null&&s instanceof pe&&(o=(e=s?.type)!==null&&e!==void 0?e:M.f32,o===M.x32&&(o=M.i32));let a=this._updateNode(new ts(n.toString(),o,"","",s),r);return this._context.constants.set(a.name,a),a}_global_let_decl(){if(!this._match(h.keywords.let))return null;let e=this._currentLine,n=this._consume(h.tokens.name,"Expected variable name"),r=null;if(this._match(h.tokens.colon)){let s=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=s)}let o=null;if(this._match(h.tokens.equal)&&(o=this._const_expression()),r!==null&&o instanceof pe){if(o.type.name!=="x32"&&r.getTypeName()!==o.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${o.type.name} to ${r.name}. Line:${this._currentLine}`);o.type=r}else r===null&&o instanceof pe&&(r=o.type.name==="x32"?M.i32:o.type);return o instanceof pe&&o.isScalar&&this._validateTypeRange(o.scalarValue,r),this._updateNode(new Lr(n.toString(),r,"","",o),e)}_const_expression(){return this._short_circuit_or_expression()}_variable_decl(){if(!this._match(h.keywords.var))return null;let e=this._currentLine,n="",r="";this._match(h.tokens.less_than)&&(n=this._consume(h.storage_class,"Expected storage_class.").toString(),this._match(h.tokens.comma)&&(r=this._consume(h.access_mode,"Expected access_mode.").toString()),this._consume(h.tokens.greater_than,"Expected '>'."));let o=this._consume(h.tokens.name,"Expected variable name"),s=null;if(this._match(h.tokens.colon)){let i=this._attribute();s=this._type_decl(),s!=null&&(s.attributes=i)}return this._updateNode(new Gt(o.toString(),s,n,r,null),e)}_override_decl(){if(!this._match(h.keywords.override))return null;let e=this._consume(h.tokens.name,"Expected variable name"),n=null;if(this._match(h.tokens.colon)){let r=this._attribute();n=this._type_decl(),n!=null&&(n.attributes=r)}return this._updateNode(new zi(e.toString(),n,null))}_diagnostic(){this._consume(h.tokens.paren_left,"Expected '('");let e=this._consume(h.tokens.ident,"Expected severity control name.");this._consume(h.tokens.comma,"Expected ','");let n=this._consume(h.tokens.ident,"Expected diagnostic rule name.").toString();return this._match(h.tokens.period)&&(n+=`.${this._consume(h.tokens.ident,"Expected diagnostic message.").toString()}`),this._consume(h.tokens.paren_right,"Expected ')'"),this._updateNode(new su(e.toString(),n))}_enable_directive(){let e=this._consume(h.tokens.ident,"identity expected.");return this._updateNode(new pd(e.toString()))}_requires_directive(){let e=[this._consume(h.tokens.ident,"identity expected.").toString()];for(;this._match(h.tokens.comma);){let n=this._consume(h.tokens.ident,"identity expected.");e.push(n.toString())}return this._updateNode(new yd(e))}_type_alias(){let e=this._consume(h.tokens.ident,"identity expected.");this._consume(h.tokens.equal,"Expected '=' for type alias.");let n=this._type_decl();if(n===null)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(n.name)&&(n=this._context.aliases.get(n.name).type);let r=this._updateNode(new Pi(e.toString(),n));return this._context.aliases.set(r.name,r),r}_type_decl(){if(this._check([h.tokens.ident,...h.texel_format,h.keywords.bool,h.keywords.f32,h.keywords.i32,h.keywords.u32])){let r=this._advance().toString();if(this._context.structs.has(r))return this._context.structs.get(r);if(this._context.aliases.has(r))return this._context.aliases.get(r).type;if(!this._getType(r)){let o=this._updateNode(new cu(r));return this._forwardTypeCount++,o}return this._updateNode(new M(r))}let e=this._texture_sampler_types();if(e)return e;if(this._check(h.template_types)){let r=this._advance().toString(),o=null,s=null;return this._match(h.tokens.less_than)&&(o=this._type_decl(),s=null,this._match(h.tokens.comma)&&(s=this._consume(h.access_mode,"Expected access_mode for pointer").toString()),this._consume(h.tokens.greater_than,"Expected '>' for type.")),this._updateNode(new B(r,o,s))}if(this._match(h.keywords.ptr)){let r=this._previous().toString();this._consume(h.tokens.less_than,"Expected '<' for pointer.");let o=this._consume(h.storage_class,"Expected storage_class for pointer");this._consume(h.tokens.comma,"Expected ',' for pointer.");let s=this._type_decl(),i=null;return this._match(h.tokens.comma)&&(i=this._consume(h.access_mode,"Expected access_mode for pointer").toString()),this._consume(h.tokens.greater_than,"Expected '>' for pointer."),this._updateNode(new ns(r,o.toString(),s,i))}let n=this._attribute();if(this._match(h.keywords.array)){let r=null,o=-1,s=this._previous(),i=null;if(this._match(h.tokens.less_than)){r=this._type_decl(),this._context.aliases.has(r.name)&&(r=this._context.aliases.get(r.name).type);let c="";if(this._match(h.tokens.comma)){i=this._shift_expression();try{c=i.constEvaluate(this._exec).toString(),i=null}catch{c="1"}}this._consume(h.tokens.greater_than,"Expected '>' for array."),o=c?parseInt(c):0}let a=this._updateNode(new Fr(s.toString(),n,r,o));return i&&this._deferArrayCountEval.push({arrayType:a,countNode:i}),a}return null}_texture_sampler_types(){if(this._match(h.sampler_type))return this._updateNode(new Ur(this._previous().toString(),null,null));if(this._match(h.depth_texture_type))return this._updateNode(new Ur(this._previous().toString(),null,null));if(this._match(h.sampled_texture_type)||this._match(h.multisampled_texture_type)){let e=this._previous();this._consume(h.tokens.less_than,"Expected '<' for sampler type.");let n=this._type_decl();return this._consume(h.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new Ur(e.toString(),n,null))}if(this._match(h.storage_texture_type)){let e=this._previous();this._consume(h.tokens.less_than,"Expected '<' for sampler type.");let n=this._consume(h.texel_format,"Invalid texel format.").toString();this._consume(h.tokens.comma,"Expected ',' after texel format.");let r=this._consume(h.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(h.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new Ur(e.toString(),n,r))}return null}_attribute(){let e=[];for(;this._match(h.tokens.attr);){let n=this._consume(h.attribute_name,"Expected attribute name"),r=this._updateNode(new xu(n.toString(),null));if(this._match(h.tokens.paren_left)){if(r.value=this._consume(h.literal_or_ident,"Expected attribute value").toString(),this._check(h.tokens.comma)){this._advance();do{let o=this._consume(h.literal_or_ident,"Expected attribute value").toString();r.value instanceof Array||(r.value=[r.value]),r.value.push(o)}while(this._match(h.tokens.comma))}this._consume(h.tokens.paren_right,"Expected ')'")}e.push(r)}return e.length==0?null:e}},_u=class extends Nr{constructor(e){super(),e&&this.update(e)}update(e){let n=new Sd().parse(e);this.updateAST(n)}};var w1=`/*TEXTURES*/\r
\r
/*TEXTURES*/\r
\r
\r
/*GLOBALS*/\r
\r
/*GLOBALS*/\r
\r
struct FragInput {\r
  @builtin(position) position : vec4f,\r
  @location(0) uv : vec2f,\r
}\r
\r
@vertex\r
fn VSMain(@builtin(vertex_index) vertexIndex: u32) -> FragInput {\r
  var output: FragInput;\r
\r
  output.position = vec4(array(\r
    vec2( 1.0,  1.0),\r
    vec2( 1.0, -1.0),\r
    vec2(-1.0, -1.0),\r
    vec2( 1.0,  1.0),\r
    vec2(-1.0, -1.0),\r
    vec2(-1.0,  1.0),\r
  )[vertexIndex], 0.5, 1.0);\r
\r
  output.uv = array(\r
    vec2(1.0, 0.0),\r
    vec2(1.0, 1.0),\r
    vec2(0.0, 1.0),\r
    vec2(1.0, 0.0),\r
    vec2(0.0, 1.0),\r
    vec2(0.0, 0.0),\r
  )[vertexIndex];\r
\r
  return output;\r
}\r
\r
struct Output {\r
/*OUTPUT_STRUCT*/\r
\r
/*OUTPUT_STRUCT*/\r
}\r
\r
@fragment\r
fn FSMain(@location(0) uv : vec2f) -> Output  {\r
  /*FRAGMENT_BODY*/\r
\r
  /*FRAGMENT_BODY*/\r
}`;function q3(t){return Xc(w1,[{delimiter:"/*TEXTURES*/",replaceWith:t.textures},{delimiter:"/*GLOBALS*/",replaceWith:t.globals},{delimiter:"/*OUTPUT_STRUCT*/",replaceWith:t.outputStruct},{delimiter:"/*FRAGMENT_BODY*/",replaceWith:t.fragmentBody}])}var E1={r8unorm:"f32",r8snorm:"f32",r8uint:"u32",r8sint:"i32",r16unorm:"u32",r16snorm:"i32",r16uint:"u32",r16sint:"i32",r16float:"f32",rg8unorm:"vec2f",rg8snorm:"vec2f",rg8uint:"vec2u",rg8sint:"vec2i",r32uint:"u32",r32sint:"i32",r32float:"f32",rg16unorm:"vec2f",rg16snorm:"vec2f",rg16uint:"vec2u",rg16sint:"vec2i",rg16float:"vec2f",rgba8unorm:"vec4f","rgba8unorm-srgb":"vec4f",rgba8snorm:"vec4f",rgba8uint:"vec4u",rgba8sint:"vec4i",bgra8unorm:"vec4f","bgra8unorm-srgb":"vec4f",rgb9e5ufloat:"vec4f",rgb10a2uint:"vec4u",rgb10a2unorm:"vec4f",rg11b10ufloat:"vec4f",rg32uint:"vec2u",rg32sint:"vec2i",rg32float:"vec2f",rgba16unorm:"vec4u",rgba16snorm:"vec4i",rgba16uint:"vec4u",rgba16sint:"vec4i",rgba16float:"vec4f",rgba32uint:"vec4u",rgba32sint:"vec4i",rgba32float:"vec4f"};function mt(t,e){let n="",r="",o=0,s=[];for(let y of e.samplers??[{}])r+=`@group(0) @binding(${o})
var sampler${o}: sampler;
`,s.push(t.createSampler(y)),o++;o=0;let i=new Map,a=new Map,c=Object.entries(e.inputs);for(let[y,A]of c)r+=`@group(1) @binding(${o}) 
var tex_${y}: texture_${A.dimensionality??"2d"}<${A.type??"f32"}>;`,i.set(y,o),n+=`  var ${y} = textureSample(tex_${y}, sampler${A.sampleWith??0}, uv);
`,o++;let u="",l=0;for(let[y,A]of Object.entries(e.outputs))u+=`  @location(${l}) ${y}: ${E1[A]},
`,a.set(y,l),n+=`  var ${y}: ${E1[A]};
`,l++;n+=e.source,n+=`
  var OUTPUT: Output;
`;let f=Object.entries(e.outputs);for(let[y,A]of f)n+=`  OUTPUT.${y} = ${y};
`;n+="return OUTPUT;";let m="";if(m+=e.globals??"",e.uniforms){m+=`@group(2) @binding(0) var<uniform> params : Params;
struct Params {
`;for(let[y,A]of Object.entries(e.uniforms??{}))m+=`  ${y}: ${A},
`;m+="}"}let d=q3({textures:r,globals:m,outputStruct:u,fragmentBody:n}),E=new _u(d).getBindGroups(),S=t.createShaderModule({code:d}),g=t.createRenderPipeline({layout:"auto",vertex:{module:S},fragment:{module:S,targets:f.map(([y,A])=>({format:A}))}}),x=t.createBindGroup({layout:g.getBindGroupLayout(0),entries:s.map((y,A)=>({resource:y,binding:A}))});return{pipeline:g,makeUniformBuffer(){let y=t.createBuffer({size:1024,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM}),A=t.createBindGroup({layout:g.getBindGroupLayout(2),entries:[{resource:y,binding:0}]}),V={buffer:y,bindGroup:A,setBuffer(I){let D=oo({bindGroups:E},2,0,I);return t.queue.writeBuffer(y,0,D),V}};return V},withInputs(y){let A=t.createBindGroup({layout:g.getBindGroupLayout(1),entries:c.map(([V,I],D)=>({resource:y[V],binding:D}))});return V=>(I,D,k)=>{let O=I.beginRenderPass({colorAttachments:f.map(([G,ue])=>D[G]instanceof GPUTextureView?{view:D[G],clearValue:[0,0,0,1],loadOp:"clear",storeOp:"store"}:D[G])});O.setPipeline(g),O.setBindGroup(0,x),O.setBindGroup(1,A),V&&O.setBindGroup(2,V.bindGroup),O.draw(6),O.end()}}}}function W3(t){let e=t**2;return tn(e).map(n=>{let r=n*2.4,o=Math.sqrt(n),s=Math.sqrt(n+1);return[Math.cos(r)*o,Math.sin(r)*o,o,s]})}var Tu=W3(6).map(t=>`vec4f(${t.join(",")})`).join(", ");function S1(t){return mt(t,{inputs:{color:{},depth:{}},outputs:{blurred:"rgba8unorm"},uniforms:{step:"vec2f"},globals:`
    const OFFSETS = array(${Tu});`,source:`
        var factor = 0.0;

        var size = vec2f(textureDimensions(tex_depth).xy);

        blurred = vec4(0.0);

        for (var i = 0; i < 36; i++) {
          let offset = OFFSETS[i];
          let uv2 = uv + offset.xy / size * params.step;

          let d = textureSample(tex_depth, sampler0, uv2).y;
          let pixel = textureSample(tex_color, sampler0, uv2);

          let maxdist = sqrt(36);

          let distance_factor = offset.z / maxdist;
          let distance_factor_next = offset.w / maxdist;

          
          var opacity = mix(
            0.0, 
            clamp(depth.y - d + 0.5, 0.0, 1.0),
            clamp(
              (d - distance_factor) / (distance_factor_next - distance_factor),
              0.0, 1.0 
            ) 
          );

          factor += opacity;

          blurred += pixel * opacity;
        }

      blurred /= factor;
    `})}function C1(t){return mt(t,{inputs:{far:{},near:{},depth:{}},outputs:{blurred:"rgba8unorm"},uniforms:{step:"vec2f"},globals:`
    const OFFSETS = array(${Tu});`,source:`

        var size = vec2f(textureDimensions(tex_depth).xy);

        blurred = vec4(0.0);

        for (var i = 35; i >= 0; i--) {
          let offset = OFFSETS[i];
          let uv2 = uv + offset.xy / size * params.step;

          var pixel = textureSample(tex_near, sampler0, uv2);
          if (pixel.a > 0.0) {
            pixel.a = max(pixel.a, 0.2);
          }
          let d = pixel.a;
          pixel.a = 1.0;

          let maxdist = sqrt(36);

          let distance_factor = offset.z / maxdist;
          let distance_factor_next = offset.w / maxdist;

          
          var opacity = mix(
            0.0, 
            1 / max(pow(d * maxdist * 0.7, 2.0), 1.0),
            // clamp(depth.y - d + 0.5, 0.0, 1.0),
            min(clamp(
              (d - distance_factor) / (distance_factor_next - distance_factor)
              ,
              0.0, 1.0 
            ),
            clamp(
            (d - depth.x + 0.1) * 10.0, 0.0, 1.0)   
            )
          ); 

          /*
          var opacity = select(
            0.0,
            1 / max(pow(d * maxdist, 2.0), 1.0),
            d > distance_factor 
          ); */

          // blurred += pixel * opacity;
          blurred = mix(blurred, pixel, opacity);
        }

       blurred = mix(
         far,
         blurred,
         blurred.a
         // near,
         // select(0.0, 1.0, near.a > 0)
       );

       blurred.a = 1.0;

    `})}function M1(t){return mt(t,{inputs:{color:{},depth:{}},outputs:{blurred:"rgba8unorm"},uniforms:{step:"vec2f"},globals:`
    const OFFSETS = array(${Tu});`,source:`
        var factor = 0.0;

        var size = vec2f(textureDimensions(tex_depth).xy);

        blurred = vec4f(0.0);

        for (var i = 0; i < 36; i++) {
          let offset = OFFSETS[i];
          let uv2 = uv + offset.xy / size * params.step;

          let d = textureSample(tex_depth, sampler0, uv2).x;
          let pixel = textureSample(tex_color, sampler0, uv2);

          let maxdist = sqrt(36);

          let distance_factor = offset.z / maxdist;
          let distance_factor_next = offset.w / maxdist;

          /*
          var opacity = mix(
            0.0, 
            1.0,
             clamp(
              (d - distance_factor) / (distance_factor_next - distance_factor),
              0.0, 1.0 
            ) 
          );*/

          var opacity = select(
          0.0, 1.0,
            distance_factor < d
          );

          blurred = max(blurred, vec4f(pixel.rgb * opacity, d * opacity));
        }


    `})}function V1(t){return mt(t,{inputs:{color:{},depth:{}},outputs:{far_field:"rgba8unorm"},source:`
      far_field = color;
      if (depth.y == 0.0) {
        far_field.a = 0.0;
      }
    `})}var Bu={create(){},onDestroy(){},async init(){let t=document.createElement("canvas");return t.width=1024,t.height=1024,document.body.appendChild(t),{canvas:t}},brand:"mainCanvas",dependencies:[],globalDependencies:[]},ji=Symbol("GBuffer Pass"),Vd=Symbol("Lighting Pass");function $3(t,e){let n=t.createTexture({dimension:"2d",format:"rgba8unorm",label:"albedo",size:e,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),r=t.createTexture({dimension:"2d",format:"rgba16float",label:"normal",size:e,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),o=t.createTexture({dimension:"2d",format:"rgba32float",label:"position",size:e,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.STORAGE_BINDING}),s=t.createTexture({size:e,format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT});return{albedo:n,normal:r,position:o,depth:s}}function Z3(t,e){let n=(s,i)=>t.createTexture({size:e.map(a=>Math.ceil(a*s)),format:i,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_DST|GPUTextureUsage.TEXTURE_BINDING}),r=n(1,"rgba8unorm"),o=n(1,"rgba8unorm");return{color:r,color2:o,depth:n(1,"rg8unorm"),depth2:n(1,"rg8unorm"),nearField:n(1,"rgba8unorm"),nearField2:n(1,"rgba8unorm"),farField:n(1,"rgba8unorm"),farField2:n(1,"rgba8unorm")}}function Hr(t,e,n,r){let o=t.createBuffer({label:r,usage:n,size:e.byteLength});return t.queue.writeBuffer(o,0,e),o}function eT(t,e,n){let r=n&&e[0]===n.dimensions[0]&&e[1]===n.dimensions[1]?n:void 0;return r||{gbuffer:$3(t,e),dimensions:e,lighting:Z3(t,e)}}function tT(t){return Hr(t,new Float32Array([1,-1,-1,1,-1,-1,1,-1,1,1,-1,1]),GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST,"fullscreen quad for blit")}function as(t,e){return tn(e-t+1).map(n=>n-t)}var dt={create(){},onDestroy(){},async init(t){let e=(await t(Bu)).canvas,n=e.getContext("webgpu"),o=await(await navigator.gpu.requestAdapter()).requestDevice({requiredFeatures:["float32-filterable"],requiredLimits:{}}),s=navigator.gpu.getPreferredCanvasFormat();n.configure({device:o,format:s});let i=new Set;return{blit:mt(o,{inputs:{x:{}},outputs:{y:"rgba8unorm"},source:"y = x;"}),blitToCanvas:mt(o,{inputs:{x:{}},outputs:{y:s},source:"y = x;"}),maxFilter:mt(o,{inputs:{color:{}},uniforms:{dims:"vec2f"},outputs:{blurred:"rgba8unorm"},source:`
        blurred = vec4f(0.0, 0.0, 0.0, 0.0);
        var size = vec2f(textureDimensions(tex_color).xy);
        for (var y = -params.dims.y; y < params.dims.y + 1.0; y += 1.0) {
          for (var x = -params.dims.x; x < params.dims.x + 1.0; x += 1.0) {
            blurred = max(
              blurred,
              textureSample(tex_color, sampler0, uv + vec2f(x, y) / size)
            );
          } 
        } 
        `}),blurNear:C1(o),blurFar:S1(o),maxFilterNear:M1(o),maskOutFar:V1(o),farFieldMaxFilter:mt(o,{inputs:{color:{}},uniforms:{dims:"vec2f",delta:"vec2f"},outputs:{blurred:"rgba8unorm"},source:`
        blurred = color; 
        var size = vec2f(textureDimensions(tex_color).xy);
        for (var y = -params.dims.y; y < params.dims.y + 1.0; y += 1.0) {
          for (var x = -params.dims.x; x < params.dims.x + 1.0; x += 1.0) {
            let smpl = textureSample(tex_color, sampler0, uv + vec2f(x, y) / size * params.delta);
            blurred = mix(max(
              blurred,
              smpl 
            ), blurred, color.a);
          } 
        } 
        `}),boxBlur:mt(o,{inputs:{color:{}},uniforms:{dims:"vec2f"},outputs:{blurred:"rgba8unorm"},source:`
        blurred = vec4f(0.0, 0.0, 0.0, 0.0);
        var size = vec2f(textureDimensions(tex_color).xy);
        let sample_count =
          vec4f(
            (params.dims.x * 2.0 + 1.0) * (params.dims.y * 2.0 + 1.0)
          );
        for (var y = -params.dims.y; y < params.dims.y + 1.0; y += 1.0) {
          for (var x = -params.dims.x; x < params.dims.x + 1.0; x += 1.0) {
            blurred = 
              blurred + textureSample(tex_color, sampler0, uv + vec2f(x, y) / size);
          } 
        } 
        blurred = blurred / sample_count; 
        `}),generateDofDepthMask:mt(o,{inputs:{position:{}},uniforms:{near_threshold:"f32",focus:"f32",far_threshold:"f32"},outputs:{combined:"rg8unorm"},source:`
          let depth = position.z;
          combined = vec2f(
            1.0 - (depth - params.near_threshold) / (params.focus - params.near_threshold),
            -(params.focus - depth) / (params.far_threshold - params.focus)
          );
        `}),mixBlend:mt(o,{inputs:{bottom:{},top:{}},outputs:{combined:"rgba8unorm"},source:`
          combined = mix(bottom, top, top.a); 
        `}),maxKernel:Yc(o,{accumulate:"max(acc, curr)",convert:"acc",kernel:ha(as(-2,2),as(-2,2)).map(([a,c])=>`vec2f(${a}, ${c})`),initial:"vec4f(0.0)"},s),verticalBoxBlur:Yc(o,{accumulate:"acc + curr",convert:"acc / 41.0",kernel:ha(as(0,0),as(-20,20)).map(([a,c])=>`vec2f(${c}, ${c})`),initial:"vec4f(0.0)"},"rgba8unorm"),horizontalBoxBlur:Yc(o,{accumulate:"acc + curr",convert:"acc / 41.0",kernel:ha(as(-20,20),as(0,0)).map(([a,c])=>`vec2f(${a}, ${-a})`),initial:"vec4f(0.0)"},"rgba8unorm"),dofPositionToDepth:x1(o),dofDownsample:y1(o),dofPipeline:p1(o,s),fullscreenQuad:tT(o),textures:eT(o,[e.width,e.height]),canvas:e,ctx:n,device:o,projectionMatrix:rn([0,0,0]),viewMatrix:rn([0,0,0]),canvasFormat:s,onResize(a){let c=a();return i.add(a),[c,()=>{i.delete(a)}]}}},renderUpdate({state:t,scheduleTask:e}){let{device:n,textures:r,fullscreenQuad:o}=t;e(()=>{let s=n.createCommandEncoder();function i(S,g,x){t.boxBlur.withInputs({color:S.createView()})(t.boxBlur.makeUniformBuffer().setBuffer({dims:[x[0],0]}))(s,{blurred:g.createView()}),t.boxBlur.withInputs({color:g.createView()})(t.boxBlur.makeUniformBuffer().setBuffer({dims:[0,x[1]]}))(s,{blurred:S.createView()})}function a(S,g,x){t.maxFilter.withInputs({color:S.createView()})(t.maxFilter.makeUniformBuffer().setBuffer({dims:[x[0],0]}))(s,{blurred:g.createView()}),t.maxFilter.withInputs({color:g.createView()})(t.maxFilter.makeUniformBuffer().setBuffer({dims:[0,x[1]]}))(s,{blurred:S.createView()})}function c(S,g,x,y){t.farFieldMaxFilter.withInputs({color:S.createView()})(t.farFieldMaxFilter.makeUniformBuffer().setBuffer({dims:[x[0],0],delta:y}))(s,{blurred:g.createView()}),t.farFieldMaxFilter.withInputs({color:g.createView()})(t.farFieldMaxFilter.makeUniformBuffer().setBuffer({dims:[0,x[1]],delta:y}))(s,{blurred:S.createView()})}let u=5,l=10,f=20,m=1/(f-l),d=-l*m,b=-1/(l-u),E=-u*b+1;return t.generateDofDepthMask.withInputs({position:r.gbuffer.position.createView()})(t.generateDofDepthMask.makeUniformBuffer().setBuffer({near_threshold:u,focus:l,far_threshold:f}))(s,{combined:r.lighting.depth.createView()}),t.maskOutFar.withInputs({color:r.lighting.color.createView(),depth:r.lighting.depth.createView()})(void 0)(s,{far_field:r.lighting.farField.createView()}),t.blurFar.withInputs({color:r.lighting.farField.createView(),depth:r.lighting.depth.createView()})(t.blurFar.makeUniformBuffer().setBuffer({step:[1,1]}))(s,{blurred:r.lighting.farField2.createView()}),t.maxFilterNear.withInputs({color:r.lighting.color.createView(),depth:r.lighting.depth.createView()})(t.maxFilterNear.makeUniformBuffer().setBuffer({step:[1,1]}))(s,{blurred:r.lighting.nearField2.createView()}),t.blurNear.withInputs({far:r.lighting.farField2.createView(),near:r.lighting.nearField2.createView(),depth:r.lighting.depth.createView()})(t.blurNear.makeUniformBuffer().setBuffer({step:[1,1]}))(s,{blurred:r.lighting.color2.createView()}),t.blitToCanvas.withInputs({x:r.lighting.color2.createView()})(void 0)(s,{y:t.ctx.getCurrentTexture().createView()}),n.queue.submit([s.finish()]),Promise.resolve()},[],[Vd,ji])},brand:"sampleWebgpuRenderer",dependencies:[],globalDependencies:[Bu]};var cr={create(t){return{matrix:t}},onDestroy(){},brand:"transform",dependencies:[],globalDependencies:[],init:()=>{}};async function Xi(t,e,n,r){return r._parse(t,e,n,r)}function Pe(t,e){if(!t)throw new Error(e||"loader assertion failed.")}var Xt={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},nT=Xt.self||Xt.window||Xt.global||{},rT=Xt.window||Xt.self||Xt.global||{},oT=Xt.global||Xt.self||Xt.window||{},sT=Xt.document||{};var Mn=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser);var D1=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),iT=D1&&parseFloat(D1[1])||0;var Eu=globalThis,aT=globalThis.document||{},Su=globalThis.process||{},cT=globalThis.console,iD=globalThis.navigator||{};function R1(t){if(typeof window<"u"&&window.process?.type==="renderer"||typeof process<"u"&&process.versions?.electron)return!0;let e=typeof navigator<"u"&&navigator.userAgent,n=t||e;return!!(n&&n.indexOf("Electron")>=0)}function Pr(){return!(typeof process=="object"&&String(process)==="[object process]"&&!process?.browser)||R1()}var Dd="4.1.0";function lT(t){try{let e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch{return null}}var Cu=class{constructor(e,n,r="sessionStorage"){this.storage=lT(r),this.id=e,this.config=n,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){let n=JSON.stringify(this.config);this.storage.setItem(this.id,n)}}_loadConfiguration(){let e={};if(this.storage){let n=this.storage.getItem(this.id);e=n?JSON.parse(n):{}}return Object.assign(this.config,e),this}};function I1(t){let e;return t<10?e=`${t.toFixed(2)}ms`:t<100?e=`${t.toFixed(1)}ms`:t<1e3?e=`${t.toFixed(0)}ms`:e=`${(t/1e3).toFixed(2)}s`,e}function k1(t,e=8){let n=Math.max(e-t.length,0);return`${" ".repeat(n)}${t}`}var Mu;(function(t){t[t.BLACK=30]="BLACK",t[t.RED=31]="RED",t[t.GREEN=32]="GREEN",t[t.YELLOW=33]="YELLOW",t[t.BLUE=34]="BLUE",t[t.MAGENTA=35]="MAGENTA",t[t.CYAN=36]="CYAN",t[t.WHITE=37]="WHITE",t[t.BRIGHT_BLACK=90]="BRIGHT_BLACK",t[t.BRIGHT_RED=91]="BRIGHT_RED",t[t.BRIGHT_GREEN=92]="BRIGHT_GREEN",t[t.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",t[t.BRIGHT_BLUE=94]="BRIGHT_BLUE",t[t.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",t[t.BRIGHT_CYAN=96]="BRIGHT_CYAN",t[t.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(Mu||(Mu={}));var fT=10;function O1(t){return typeof t!="string"?t:(t=t.toUpperCase(),Mu[t]||Mu.WHITE)}function G1(t,e,n){return!Pr&&typeof t=="string"&&(e&&(t=`\x1B[${O1(e)}m${t}\x1B[39m`),n&&(t=`\x1B[${O1(n)+fT}m${t}\x1B[49m`)),t}function U1(t,e=["constructor"]){let n=Object.getPrototypeOf(t),r=Object.getOwnPropertyNames(n),o=t;for(let s of r){let i=o[s];typeof i=="function"&&(e.find(a=>s===a)||(o[s]=i.bind(t)))}}function Yi(t,e){if(!t)throw new Error(e||"Assertion failed")}function Kr(){let t;if(Pr()&&Eu.performance)t=Eu?.performance?.now?.();else if("hrtime"in Su){let e=Su?.hrtime?.();t=e[0]*1e3+e[1]/1e6}else t=Date.now();return t}var cs={debug:Pr()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},mT={enabled:!0,level:0};function us(){}var L1={},F1={once:!0},Yt=class{constructor({id:e}={id:""}){this.VERSION=Dd,this._startTs=Kr(),this._deltaTs=Kr(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=e,this.userData={},this._storage=new Cu(`__probe-${this.id}__`,mT),this.timeStamp(`${this.id} started`),U1(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((Kr()-this._startTs).toPrecision(10))}getDelta(){return Number((Kr()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(e=!0){return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,n){this._storage.setConfiguration({[e]:n})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,n){if(!e)throw new Error(n||"Assertion failed")}warn(e){return this._getLogFunction(0,e,cs.warn,arguments,F1)}error(e){return this._getLogFunction(0,e,cs.error,arguments)}deprecated(e,n){return this.warn(`\`${e}\` is deprecated and will be removed in a later version. Use \`${n}\` instead`)}removed(e,n){return this.error(`\`${e}\` has been removed. Use \`${n}\` instead`)}probe(e,n){return this._getLogFunction(e,n,cs.log,arguments,{time:!0,once:!0})}log(e,n){return this._getLogFunction(e,n,cs.debug,arguments)}info(e,n){return this._getLogFunction(e,n,console.info,arguments)}once(e,n){return this._getLogFunction(e,n,cs.debug||cs.info,arguments,F1)}table(e,n,r){return n?this._getLogFunction(e,n,console.table||us,r&&[r],{tag:hT(n)}):us}time(e,n){return this._getLogFunction(e,n,console.time?console.time:console.info)}timeEnd(e,n){return this._getLogFunction(e,n,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,n){return this._getLogFunction(e,n,console.timeStamp||us)}group(e,n,r={collapsed:!1}){let o=N1({logLevel:e,message:n,opts:r}),{collapsed:s}=r;return o.method=(s?console.groupCollapsed:console.group)||console.info,this._getLogFunction(o)}groupCollapsed(e,n,r={}){return this.group(e,n,Object.assign({},r,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||us)}withGroup(e,n,r){this.group(e,n)();try{r()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=z1(e)}_getLogFunction(e,n,r,o,s){if(this._shouldLog(e)){s=N1({logLevel:e,message:n,args:o,opts:s}),r=r||s.method,Yi(r),s.total=this.getTotal(),s.delta=this.getDelta(),this._deltaTs=Kr();let i=s.tag||s.message;if(s.once&&i)if(!L1[i])L1[i]=Kr();else return us;return n=dT(this.id,s.message,s),r.bind(console,n,...s.args)}return us}};Yt.VERSION=Dd;function z1(t){if(!t)return 0;let e;switch(typeof t){case"number":e=t;break;case"object":e=t.logLevel||t.priority||0;break;default:return 0}return Yi(Number.isFinite(e)&&e>=0),e}function N1(t){let{logLevel:e,message:n}=t;t.logLevel=z1(e);let r=t.args?Array.from(t.args):[];for(;r.length&&r.shift()!==n;);switch(typeof e){case"string":case"function":n!==void 0&&r.unshift(n),t.message=e;break;case"object":Object.assign(t,e);break;default:}typeof t.message=="function"&&(t.message=t.message());let o=typeof t.message;return Yi(o==="string"||o==="object"),Object.assign(t,{args:r},t.opts)}function dT(t,e,n){if(typeof e=="string"){let r=n.time?k1(I1(n.total)):"";e=n.time?`${t}: ${r}  ${e}`:`${t}: ${e}`,e=G1(e,n.color,n.background)}return e}function hT(t){for(let e in t)for(let n in t[e])return n||"untitled";return"empty"}globalThis.probe={};var DD=new Yt({id:"@probe.gl/log"});var Rd="4.3.3",pT=Rd[0]>="0"&&Rd[0]<="9"?`v${Rd}`:"";function yT(){let t=new Yt({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=t,globalThis.loaders.version=pT,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=t,t}var Id=yT();function kd(t,e){return H1(t||{},e)}function H1(t,e,n=0){if(n>3)return e;let r={...t};for(let[o,s]of Object.entries(e))s&&typeof s=="object"&&!Array.isArray(s)?r[o]=H1(r[o]||{},e[o],n+1):r[o]=e[o];return r}function Od(t){globalThis.loaders||={},globalThis.loaders.modules||={},Object.assign(globalThis.loaders.modules,t)}function Gd(t){return globalThis.loaders?.modules?.[t]||null}var P1="latest";function xT(){return globalThis._loadersgl_?.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.3"),globalThis._loadersgl_.version}var Qi=xT();function Ie(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}var Qt={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},zD=Qt.self||Qt.window||Qt.global||{},HD=Qt.window||Qt.self||Qt.global||{},PD=Qt.global||Qt.self||Qt.window||{},KD=Qt.document||{};var Se=typeof process!="object"||String(process)!=="[object process]"||process.browser,qi=typeof importScripts=="function",J1=typeof window<"u"&&typeof window.orientation<"u",K1=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),JD=K1&&parseFloat(K1[1])||0;var Wi=class{name;workerThread;isRunning=!0;result;_resolve=()=>{};_reject=()=>{};constructor(e,n){this.name=e,this.workerThread=n,this.result=new Promise((r,o)=>{this._resolve=r,this._reject=o})}postMessage(e,n){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:n})}done(e){Ie(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){Ie(this.isRunning),this.isRunning=!1,this._reject(e)}};var ls=class{terminate(){}};var Ud=new Map;function j1(t){Ie(t.source&&!t.url||!t.source&&t.url);let e=Ud.get(t.source||t.url);return e||(t.url&&(e=gT(t.url),Ud.set(t.url,e)),t.source&&(e=X1(t.source),Ud.set(t.source,e))),Ie(e),e}function gT(t){if(!t.startsWith("http"))return t;let e=AT(t);return X1(e)}function X1(t){let e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function AT(t){return`try {
  importScripts('${t}');
} catch (error) {
  console.error(error);
  throw error;
}`}function Ld(t,e=!0,n){let r=n||new Set;if(t){if(Y1(t))r.add(t);else if(Y1(t.buffer))r.add(t.buffer);else if(!ArrayBuffer.isView(t)){if(e&&typeof t=="object")for(let o in t)Ld(t[o],e,r)}}return n===void 0?Array.from(r):[]}function Y1(t){return t?t instanceof ArrayBuffer||typeof MessagePort<"u"&&t instanceof MessagePort||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas:!1}var Fd=()=>{},ur=class{name;source;url;terminated=!1;worker;onMessage;onError;_loadableURL="";static isSupported(){return typeof Worker<"u"&&Se||typeof ls<"u"&&!Se}constructor(e){let{name:n,source:r,url:o}=e;Ie(r||o),this.name=n,this.source=r,this.url=o,this.onMessage=Fd,this.onError=s=>console.log(s),this.worker=Se?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=Fd,this.onError=Fd,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,n){n=n||Ld(e),this.worker.postMessage(e,n)}_getErrorFromErrorEvent(e){let n="Failed to load ";return n+=`worker ${this.name} from ${this.url}. `,e.message&&(n+=`${e.message} in `),e.lineno&&(n+=`:${e.lineno}:${e.colno}`),new Error(n)}_createBrowserWorker(){this._loadableURL=j1({source:this.source,url:this.url});let e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=n=>{n.data?this.onMessage(n.data):this.onError(new Error("No data received"))},e.onerror=n=>{this.onError(this._getErrorFromErrorEvent(n)),this.terminated=!0},e.onmessageerror=n=>console.error(n),e}_createNodeWorker(){let e;if(this.url){let r=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;e=new ls(r,{eval:!1})}else if(this.source)e=new ls(this.source,{eval:!0});else throw new Error("no worker");return e.on("message",n=>{this.onMessage(n)}),e.on("error",n=>{this.onError(n)}),e.on("exit",n=>{}),e}};var $i=class{name="unnamed";source;url;maxConcurrency=1;maxMobileConcurrency=1;onDebug=()=>{};reuseWorkers=!0;props={};jobQueue=[];idleQueue=[];count=0;isDestroyed=!1;static isSupported(){return ur.isSupported()}constructor(e){this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},e.name!==void 0&&(this.name=e.name),e.maxConcurrency!==void 0&&(this.maxConcurrency=e.maxConcurrency),e.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=e.maxMobileConcurrency),e.reuseWorkers!==void 0&&(this.reuseWorkers=e.reuseWorkers),e.onDebug!==void 0&&(this.onDebug=e.onDebug)}async startJob(e,n=(o,s,i)=>o.done(i),r=(o,s)=>o.error(s)){let o=new Promise(s=>(this.jobQueue.push({name:e,onMessage:n,onError:r,onStart:s}),this));return this._startQueuedJob(),await o}async _startQueuedJob(){if(!this.jobQueue.length)return;let e=this._getAvailableWorker();if(!e)return;let n=this.jobQueue.shift();if(n){this.onDebug({message:"Starting job",name:n.name,workerThread:e,backlog:this.jobQueue.length});let r=new Wi(n.name,e);e.onMessage=o=>n.onMessage(r,o.type,o.payload),e.onError=o=>n.onError(r,o),n.onStart(r);try{await r.result}catch(o){console.error(`Worker exception: ${o}`)}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){!Se||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;let e=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new ur({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return J1?this.maxMobileConcurrency:this.maxConcurrency}};var bT={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},Jr=class t{props;workerPools=new Map;static _workerFarm;static isSupported(){return ur.isSupported()}static getWorkerFarm(e={}){return t._workerFarm=t._workerFarm||new t({}),t._workerFarm.setProps(e),t._workerFarm}constructor(e){this.props={...bT},this.setProps(e),this.workerPools=new Map}destroy(){for(let e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(let n of this.workerPools.values())n.setProps(this._getWorkerPoolProps())}getWorkerPool(e){let{name:n,source:r,url:o}=e,s=this.workerPools.get(n);return s||(s=new $i({name:n,source:r,url:o}),s.setProps(this._getWorkerPoolProps()),this.workerPools.set(n,s)),s}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}};function Nd(t,e={}){let n=e[t.id]||{},r=Se?`${t.id}-worker.js`:`${t.id}-worker-node.js`,o=n.workerUrl;if(!o&&t.id==="compression"&&(o=e.workerUrl),e._workerType==="test"&&(Se?o=`modules/${t.module}/dist/${r}`:o=`modules/${t.module}/src/workers/${t.id}-worker-node.ts`),!o){let s=t.version;s==="latest"&&(s=P1);let i=s?`@${s}`:"";o=`https://unpkg.com/@loaders.gl/${t.module}${i}/dist/${r}`}return Ie(o),o}function zd(t,e=Qi){Ie(t,"no worker provided");let n=t.version;return!(!e||!n)}var Hd={};async function qt(t,e=null,n={},r=null){return e&&(t=Q1(t,e,n,r)),Hd[t]=Hd[t]||vT(t),await Hd[t]}function Q1(t,e,n={},r=null){if(!n.useLocalLibraries&&t.startsWith("http"))return t;r=r||t;let o=n.modules||{};return o[r]?o[r]:Se?n.CDN?(Ie(n.CDN.startsWith("http")),`${n.CDN}/${e}@${Qi}/dist/libs/${r}`):qi?`../src/libs/${r}`:`modules/${e}/src/libs/${r}`:`modules/${e}/dist/libs/${r}`}async function vT(t){if(t.endsWith("wasm"))return await TT(t);if(!Se)try{let{requireFromFile:n}=globalThis.loaders||{};return await n?.(t)}catch(n){return console.error(n),null}if(qi)return importScripts(t);let e=await BT(t);return _T(e,t)}function _T(t,e){if(!Se){let{requireFromString:r}=globalThis.loaders||{};return r?.(t,e)}if(qi)return eval.call(globalThis,t),null;let n=document.createElement("script");n.id=e;try{n.appendChild(document.createTextNode(t))}catch{n.text=t}return document.body.appendChild(n),null}async function TT(t){let{readFileAsArrayBuffer:e}=globalThis.loaders||{};return Se||!e||t.startsWith("http")?await(await fetch(t)).arrayBuffer():await e(t)}async function BT(t){let{readFileAsText:e}=globalThis.loaders||{};return Se||!e||t.startsWith("http")?await(await fetch(t)).text():await e(t)}function Pd(t,e){return!Jr.isSupported()||!Se&&!e?._nodeWorkers?!1:t.worker&&e?.worker}async function Kd(t,e,n,r,o){let s=t.id,i=Nd(t,n),c=Jr.getWorkerFarm(n).getWorkerPool({name:s,url:i});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));let u=await c.startJob("process-on-worker",wT.bind(null,o));return u.postMessage("process",{input:e,options:n,context:r}),await(await u.result).result}async function wT(t,e,n,r){switch(n){case"done":e.done(r);break;case"error":e.error(new Error(r.error));break;case"process":let{id:o,input:s,options:i}=r;try{let a=await t(s,i);e.postMessage("done",{id:o,result:a})}catch(a){let c=a instanceof Error?a.message:"unknown error";e.postMessage("error",{id:o,error:c})}break;default:console.warn(`parse-with-worker unknown message ${n}`)}}function W1(t,e=5){return typeof t=="string"?t.slice(0,e):ArrayBuffer.isView(t)?q1(t.buffer,t.byteOffset,e):t instanceof ArrayBuffer?q1(t,0,e):""}function q1(t,e,n){if(t.byteLength<=e+n)return"";let r=new DataView(t),o="";for(let s=0;s<n;s++)o+=String.fromCharCode(r.getUint8(e+s));return o}function Jd(t){try{return JSON.parse(t)}catch{throw new Error(`Failed to parse JSON from data starting with "${W1(t)}"`)}}function jd(t,e,n){if(n=n||t.byteLength,t.byteLength<n||e.byteLength<n)return!1;let r=new Uint8Array(t),o=new Uint8Array(e);for(let s=0;s<r.length;++s)if(r[s]!==o[s])return!1;return!0}function Xd(...t){return $1(t)}function $1(t){let e=t.map(s=>s instanceof ArrayBuffer?new Uint8Array(s):s),n=e.reduce((s,i)=>s+i.byteLength,0),r=new Uint8Array(n),o=0;for(let s of e)r.set(s,o),o+=s.byteLength;return r.buffer}function Zi(t,e,n){let r=n!==void 0?new Uint8Array(t).subarray(e,e+n):new Uint8Array(t).subarray(e);return new Uint8Array(r).buffer}function lr(t,e){return Pe(t>=0),Pe(e>0),t+(e-1)&~(e-1)}function Yd(t,e,n){let r;if(t instanceof ArrayBuffer)r=new Uint8Array(t);else{let o=t.byteOffset,s=t.byteLength;r=new Uint8Array(t.buffer||t.arrayBuffer,o,s)}return e.set(r,n),n+lr(r.byteLength,4)}async function Qd(t){let e=[];for await(let n of t)e.push(n);return Xd(...e)}var ET="",Z1={};function qd(t){for(let e in Z1)if(t.startsWith(e)){let n=Z1[e];t=t.replace(e,n)}return!t.startsWith("http://")&&!t.startsWith("https://")&&(t=`${ET}${t}`),t}function e2(t){return t&&typeof t=="object"&&t.isBuffer}function Vu(t){if(e2(t))return t;if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);if(typeof t=="string"){let e=t;return new TextEncoder().encode(e).buffer}if(t&&typeof t=="object"&&t._toArrayBuffer)return t._toArrayBuffer();throw new Error("toArrayBuffer")}var jr={};pt(jr,{dirname:()=>CT,filename:()=>ST,join:()=>MT,resolve:()=>VT});function t2(){if(typeof process<"u"&&typeof process.cwd<"u")return process.cwd();let t=window.location?.pathname;return t?.slice(0,t.lastIndexOf("/")+1)||""}function ST(t){let e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(e+1):""}function CT(t){let e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(0,e):""}function MT(...t){return t=t.map((n,r)=>(r&&(n=n.replace(new RegExp("^/"),"")),r!==t.length-1&&(n=n.replace(new RegExp("/$"),"")),n)),t.join("/")}function VT(...t){let e=[];for(let s=0;s<t.length;s++)e[s]=t[s];let n="",r=!1,o;for(let s=e.length-1;s>=-1&&!r;s--){let i;s>=0?i=e[s]:(o===void 0&&(o=t2()),i=o),i.length!==0&&(n=`${i}/${n}`,r=i.charCodeAt(0)===ea)}return n=DT(n,!r),r?`/${n}`:n.length>0?n:"."}var ea=47,Wd=46;function DT(t,e){let n="",r=-1,o=0,s,i=!1;for(let a=0;a<=t.length;++a){if(a<t.length)s=t.charCodeAt(a);else{if(s===ea)break;s=ea}if(s===ea){if(!(r===a-1||o===1))if(r!==a-1&&o===2){if(n.length<2||!i||n.charCodeAt(n.length-1)!==Wd||n.charCodeAt(n.length-2)!==Wd){if(n.length>2){let c=n.length-1,u=c;for(;u>=0&&n.charCodeAt(u)!==ea;--u);if(u!==c){n=u===-1?"":n.slice(0,u),r=a,o=0,i=!1;continue}}else if(n.length===2||n.length===1){n="",r=a,o=0,i=!1;continue}}e&&(n.length>0?n+="/..":n="..",i=!0)}else{let c=t.slice(r+1,a);n.length>0?n+=`/${c}`:n=c,i=!1}r=a,o=0}else s===Wd&&o!==-1?++o:o=-1}return n}var RT=t=>typeof t=="boolean",ta=t=>typeof t=="function",Xr=t=>t!==null&&typeof t=="object",$d=t=>Xr(t)&&t.constructor==={}.constructor;var n2=t=>!!t&&typeof t[Symbol.iterator]=="function",r2=t=>t&&typeof t[Symbol.asyncIterator]=="function";var Vt=t=>typeof Response<"u"&&t instanceof Response||t&&t.arrayBuffer&&t.text&&t.json;var Wt=t=>typeof Blob<"u"&&t instanceof Blob,o2=t=>t&&typeof t=="object"&&t.isBuffer;var IT=t=>typeof ReadableStream<"u"&&t instanceof ReadableStream||Xr(t)&&ta(t.tee)&&ta(t.cancel)&&ta(t.getReader);var kT=t=>Xr(t)&&ta(t.read)&&ta(t.pipe)&&RT(t.readable),Du=t=>IT(t)||kT(t);var Ru=class extends Error{constructor(e,n){super(e),this.reason=n.reason,this.url=n.url,this.response=n.response}reason;url;response};var OT=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,GT=/^([-\w.]+\/[-\w.+]+)/;function Zd(t,e){return t.toLowerCase()===e.toLowerCase()}function s2(t){let e=GT.exec(t);return e?e[1]:t}function eh(t){let e=OT.exec(t);return e?e[1]:""}var i2=/\?.*/;function a2(t){let e=t.match(i2);return e&&e[0]}function fs(t){return t.replace(i2,"")}function c2(t){if(t.length<50)return t;let e=t.slice(t.length-15);return`${t.substr(0,32)}...${e}`}function Yr(t){return Vt(t)?t.url:Wt(t)?t.name||"":typeof t=="string"?t:""}function na(t){if(Vt(t)){let e=t,n=e.headers.get("content-type")||"",r=fs(e.url);return s2(n)||eh(r)}return Wt(t)?t.type||"":typeof t=="string"?eh(t):""}function u2(t){return Vt(t)?t.headers["content-length"]||-1:Wt(t)?t.size:typeof t=="string"?t.length:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?t.byteLength:-1}async function Iu(t){if(Vt(t))return t;let e={},n=u2(t);n>=0&&(e["content-length"]=String(n));let r=Yr(t),o=na(t);o&&(e["content-type"]=o);let s=await LT(t);s&&(e["x-first-bytes"]=s),typeof t=="string"&&(t=new TextEncoder().encode(t));let i=new Response(t,{headers:e});return Object.defineProperty(i,"url",{value:r}),i}async function l2(t){if(!t.ok)throw await UT(t)}async function UT(t){let e=c2(t.url),n=`Failed to fetch resource (${t.status}) ${t.statusText}: ${e}`;n=n.length>100?`${n.slice(0,100)}...`:n;let r={reason:t.statusText,url:t.url,response:t};try{let o=t.headers.get("Content-Type");r.reason=!t.bodyUsed&&o?.includes("application/json")?await t.json():await t.text()}catch{}return new Ru(n,r)}async function LT(t){if(typeof t=="string")return`data:,${t.slice(0,5)}`;if(t instanceof Blob){let n=t.slice(0,5);return await new Promise(r=>{let o=new FileReader;o.onload=s=>r(s?.target?.result),o.readAsDataURL(n)})}if(t instanceof ArrayBuffer){let n=t.slice(0,5);return`data:base64,${FT(n)}`}return null}function FT(t){let e="",n=new Uint8Array(t);for(let r=0;r<n.byteLength;r++)e+=String.fromCharCode(n[r]);return btoa(e)}function NT(t){return!zT(t)&&!HT(t)}function zT(t){return t.startsWith("http:")||t.startsWith("https:")}function HT(t){return t.startsWith("data:")}async function th(t,e){if(typeof t=="string"){let n=qd(t);return NT(n)&&globalThis.loaders?.fetchNode?globalThis.loaders?.fetchNode(n,e):await fetch(n,e)}return await Iu(t)}var nh=new Yt({id:"loaders.gl"}),ku=class{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}},Ou=class{console;constructor(){this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}};var rh={fetch:null,mimeType:void 0,nothrow:!1,log:new Ou,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:Mn,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},f2={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function oh(){globalThis.loaders=globalThis.loaders||{};let{loaders:t}=globalThis;return t._state||(t._state={}),t._state}function sh(){let t=oh();return t.globalOptions=t.globalOptions||{...rh},t.globalOptions}function h2(t,e,n,r){return n=n||[],n=Array.isArray(n)?n:[n],PT(t,n),JT(e,t,r)}function PT(t,e){m2(t,null,rh,f2,e);for(let n of e){let r=t&&t[n.id]||{},o=n.options&&n.options[n.id]||{},s=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};m2(r,n.id,o,s,e)}}function m2(t,e,n,r,o){let s=e||"Top level",i=e?`${e}.`:"";for(let a in t){let c=!e&&Xr(t[a]),u=a==="baseUri"&&!e,l=a==="workerUrl"&&e;if(!(a in n)&&!u&&!l){if(a in r)nh.warn(`${s} loader option '${i}${a}' no longer supported, use '${r[a]}'`)();else if(!c){let f=KT(a,o);nh.warn(`${s} loader option '${i}${a}' not recognized. ${f}`)()}}}}function KT(t,e){let n=t.toLowerCase(),r="";for(let o of e)for(let s in o.options){if(t===s)return`Did you mean '${o.id}.${s}'?`;let i=s.toLowerCase();(n.startsWith(i)||i.startsWith(n))&&(r=r||`Did you mean '${o.id}.${s}'?`)}return r}function JT(t,e,n){let o={...t.options||{}};return jT(o,n),o.log===null&&(o.log=new ku),d2(o,sh()),d2(o,e),o}function d2(t,e){for(let n in e)if(n in e){let r=e[n];$d(r)&&$d(t[n])?t[n]={...t[n],...e[n]}:t[n]=e[n]}}function jT(t,e){e&&!("baseUri"in t)&&(t.baseUri=e)}function ih(t){return t?(Array.isArray(t)&&(t=t[0]),Array.isArray(t?.extensions)):!1}function ah(t){Pe(t,"null loader"),Pe(ih(t),"invalid loader");let e;return Array.isArray(t)&&(e=t[1],t=t[0],t={...t,options:{...t.options,...e}}),(t?.parseTextSync||t?.parseText)&&(t.text=!0),t.text||(t.binary=!0),t}var XT=()=>{let t=oh();return t.loaderRegistry=t.loaderRegistry||[],t.loaderRegistry};function p2(){return XT()}var YT=/\.([^.]+)$/;async function g2(t,e=[],n,r){if(!A2(t))return null;let o=y2(t,e,{...n,nothrow:!0},r);if(o)return o;if(Wt(t)&&(t=await t.slice(0,10).arrayBuffer(),o=y2(t,e,n,r)),!o&&!n?.nothrow)throw new Error(b2(t));return o}function y2(t,e=[],n,r){if(!A2(t))return null;if(e&&!Array.isArray(e))return ah(e);let o=[];e&&(o=o.concat(e)),n?.ignoreRegisteredLoaders||o.push(...p2()),qT(o);let s=QT(t,o,n,r);if(!s&&!n?.nothrow)throw new Error(b2(t));return s}function QT(t,e,n,r){let o=Yr(t),s=na(t),i=fs(o)||r?.url,a=null,c="";return n?.mimeType&&(a=ch(e,n?.mimeType),c=`match forced by supplied MIME type ${n?.mimeType}`),a=a||WT(e,i),c=c||(a?`matched url ${i}`:""),a=a||ch(e,s),c=c||(a?`matched MIME type ${s}`:""),a=a||ZT(e,t),c=c||(a?`matched initial data ${v2(t)}`:""),n?.fallbackMimeType&&(a=a||ch(e,n?.fallbackMimeType),c=c||(a?`matched fallback MIME type ${s}`:"")),c&&Id.log(1,`selectLoader selected ${a?.name}: ${c}.`),a}function A2(t){return!(t instanceof Response&&t.status===204)}function b2(t){let e=Yr(t),n=na(t),r="No valid loader found (";r+=e?`${jr.filename(e)}, `:"no url provided, ",r+=`MIME type: ${n?`"${n}"`:"not provided"}, `;let o=t?v2(t):"";return r+=o?` first bytes: "${o}"`:"first bytes: not available",r+=")",r}function qT(t){for(let e of t)ah(e)}function WT(t,e){let n=e&&YT.exec(e),r=n&&n[1];return r?$T(t,r):null}function $T(t,e){e=e.toLowerCase();for(let n of t)for(let r of n.extensions)if(r.toLowerCase()===e)return n;return null}function ch(t,e){for(let n of t)if(n.mimeTypes?.some(r=>Zd(e,r))||Zd(e,`application/x.${n.id}`))return n;return null}function ZT(t,e){if(!e)return null;for(let n of t)if(typeof e=="string"){if(eB(e,n))return n}else if(ArrayBuffer.isView(e)){if(x2(e.buffer,e.byteOffset,n))return n}else if(e instanceof ArrayBuffer&&x2(e,0,n))return n;return null}function eB(t,e){return e.testText?e.testText(t):(Array.isArray(e.tests)?e.tests:[e.tests]).some(r=>t.startsWith(r))}function x2(t,e,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some(o=>tB(t,e,n,o))}function tB(t,e,n,r){if(r instanceof ArrayBuffer)return jd(r,t,r.byteLength);switch(typeof r){case"function":return r(t);case"string":let o=uh(t,e,r.length);return r===o;default:return!1}}function v2(t,e=5){return typeof t=="string"?t.slice(0,e):ArrayBuffer.isView(t)?uh(t.buffer,t.byteOffset,e):t instanceof ArrayBuffer?uh(t,0,e):""}function uh(t,e,n){if(t.byteLength<e+n)return"";let r=new DataView(t),o="";for(let s=0;s<n;s++)o+=String.fromCharCode(r.getUint8(e+s));return o}function*_2(t,e){let n=e?.chunkSize||262144,r=0,o=new TextEncoder;for(;r<t.length;){let s=Math.min(t.length-r,n),i=t.slice(r,r+s);r+=s,yield o.encode(i)}}function*T2(t,e={}){let{chunkSize:n=262144}=e,r=0;for(;r<t.byteLength;){let o=Math.min(t.byteLength-r,n),s=new ArrayBuffer(o),i=new Uint8Array(t,r,o);new Uint8Array(s).set(i),r+=o,yield s}}async function*B2(t,e){let n=e?.chunkSize||1048576,r=0;for(;r<t.size;){let o=r+n,s=await t.slice(r,o).arrayBuffer();r=o,yield s}}function lh(t,e){return Mn?nB(t,e):rB(t,e)}async function*nB(t,e){let n=t.getReader(),r;try{for(;;){let o=r||n.read();e?._streamReadAhead&&(r=n.read());let{done:s,value:i}=await o;if(s)return;yield Vu(i)}}catch{n.releaseLock()}}async function*rB(t,e){for await(let n of t)yield Vu(n)}function w2(t,e){if(typeof t=="string")return _2(t,e);if(t instanceof ArrayBuffer)return T2(t,e);if(Wt(t))return B2(t,e);if(Du(t))return lh(t,e);if(Vt(t))return lh(t.body,e);throw new Error("makeIterator")}var E2="Cannot convert supplied data type";function oB(t,e,n){if(e.text&&typeof t=="string")return t;if(o2(t)&&(t=t.buffer),t instanceof ArrayBuffer){let r=t;return e.text&&!e.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(t)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(t);let r=t.buffer,o=t.byteLength||t.length;return(t.byteOffset!==0||o!==r.byteLength)&&(r=r.slice(t.byteOffset,t.byteOffset+o)),r}throw new Error(E2)}async function S2(t,e,n){let r=t instanceof ArrayBuffer||ArrayBuffer.isView(t);if(typeof t=="string"||r)return oB(t,e,n);if(Wt(t)&&(t=await Iu(t)),Vt(t)){let o=t;return await l2(o),e.binary?await o.arrayBuffer():await o.text()}if(Du(t)&&(t=w2(t,n)),n2(t)||r2(t))return Qd(t);throw new Error(E2)}function C2(t,e){let n=sh(),r=t||n;return typeof r.fetch=="function"?r.fetch:Xr(r.fetch)?o=>th(o,r.fetch):e?.fetch?e?.fetch:th}function M2(t,e,n){if(n)return n;let r={fetch:C2(e,t),...t};if(r.url){let o=fs(r.url);r.baseUrl=o,r.queryString=a2(r.url),r.filename=jr.filename(o),r.baseUrl=jr.dirname(o)}return Array.isArray(r.loaders)||(r.loaders=null),r}function V2(t,e){if(t&&!Array.isArray(t))return t;let n;if(t&&(n=Array.isArray(t)?t:[t]),e&&e.loaders){let r=Array.isArray(e.loaders)?e.loaders:[e.loaders];n=n?[...n,...r]:r}return n&&n.length?n:void 0}async function ms(t,e,n,r){e&&!Array.isArray(e)&&!ih(e)&&(r=void 0,n=e,e=void 0),t=await t,n=n||{};let o=Yr(t),i=V2(e,r),a=await g2(t,i,n);return a?(n=h2(n,a,i,o),r=M2({url:o,_parse:ms,loaders:i},n,r||null),await sB(a,t,n,r)):null}async function sB(t,e,n,r){if(zd(t),n=kd(t.options,n),Vt(e)){let s=e,{ok:i,redirected:a,status:c,statusText:u,type:l,url:f}=s,m=Object.fromEntries(s.headers.entries());r.response={headers:m,ok:i,redirected:a,status:c,statusText:u,type:l,url:f}}e=await S2(e,t,n);let o=t;if(o.parseTextSync&&typeof e=="string")return o.parseTextSync(e,n,r);if(Pd(t,n))return await Kd(t,e,n,r,ms);if(o.parseText&&typeof e=="string")return await o.parseText(e,n,r);if(o.parse)return await o.parse(e,n,r);throw Ie(!o.parseSync),new Error(`${t.id} loader - no parser found and worker is disabled`)}function D2(t){switch(t.constructor){case Int8Array:return"int8";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int16Array:return"int16";case Uint16Array:return"uint16";case Int32Array:return"int32";case Uint32Array:return"uint32";case Float32Array:return"float32";case Float64Array:return"float64";default:return"null"}}function fh(t){let e=1/0,n=1/0,r=1/0,o=-1/0,s=-1/0,i=-1/0,a=t.POSITION?t.POSITION.value:[],c=a&&a.length;for(let u=0;u<c;u+=3){let l=a[u],f=a[u+1],m=a[u+2];e=l<e?l:e,n=f<n?f:n,r=m<r?m:r,o=l>o?l:o,s=f>s?f:s,i=m>i?m:i}return[[e,n,r],[o,s,i]]}function mh(t,e,n){let r=D2(e.value),o=n||R2(e);return{name:t,type:{type:"fixed-size-list",listSize:e.size,children:[{name:"value",type:r}]},nullable:!1,metadata:o}}function R2(t){let e={};return"byteOffset"in t&&(e.byteOffset=t.byteOffset.toString(10)),"byteStride"in t&&(e.byteStride=t.byteStride.toString(10)),"normalized"in t&&(e.normalized=t.normalized.toString()),e}var bh={};pt(bh,{createExtMeshFeatures:()=>XB,decode:()=>HB,encode:()=>PB,name:()=>zB});var I2="4.3.3";var iB=globalThis.loaders?.parseImageNode,dh=typeof Image<"u",hh=typeof ImageBitmap<"u",aB=!!iB,ph=Mn?!0:aB;function k2(t){switch(t){case"auto":return hh||dh||ph;case"imagebitmap":return hh;case"image":return dh;case"data":return ph;default:throw new Error(`@loaders.gl/images: image ${t} not supported in this environment`)}}function O2(){if(hh)return"imagebitmap";if(dh)return"image";if(ph)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function G2(t){let e=cB(t);if(!e)throw new Error("Not an image");return e}function ra(t){switch(G2(t)){case"data":return t;case"image":case"imagebitmap":let e=document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("getImageData");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0),n.getImageData(0,0,t.width,t.height);default:throw new Error("getImageData")}}function cB(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&t instanceof Image?"image":t&&typeof t=="object"&&t.data&&t.width&&t.height?"data":null}var uB=/^data:image\/svg\+xml/,lB=/\.svg((\?|#).*)?$/;function Gu(t){return t&&(uB.test(t)||lB.test(t))}function U2(t,e){if(Gu(e)){let r=new TextDecoder().decode(t);try{typeof unescape=="function"&&typeof encodeURIComponent=="function"&&(r=unescape(encodeURIComponent(r)))}catch(s){throw new Error(s.message)}return`data:image/svg+xml;base64,${btoa(r)}`}return yh(t,e)}function yh(t,e){if(Gu(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(t)])}async function Uu(t,e,n){let r=U2(t,n),o=self.URL||self.webkitURL,s=typeof r!="string"&&o.createObjectURL(r);try{return await fB(s||r,e)}finally{s&&o.revokeObjectURL(s)}}async function fB(t,e){let n=new Image;return n.src=t,e.image&&e.image.decode&&n.decode?(await n.decode(),n):await new Promise((r,o)=>{try{n.onload=()=>r(n),n.onerror=s=>{let i=s instanceof Error?s.message:"error";o(new Error(i))}}catch(s){o(s)}})}var mB={},L2=!0;async function F2(t,e,n){let r;Gu(n)?r=await Uu(t,e,n):r=yh(t,n);let o=e&&e.imagebitmap;return await dB(r,o)}async function dB(t,e=null){if((hB(e)||!L2)&&(e=null),e)try{return await createImageBitmap(t,e)}catch(n){console.warn(n),L2=!1}return await createImageBitmap(t)}function hB(t){for(let e in t||mB)return!1;return!0}function N2(t){return!gB(t,"ftyp",4)||(t[8]&96)===0?null:pB(t)}function pB(t){switch(yB(t,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}function yB(t,e,n){return String.fromCharCode(...t.slice(e,n))}function xB(t){return[...t].map(e=>e.charCodeAt(0))}function gB(t,e,n=0){let r=xB(e);for(let o=0;o<r.length;++o)if(r[o]!==t[o+n])return!1;return!0}var $t=!1,oa=!0;function Qr(t){let e=sa(t);return bB(e)||TB(e)||vB(e)||_B(e)||AB(e)}function AB(t){let e=new Uint8Array(t instanceof DataView?t.buffer:t),n=N2(e);return n?{mimeType:n.mimeType,width:0,height:0}:null}function bB(t){let e=sa(t);return e.byteLength>=24&&e.getUint32(0,$t)===2303741511?{mimeType:"image/png",width:e.getUint32(16,$t),height:e.getUint32(20,$t)}:null}function vB(t){let e=sa(t);return e.byteLength>=10&&e.getUint32(0,$t)===1195984440?{mimeType:"image/gif",width:e.getUint16(6,oa),height:e.getUint16(8,oa)}:null}function _B(t){let e=sa(t);return e.byteLength>=14&&e.getUint16(0,$t)===16973&&e.getUint32(2,oa)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,oa),height:e.getUint32(22,oa)}:null}function TB(t){let e=sa(t);if(!(e.byteLength>=3&&e.getUint16(0,$t)===65496&&e.getUint8(2)===255))return null;let{tableMarkers:r,sofMarkers:o}=BB(),s=2;for(;s+9<e.byteLength;){let i=e.getUint16(s,$t);if(o.has(i))return{mimeType:"image/jpeg",height:e.getUint16(s+5,$t),width:e.getUint16(s+7,$t)};if(!r.has(i))return null;s+=2,s+=e.getUint16(s,$t)}return null}function BB(){let t=new Set([65499,65476,65484,65501,65534]);for(let n=65504;n<65520;++n)t.add(n);return{tableMarkers:t,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function sa(t){if(t instanceof DataView)return t;if(ArrayBuffer.isView(t))return new DataView(t.buffer);if(t instanceof ArrayBuffer)return new DataView(t);throw new Error("toDataView")}async function z2(t,e){let{mimeType:n}=Qr(t)||{},r=globalThis.loaders?.parseImageNode;return Pe(r),await r(t,n)}async function H2(t,e,n){e=e||{};let o=(e.image||{}).type||"auto",{url:s}=n||{},i=wB(o),a;switch(i){case"imagebitmap":a=await F2(t,e,s);break;case"image":a=await Uu(t,e,s);break;case"data":a=await z2(t,e);break;default:Pe(!1)}return o==="data"&&(a=ra(a)),a}function wB(t){switch(t){case"auto":case"data":return O2();default:return k2(t),t}}var EB=["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],SB=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],CB={image:{type:"auto",decode:!0}},xh={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:I2,mimeTypes:SB,extensions:EB,parse:H2,tests:[t=>!!Qr(new DataView(t))],options:CB};var gh={};function Ah(t){if(gh[t]===void 0){let e=Mn?VB(t):MB(t);gh[t]=e}return gh[t]}function MB(t){let e=["image/png","image/jpeg","image/gif"],n=globalThis.loaders?.imageFormatsNode||e;return!!globalThis.loaders?.parseImageNode&&n.includes(t)}function VB(t){switch(t){case"image/avif":case"image/webp":return DB(t);default:return!0}}function DB(t){try{return document.createElement("canvas").toDataURL(t).indexOf(`data:${t}`)===0}catch{return!1}}function Te(t,e){if(!t)throw new Error(e||"assert failed: gltf")}var Lu={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Fu={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4};var P2=["SCALAR","VEC2","VEC3","VEC4"],RB=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],IB=new Map(RB),kB={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},OB={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},GB={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function Nu(t){return P2[t-1]||P2[0]}function fr(t){let e=IB.get(t.constructor);if(!e)throw new Error("Illegal typed array");return e}function ds(t,e){let n=GB[t.componentType],r=kB[t.type],o=OB[t.componentType],s=t.count*r,i=t.count*r*o;Te(i>=0&&i<=e.byteLength);let a=Fu[t.componentType],c=Lu[t.type];return{ArrayType:n,length:s,byteLength:i,componentByteSize:a,numberOfComponentsInElement:c}}function K2(t,e,n){let r=t.bufferViews[n];Te(r);let o=r.buffer,s=e[o];Te(s);let i=(r.byteOffset||0)+s.byteOffset;return new Uint8Array(s.arrayBuffer,i,r.byteLength)}function J2(t,e,n){let r=typeof n=="number"?t.accessors?.[n]:n;if(!r)throw new Error(`No gltf accessor ${JSON.stringify(n)}`);let o=t.bufferViews?.[r.bufferView||0];if(!o)throw new Error(`No gltf buffer view for accessor ${o}`);let{arrayBuffer:s,byteOffset:i}=e[o.buffer],a=(i||0)+(r.byteOffset||0)+(o.byteOffset||0),{ArrayType:c,length:u,componentByteSize:l,numberOfComponentsInElement:f}=ds(r,o),m=l*f,d=o.byteStride||m;if(typeof o.byteStride>"u"||o.byteStride===m)return new c(s,a,u);let b=new c(u);for(let E=0;E<r.count;E++){let S=new c(s,a+E*d,f);b.set(S,E*f)}return b}function UB(){return{asset:{version:"2.0",generator:"loaders.gl"},buffers:[],extensions:{},extensionsRequired:[],extensionsUsed:[]}}var J=class{gltf;sourceBuffers;byteLength;constructor(e){this.gltf={json:e?.json||UB(),buffers:e?.buffers||[],images:e?.images||[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(e){return this.json[e]}getExtraData(e){return(this.json.extras||{})[e]}hasExtension(e){let n=this.getUsedExtensions().find(o=>o===e),r=this.getRequiredExtensions().find(o=>o===e);return typeof n=="string"||typeof r=="string"}getExtension(e){let n=this.getUsedExtensions().find(o=>o===e),r=this.json.extensions||{};return n?r[e]:null}getRequiredExtension(e){return this.getRequiredExtensions().find(r=>r===e)?this.getExtension(e):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(e,n){return(e.extensions||{})[n]}getScene(e){return this.getObject("scenes",e)}getNode(e){return this.getObject("nodes",e)}getSkin(e){return this.getObject("skins",e)}getMesh(e){return this.getObject("meshes",e)}getMaterial(e){return this.getObject("materials",e)}getAccessor(e){return this.getObject("accessors",e)}getTexture(e){return this.getObject("textures",e)}getSampler(e){return this.getObject("samplers",e)}getImage(e){return this.getObject("images",e)}getBufferView(e){return this.getObject("bufferViews",e)}getBuffer(e){return this.getObject("buffers",e)}getObject(e,n){if(typeof n=="object")return n;let r=this.json[e]&&this.json[e][n];if(!r)throw new Error(`glTF file error: Could not find ${e}[${n}]`);return r}getTypedArrayForBufferView(e){e=this.getBufferView(e);let n=e.buffer,r=this.gltf.buffers[n];Te(r);let o=(e.byteOffset||0)+r.byteOffset;return new Uint8Array(r.arrayBuffer,o,e.byteLength)}getTypedArrayForAccessor(e){let n=this.getAccessor(e);return J2(this.gltf.json,this.gltf.buffers,n)}getTypedArrayForImageData(e){e=this.getAccessor(e);let n=this.getBufferView(e.bufferView),o=this.getBuffer(n.buffer).data,s=n.byteOffset||0;return new Uint8Array(o,s,n.byteLength)}addApplicationData(e,n){return this.json[e]=n,this}addExtraData(e,n){return this.json.extras=this.json.extras||{},this.json.extras[e]=n,this}addObjectExtension(e,n,r){return e.extensions=e.extensions||{},e.extensions[n]=r,this.registerUsedExtension(n),this}setObjectExtension(e,n,r){let o=e.extensions||{};o[n]=r}removeObjectExtension(e,n){let r=e?.extensions||{};if(r[n]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];let o=this.json.extensionsRemoved;o.includes(n)||o.push(n)}delete r[n]}addExtension(e,n={}){return Te(n),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=n,this.registerUsedExtension(e),n}addRequiredExtension(e,n={}){return Te(n),this.addExtension(e,n),this.registerRequiredExtension(e),n}registerUsedExtension(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(n=>n===e)||this.json.extensionsUsed.push(e)}registerRequiredExtension(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(n=>n===e)||this.json.extensionsRequired.push(e)}removeExtension(e){if(this.json.extensions?.[e]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];let n=this.json.extensionsRemoved;n.includes(e)||n.push(e)}this.json.extensions&&delete this.json.extensions[e],this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e)}setDefaultScene(e){this.json.scene=e}addScene(e){let{nodeIndices:n}=e;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:n}),this.json.scenes.length-1}addNode(e){let{meshIndex:n,matrix:r}=e;this.json.nodes=this.json.nodes||[];let o={mesh:n};return r&&(o.matrix=r),this.json.nodes.push(o),this.json.nodes.length-1}addMesh(e){let{attributes:n,indices:r,material:o,mode:s=4}=e,a={primitives:[{attributes:this._addAttributes(n),mode:s}]};if(r){let c=this._addIndices(r);a.primitives[0].indices=c}return Number.isFinite(o)&&(a.primitives[0].material=o),this.json.meshes=this.json.meshes||[],this.json.meshes.push(a),this.json.meshes.length-1}addPointCloud(e){let r={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(r),this.json.meshes.length-1}addImage(e,n){let r=Qr(e),o=n||r?.mimeType,i={bufferView:this.addBufferView(e),mimeType:o};return this.json.images=this.json.images||[],this.json.images.push(i),this.json.images.length-1}addBufferView(e,n=0,r=this.byteLength){let o=e.byteLength;Te(Number.isFinite(o)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);let s={buffer:n,byteOffset:r,byteLength:o};return this.byteLength+=lr(o,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(s),this.json.bufferViews.length-1}addAccessor(e,n){let r={bufferView:e,type:Nu(n.size),componentType:n.componentType,count:n.count,max:n.max,min:n.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(r),this.json.accessors.length-1}addBinaryBuffer(e,n={size:3}){let r=this.addBufferView(e),o={min:n.min,max:n.max};(!o.min||!o.max)&&(o=this._getAccessorMinMax(e,n.size));let s={size:n.size,componentType:fr(e),count:Math.round(e.length/n.size),min:o.min,max:o.max};return this.addAccessor(r,Object.assign(s,n))}addTexture(e){let{imageIndex:n}=e,r={source:n};return this.json.textures=this.json.textures||[],this.json.textures.push(r),this.json.textures.length-1}addMaterial(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}createBinaryChunk(){let e=this.byteLength,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;for(let s of this.sourceBuffers||[])o=Yd(s,r,o);this.json?.buffers?.[0]?this.json.buffers[0].byteLength=e:this.json.buffers=[{byteLength:e}],this.gltf.binary=n,this.sourceBuffers=[n],this.gltf.buffers=[{arrayBuffer:n,byteOffset:0,byteLength:n.byteLength}]}_removeStringFromArray(e,n){let r=!0;for(;r;){let o=e.indexOf(n);o>-1?e.splice(o,1):r=!1}}_addAttributes(e={}){let n={};for(let r in e){let o=e[r],s=this._getGltfAttributeName(r),i=this.addBinaryBuffer(o.value,o);n[s]=i}return n}_addIndices(e){return this.addBinaryBuffer(e,{size:1})}_getGltfAttributeName(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}_getAccessorMinMax(e,n){let r={min:null,max:null};if(e.length<n)return r;r.min=[],r.max=[];let o=e.subarray(0,n);for(let s of o)r.min.push(s),r.max.push(s);for(let s=n;s<e.length;s+=n)for(let i=0;i<n;i++)r.min[0+i]=Math.min(r.min[0+i],e[s+i]),r.max[0+i]=Math.max(r.max[0+i],e[s+i]);return r}};function j2(t){return(t%1+1)%1}var X2={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16,BOOLEAN:1,STRING:1,ENUM:1},LB={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:BigInt64Array,UINT64:BigUint64Array,FLOAT32:Float32Array,FLOAT64:Float64Array},Y2={INT8:1,UINT8:1,INT16:2,UINT16:2,INT32:4,UINT32:4,INT64:8,UINT64:8,FLOAT32:4,FLOAT64:8};function ia(t,e){return Y2[e]*X2[t]}function hs(t,e,n,r){if(n!=="UINT8"&&n!=="UINT16"&&n!=="UINT32"&&n!=="UINT64")return null;let o=t.getTypedArrayForBufferView(e),s=ps(o,"SCALAR",n,r+1);return s instanceof BigInt64Array||s instanceof BigUint64Array?null:s}function ps(t,e,n,r=1){let o=X2[e],s=LB[n],i=Y2[n],a=r*o,c=a*i,u=t.buffer,l=t.byteOffset;return l%i!==0&&(u=new Uint8Array(u).slice(l,l+c).buffer,l=0),new s(u,l,a)}function ys(t,e,n){let r=`TEXCOORD_${e.texCoord||0}`,o=n.attributes[r],s=t.getTypedArrayForAccessor(o),i=t.gltf.json,a=e.index,c=i.textures?.[a]?.source;if(typeof c<"u"){let u=i.images?.[c]?.mimeType,l=t.gltf.images?.[c];if(l&&typeof l.width<"u"){let f=[];for(let m=0;m<s.length;m+=2){let d=FB(l,u,s,m,e.channels);f.push(d)}return f}}return[]}function zu(t,e,n,r,o){if(!n?.length)return;let s=[];for(let l of n){let f=r.findIndex(m=>m===l);f===-1&&(f=r.push(l)-1),s.push(f)}let i=new Uint32Array(s),a=t.gltf.buffers.push({arrayBuffer:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength})-1,c=t.addBufferView(i,a,0),u=t.addAccessor(c,{size:1,componentType:fr(i),count:i.length});o.attributes[e]=u}function FB(t,e,n,r,o=[0]){let s={r:{offset:0,shift:0},g:{offset:1,shift:8},b:{offset:2,shift:16},a:{offset:3,shift:24}},i=n[r],a=n[r+1],c=1;e&&(e.indexOf("image/jpeg")!==-1||e.indexOf("image/png")!==-1)&&(c=4);let u=NB(i,a,t,c),l=0;for(let f of o){let m=typeof f=="number"?Object.values(s)[f]:s[f],d=u+m.offset,b=ra(t);if(b.data.length<=d)throw new Error(`${b.data.length} <= ${d}`);let E=b.data[d];l|=E<<m.shift}return l}function NB(t,e,n,r=1){let o=n.width,s=j2(t)*(o-1),i=Math.round(s),a=n.height,c=j2(e)*(a-1),u=Math.round(c),l=n.components?n.components:r;return(u*o+i)*l}function Hu(t,e,n,r,o){let s=[];for(let i=0;i<e;i++){let a=n[i],c=n[i+1]-n[i];if(c+a>r)break;let u=a/o,l=c/o;s.push(t.slice(u,u+l))}return s}function Pu(t,e,n){let r=[];for(let o=0;o<e;o++){let s=o*n;r.push(t.slice(s,s+n))}return r}function Ku(t,e,n,r){if(n)throw new Error("Not implemented - arrayOffsets for strings is specified");if(r){let o=[],s=new TextDecoder("utf8"),i=0;for(let a=0;a<t;a++){let c=r[a+1]-r[a];if(c+i<=e.length){let u=e.subarray(i,c+i),l=s.decode(u);o.push(l),i+=c}}return o}return[]}var xs="EXT_mesh_features",zB=xs;async function HB(t,e){let n=new J(t);KB(n,e)}function PB(t,e){let n=new J(t);return jB(n,e),n.createBinaryChunk(),n.gltf}function KB(t,e){let n=t.gltf.json;if(n.meshes)for(let r of n.meshes)for(let o of r.primitives)JB(t,o,e)}function JB(t,e,n){if(!n?.gltf?.loadBuffers)return;let o=e.extensions?.[xs]?.featureIds;if(o)for(let s of o){let i;if(typeof s.attribute<"u"){let a=`_FEATURE_ID_${s.attribute}`,c=e.attributes[a];i=t.getTypedArrayForAccessor(c)}else typeof s.texture<"u"&&n?.gltf?.loadImages?i=ys(t,s.texture,e):i=[];s.data=i}}function jB(t,e){let n=t.gltf.json.meshes;if(n)for(let r of n)for(let o of r.primitives)YB(t,o)}function XB(t,e,n,r){e.extensions||(e.extensions={});let o=e.extensions[xs];o||(o={featureIds:[]},e.extensions[xs]=o);let{featureIds:s}=o,i={featureCount:n.length,propertyTable:r,data:n};s.push(i),t.addObjectExtension(e,xs,o)}function YB(t,e){let n=e.extensions?.[xs];if(!n)return;let r=n.featureIds;r.forEach((o,s)=>{if(o.data){let{accessorKey:i,index:a}=QB(e.attributes),c=new Uint32Array(o.data);r[s]={featureCount:c.length,propertyTable:o.propertyTable,attribute:a},t.gltf.buffers.push({arrayBuffer:c.buffer,byteOffset:c.byteOffset,byteLength:c.byteLength});let u=t.addBufferView(c),l=t.addAccessor(u,{size:1,componentType:fr(c),count:c.length});e.attributes[i]=l}})}function QB(t){let e="_FEATURE_ID_",n=Object.keys(t).filter(s=>s.indexOf(e)===0),r=-1;for(let s of n){let i=Number(s.substring(e.length));i>r&&(r=i)}return r++,{accessorKey:`${e}${r}`,index:r}}var Th={};pt(Th,{createExtStructuralMetadata:()=>x4,decode:()=>WB,encode:()=>$B,name:()=>qB});var gs="EXT_structural_metadata",qB=gs;async function WB(t,e){let n=new J(t);ZB(n,e)}function $B(t,e){let n=new J(t);return p4(n,e),n.createBinaryChunk(),n.gltf}function ZB(t,e){if(!e.gltf?.loadBuffers)return;let n=t.getExtension(gs);n&&(e.gltf?.loadImages&&e4(t,n),t4(t,n))}function e4(t,e){let n=e.propertyTextures,r=t.gltf.json;if(n&&r.meshes)for(let o of r.meshes)for(let s of o.primitives)r4(t,n,s,e)}function t4(t,e){let n=e.schema;if(!n)return;let r=n.classes,o=e.propertyTables;if(r&&o)for(let s in r){let i=n4(o,s);i&&s4(t,n,i)}}function n4(t,e){for(let n of t)if(n.class===e)return n;return null}function r4(t,e,n,r){if(!e)return;let s=n.extensions?.[gs]?.propertyTextures;if(s)for(let i of s){let a=e[i];o4(t,a,n,r)}}function o4(t,e,n,r){if(!e.properties)return;r.dataAttributeNames||(r.dataAttributeNames=[]);let o=e.class;for(let s in e.properties){let i=`${o}_${s}`,a=e.properties?.[s];if(!a)continue;a.data||(a.data=[]);let c=a.data,u=ys(t,a,n);u!==null&&(zu(t,i,u,c,n),a.data=c,r.dataAttributeNames.push(i))}}function s4(t,e,n){let r=e.classes?.[n.class];if(!r)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${n.class}`);let o=n.count;for(let s in r.properties){let i=r.properties[s],a=n.properties?.[s];if(a){let c=i4(t,e,i,o,a);a.data=c}}}function i4(t,e,n,r,o){let s=[],i=o.values,a=t.getTypedArrayForBufferView(i),c=a4(t,n,o,r),u=c4(t,o,r);switch(n.type){case"SCALAR":case"VEC2":case"VEC3":case"VEC4":case"MAT2":case"MAT3":case"MAT4":{s=u4(n,r,a,c);break}case"BOOLEAN":throw new Error(`Not implemented - classProperty.type=${n.type}`);case"STRING":{s=Ku(r,a,c,u);break}case"ENUM":{s=l4(e,n,r,a,c);break}default:throw new Error(`Unknown classProperty type ${n.type}`)}return s}function a4(t,e,n,r){return e.array&&typeof e.count>"u"&&typeof n.arrayOffsets<"u"?hs(t,n.arrayOffsets,n.arrayOffsetType||"UINT32",r):null}function c4(t,e,n){return typeof e.stringOffsets<"u"?hs(t,e.stringOffsets,e.stringOffsetType||"UINT32",n):null}function u4(t,e,n,r){let o=t.array,s=t.count,i=ia(t.type,t.componentType),a=n.byteLength/i,c;return t.componentType?c=ps(n,t.type,t.componentType,a):c=n,o?r?Hu(c,e,r,n.length,i):s?Pu(c,e,s):[]:c}function l4(t,e,n,r,o){let s=e.enumType;if(!s)throw new Error("Incorrect data in the EXT_structural_metadata extension: classProperty.enumType is not set for type ENUM");let i=t.enums?.[s];if(!i)throw new Error(`Incorrect data in the EXT_structural_metadata extension: schema.enums does't contain ${s}`);let a=i.valueType||"UINT16",c=ia(e.type,a),u=r.byteLength/c,l=ps(r,e.type,a,u);if(l||(l=r),e.array){if(o)return f4({valuesData:l,numberOfElements:n,arrayOffsets:o,valuesDataBytesLength:r.length,elementSize:c,enumEntry:i});let f=e.count;return f?m4(l,n,f,i):[]}return _h(l,0,n,i)}function f4(t){let{valuesData:e,numberOfElements:n,arrayOffsets:r,valuesDataBytesLength:o,elementSize:s,enumEntry:i}=t,a=[];for(let c=0;c<n;c++){let u=r[c],l=r[c+1]-r[c];if(l+u>o)break;let f=u/s,m=l/s,d=_h(e,f,m,i);a.push(d)}return a}function m4(t,e,n,r){let o=[];for(let s=0;s<e;s++){let i=n*s,a=_h(t,i,n,r);o.push(a)}return o}function _h(t,e,n,r){let o=[];for(let s=0;s<n;s++)if(t instanceof BigInt64Array||t instanceof BigUint64Array)o.push("");else{let i=t[e+s],a=d4(r,i);a?o.push(a.name):o.push("")}return o}function d4(t,e){for(let n of t.values)if(n.value===e)return n;return null}var h4="schemaClassId";function p4(t,e){let n=t.getExtension(gs);if(n&&n.propertyTables)for(let r of n.propertyTables){let o=r.class,s=n.schema?.classes?.[o];r.properties&&s&&y4(r,s,t)}}function y4(t,e,n){for(let r in t.properties){let o=t.properties[r].data;if(o){let s=e.properties[r];if(s){let i=b4(o,s,n);t.properties[r]=i}}}}function x4(t,e,n=h4){let r=t.getExtension(gs);r||(r=t.addExtension(gs)),r.schema=g4(e,n,r.schema);let o=A4(e,n,r.schema);return r.propertyTables||(r.propertyTables=[]),r.propertyTables.push(o)-1}function g4(t,e,n){let r=n??{id:"schema_id"},o={properties:{}};for(let s of t){let i={type:s.elementType,componentType:s.componentType};o.properties[s.name]=i}return r.classes={},r.classes[e]=o,r}function A4(t,e,n){let r={class:e,count:0},o=0,s=n.classes?.[e];for(let i of t){if(o===0&&(o=i.values.length),o!==i.values.length&&i.values.length)throw new Error("Illegal values in attributes");s?.properties[i.name]&&(r.properties||(r.properties={}),r.properties[i.name]={values:0,data:i.values})}return r.count=o,r}function b4(t,e,n){let r={values:0};if(e.type==="STRING"){let{stringData:o,stringOffsets:s}=T4(t);r.stringOffsets=vh(s,n),r.values=vh(o,n)}else if(e.type==="SCALAR"&&e.componentType){let o=_4(t,e.componentType);r.values=vh(o,n)}return r}var v4={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:Int32Array,UINT64:Uint32Array,FLOAT32:Float32Array,FLOAT64:Float64Array};function _4(t,e){let n=[];for(let o of t)n.push(Number(o));let r=v4[e];if(!r)throw new Error("Illegal component type");return new r(n)}function T4(t){let e=new TextEncoder,n=[],r=0;for(let c of t){let u=e.encode(c);r+=u.length,n.push(u)}let o=new Uint8Array(r),s=[],i=0;for(let c of n)o.set(c,i),s.push(i),i+=c.length;s.push(i);let a=new Uint32Array(s);return{stringData:o,stringOffsets:a}}function vh(t,e){return e.gltf.buffers.push({arrayBuffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}),e.addBufferView(t)}var Bh={};pt(Bh,{decode:()=>w4,name:()=>B4});var Q2="EXT_feature_metadata",B4=Q2;async function w4(t,e){let n=new J(t);E4(n,e)}function E4(t,e){if(!e.gltf?.loadBuffers)return;let n=t.getExtension(Q2);n&&(e.gltf?.loadImages&&S4(t,n),C4(t,n))}function S4(t,e){let n=e.schema;if(!n)return;let r=n.classes,{featureTextures:o}=e;if(r&&o)for(let s in r){let i=r[s],a=V4(o,s);a&&R4(t,a,i)}}function C4(t,e){let n=e.schema;if(!n)return;let r=n.classes,o=e.featureTables;if(r&&o)for(let s in r){let i=M4(o,s);i&&D4(t,n,i)}}function M4(t,e){for(let n in t){let r=t[n];if(r.class===e)return r}return null}function V4(t,e){for(let n in t){let r=t[n];if(r.class===e)return r}return null}function D4(t,e,n){if(!n.class)return;let r=e.classes?.[n.class];if(!r)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${n.class}`);let o=n.count;for(let s in r.properties){let i=r.properties[s],a=n.properties?.[s];if(a){let c=I4(t,e,i,o,a);a.data=c}}}function R4(t,e,n){let r=e.class;for(let o in n.properties){let s=e?.properties?.[o];if(s){let i=L4(t,s,r);s.data=i}}}function I4(t,e,n,r,o){let s=[],i=o.bufferView,a=t.getTypedArrayForBufferView(i),c=k4(t,n,o,r),u=O4(t,n,o,r);return n.type==="STRING"||n.componentType==="STRING"?s=Ku(r,a,c,u):G4(n)&&(s=U4(n,r,a,c)),s}function k4(t,e,n,r){return e.type==="ARRAY"&&typeof e.componentCount>"u"&&typeof n.arrayOffsetBufferView<"u"?hs(t,n.arrayOffsetBufferView,n.offsetType||"UINT32",r):null}function O4(t,e,n,r){return typeof n.stringOffsetBufferView<"u"?hs(t,n.stringOffsetBufferView,n.offsetType||"UINT32",r):null}function G4(t){let e=["UINT8","INT16","UINT16","INT32","UINT32","INT64","UINT64","FLOAT32","FLOAT64"];return e.includes(t.type)||typeof t.componentType<"u"&&e.includes(t.componentType)}function U4(t,e,n,r){let o=t.type==="ARRAY",s=t.componentCount,i="SCALAR",a=t.componentType||t.type,c=ia(i,a),u=n.byteLength/c,l=ps(n,i,a,u);return o?r?Hu(l,e,r,n.length,c):s?Pu(l,e,s):[]:l}function L4(t,e,n){let r=t.gltf.json;if(!r.meshes)return[];let o=[];for(let s of r.meshes)for(let i of s.primitives)F4(t,n,e,o,i);return o}function F4(t,e,n,r,o){let s={channels:n.channels,...n.texture},i=ys(t,s,o);i&&zu(t,e,i,r,o)}var q2="4.3.3";var W2="4.3.3";var Ju={TRANSCODER:"basis_transcoder.js",TRANSCODER_WASM:"basis_transcoder.wasm",ENCODER:"basis_encoder.js",ENCODER_WASM:"basis_encoder.wasm"},$2;async function Eh(t){Od(t.modules);let e=Gd("basis");return e||($2||=N4(t),await $2)}async function N4(t){let e=null,n=null;return[e,n]=await Promise.all([await qt(Ju.TRANSCODER,"textures",t),await qt(Ju.TRANSCODER_WASM,"textures",t)]),e=e||globalThis.BASIS,await z4(e,n)}function z4(t,e){let n={};return e&&(n.wasmBinary=e),new Promise(r=>{t(n).then(o=>{let{BasisFile:s,initializeBasis:i}=o;i(),r({BasisFile:s})})})}var wh;async function Sh(t){let e=t.modules||{};return e.basisEncoder?e.basisEncoder:(wh=wh||H4(t),await wh)}async function H4(t){let e=null,n=null;return[e,n]=await Promise.all([await qt(Ju.ENCODER,"textures",t),await qt(Ju.ENCODER_WASM,"textures",t)]),e=e||globalThis.BASIS,await P4(e,n)}function P4(t,e){let n={};return e&&(n.wasmBinary=e),new Promise(r=>{t(n).then(o=>{let{BasisFile:s,KTX2File:i,initializeBasis:a,BasisEncoder:c}=o;a(),r({BasisFile:s,KTX2File:i,BasisEncoder:c})})})}var qr={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919};var K4=["","WEBKIT_","MOZ_"],Z2={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"},ju=null;function eA(t){if(!ju){t=t||J4()||void 0,ju=new Set;for(let e of K4)for(let n in Z2)if(t&&t.getExtension(`${e}${n}`)){let r=Z2[n];ju.add(r)}}return ju}function J4(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}var ht=[171,75,84,88,32,50,48,187,13,10,26,10];function tA(t){let e=new Uint8Array(t);return!(e.byteLength<ht.length||e[0]!==ht[0]||e[1]!==ht[1]||e[2]!==ht[2]||e[3]!==ht[3]||e[4]!==ht[4]||e[5]!==ht[5]||e[6]!==ht[6]||e[7]!==ht[7]||e[8]!==ht[8]||e[9]!==ht[9]||e[10]!==ht[10]||e[11]!==ht[11])}var j4={etc1:{basisFormat:0,compressed:!0,format:qr.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:qr.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:qr.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:qr.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:qr.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:qr.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};async function rA(t,e){if(e.basis.containerFormat==="auto"){if(tA(t)){let r=await Sh(e);return nA(r.KTX2File,t,e)}let{BasisFile:n}=await Eh(e);return Ch(n,t,e)}switch(e.basis.module){case"encoder":let n=await Sh(e);switch(e.basis.containerFormat){case"ktx2":return nA(n.KTX2File,t,e);case"basis":default:return Ch(n.BasisFile,t,e)}case"transcoder":default:let{BasisFile:r}=await Eh(e);return Ch(r,t,e)}}function Ch(t,e,n){let r=new t(new Uint8Array(e));try{if(!r.startTranscoding())throw new Error("Failed to start basis transcoding");let o=r.getNumImages(),s=[];for(let i=0;i<o;i++){let a=r.getNumLevels(i),c=[];for(let u=0;u<a;u++)c.push(X4(r,i,u,n));s.push(c)}return s}finally{r.close(),r.delete()}}function X4(t,e,n,r){let o=t.getImageWidth(e,n),s=t.getImageHeight(e,n),i=t.getHasAlpha(),{compressed:a,format:c,basisFormat:u}=oA(r,i),l=t.getImageTranscodedSizeInBytes(e,n,u),f=new Uint8Array(l);if(!t.transcodeImage(f,e,n,u,0,0))throw new Error("failed to start Basis transcoding");return{width:o,height:s,data:f,compressed:a,format:c,hasAlpha:i}}function nA(t,e,n){let r=new t(new Uint8Array(e));try{if(!r.startTranscoding())throw new Error("failed to start KTX2 transcoding");let o=r.getLevels(),s=[];for(let i=0;i<o;i++)s.push(Y4(r,i,n));return[s]}finally{r.close(),r.delete()}}function Y4(t,e,n){let{alphaFlag:r,height:o,width:s}=t.getImageLevelInfo(e,0,0),{compressed:i,format:a,basisFormat:c}=oA(n,r),u=t.getImageTranscodedSizeInBytes(e,0,0,c),l=new Uint8Array(u);if(!t.transcodeImage(l,e,0,0,c,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:s,height:o,data:l,compressed:i,levelSize:u,hasAlpha:r,format:a}}function oA(t,e){let n=t&&t.basis&&t.basis.format;return n==="auto"&&(n=Xu()),typeof n=="object"&&(n=e?n.alpha:n.noAlpha),n=n.toLowerCase(),j4[n]}function Xu(){let t=eA();return t.has("astc")?"astc-4x4":t.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:t.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:t.has("etc1")?"etc1":t.has("etc2")?"etc2":"rgb565"}var sA={dataType:null,batchType:null,name:"Basis",id:"basis",module:"textures",version:W2,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},Mh={...sA,parse:rA};var As=!0,iA=1735152710,Rh=12,Yu=8,Q4=1313821514,q4=5130562,W4=0,$4=0,Z4=1;function ew(t,e=0){return`${String.fromCharCode(t.getUint8(e+0))}${String.fromCharCode(t.getUint8(e+1))}${String.fromCharCode(t.getUint8(e+2))}${String.fromCharCode(t.getUint8(e+3))}`}function aA(t,e=0,n={}){let r=new DataView(t),{magic:o=iA}=n,s=r.getUint32(e,!1);return s===o||s===iA}function cA(t,e,n=0,r={}){let o=new DataView(e),s=ew(o,n+0),i=o.getUint32(n+4,As),a=o.getUint32(n+8,As);switch(Object.assign(t,{header:{byteOffset:n,byteLength:a,hasBinChunk:!1},type:s,version:i,json:{},binChunks:[]}),n+=Rh,t.version){case 1:return tw(t,o,n);case 2:return nw(t,o,n,r={});default:throw new Error(`Invalid GLB version ${t.version}. Only supports version 1 and 2.`)}}function tw(t,e,n){Pe(t.header.byteLength>Rh+Yu);let r=e.getUint32(n+0,As),o=e.getUint32(n+4,As);return n+=Yu,Pe(o===W4),Vh(t,e,n,r),n+=r,n+=Dh(t,e,n,t.header.byteLength),n}function nw(t,e,n,r){return Pe(t.header.byteLength>Rh+Yu),rw(t,e,n,r),n+t.header.byteLength}function rw(t,e,n,r){for(;n+8<=t.header.byteLength;){let o=e.getUint32(n+0,As),s=e.getUint32(n+4,As);switch(n+=Yu,s){case Q4:Vh(t,e,n,o);break;case q4:Dh(t,e,n,o);break;case $4:r.strict||Vh(t,e,n,o);break;case Z4:r.strict||Dh(t,e,n,o);break;default:break}n+=lr(o,4)}return n}function Vh(t,e,n,r){let o=new Uint8Array(e.buffer,n,r),i=new TextDecoder("utf8").decode(o);return t.json=JSON.parse(i),lr(r,4)}function Dh(t,e,n,r){return t.header.hasBinChunk=!0,t.binChunks.push({byteOffset:n,byteLength:r,arrayBuffer:e.buffer}),lr(r,4)}function Ih(t,e){if(t.startsWith("data:")||t.startsWith("http:")||t.startsWith("https:"))return t;let r=e.baseUri||e.uri;if(!r)throw new Error(`'baseUri' must be provided to resolve relative url ${t}`);return r.substr(0,r.lastIndexOf("/")+1)+t}var Oh={};pt(Oh,{decode:()=>pw,name:()=>hw});var ow="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",sw="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",iw=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),aw=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),cw={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},uw={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};async function uA(t,e,n,r,o,s="NONE"){let i=await lw();dw(i,i.exports[uw[o]],t,e,n,r,i.exports[cw[s||"NONE"]])}var kh;async function lw(){return kh||(kh=fw()),kh}async function fw(){let t=ow;WebAssembly.validate(iw)&&(t=sw,console.log("Warning: meshopt_decoder is using experimental SIMD support"));let e=await WebAssembly.instantiate(mw(t),{});return await e.instance.exports.__wasm_call_ctors(),e.instance}function mw(t){let e=new Uint8Array(t.length);for(let r=0;r<t.length;++r){let o=t.charCodeAt(r);e[r]=o>96?o-71:o>64?o-65:o>47?o+4:o>46?63:62}let n=0;for(let r=0;r<t.length;++r)e[n++]=e[r]<60?aw[e[r]]:(e[r]-60)*64+e[++r];return e.buffer.slice(0,n)}function dw(t,e,n,r,o,s,i){let a=t.exports.sbrk,c=r+3&-4,u=a(c*o),l=a(s.length),f=new Uint8Array(t.exports.memory.buffer);f.set(s,l);let m=e(u,r,o,l,s.length);if(m===0&&i&&i(u,c,o),n.set(f.subarray(u,u+r*o)),a(u-a(0)),m!==0)throw new Error(`Malformed buffer data: ${m}`)}var Qu="EXT_meshopt_compression",hw=Qu;async function pw(t,e){let n=new J(t);if(!e?.gltf?.decompressMeshes||!e.gltf?.loadBuffers)return;let r=[];for(let o of t.json.bufferViews||[])r.push(yw(n,o));await Promise.all(r),n.removeExtension(Qu)}async function yw(t,e){let n=t.getObjectExtension(e,Qu);if(n){let{byteOffset:r=0,byteLength:o=0,byteStride:s,count:i,mode:a,filter:c="NONE",buffer:u}=n,l=t.gltf.buffers[u],f=new Uint8Array(l.arrayBuffer,l.byteOffset+r,o),m=new Uint8Array(t.gltf.buffers[e.buffer].arrayBuffer,e.byteOffset,e.byteLength);await uA(m,i,s,f,a,c),t.removeObjectExtension(e,Qu)}}var Gh={};pt(Gh,{name:()=>xw,preprocess:()=>gw});var bs="EXT_texture_webp",xw=bs;function gw(t,e){let n=new J(t);if(!Ah("image/webp")){if(n.getRequiredExtensions().includes(bs))throw new Error(`gltf: Required extension ${bs} not supported by browser`);return}let{json:r}=n;for(let o of r.textures||[]){let s=n.getObjectExtension(o,bs);s&&(o.source=s.source),n.removeObjectExtension(o,bs)}n.removeExtension(bs)}var Uh={};pt(Uh,{name:()=>Aw,preprocess:()=>bw});var qu="KHR_texture_basisu",Aw=qu;function bw(t,e){let n=new J(t),{json:r}=n;for(let o of r.textures||[]){let s=n.getObjectExtension(o,qu);s&&(o.source=s.source,n.removeObjectExtension(o,qu))}n.removeExtension(qu)}var Hh={};pt(Hh,{decode:()=>Gw,encode:()=>Uw,name:()=>kw,preprocess:()=>Ow});var lA="4.3.3";var fA={dataType:null,batchType:null,name:"Draco",id:"draco",module:"draco",version:lA,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:typeof WebAssembly=="object"?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}};function dA(t,e,n){let r=hA(e.metadata),o=[],s=vw(e.attributes);for(let i in t){let a=t[i],c=mA(i,a,s[i]);o.push(c)}if(n){let i=mA("indices",n);o.push(i)}return{fields:o,metadata:r}}function vw(t){let e={};for(let n in t){let r=t[n];e[r.name||"undefined"]=r}return e}function mA(t,e,n){let r=n?hA(n.metadata):void 0;return mh(t,e,r)}function hA(t){Object.entries(t);let e={};for(let n in t)e[`${n}.string`]=JSON.stringify(t[n]);return e}var pA={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},_w={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},Tw=4,aa=class{draco;decoder;metadataQuerier;constructor(e){this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(e,n={}){let r=new this.draco.DecoderBuffer;r.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(n);let o=this.decoder.GetEncodedGeometryType(r),s=o===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let i;switch(o){case this.draco.TRIANGULAR_MESH:i=this.decoder.DecodeBufferToMesh(r,s);break;case this.draco.POINT_CLOUD:i=this.decoder.DecodeBufferToPointCloud(r,s);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!i.ok()||!s.ptr){let m=`DRACO decompression failed: ${i.error_msg()}`;throw new Error(m)}let a=this._getDracoLoaderData(s,o,n),c=this._getMeshData(s,a,n),u=fh(c.attributes),l=dA(c.attributes,a,c.indices);return{loader:"draco",loaderData:a,header:{vertexCount:s.num_points(),boundingBox:u},...c,schema:l}}finally{this.draco.destroy(r),s&&this.draco.destroy(s)}}_getDracoLoaderData(e,n,r){let o=this._getTopLevelMetadata(e),s=this._getDracoAttributes(e,r);return{geometry_type:n,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:o,attributes:s}}_getDracoAttributes(e,n){let r={};for(let o=0;o<e.num_attributes();o++){let s=this.decoder.GetAttribute(e,o),i=this._getAttributeMetadata(e,o);r[s.unique_id()]={unique_id:s.unique_id(),attribute_type:s.attribute_type(),data_type:s.data_type(),num_components:s.num_components(),byte_offset:s.byte_offset(),byte_stride:s.byte_stride(),normalized:s.normalized(),attribute_index:o,metadata:i};let a=this._getQuantizationTransform(s,n);a&&(r[s.unique_id()].quantization_transform=a);let c=this._getOctahedronTransform(s,n);c&&(r[s.unique_id()].octahedron_transform=c)}return r}_getMeshData(e,n,r){let o=this._getMeshAttributes(n,e,r);if(!o.POSITION)throw new Error("DRACO: No position attribute found.");if(e instanceof this.draco.Mesh)switch(r.topology){case"triangle-strip":return{topology:"triangle-strip",mode:4,attributes:o,indices:{value:this._getTriangleStripIndices(e),size:1}};case"triangle-list":default:return{topology:"triangle-list",mode:5,attributes:o,indices:{value:this._getTriangleListIndices(e),size:1}}}return{topology:"point-list",mode:0,attributes:o}}_getMeshAttributes(e,n,r){let o={};for(let s of Object.values(e.attributes)){let i=this._deduceAttributeName(s,r);s.name=i;let a=this._getAttributeValues(n,s);if(a){let{value:c,size:u}=a;o[i]={value:c,size:u,byteOffset:s.byte_offset,byteStride:s.byte_stride,normalized:s.normalized}}}return o}_getTriangleListIndices(e){let r=e.num_faces()*3,o=r*Tw,s=this.draco._malloc(o);try{return this.decoder.GetTrianglesUInt32Array(e,o,s),new Uint32Array(this.draco.HEAPF32.buffer,s,r).slice()}finally{this.draco._free(s)}}_getTriangleStripIndices(e){let n=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,n),Ew(n)}finally{this.draco.destroy(n)}}_getAttributeValues(e,n){let r=_w[n.data_type];if(!r)return console.warn(`DRACO: Unsupported attribute type ${n.data_type}`),null;let o=n.num_components,i=e.num_points()*o,a=i*r.BYTES_PER_ELEMENT,c=Bw(this.draco,r),u,l=this.draco._malloc(a);try{let f=this.decoder.GetAttribute(e,n.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,f,c,a,l),u=new r(this.draco.HEAPF32.buffer,l,i).slice()}finally{this.draco._free(l)}return{value:u,size:o}}_deduceAttributeName(e,n){let r=e.unique_id;for(let[i,a]of Object.entries(n.extraAttributes||{}))if(a===r)return i;let o=e.attribute_type;for(let i in pA)if(this.draco[i]===o)return pA[i];let s=n.attributeNameEntry||"name";return e.metadata[s]?e.metadata[s].string:`CUSTOM_ATTRIBUTE_${r}`}_getTopLevelMetadata(e){let n=this.decoder.GetMetadata(e);return this._getDracoMetadata(n)}_getAttributeMetadata(e,n){let r=this.decoder.GetAttributeMetadata(e,n);return this._getDracoMetadata(r)}_getDracoMetadata(e){if(!e||!e.ptr)return{};let n={},r=this.metadataQuerier.NumEntries(e);for(let o=0;o<r;o++){let s=this.metadataQuerier.GetEntryName(e,o);n[s]=this._getDracoMetadataField(e,s)}return n}_getDracoMetadataField(e,n){let r=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,n,r);let o=ww(r);return{int:this.metadataQuerier.GetIntEntry(e,n),string:this.metadataQuerier.GetStringEntry(e,n),double:this.metadataQuerier.GetDoubleEntry(e,n),intArray:o}}finally{this.draco.destroy(r)}}_disableAttributeTransforms(e){let{quantizedAttributes:n=[],octahedronAttributes:r=[]}=e,o=[...n,...r];for(let s of o)this.decoder.SkipAttributeTransform(this.draco[s])}_getQuantizationTransform(e,n){let{quantizedAttributes:r=[]}=n,o=e.attribute_type();if(r.map(i=>this.decoder[i]).includes(o)){let i=new this.draco.AttributeQuantizationTransform;try{if(i.InitFromAttribute(e))return{quantization_bits:i.quantization_bits(),range:i.range(),min_values:new Float32Array([1,2,3]).map(a=>i.min_value(a))}}finally{this.draco.destroy(i)}}return null}_getOctahedronTransform(e,n){let{octahedronAttributes:r=[]}=n,o=e.attribute_type();if(r.map(i=>this.decoder[i]).includes(o)){let i=new this.draco.AttributeQuantizationTransform;try{if(i.InitFromAttribute(e))return{quantization_bits:i.quantization_bits()}}finally{this.draco.destroy(i)}}return null}};function Bw(t,e){switch(e){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32;default:return t.DT_INVALID}}function ww(t){let e=t.size(),n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=t.GetValue(r);return n}function Ew(t){let e=t.size(),n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=t.GetValue(r);return n}var Sw="1.5.6",Cw="1.4.1",Lh=`https://www.gstatic.com/draco/versioned/decoders/${Sw}`,Ze={DECODER:"draco_wasm_wrapper.js",DECODER_WASM:"draco_decoder.wasm",FALLBACK_DECODER:"draco_decoder.js",ENCODER:"draco_encoder.js"},Fh={[Ze.DECODER]:`${Lh}/${Ze.DECODER}`,[Ze.DECODER_WASM]:`${Lh}/${Ze.DECODER_WASM}`,[Ze.FALLBACK_DECODER]:`${Lh}/${Ze.FALLBACK_DECODER}`,[Ze.ENCODER]:`https://raw.githubusercontent.com/google/draco/${Cw}/javascript/${Ze.ENCODER}`},Nh;async function yA(t){let e=t.modules||{};return e.draco3d?Nh||=e.draco3d.createDecoderModule({}).then(n=>({draco:n})):Nh||=Mw(t),await Nh}async function Mw(t){let e,n;switch(t.draco&&t.draco.decoderType){case"js":e=await qt(Fh[Ze.FALLBACK_DECODER],"draco",t,Ze.FALLBACK_DECODER);break;case"wasm":default:[e,n]=await Promise.all([await qt(Fh[Ze.DECODER],"draco",t,Ze.DECODER),await qt(Fh[Ze.DECODER_WASM],"draco",t,Ze.DECODER_WASM)])}return e=e||globalThis.DracoDecoderModule,await Vw(e,n)}function Vw(t,e){let n={};return e&&(n.wasmBinary=e),new Promise(r=>{t({...n,onModuleLoaded:o=>r({draco:o})})})}var xA={...fA,parse:Dw};async function Dw(t,e){let{draco:n}=await yA(e),r=new aa(n);try{return r.parseSync(t,e?.draco)}finally{r.destroy()}}function gA(t){let e={};for(let n in t){let r=t[n];if(n!=="indices"){let o=zh(r);e[n]=o}}return e}function zh(t){let{buffer:e,size:n,count:r}=Rw(t);return{value:e,size:n,byteOffset:0,count:r,type:Nu(n),componentType:fr(e)}}function Rw(t){let e=t,n=1,r=0;return t&&t.value&&(e=t.value,n=t.size||1),e&&(ArrayBuffer.isView(e)||(e=Iw(e,Float32Array)),r=e.length/n),{buffer:e,size:n,count:r}}function Iw(t,e,n=!1){return t?Array.isArray(t)?new e(t):n&&!(t instanceof e)?new e(t):t:null}var mr="KHR_draco_mesh_compression",kw=mr;function Ow(t,e,n){let r=new J(t);for(let o of AA(r))r.getObjectExtension(o,mr)}async function Gw(t,e,n){if(!e?.gltf?.decompressMeshes)return;let r=new J(t),o=[];for(let s of AA(r))r.getObjectExtension(s,mr)&&o.push(Lw(r,s,e,n));await Promise.all(o),r.removeExtension(mr)}function Uw(t,e={}){let n=new J(t);for(let r of n.json.meshes||[])Fw(r,e),n.addRequiredExtension(mr)}async function Lw(t,e,n,r){let o=t.getObjectExtension(e,mr);if(!o)return;let s=t.getTypedArrayForBufferView(o.bufferView),i=Zi(s.buffer,s.byteOffset),a={...n};delete a["3d-tiles"];let c=await Xi(i,xA,a,r),u=gA(c.attributes);for(let[l,f]of Object.entries(u))if(l in e.attributes){let m=e.attributes[l],d=t.getAccessor(m);d?.min&&d?.max&&(f.min=d.min,f.max=d.max)}e.attributes=u,c.indices&&(e.indices=zh(c.indices)),t.removeObjectExtension(e,mr),Nw(e)}function Fw(t,e,n=4,r,o){if(!r.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");let s=r.DracoWriter.encodeSync({attributes:t}),i=o?.parseSync?.({attributes:t}),a=r._addFauxAttributes(i.attributes),c=r.addBufferView(s);return{primitives:[{attributes:a,mode:n,extensions:{[mr]:{bufferView:c,attributes:a}}}]}}function Nw(t){if(!t.attributes&&Object.keys(t.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}function*AA(t){for(let e of t.json.meshes||[])for(let n of e.primitives)yield n}var Qh={};pt(Qh,{decode:()=>sE,name:()=>nE});var J8=1/Math.PI*180,j8=1/180*Math.PI,zw={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1};globalThis.mathgl=globalThis.mathgl||{config:{...zw}};var ke=globalThis.mathgl.config;function bA(t,{precision:e=ke.precision}={}){return t=Hw(t),`${parseFloat(t.toPrecision(e))}`}function vs(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ph(t,e,n){let r=ke.EPSILON;n&&(ke.EPSILON=n);try{if(t===e)return!0;if(vs(t)&&vs(e)){if(t.length!==e.length)return!1;for(let o=0;o<t.length;++o)if(!Ph(t[o],e[o]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):typeof t=="number"&&typeof e=="number"?Math.abs(t-e)<=ke.EPSILON*Math.max(1,Math.abs(t),Math.abs(e)):!1}finally{ke.EPSILON=r}}function Hw(t){return Math.round(t/ke.EPSILON)*ke.EPSILON}var _s=class extends Array{clone(){return new this.constructor().copy(this)}fromArray(e,n=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=e[r+n];return this.check()}toArray(e=[],n=0){for(let r=0;r<this.ELEMENTS;++r)e[n+r]=this[r];return e}toObject(e){return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:vs(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(ke)}formatString(e){let n="";for(let r=0;r<this.ELEMENTS;++r)n+=(r>0?", ":"")+bA(this[r],e);return`${e.printTypes?this.constructor.name:""}[${n}]`}equals(e){if(!e||this.length!==e.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(!Ph(this[n],e[n]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(this[n]!==e[n])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,n,r){if(r===void 0)return this.lerp(this,e,n);for(let o=0;o<this.ELEMENTS;++o){let s=e[o],i=typeof n=="number"?n:n[o];this[o]=s+r*(i-s)}return this.check()}min(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(e[n],this[n]);return this.check()}max(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.max(e[n],this[n]);return this.check()}clamp(e,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),n[r]);return this.check()}add(...e){for(let n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]+=n[r];return this.check()}subtract(...e){for(let n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]-=n[r];return this.check()}scale(e){if(typeof e=="number")for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;else for(let n=0;n<this.ELEMENTS&&n<e.length;++n)this[n]*=e[n];return this.check()}multiplyByScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;return this.check()}check(){if(ke.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let e=this.length===this.ELEMENTS;for(let n=0;n<this.ELEMENTS;++n)e=e&&Number.isFinite(this[n]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=e;return this.check()}addScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),n);return this.check()}get elements(){return this}};function Pw(t,e){if(t.length!==e)return!1;for(let n=0;n<t.length;++n)if(!Number.isFinite(t[n]))return!1;return!0}function Ue(t){if(!Number.isFinite(t))throw new Error(`Invalid number ${JSON.stringify(t)}`);return t}function vA(t,e,n=""){if(ke.debug&&!Pw(t,e))throw new Error(`math.gl: ${n} some fields set to invalid numbers'`);return t}function Kh(t,e){if(!t)throw new Error(`math.gl assertion ${e}`)}var Wu=class extends _s{get x(){return this[0]}set x(e){this[0]=Ue(e)}get y(){return this[1]}set y(e){this[1]=Ue(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let n=0;n<this.ELEMENTS;++n)e+=this[n]*this[n];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let n=0;for(let r=0;r<this.ELEMENTS;++r){let o=this[r]-e[r];n+=o*o}return Ue(n)}dot(e){let n=0;for(let r=0;r<this.ELEMENTS;++r)n+=this[r]*e[r];return Ue(n)}normalize(){let e=this.magnitude();if(e!==0)for(let n=0;n<this.ELEMENTS;++n)this[n]/=e;return this.check()}multiply(...e){for(let n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]*=n[r];return this.check()}divide(...e){for(let n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]/=n[r];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return Kh(e>=0&&e<this.ELEMENTS,"index is out of range"),Ue(this[e])}setComponent(e,n){return Kh(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=n,this.check()}addVectors(e,n){return this.copy(e).add(n)}subVectors(e,n){return this.copy(e).subtract(n)}multiplyVectors(e,n){return this.copy(e).multiply(n)}addScaledVector(e,n){return this.add(new this.constructor(e).multiplyScalar(n))}};var Ts=typeof Float32Array<"u"?Float32Array:Array;var rG=Math.PI/180;function Xw(){let t=new Ts(2);return Ts!=Float32Array&&(t[0]=0,t[1]=0),t}function TA(t,e,n){let r=e[0],o=e[1];return t[0]=n[0]*r+n[3]*o+n[6],t[1]=n[1]*r+n[4]*o+n[7],t}var oG=(function(){let t=Xw();return function(e,n,r,o,s,i){let a,c;for(n||(n=2),r||(r=0),o?c=Math.min(o*n+r,e.length):c=e.length,a=r;a<c;a+=n)t[0]=e[a],t[1]=e[a+1],s(t,t,i),e[a]=t[0],e[a+1]=t[1];return e}})();function BA(t,e,n){let r=e[0],o=e[1],s=e[2],i=n[3]*r+n[7]*o+n[11]*s||1;return t[0]=(n[0]*r+n[4]*o+n[8]*s)/i,t[1]=(n[1]*r+n[5]*o+n[9]*s)/i,t[2]=(n[2]*r+n[6]*o+n[10]*s)/i,t}function wA(t,e,n){let r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o,t[1]=n[1]*r+n[3]*o,t[2]=e[2],t}function EA(t,e,n){let r=e[0],o=e[1],s=e[2];return t[0]=n[0]*r+n[3]*o+n[6]*s,t[1]=n[1]*r+n[4]*o+n[7]*s,t[2]=n[2]*r+n[5]*o+n[8]*s,t[3]=e[3],t}function Qw(){let t=new Ts(3);return Ts!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function qw(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function SA(t,e,n){let r=e[0],o=e[1],s=e[2],i=n[0],a=n[1],c=n[2];return t[0]=o*c-s*a,t[1]=s*i-r*c,t[2]=r*a-o*i,t}function CA(t,e,n){let r=e[0],o=e[1],s=e[2],i=n[3]*r+n[7]*o+n[11]*s+n[15];return i=i||1,t[0]=(n[0]*r+n[4]*o+n[8]*s+n[12])/i,t[1]=(n[1]*r+n[5]*o+n[9]*s+n[13])/i,t[2]=(n[2]*r+n[6]*o+n[10]*s+n[14])/i,t}function $u(t,e,n){let r=e[0],o=e[1],s=e[2];return t[0]=r*n[0]+o*n[3]+s*n[6],t[1]=r*n[1]+o*n[4]+s*n[7],t[2]=r*n[2]+o*n[5]+s*n[8],t}function MA(t,e,n){let r=n[0],o=n[1],s=n[2],i=n[3],a=e[0],c=e[1],u=e[2],l=o*u-s*c,f=s*a-r*u,m=r*c-o*a,d=o*m-s*f,b=s*l-r*m,E=r*f-o*l,S=i*2;return l*=S,f*=S,m*=S,d*=2,b*=2,E*=2,t[0]=a+l+d,t[1]=c+f+b,t[2]=u+m+E,t}function VA(t,e,n,r){let o=[],s=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],s[0]=o[0],s[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),s[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t}function DA(t,e,n,r){let o=[],s=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],s[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),s[1]=o[1],s[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t}function RA(t,e,n,r){let o=[],s=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],s[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),s[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),s[2]=o[2],t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t}function IA(t,e){let n=t[0],r=t[1],o=t[2],s=e[0],i=e[1],a=e[2],c=Math.sqrt((n*n+r*r+o*o)*(s*s+i*i+a*a)),u=c&&qw(t,e)/c;return Math.acos(Math.min(Math.max(u,-1),1))}var iG=(function(){let t=Qw();return function(e,n,r,o,s,i){let a,c;for(n||(n=3),r||(r=0),o?c=Math.min(o*n+r,e.length):c=e.length,a=r;a<c;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],s(t,t,i),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}})();var Jh=[0,0,0],Zu,ca=class t extends Wu{static get ZERO(){return Zu||(Zu=new t(0,0,0),Object.freeze(Zu)),Zu}constructor(e=0,n=0,r=0){super(-0,-0,-0),arguments.length===1&&vs(e)?this.copy(e):(ke.debug&&(Ue(e),Ue(n),Ue(r)),this[0]=e,this[1]=n,this[2]=r)}set(e,n,r){return this[0]=e,this[1]=n,this[2]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return ke.debug&&(Ue(e.x),Ue(e.y),Ue(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=Ue(e)}angle(e){return IA(this,e)}cross(e){return SA(this,this,e),this.check()}rotateX({radians:e,origin:n=Jh}){return VA(this,this,n,e),this.check()}rotateY({radians:e,origin:n=Jh}){return DA(this,this,n,e),this.check()}rotateZ({radians:e,origin:n=Jh}){return RA(this,this,n,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return CA(this,this,e),this.check()}transformAsVector(e){return BA(this,this,e),this.check()}transformByMatrix3(e){return $u(this,this,e),this.check()}transformByMatrix2(e){return wA(this,this,e),this.check()}transformByQuaternion(e){return MA(this,this,e),this.check()}};var el=class extends _s{toString(){let e="[";if(ke.printRowMajor){e+="row-major:";for(let n=0;n<this.RANK;++n)for(let r=0;r<this.RANK;++r)e+=` ${this[r*this.RANK+n]}`}else{e+="column-major:";for(let n=0;n<this.ELEMENTS;++n)e+=` ${this[n]}`}return e+="]",e}getElementIndex(e,n){return n*this.RANK+e}getElement(e,n){return this[n*this.RANK+e]}setElement(e,n,r){return this[n*this.RANK+e]=Ue(r),this}getColumn(e,n=new Array(this.RANK).fill(-0)){let r=e*this.RANK;for(let o=0;o<this.RANK;++o)n[o]=this[r+o];return n}setColumn(e,n){let r=e*this.RANK;for(let o=0;o<this.RANK;++o)this[r+o]=n[o];return this}};function kA(t,e){if(t===e){let n=e[1],r=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function OA(t,e){let n=e[0],r=e[1],o=e[2],s=e[3],i=e[4],a=e[5],c=e[6],u=e[7],l=e[8],f=l*i-a*u,m=-l*s+a*c,d=u*s-i*c,b=n*f+r*m+o*d;return b?(b=1/b,t[0]=f*b,t[1]=(-l*r+o*u)*b,t[2]=(a*r-o*i)*b,t[3]=m*b,t[4]=(l*n-o*c)*b,t[5]=(-a*n+o*s)*b,t[6]=d*b,t[7]=(-u*n+r*c)*b,t[8]=(i*n-r*s)*b,t):null}function GA(t){let e=t[0],n=t[1],r=t[2],o=t[3],s=t[4],i=t[5],a=t[6],c=t[7],u=t[8];return e*(u*s-i*c)+n*(-u*o+i*a)+r*(c*o-s*a)}function jh(t,e,n){let r=e[0],o=e[1],s=e[2],i=e[3],a=e[4],c=e[5],u=e[6],l=e[7],f=e[8],m=n[0],d=n[1],b=n[2],E=n[3],S=n[4],g=n[5],x=n[6],y=n[7],A=n[8];return t[0]=m*r+d*i+b*u,t[1]=m*o+d*a+b*l,t[2]=m*s+d*c+b*f,t[3]=E*r+S*i+g*u,t[4]=E*o+S*a+g*l,t[5]=E*s+S*c+g*f,t[6]=x*r+y*i+A*u,t[7]=x*o+y*a+A*l,t[8]=x*s+y*c+A*f,t}function UA(t,e,n){let r=e[0],o=e[1],s=e[2],i=e[3],a=e[4],c=e[5],u=e[6],l=e[7],f=e[8],m=n[0],d=n[1];return t[0]=r,t[1]=o,t[2]=s,t[3]=i,t[4]=a,t[5]=c,t[6]=m*r+d*i+u,t[7]=m*o+d*a+l,t[8]=m*s+d*c+f,t}function LA(t,e,n){let r=e[0],o=e[1],s=e[2],i=e[3],a=e[4],c=e[5],u=e[6],l=e[7],f=e[8],m=Math.sin(n),d=Math.cos(n);return t[0]=d*r+m*i,t[1]=d*o+m*a,t[2]=d*s+m*c,t[3]=d*i-m*r,t[4]=d*a-m*o,t[5]=d*c-m*s,t[6]=u,t[7]=l,t[8]=f,t}function Xh(t,e,n){let r=n[0],o=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function FA(t,e){let n=e[0],r=e[1],o=e[2],s=e[3],i=n+n,a=r+r,c=o+o,u=n*i,l=r*i,f=r*a,m=o*i,d=o*a,b=o*c,E=s*i,S=s*a,g=s*c;return t[0]=1-f-b,t[3]=l-g,t[6]=m+S,t[1]=l+g,t[4]=1-u-b,t[7]=d-E,t[2]=m-S,t[5]=d+E,t[8]=1-u-f,t}var Yh;(function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL1ROW0=3]="COL1ROW0",t[t.COL1ROW1=4]="COL1ROW1",t[t.COL1ROW2=5]="COL1ROW2",t[t.COL2ROW0=6]="COL2ROW0",t[t.COL2ROW1=7]="COL2ROW1",t[t.COL2ROW2=8]="COL2ROW2"})(Yh||(Yh={}));var Zw=Object.freeze([1,0,0,0,1,0,0,0,1]),Vn=class extends el{static get IDENTITY(){return tE()}static get ZERO(){return eE()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return Yh}constructor(e,...n){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):n.length>0?this.copy([e,...n]):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}identity(){return this.copy(Zw)}fromObject(e){return this.check()}fromQuaternion(e){return FA(this,e),this.check()}set(e,n,r,o,s,i,a,c,u){return this[0]=e,this[1]=n,this[2]=r,this[3]=o,this[4]=s,this[5]=i,this[6]=a,this[7]=c,this[8]=u,this.check()}setRowMajor(e,n,r,o,s,i,a,c,u){return this[0]=e,this[1]=o,this[2]=a,this[3]=n,this[4]=s,this[5]=c,this[6]=r,this[7]=i,this[8]=u,this.check()}determinant(){return GA(this)}transpose(){return kA(this,this),this.check()}invert(){return OA(this,this),this.check()}multiplyLeft(e){return jh(this,e,this),this.check()}multiplyRight(e){return jh(this,this,e),this.check()}rotate(e){return LA(this,this,e),this.check()}scale(e){return Array.isArray(e)?Xh(this,this,e):Xh(this,this,[e,e]),this.check()}translate(e){return UA(this,this,e),this.check()}transform(e,n){let r;switch(e.length){case 2:r=TA(n||[-0,-0],e,this);break;case 3:r=$u(n||[-0,-0,-0],e,this);break;case 4:r=EA(n||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return vA(r,e.length),r}transformVector(e,n){return this.transform(e,n)}transformVector2(e,n){return this.transform(e,n)}transformVector3(e,n){return this.transform(e,n)}},tl,nl=null;function eE(){return tl||(tl=new Vn([0,0,0,0,0,0,0,0,0]),Object.freeze(tl)),tl}function tE(){return nl||(nl=new Vn,Object.freeze(nl)),nl}var ol="KHR_texture_transform",nE=ol,rl=new ca,rE=new Vn,oE=new Vn;async function sE(t,e){if(!new J(t).hasExtension(ol)||!e.gltf?.loadBuffers)return;let o=t.json.materials||[];for(let s=0;s<o.length;s++)iE(s,t)}function iE(t,e){let n=e.json.materials?.[t],r=[n?.pbrMetallicRoughness?.baseColorTexture,n?.emissiveTexture,n?.normalTexture,n?.occlusionTexture,n?.pbrMetallicRoughness?.metallicRoughnessTexture],o=[];for(let s of r)s&&s?.extensions?.[ol]&&aE(e,t,s,o)}function aE(t,e,n,r){let o=cE(n,r);if(!o)return;let s=t.json.meshes||[];for(let i of s)for(let a of i.primitives){let c=a.material;Number.isFinite(c)&&e===c&&uE(t,a,o)}}function cE(t,e){let n=t.extensions?.[ol],{texCoord:r=0}=t,{texCoord:o=r}=n;if(!(e.findIndex(([i,a])=>i===r&&a===o)!==-1)){let i=mE(n);return r!==o&&(t.texCoord=o),e.push([r,o]),{originalTexCoord:r,texCoord:o,matrix:i}}return null}function uE(t,e,n){let{originalTexCoord:r,texCoord:o,matrix:s}=n,i=e.attributes[`TEXCOORD_${r}`];if(Number.isFinite(i)){let a=t.json.accessors?.[i];if(a&&a.bufferView){let c=t.json.bufferViews?.[a.bufferView];if(c){let{arrayBuffer:u,byteOffset:l}=t.buffers[c.buffer],f=(l||0)+(a.byteOffset||0)+(c.byteOffset||0),{ArrayType:m,length:d}=ds(a,c),b=Fu[a.componentType],E=Lu[a.type],S=c.byteStride||b*E,g=new Float32Array(d);for(let x=0;x<a.count;x++){let y=new m(u,f+x*S,2);rl.set(y[0],y[1],1),rl.transformByMatrix3(s),g.set([rl[0],rl[1]],x*E)}r===o?lE(a,c,t.buffers,g):fE(o,a,e,t,g)}}}}function lE(t,e,n,r){t.componentType=5126,n.push({arrayBuffer:r.buffer,byteOffset:0,byteLength:r.buffer.byteLength}),e.buffer=n.length-1,e.byteLength=r.buffer.byteLength,e.byteOffset=0,delete e.byteStride}function fE(t,e,n,r,o){r.buffers.push({arrayBuffer:o.buffer,byteOffset:0,byteLength:o.buffer.byteLength});let s=r.json.bufferViews;if(!s)return;s.push({buffer:r.buffers.length-1,byteLength:o.buffer.byteLength,byteOffset:0});let i=r.json.accessors;i&&(i.push({bufferView:s?.length-1,byteOffset:0,componentType:5126,count:e.count,type:"VEC2"}),n.attributes[`TEXCOORD_${t}`]=i.length-1)}function mE(t){let{offset:e=[0,0],rotation:n=0,scale:r=[1,1]}=t,o=new Vn().set(1,0,0,0,1,0,e[0],e[1],1),s=rE.set(Math.cos(n),Math.sin(n),0,-Math.sin(n),Math.cos(n),0,0,0,1),i=oE.set(r[0],0,0,0,r[1],0,0,0,1);return o.multiplyRight(s).multiplyRight(i)}var qh={};pt(qh,{decode:()=>hE,encode:()=>pE,name:()=>dE});var Wr="KHR_lights_punctual",dE=Wr;async function hE(t){let e=new J(t),{json:n}=e,r=e.getExtension(Wr);r&&(e.json.lights=r.lights,e.removeExtension(Wr));for(let o of n.nodes||[]){let s=e.getObjectExtension(o,Wr);s&&(o.light=s.light),e.removeObjectExtension(o,Wr)}}async function pE(t){let e=new J(t),{json:n}=e;if(n.lights){let r=e.addExtension(Wr);Te(!r.lights),r.lights=n.lights,delete n.lights}if(e.json.lights){for(let r of e.json.lights){let o=r.node;e.addObjectExtension(o,Wr,r)}delete e.json.lights}}var Wh={};pt(Wh,{decode:()=>xE,encode:()=>gE,name:()=>yE});var ua="KHR_materials_unlit",yE=ua;async function xE(t){let e=new J(t),{json:n}=e;for(let r of n.materials||[])r.extensions&&r.extensions.KHR_materials_unlit&&(r.unlit=!0),e.removeObjectExtension(r,ua);e.removeExtension(ua)}function gE(t){let e=new J(t),{json:n}=e;if(e.materials)for(let r of n.materials||[])r.unlit&&(delete r.unlit,e.addObjectExtension(r,ua,{}),e.addExtension(ua))}var $h={};pt($h,{decode:()=>bE,encode:()=>vE,name:()=>AE});var la="KHR_techniques_webgl",AE=la;async function bE(t){let e=new J(t),{json:n}=e,r=e.getExtension(la);if(r){let o=_E(r,e);for(let s of n.materials||[]){let i=e.getObjectExtension(s,la);i&&(s.technique=Object.assign({},i,o[i.technique]),s.technique.values=TE(s.technique,e)),e.removeObjectExtension(s,la)}e.removeExtension(la)}}async function vE(t,e){}function _E(t,e){let{programs:n=[],shaders:r=[],techniques:o=[]}=t,s=new TextDecoder;return r.forEach(i=>{if(Number.isFinite(i.bufferView))i.code=s.decode(e.getTypedArrayForBufferView(i.bufferView));else throw new Error("KHR_techniques_webgl: no shader code")}),n.forEach(i=>{i.fragmentShader=r[i.fragmentShader],i.vertexShader=r[i.vertexShader]}),o.forEach(i=>{i.program=n[i.program]}),o}function TE(t,e){let n=Object.assign({},t.values);return Object.keys(t.uniforms||{}).forEach(r=>{t.uniforms[r].value&&!(r in n)&&(n[r]=t.uniforms[r].value)}),Object.keys(n).forEach(r=>{typeof n[r]=="object"&&n[r].index!==void 0&&(n[r].texture=e.getTexture(n[r].index))}),n}var NA=[Th,bh,Oh,Gh,Uh,Hh,qh,Wh,$h,Qh,Bh];function zA(t,e={},n){let r=NA.filter(o=>PA(o.name,e));for(let o of r)o.preprocess?.(t,e,n)}async function HA(t,e={},n){let r=NA.filter(o=>PA(o.name,e));for(let o of r)await o.decode?.(t,e,n)}function PA(t,e){let n=e?.gltf?.excludeExtensions||{};return!(t in n&&!n[t])}var Zh="KHR_binary_glTF";function KA(t){let e=new J(t),{json:n}=e;for(let r of n.images||[]){let o=e.getObjectExtension(r,Zh);o&&Object.assign(r,o),e.removeObjectExtension(r,Zh)}n.buffers&&n.buffers[0]&&delete n.buffers[0].uri,e.removeExtension(Zh)}var JA={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},wE={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},ep=class{idToIndexMap={animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}};json;normalize(e,n){this.json=e.json;let r=e.json;switch(r.asset&&r.asset.version){case"2.0":return;case void 0:case"1.0":break;default:console.warn(`glTF: Unknown version ${r.asset.version}`);return}if(!n.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(r),this._convertTopLevelObjectsToArrays(r),KA(e),this._convertObjectIdsToArrayIndices(r),this._updateObjects(r),this._updateMaterial(r)}_addAsset(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(e){for(let n in JA)this._convertTopLevelObjectToArray(e,n)}_convertTopLevelObjectToArray(e,n){let r=e[n];if(!(!r||Array.isArray(r))){e[n]=[];for(let o in r){let s=r[o];s.id=s.id||o;let i=e[n].length;e[n].push(s),this.idToIndexMap[n][o]=i}}}_convertObjectIdsToArrayIndices(e){for(let n in JA)this._convertIdsToIndices(e,n);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));for(let n of e.textures)this._convertTextureIds(n);for(let n of e.meshes)this._convertMeshIds(n);for(let n of e.nodes)this._convertNodeIds(n);for(let n of e.scenes)this._convertSceneIds(n)}_convertTextureIds(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}_convertMeshIds(e){for(let n of e.primitives){let{attributes:r,indices:o,material:s}=n;for(let i in r)r[i]=this._convertIdToIndex(r[i],"accessor");o&&(n.indices=this._convertIdToIndex(o,"accessor")),s&&(n.material=this._convertIdToIndex(s,"material"))}}_convertNodeIds(e){e.children&&(e.children=e.children.map(n=>this._convertIdToIndex(n,"node"))),e.meshes&&(e.meshes=e.meshes.map(n=>this._convertIdToIndex(n,"mesh")))}_convertSceneIds(e){e.nodes&&(e.nodes=e.nodes.map(n=>this._convertIdToIndex(n,"node")))}_convertIdsToIndices(e,n){e[n]||(console.warn(`gltf v1: json doesn't contain attribute ${n}`),e[n]=[]);for(let r of e[n])for(let o in r){let s=r[o],i=this._convertIdToIndex(s,o);r[o]=i}}_convertIdToIndex(e,n){let r=wE[n];if(r in this.idToIndexMap){let o=this.idToIndexMap[r][e];if(!Number.isFinite(o))throw new Error(`gltf v1: failed to resolve ${n} with id ${e}`);return o}return e}_updateObjects(e){for(let n of this.json.buffers)delete n.type}_updateMaterial(e){for(let n of e.materials){n.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};let r=n.values?.tex||n.values?.texture2d_0||n.values?.diffuseTex,o=e.textures.findIndex(s=>s.id===r);o!==-1&&(n.pbrMetallicRoughness.baseColorTexture={index:o})}}};function jA(t,e={}){return new ep().normalize(t,e)}async function XA(t,e,n=0,r,o){return EE(t,e,n,r),jA(t,{normalize:r?.gltf?.normalize}),zA(t,r,o),r?.gltf?.loadBuffers&&t.json.buffers&&await SE(t,r,o),r?.gltf?.loadImages&&await CE(t,r,o),await HA(t,r,o),t}function EE(t,e,n,r){if(r.uri&&(t.baseUri=r.uri),e instanceof ArrayBuffer&&!aA(e,n,r)&&(e=new TextDecoder().decode(e)),typeof e=="string")t.json=Jd(e);else if(e instanceof ArrayBuffer){let i={};n=cA(i,e,n,r.glb),Te(i.type==="glTF",`Invalid GLB magic string ${i.type}`),t._glb=i,t.json=i.json}else Te(!1,"GLTF: must be ArrayBuffer or string");let o=t.json.buffers||[];if(t.buffers=new Array(o.length).fill(null),t._glb&&t._glb.header.hasBinChunk){let{binChunks:i}=t._glb;t.buffers[0]={arrayBuffer:i[0].arrayBuffer,byteOffset:i[0].byteOffset,byteLength:i[0].byteLength}}let s=t.json.images||[];t.images=new Array(s.length).fill({})}async function SE(t,e,n){let r=t.json.buffers||[];for(let o=0;o<r.length;++o){let s=r[o];if(s.uri){let{fetch:i}=n;Te(i);let a=Ih(s.uri,e),u=await(await n?.fetch?.(a))?.arrayBuffer?.();t.buffers[o]={arrayBuffer:u,byteOffset:0,byteLength:u.byteLength},delete s.uri}else t.buffers[o]===null&&(t.buffers[o]={arrayBuffer:new ArrayBuffer(s.byteLength),byteOffset:0,byteLength:s.byteLength})}}async function CE(t,e,n){let r=ME(t),o=t.json.images||[],s=[];for(let i of r)s.push(VE(t,o[i],i,e,n));return await Promise.all(s)}function ME(t){let e=new Set,n=t.json.textures||[];for(let r of n)r.source!==void 0&&e.add(r.source);return Array.from(e).sort()}async function VE(t,e,n,r,o){let s;if(e.uri&&!e.hasOwnProperty("bufferView")){let a=Ih(e.uri,r),{fetch:c}=o;s=await(await c(a)).arrayBuffer(),e.bufferView={data:s}}if(Number.isFinite(e.bufferView)){let a=K2(t.json,t.buffers,e.bufferView);s=Zi(a.buffer,a.byteOffset,a.byteLength)}Te(s,"glTF image has no data");let i=await Xi(s,[xh,Mh],{...r,mimeType:e.mimeType,basis:r.basis||{format:Xu()}},o);i&&i[0]&&(i={compressed:!0,mipmaps:!1,width:i[0].width,height:i[0].height,data:i[0]}),t.images=t.images||[],t.images[n]=i}var Bs={dataType:null,batchType:null,name:"glTF",id:"gltf",module:"gltf",version:q2,extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:DE,options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0},log:console}};async function DE(t,e={},n){e={...Bs.options,...e},e.gltf={...Bs.options.gltf,...e.gltf};let{byteOffset:r=0}=e;return await XA({},t,r,e,n)}var RE={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},IE={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Dt={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},kE={magFilter:Dt.TEXTURE_MAG_FILTER,minFilter:Dt.TEXTURE_MIN_FILTER,wrapS:Dt.TEXTURE_WRAP_S,wrapT:Dt.TEXTURE_WRAP_T},OE={[Dt.TEXTURE_MAG_FILTER]:Dt.LINEAR,[Dt.TEXTURE_MIN_FILTER]:Dt.NEAREST_MIPMAP_LINEAR,[Dt.TEXTURE_WRAP_S]:Dt.REPEAT,[Dt.TEXTURE_WRAP_T]:Dt.REPEAT};function GE(){return{id:"default-sampler",parameters:OE}}function UE(t){return IE[t]}function LE(t){return RE[t]}var tp=class{baseUri="";jsonUnprocessed;json;buffers=[];images=[];postProcess(e,n={}){let{json:r,buffers:o=[],images:s=[]}=e,{baseUri:i=""}=e;return Te(r),this.baseUri=i,this.buffers=o,this.images=s,this.jsonUnprocessed=r,this.json=this._resolveTree(e.json,n),this.json}_resolveTree(e,n={}){let r={...e};return this.json=r,e.bufferViews&&(r.bufferViews=e.bufferViews.map((o,s)=>this._resolveBufferView(o,s))),e.images&&(r.images=e.images.map((o,s)=>this._resolveImage(o,s))),e.samplers&&(r.samplers=e.samplers.map((o,s)=>this._resolveSampler(o,s))),e.textures&&(r.textures=e.textures.map((o,s)=>this._resolveTexture(o,s))),e.accessors&&(r.accessors=e.accessors.map((o,s)=>this._resolveAccessor(o,s))),e.materials&&(r.materials=e.materials.map((o,s)=>this._resolveMaterial(o,s))),e.meshes&&(r.meshes=e.meshes.map((o,s)=>this._resolveMesh(o,s))),e.nodes&&(r.nodes=e.nodes.map((o,s)=>this._resolveNode(o,s)),r.nodes=r.nodes.map((o,s)=>this._resolveNodeChildren(o))),e.skins&&(r.skins=e.skins.map((o,s)=>this._resolveSkin(o,s))),e.scenes&&(r.scenes=e.scenes.map((o,s)=>this._resolveScene(o,s))),typeof this.json.scene=="number"&&r.scenes&&(r.scene=r.scenes[this.json.scene]),r}getScene(e){return this._get(this.json.scenes,e)}getNode(e){return this._get(this.json.nodes,e)}getSkin(e){return this._get(this.json.skins,e)}getMesh(e){return this._get(this.json.meshes,e)}getMaterial(e){return this._get(this.json.materials,e)}getAccessor(e){return this._get(this.json.accessors,e)}getCamera(e){return this._get(this.json.cameras,e)}getTexture(e){return this._get(this.json.textures,e)}getSampler(e){return this._get(this.json.samplers,e)}getImage(e){return this._get(this.json.images,e)}getBufferView(e){return this._get(this.json.bufferViews,e)}getBuffer(e){return this._get(this.json.buffers,e)}_get(e,n){if(typeof n=="object")return n;let r=e&&e[n];return r||console.warn(`glTF file error: Could not find ${e}[${n}]`),r}_resolveScene(e,n){return{...e,id:e.id||`scene-${n}`,nodes:(e.nodes||[]).map(r=>this.getNode(r))}}_resolveNode(e,n){let r={...e,id:e?.id||`node-${n}`};return e.mesh!==void 0&&(r.mesh=this.getMesh(e.mesh)),e.camera!==void 0&&(r.camera=this.getCamera(e.camera)),e.skin!==void 0&&(r.skin=this.getSkin(e.skin)),e.meshes!==void 0&&e.meshes.length&&(r.mesh=e.meshes.reduce((o,s)=>{let i=this.getMesh(s);return o.id=i.id,o.primitives=o.primitives.concat(i.primitives),o},{primitives:[]})),r}_resolveNodeChildren(e){return e.children&&(e.children=e.children.map(n=>this.getNode(n))),e}_resolveSkin(e,n){let r=typeof e.inverseBindMatrices=="number"?this.getAccessor(e.inverseBindMatrices):void 0;return{...e,id:e.id||`skin-${n}`,inverseBindMatrices:r}}_resolveMesh(e,n){let r={...e,id:e.id||`mesh-${n}`,primitives:[]};return e.primitives&&(r.primitives=e.primitives.map(o=>{let s={...o,attributes:{},indices:void 0,material:void 0},i=o.attributes;for(let a in i)s.attributes[a]=this.getAccessor(i[a]);return o.indices!==void 0&&(s.indices=this.getAccessor(o.indices)),o.material!==void 0&&(s.material=this.getMaterial(o.material)),s})),r}_resolveMaterial(e,n){let r={...e,id:e.id||`material-${n}`};if(r.normalTexture&&(r.normalTexture={...r.normalTexture},r.normalTexture.texture=this.getTexture(r.normalTexture.index)),r.occlusionTexture&&(r.occlusionTexture={...r.occlusionTexture},r.occlusionTexture.texture=this.getTexture(r.occlusionTexture.index)),r.emissiveTexture&&(r.emissiveTexture={...r.emissiveTexture},r.emissiveTexture.texture=this.getTexture(r.emissiveTexture.index)),r.emissiveFactor||(r.emissiveFactor=r.emissiveTexture?[1,1,1]:[0,0,0]),r.pbrMetallicRoughness){r.pbrMetallicRoughness={...r.pbrMetallicRoughness};let o=r.pbrMetallicRoughness;o.baseColorTexture&&(o.baseColorTexture={...o.baseColorTexture},o.baseColorTexture.texture=this.getTexture(o.baseColorTexture.index)),o.metallicRoughnessTexture&&(o.metallicRoughnessTexture={...o.metallicRoughnessTexture},o.metallicRoughnessTexture.texture=this.getTexture(o.metallicRoughnessTexture.index))}return r}_resolveAccessor(e,n){let r=UE(e.componentType),o=LE(e.type),s=r*o,i={...e,id:e.id||`accessor-${n}`,bytesPerComponent:r,components:o,bytesPerElement:s,value:void 0,bufferView:void 0,sparse:void 0};if(e.bufferView!==void 0&&(i.bufferView=this.getBufferView(e.bufferView)),i.bufferView){let a=i.bufferView.buffer,{ArrayType:c,byteLength:u}=ds(i,i.bufferView),l=(i.bufferView.byteOffset||0)+(i.byteOffset||0)+a.byteOffset,f=a.arrayBuffer.slice(l,l+u);i.bufferView.byteStride&&(f=this._getValueFromInterleavedBuffer(a,l,i.bufferView.byteStride,i.bytesPerElement,i.count)),i.value=new c(f)}return i}_getValueFromInterleavedBuffer(e,n,r,o,s){let i=new Uint8Array(s*o);for(let a=0;a<s;a++){let c=n+a*r;i.set(new Uint8Array(e.arrayBuffer.slice(c,c+o)),a*o)}return i.buffer}_resolveTexture(e,n){return{...e,id:e.id||`texture-${n}`,sampler:typeof e.sampler=="number"?this.getSampler(e.sampler):GE(),source:typeof e.source=="number"?this.getImage(e.source):void 0}}_resolveSampler(e,n){let r={id:e.id||`sampler-${n}`,...e,parameters:{}};for(let o in r){let s=this._enumSamplerParameter(o);s!==void 0&&(r.parameters[s]=r[o])}return r}_enumSamplerParameter(e){return kE[e]}_resolveImage(e,n){let r={...e,id:e.id||`image-${n}`,image:null,bufferView:e.bufferView!==void 0?this.getBufferView(e.bufferView):void 0},o=this.images[n];return o&&(r.image=o),r}_resolveBufferView(e,n){let r=e.buffer,o=this.buffers[r].arrayBuffer,s=this.buffers[r].byteOffset||0;return e.byteOffset&&(s+=e.byteOffset),{id:`bufferView-${n}`,...e,buffer:this.buffers[r],data:new Uint8Array(o,s,e.byteLength)}}_resolveCamera(e,n){let r={...e,id:e.id||`camera-${n}`};return r.perspective,r.orthographic,r}};function np(t,e){return new tp().postProcess(t,e)}var fa={create(){},brand:"physicsWorld",dependencies:[],globalDependencies:[],init:async()=>{let t=(await import("./rapier-7QUI7SPZ.js")).default;return console.log(t,t.World),{world:new t.World({x:0,y:-9.81,z:0}),RAPIER:t}},fixedUpdate({state:t,instances:e}){t.world.integrationParameters.dt=.004,t.world.step()},onDestroy(t){}};function FE(t){let e=Math.sqrt(1-t.w*t.w);return{angle:2*Math.acos(t.w),axis:e===0?[1,0,0]:[t.x/e,t.y/e,t.z/e]}}var sl={brand:"rigidBody",dependencies:[cr],globalDependencies:[fa],create(t,e,{physicsWorld:n}){return{body:n.state.world.createRigidBody(t)}},onDestroy(t,{physicsWorld:e}){e.state.world.removeRigidBody(t.body)},init:()=>{},fixedUpdate({state:t,instances:e}){for(let n of e){let r=n.data.body.translation(),o=n.data.body.rotation(),s=FE(o);n.entity.transform.matrix=nn(rn([r.x,r.y,r.z]),gp(s.axis,s.angle))}}},YA={brand:"rigidBodyCollider",dependencies:[sl],globalDependencies:[fa],create(t,e,{physicsWorld:n},r){let o=r(sl);return{collider:n.state.world.createCollider(t,o.body)}},onDestroy(t,{physicsWorld:e}){e.state.world.removeCollider(t.collider,!1)},init:()=>{}};function QA(t,e){return{vertices:Hr(t,e.vertices.buffer,GPUBufferUsage.COPY_DST|GPUBufferUsage.VERTEX),indices:Hr(t,e.indices.buffer,GPUBufferUsage.COPY_DST|GPUBufferUsage.INDEX),drawCount:e.drawCount}}function NE(t,e,n,r){let o=r[1]*r[0],s=(r[1]-1)*(r[0]-1)*6,i=new Float32Array(o*3),a=new Uint32Array(s),[c,u]=e,[l,f]=n,m=(l-c)/(r[0]-1),d=(f-u)/(r[1]-1);for(let b=0;b<r[1];b++)for(let E=0;E<r[0];E++){let S=(b*r[0]+E)*3,g=c+m*E,x=u+d*b,y=t([g,x]);i[S]=y[0],i[S+1]=y[1],i[S+2]=y[2]}for(let b=0;b<r[1]-1;b++)for(let E=0;E<r[0]-1;E++){let S=(b*(r[0]-1)+E)*6,g=b*r[0]+E;a[S]=g,a[S+1]=g+1,a[S+2]=g+r[0],a[S+3]=g+1,a[S+5]=g+r[0],a[S+4]=g+r[0]+1}return console.log(s,o),{vertices:i,indices:a,drawCount:s}}function qA(t,e){return NE(([n,r])=>{let o=Math.cos(n)*Math.cos(r)*t,s=Math.sin(n)*Math.cos(r)*t,i=Math.sin(r)*t;return[o,i,s]},[0,-Math.PI/2],[Math.PI*2,Math.PI/2],e)}var rp=`struct LightingVertInput {\r
  @location(0) sample_pos: vec3f,\r
}\r
\r
struct LightingFragInput {\r
  @builtin(position) vertex_position : vec4f,\r
  @location(0) tex_pos: vec2f,\r
}\r
\r
struct LightingFragOutput {\r
  @location(0) color : vec4f,\r
}\r
\r
@group(0) @binding(0) var tex_sampler : sampler;\r
@group(0) @binding(1) var tex_pos : texture_2d<f32>;\r
@group(0) @binding(2) var tex_normal : texture_2d<f32>;\r
@group(0) @binding(3) var tex_albedo : texture_2d<f32>;\r
\r
struct Params {\r
  mvp: mat4x4f,\r
  light_pos: vec4f,\r
  light_color: vec3f,\r
  quadratic: f32,\r
  linear: f32,\r
  constant: f32,\r
  cutoff_radius: f32,\r
}\r
\r
@group(1) @binding(0) var<uniform> params : Params;\r
\r
@vertex\r
fn VSMain(input: LightingVertInput) -> LightingFragInput {\r
  var frag: LightingFragInput;\r
  var pos = params.mvp * vec4(input.sample_pos, 1.0);\r
  frag.tex_pos = (pos.xy / pos.w) * 0.5 + 0.5;\r
  frag.tex_pos.y = 1.0 - frag.tex_pos.y;\r
  frag.vertex_position = pos;\r
  return frag;\r
}\r
\r
@fragment\r
fn FSMain(input: LightingFragInput) -> LightingFragOutput {\r
  var o: LightingFragOutput;\r
  // _ = tex_pos;\r
  // _ = tex_albedo;\r
  // _ = tex_normal;\r
\r
  \r
\r
  let albedo = textureSample(tex_albedo, tex_sampler, input.tex_pos);\r
  let pos = textureSample(tex_pos, tex_sampler, input.tex_pos);\r
  let normal = textureSample(tex_normal, tex_sampler, input.tex_pos);\r
\r
  let vec_to_light = params.light_pos.xyz - pos.xyz;\r
  let dist_to_light = length(vec_to_light);\r
  let dir_to_light = vec_to_light / dist_to_light;\r
\r
  let attenuation = \r
    params.quadratic * dist_to_light * dist_to_light\r
    + params.linear * dist_to_light\r
    + params.constant;\r
\r
  var brightness = 1.0 / attenuation;\r
\r
  brightness = brightness * min(\r
    1.0, \r
    3.0 * (1.0 - dist_to_light / params.cutoff_radius)\r
  );\r
\r
  o.color = (albedo * brightness * max(dot(\r
    normal.xyz,\r
    dir_to_light\r
  ), 0.0));\r
\r
  o.color = max(o.color, vec4f(0.0));\r
\r
  o.color.a = 1.0;\r
\r
  o.color = pow(o.color, vec4(1 / 2.2));\r
\r
  return o;\r
} `;var WA={bindGroups:[[{name:"tex_sampler",type:{name:"sampler",attributes:[{id:591451,line:14,name:"group",value:"0"},{id:591452,line:14,name:"binding",value:"0"}],size:0,format:null,access:null},group:0,binding:0,attributes:[{id:591451,line:14,name:"group",value:"0"},{id:591452,line:14,name:"binding",value:"0"}],resourceType:3,access:""},{name:"tex_pos",type:{name:"texture_2d",attributes:[{id:591455,line:15,name:"group",value:"0"},{id:591456,line:15,name:"binding",value:"1"}],size:0,format:{name:"f32",attributes:null,size:4},access:null},group:0,binding:1,attributes:[{id:591455,line:15,name:"group",value:"0"},{id:591456,line:15,name:"binding",value:"1"}],resourceType:2,access:"read"},{name:"tex_normal",type:{name:"texture_2d",attributes:[{id:591460,line:16,name:"group",value:"0"},{id:591461,line:16,name:"binding",value:"2"}],size:0,format:{name:"f32",attributes:null,size:4},access:null},group:0,binding:2,attributes:[{id:591460,line:16,name:"group",value:"0"},{id:591461,line:16,name:"binding",value:"2"}],resourceType:2,access:"read"},{name:"tex_albedo",type:{name:"texture_2d",attributes:[{id:591465,line:17,name:"group",value:"0"},{id:591466,line:17,name:"binding",value:"3"}],size:0,format:{name:"f32",attributes:null,size:4},access:null},group:0,binding:3,attributes:[{id:591465,line:17,name:"group",value:"0"},{id:591466,line:17,name:"binding",value:"3"}],resourceType:2,access:"read"}],[{name:"params",type:{name:"Params",attributes:null,size:112,members:[{name:"mvp",type:{name:"mat4x4f",attributes:null,size:64},attributes:null,offset:0,size:64},{name:"light_pos",type:{name:"vec4f",attributes:null,size:16},attributes:null,offset:64,size:16},{name:"light_color",type:{name:"vec3f",attributes:null,size:12},attributes:null,offset:80,size:12},{name:"quadratic",type:{name:"f32",attributes:null,size:4},attributes:null,offset:92,size:4},{name:"linear",type:{name:"f32",attributes:null,size:4},attributes:null,offset:96,size:4},{name:"constant",type:{name:"f32",attributes:null,size:4},attributes:null,offset:100,size:4},{name:"cutoff_radius",type:{name:"f32",attributes:null,size:4},attributes:null,offset:104,size:4}],align:16,startLine:19,endLine:27,inUse:!0},group:1,binding:0,attributes:[{id:591485,line:29,name:"group",value:"1"},{id:591486,line:29,name:"binding",value:"0"}],resourceType:0,access:"read"}]]};var $A={async init(t){let{device:e,canvasFormat:n,onResize:r}=await t(dt),o=e.createBindGroupLayout({entries:[{binding:0,sampler:{type:"non-filtering"},visibility:GPUShaderStage.FRAGMENT},{binding:1,texture:{sampleType:"unfilterable-float",viewDimension:"2d"},visibility:GPUShaderStage.FRAGMENT},{binding:2,texture:{sampleType:"unfilterable-float",viewDimension:"2d"},visibility:GPUShaderStage.FRAGMENT},{binding:3,texture:{sampleType:"float",viewDimension:"2d"},visibility:GPUShaderStage.FRAGMENT}]}),s=e.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.FRAGMENT|GPUShaderStage.VERTEX,buffer:{type:"uniform"}}]}),i=e.createRenderPipeline({layout:e.createPipelineLayout({bindGroupLayouts:[o,s]}),vertex:{module:e.createShaderModule({code:rp}),buffers:[{arrayStride:12,attributes:[{shaderLocation:0,offset:0,format:"float32x2"}]}]},fragment:{module:e.createShaderModule({code:rp}),targets:[{format:"rgba8unorm",blend:{color:{operation:"add",srcFactor:"one",dstFactor:"one"},alpha:{operation:"add",srcFactor:"one",dstFactor:"zero"}}}]},primitive:{topology:"triangle-list",cullMode:"front"}}),c={pointLightGeometry:QA(e,qA(1,[12,12])),lightingPipeline:i,lightingBindGroupLayout:o,lightingUniformBindGroupLayout:s,lightingBindGroup:void 0};return await r(async()=>{let u=(await t(dt)).textures.gbuffer;c.lightingBindGroup=e.createBindGroup({layout:o,entries:[{binding:0,resource:e.createSampler({minFilter:"nearest",magFilter:"nearest"})},{binding:1,resource:u.position},{binding:2,resource:u.normal},{binding:3,resource:u.albedo}]})}),c},create(t,e,{sampleWebgpuRenderer:n}){let{device:r}=n.state,o=r.createBuffer({label:"uniform buffer",size:1024,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM}),s=r.createBindGroup({label:"lighting uniform bind group",entries:[{binding:0,resource:o}],layout:e.state.lightingUniformBindGroupLayout});return{uniformBuffer:o,uniformBindGroup:s,color:t.color,quadratic:t.quadratic,linear:t.linear,constant:t.constant}},renderUpdate({state:t,instances:e,subsystem:n,scheduleTask:r}){r(()=>{let{projectionMatrix:o,viewMatrix:s,device:i,textures:a,ctx:c}=n(dt).state,u=i.createCommandEncoder(),l=u.beginRenderPass({colorAttachments:[{view:a.lighting.color.createView({mipLevelCount:1}),clearValue:[0,0,0,1],loadOp:"clear",storeOp:"store"}]});l.setBindGroup(0,t.lightingBindGroup);let f=5/256;for(let m of e){let d=(-m.data.linear+Math.sqrt(m.data.linear**2-4*m.data.quadratic*(m.data.constant-Math.max(...m.data.color)/f)))/(2*m.data.quadratic),b=nn(o,nn(nn(s,m.entity.transform.matrix),Ap([d,d,d]))),E=oo(WA,1,0,{mvp:b,light_color:m.data.color,light_pos:lp(b,[0,0,0,1]),quadratic:m.data.quadratic,linear:m.data.linear,constant:m.data.constant,cutoff_radius:d});i.queue.writeBuffer(m.data.uniformBuffer,0,E),l.setBindGroup(1,m.data.uniformBindGroup),l.setPipeline(t.lightingPipeline),l.setVertexBuffer(0,t.pointLightGeometry.vertices),l.setIndexBuffer(t.pointLightGeometry.indices,"uint32"),l.drawIndexed(t.pointLightGeometry.drawCount)}return l.end(),i.queue.submit([u.finish()]),Promise.resolve()},[Vd],[ji])},dependencies:[cr],globalDependencies:[dt],brand:"pointLightSource",onDestroy(){}};var op=`struct GBufferVertInput {\r
  @location(0) pos: vec3f,\r
  @location(1) normal: vec3f,\r
  //  @location(2) uv: vec2f,\r
}\r
\r
struct GBufferFragInput {\r
  @builtin(position) vertex_position:  vec4f, \r
  @location(0) pos: vec4f,\r
  @location(1) normal: vec4f,\r
  @location(2) albedo: vec4f,\r
}\r
\r
struct GBufferFragOutput {\r
  @location(0) pos: vec4f,\r
  @location(1) normal: vec4f,\r
  @location(2) albedo: vec4f,\r
}\r
\r
struct Params {\r
  mvp: mat4x4f,\r
  draw_color: vec4f\r
}\r
\r
@group(0) @binding(0) var<uniform> params : Params;\r
\r
@vertex\r
fn VSMain(input: GBufferVertInput) -> GBufferFragInput {\r
  var frag: GBufferFragInput;\r
  let clipspace = params.mvp * vec4f(input.pos, 1.0);\r
  frag.pos = clipspace;\r
  frag.vertex_position = clipspace;\r
  frag.normal = params.mvp * vec4f(input.normal, 0.0);\r
  frag.albedo = params.draw_color;\r
  return frag;\r
}\r
\r
@fragment\r
fn FSMain(input: GBufferFragInput) -> GBufferFragOutput {\r
  var o: GBufferFragOutput;\r
  o.pos = input.pos;\r
  o.normal = input.normal;\r
  o.albedo = input.albedo;\r
  return o;\r
} `;var ZA={bindGroups:[[{name:"params",type:{name:"Params",attributes:null,size:80,members:[{name:"mvp",type:{name:"mat4x4f",attributes:null,size:64},attributes:null,offset:0,size:64},{name:"draw_color",type:{name:"vec4f",attributes:null,size:16},attributes:null,offset:64,size:16}],align:16,startLine:20,endLine:23,inUse:!0},group:0,binding:0,attributes:[{id:591359,line:25,name:"group",value:"0"},{id:591360,line:25,name:"binding",value:"0"}],resourceType:0,access:"read"}]]};var eb={async init(t){let{device:e}=await t(dt);return{gbufferPipeline:e.createRenderPipeline({layout:"auto",vertex:{module:e.createShaderModule({code:op}),buffers:[{arrayStride:12,attributes:[{shaderLocation:0,offset:0,format:"float32x3"}]},{arrayStride:12,attributes:[{shaderLocation:1,offset:0,format:"float32x3"}]}]},fragment:{module:e.createShaderModule({code:op}),targets:[{format:"rgba32float"},{format:"rgba16float"},{format:"rgba8unorm"}]},depthStencil:{depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus"},primitive:{topology:"triangle-list",cullMode:"back"}})}},create(t,e,{sampleWebgpuRenderer:n}){let{device:r}=n.state,o=r.createBuffer({label:"uniform buffer",size:1024,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC|GPUBufferUsage.UNIFORM});return{bindGroup:r.createBindGroup({layout:e.state.gbufferPipeline.getBindGroupLayout(0),entries:[{binding:0,resource:o}]}),vertexBuffer:t.vertexBuffer,indexBuffer:t.indexBuffer,normalBuffer:t.normalBuffer,vertexCount:t.size,uniformBuffer:o,indexFormat:t.indexFormat,drawColor:t.drawColor}},renderUpdate({state:t,instances:e,subsystem:n,scheduleTask:r}){r(()=>{let{device:o,viewMatrix:s,projectionMatrix:i,textures:a}=n(dt).state,{gbufferPipeline:c}=t,u=o.createCommandEncoder(),l=u.beginRenderPass({colorAttachments:[{view:a.gbuffer.position.createView(),clearValue:[0,0,0,1],loadOp:"clear",storeOp:"store"},{view:a.gbuffer.normal.createView(),clearValue:[0,0,0,1],loadOp:"clear",storeOp:"store"},{view:a.gbuffer.albedo.createView(),clearValue:[0,0,0,1],loadOp:"clear",storeOp:"store"}],depthStencilAttachment:{view:a.gbuffer.depth,depthClearValue:1,depthLoadOp:"clear",depthStoreOp:"store"}});for(let f of e){let m=oo(ZA,0,0,{mvp:nn(i,nn(s,f.entity.transform.matrix)),draw_color:f.data.drawColor});o.queue.writeBuffer(f.data.uniformBuffer,0,m),l.setPipeline(c),l.setVertexBuffer(0,f.data.vertexBuffer),l.setVertexBuffer(1,f.data.normalBuffer),l.setIndexBuffer(f.data.indexBuffer,f.data.indexFormat),l.setBindGroup(0,f.data.bindGroup),l.drawIndexed(f.data.vertexCount)}return l.end(),o.queue.submit([u.finish()]),Promise.resolve()},[ji])},onDestroy(){},dependencies:[cr],globalDependencies:[dt],brand:"sampleWebgpuRendererGeometry"};function tb(t,e){let n=[];for(let r of e.primitives){let o={attributes:{},count:0};for(let[s,i]of Object.entries(r.attributes)){let a=Hr(t,i.value.buffer,GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST);o.attributes[s]=a,o.count=i.count}if(r.indices){let s=Hr(t,r.indices.value.buffer,GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST);o.indices={buffer:s,format:r.indices.bytesPerElement===2?"uint16":"uint32"},o.count=r.indices.count}n.push(o)}return n}function JE(t,e,n,r){let o=1/Math.tan(t/2),s=1/(n-r);return[o/e,0,0,0,0,o,0,0,0,0,r*s,-1,0,0,n*r*s,0]}async function jE(){let t=await(await fetch("assets/models.glb")).blob();console.log("sdsdsdfds",await ms(await(await fetch("assets/models.glb")).blob(),Bs));let e=await ms(t,Bs),n=np(e);console.log(n);let r=await m1([cr,dt,eb,sl,fa,YA,Bu,$A]),o=r.subsystem(dt).global.device,s=tb(o,n.meshes[0]),i=tb(o,n.meshes[2]),a=[],{world:c,RAPIER:u}=r.subsystem(fa).global;console.log(i[0].indices);let l=r.entity({transform:rn([0,0,-90]),sampleWebgpuRendererGeometry:{vertexBuffer:i[0].attributes.POSITION,normalBuffer:i[0].attributes.NORMAL,size:i[0].count,indexBuffer:i[0].indices.buffer,indexFormat:"uint16",drawColor:[.2,.4,1,1]}});for(let E of tn(100)){let S=r.entity({transform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],sampleWebgpuRendererGeometry:{vertexBuffer:s[0].attributes.POSITION,normalBuffer:s[0].attributes.NORMAL,size:s[0].count,indexBuffer:s[0].indices.buffer,indexFormat:"uint16",drawColor:[1,.5,.25,1]},rigidBody:u.RigidBodyDesc.dynamic().setTranslation(no(-1,1),E*1.5+1,no(-15,-7)),rigidBodyCollider:u.ColliderDesc.ball(.5).setFriction(.9)});a.push(S)}for(let E of tn(30).map(S=>[no(-10,10),no(-1,1),no(-40,-5)]));r.entity({transform:rn([100,100,-1]),pointLightSource:{color:[1,1,1],quadratic:1e-5,linear:1e-5,constant:1}});let f=r.entity({transform:rn([0,0,0]),rigidBody:u.RigidBodyDesc.fixed(),rigidBodyCollider:u.ColliderDesc.cuboid(30,1,30).setTranslation(0,-4,0).setFriction(.9)}),m=0,d=r.subsystem(dt);async function b(){let E=JE(1,1,.1,100);d.global.projectionMatrix=E,await r.fixedUpdate(),await r.renderUpdate(),requestAnimationFrame(b)}b()}jE();
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
//# sourceMappingURL=index.demo.js.map
