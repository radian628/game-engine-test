import{a as at,b as Nt,c as hn}from"./chunk-RFBBAUMM.js";var cg=at((UC,ag)=>{"use strict";function pt(n){if(this.size=n|0,this.size<=1||(this.size&this.size-1)!==0)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=n<<1;for(var e=new Array(this.size*2),t=0;t<e.length;t+=2){let c=Math.PI*t/this.size;e[t]=Math.cos(c),e[t+1]=-Math.sin(c)}this.table=e;for(var r=0,s=1;this.size>s;s<<=1)r++;this._width=r%2===0?r-1:r,this._bitrev=new Array(1<<this._width);for(var o=0;o<this._bitrev.length;o++){this._bitrev[o]=0;for(var i=0;i<this._width;i+=2){var a=this._width-i-2;this._bitrev[o]|=(o>>>i&3)<<a}}this._out=null,this._data=null,this._inv=0}ag.exports=pt;pt.prototype.fromComplexArray=function(e,t){for(var r=t||new Array(e.length>>>1),s=0;s<e.length;s+=2)r[s>>>1]=e[s];return r};pt.prototype.createComplexArray=function(){let e=new Array(this._csize);for(var t=0;t<e.length;t++)e[t]=0;return e};pt.prototype.toComplexArray=function(e,t){for(var r=t||this.createComplexArray(),s=0;s<r.length;s+=2)r[s]=e[s>>>1],r[s+1]=0;return r};pt.prototype.completeSpectrum=function(e){for(var t=this._csize,r=t>>>1,s=2;s<r;s+=2)e[t-s]=e[s],e[t-s+1]=-e[s+1]};pt.prototype.transform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=0,this._transform4(),this._out=null,this._data=null};pt.prototype.realTransform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=0,this._realTransform4(),this._out=null,this._data=null};pt.prototype.inverseTransform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=1,this._transform4();for(var r=0;r<e.length;r++)e[r]/=this.size;this._out=null,this._data=null};pt.prototype._transform4=function(){var e=this._out,t=this._csize,r=this._width,s=1<<r,o=t/s<<1,i,a,c=this._bitrev;if(o===4)for(i=0,a=0;i<t;i+=o,a++){let A=c[a];this._singleTransform2(i,A,s)}else for(i=0,a=0;i<t;i+=o,a++){let A=c[a];this._singleTransform4(i,A,s)}var u=this._inv?-1:1,l=this.table;for(s>>=2;s>=2;s>>=2){o=t/s<<1;var f=o>>>2;for(i=0;i<t;i+=o)for(var h=i+f,d=i,p=0;d<h;d+=2,p+=s){let A=d,_=A+f,m=_+f,g=m+f,y=e[A],v=e[A+1],V=e[_],L=e[_+1],C=e[m],D=e[m+1],G=e[g],w=e[g+1],R=y,U=v,O=l[p],z=u*l[p+1],K=V*O-L*z,Y=V*z+L*O,te=l[2*p],we=u*l[2*p+1],Ue=C*te-D*we,le=C*we+D*te,tt=l[3*p],it=u*l[3*p+1],J=G*tt-w*it,Be=G*it+w*tt,Fe=R+Ue,De=U+le,de=R-Ue,qr=U-le,Xr=K+J,sr=Y+Be,or=u*(K-J),Yr=u*(Y-Be),ks=Fe+Xr,ai=De+sr,ci=Fe-Xr,ui=De-sr,Pl=de+Yr,jl=qr-or,Kl=de-Yr,Jl=qr+or;e[A]=ks,e[A+1]=ai,e[_]=Pl,e[_+1]=jl,e[m]=ci,e[m+1]=ui,e[g]=Kl,e[g+1]=Jl}}};pt.prototype._singleTransform2=function(e,t,r){let s=this._out,o=this._data,i=o[t],a=o[t+1],c=o[t+r],u=o[t+r+1],l=i+c,f=a+u,h=i-c,d=a-u;s[e]=l,s[e+1]=f,s[e+2]=h,s[e+3]=d};pt.prototype._singleTransform4=function(e,t,r){let s=this._out,o=this._data,i=this._inv?-1:1,a=r*2,c=r*3,u=o[t],l=o[t+1],f=o[t+r],h=o[t+r+1],d=o[t+a],p=o[t+a+1],A=o[t+c],_=o[t+c+1],m=u+d,g=l+p,y=u-d,v=l-p,V=f+A,L=h+_,C=i*(f-A),D=i*(h-_),G=m+V,w=g+L,R=y+D,U=v-C,O=m-V,z=g-L,K=y-D,Y=v+C;s[e]=G,s[e+1]=w,s[e+2]=R,s[e+3]=U,s[e+4]=O,s[e+5]=z,s[e+6]=K,s[e+7]=Y};pt.prototype._realTransform4=function(){var e=this._out,t=this._csize,r=this._width,s=1<<r,o=t/s<<1,i,a,c=this._bitrev;if(o===4)for(i=0,a=0;i<t;i+=o,a++){let ql=c[a];this._singleRealTransform2(i,ql>>>1,s>>>1)}else for(i=0,a=0;i<t;i+=o,a++){let ql=c[a];this._singleRealTransform4(i,ql>>>1,s>>>1)}var u=this._inv?-1:1,l=this.table;for(s>>=2;s>=2;s>>=2){o=t/s<<1;var f=o>>>1,h=f>>>1,d=h>>>1;for(i=0;i<t;i+=o)for(var p=0,A=0;p<=d;p+=2,A+=s){var _=i+p,m=_+h,g=m+h,y=g+h,v=e[_],V=e[_+1],L=e[m],C=e[m+1],D=e[g],G=e[g+1],w=e[y],R=e[y+1],U=v,O=V,z=l[A],K=u*l[A+1],Y=L*z-C*K,te=L*K+C*z,we=l[2*A],Ue=u*l[2*A+1],le=D*we-G*Ue,tt=D*Ue+G*we,it=l[3*A],J=u*l[3*A+1],Be=w*it-R*J,Fe=w*J+R*it,De=U+le,de=O+tt,qr=U-le,Xr=O-tt,sr=Y+Be,or=te+Fe,Yr=u*(Y-Be),ks=u*(te-Fe),ai=De+sr,ci=de+or,ui=qr+ks,Pl=Xr-Yr;if(e[_]=ai,e[_+1]=ci,e[m]=ui,e[m+1]=Pl,p===0){var jl=De-sr,Kl=de-or;e[g]=jl,e[g+1]=Kl;continue}if(p!==d){var Jl=qr,hv=-Xr,mv=De,dv=-de,pv=-u*ks,gv=-u*Yr,yv=-u*or,xv=-u*sr,Av=Jl+pv,bv=hv+gv,vv=mv+xv,wv=dv-yv,tg=i+h-p,ng=i+f-p;e[tg]=Av,e[tg+1]=bv,e[ng]=vv,e[ng+1]=wv}}}};pt.prototype._singleRealTransform2=function(e,t,r){let s=this._out,o=this._data,i=o[t],a=o[t+r],c=i+a,u=i-a;s[e]=c,s[e+1]=0,s[e+2]=u,s[e+3]=0};pt.prototype._singleRealTransform4=function(e,t,r){let s=this._out,o=this._data,i=this._inv?-1:1,a=r*2,c=r*3,u=o[t],l=o[t+r],f=o[t+a],h=o[t+c],d=u+f,p=u-f,A=l+h,_=i*(l-h),m=d+A,g=p,y=-_,v=d-A,V=p,L=_;s[e]=m,s[e+1]=0,s[e+2]=g,s[e+3]=y,s[e+4]=v,s[e+5]=0,s[e+6]=V,s[e+7]=L}});var lg=at((FC,ug)=>{ug.exports=Ov;function Ov(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n+1)}});var _g=at(j=>{"use strict";var rf=Symbol.for("react.transitional.element"),Xv=Symbol.for("react.portal"),Yv=Symbol.for("react.fragment"),Qv=Symbol.for("react.strict_mode"),Wv=Symbol.for("react.profiler"),$v=Symbol.for("react.consumer"),Zv=Symbol.for("react.context"),ew=Symbol.for("react.forward_ref"),tw=Symbol.for("react.suspense"),nw=Symbol.for("react.memo"),yg=Symbol.for("react.lazy"),rw=Symbol.for("react.activity"),mg=Symbol.iterator;function sw(n){return n===null||typeof n!="object"?null:(n=mg&&n[mg]||n["@@iterator"],typeof n=="function"?n:null)}var xg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ag=Object.assign,bg={};function Ls(n,e,t){this.props=n,this.context=e,this.refs=bg,this.updater=t||xg}Ls.prototype.isReactComponent={};Ls.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ls.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function vg(){}vg.prototype=Ls.prototype;function sf(n,e,t){this.props=n,this.context=e,this.refs=bg,this.updater=t||xg}var of=sf.prototype=new vg;of.constructor=sf;Ag(of,Ls.prototype);of.isPureReactComponent=!0;var dg=Array.isArray;function nf(){}var ye={H:null,A:null,T:null,S:null},wg=Object.prototype.hasOwnProperty;function af(n,e,t){var r=t.ref;return{$$typeof:rf,type:n,key:e,ref:r!==void 0?r:null,props:t}}function ow(n,e){return af(n.type,e,n.props)}function cf(n){return typeof n=="object"&&n!==null&&n.$$typeof===rf}function iw(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var pg=/\/+/g;function tf(n,e){return typeof n=="object"&&n!==null&&n.key!=null?iw(""+n.key):e.toString(36)}function aw(n){switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:switch(typeof n.status=="string"?n.then(nf,nf):(n.status="pending",n.then(function(e){n.status==="pending"&&(n.status="fulfilled",n.value=e)},function(e){n.status==="pending"&&(n.status="rejected",n.reason=e)})),n.status){case"fulfilled":return n.value;case"rejected":throw n.reason}}throw n}function Os(n,e,t,r,s){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var i=!1;if(n===null)i=!0;else switch(o){case"bigint":case"string":case"number":i=!0;break;case"object":switch(n.$$typeof){case rf:case Xv:i=!0;break;case yg:return i=n._init,Os(i(n._payload),e,t,r,s)}}if(i)return s=s(n),i=r===""?"."+tf(n,0):r,dg(s)?(t="",i!=null&&(t=i.replace(pg,"$&/")+"/"),Os(s,e,t,"",function(u){return u})):s!=null&&(cf(s)&&(s=ow(s,t+(s.key==null||n&&n.key===s.key?"":(""+s.key).replace(pg,"$&/")+"/")+i)),e.push(s)),1;i=0;var a=r===""?".":r+":";if(dg(n))for(var c=0;c<n.length;c++)r=n[c],o=a+tf(r,c),i+=Os(r,e,t,o,s);else if(c=sw(n),typeof c=="function")for(n=c.call(n),c=0;!(r=n.next()).done;)r=r.value,o=a+tf(r,c++),i+=Os(r,e,t,o,s);else if(o==="object"){if(typeof n.then=="function")return Os(aw(n),e,t,r,s);throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return i}function Pa(n,e,t){if(n==null)return n;var r=[],s=0;return Os(n,r,"","",function(o){return e.call(t,o,s++)}),r}function cw(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var gg=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},uw={map:Pa,forEach:function(n,e,t){Pa(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Pa(n,function(){e++}),e},toArray:function(n){return Pa(n,function(e){return e})||[]},only:function(n){if(!cf(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};j.Activity=rw;j.Children=uw;j.Component=Ls;j.Fragment=Yv;j.Profiler=Wv;j.PureComponent=sf;j.StrictMode=Qv;j.Suspense=tw;j.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye;j.__COMPILER_RUNTIME={__proto__:null,c:function(n){return ye.H.useMemoCache(n)}};j.cache=function(n){return function(){return n.apply(null,arguments)}};j.cacheSignal=function(){return null};j.cloneElement=function(n,e,t){if(n==null)throw Error("The argument must be a React element, but you passed "+n+".");var r=Ag({},n.props),s=n.key;if(e!=null)for(o in e.key!==void 0&&(s=""+e.key),e)!wg.call(e,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&e.ref===void 0||(r[o]=e[o]);var o=arguments.length-2;if(o===1)r.children=t;else if(1<o){for(var i=Array(o),a=0;a<o;a++)i[a]=arguments[a+2];r.children=i}return af(n.type,s,r)};j.createContext=function(n){return n={$$typeof:Zv,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider=n,n.Consumer={$$typeof:$v,_context:n},n};j.createElement=function(n,e,t){var r,s={},o=null;if(e!=null)for(r in e.key!==void 0&&(o=""+e.key),e)wg.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(s[r]=e[r]);var i=arguments.length-2;if(i===1)s.children=t;else if(1<i){for(var a=Array(i),c=0;c<i;c++)a[c]=arguments[c+2];s.children=a}if(n&&n.defaultProps)for(r in i=n.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return af(n,o,s)};j.createRef=function(){return{current:null}};j.forwardRef=function(n){return{$$typeof:ew,render:n}};j.isValidElement=cf;j.lazy=function(n){return{$$typeof:yg,_payload:{_status:-1,_result:n},_init:cw}};j.memo=function(n,e){return{$$typeof:nw,type:n,compare:e===void 0?null:e}};j.startTransition=function(n){var e=ye.T,t={};ye.T=t;try{var r=n(),s=ye.S;s!==null&&s(t,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(nf,gg)}catch(o){gg(o)}finally{e!==null&&t.types!==null&&(e.types=t.types),ye.T=e}};j.unstable_useCacheRefresh=function(){return ye.H.useCacheRefresh()};j.use=function(n){return ye.H.use(n)};j.useActionState=function(n,e,t){return ye.H.useActionState(n,e,t)};j.useCallback=function(n,e){return ye.H.useCallback(n,e)};j.useContext=function(n){return ye.H.useContext(n)};j.useDebugValue=function(){};j.useDeferredValue=function(n,e){return ye.H.useDeferredValue(n,e)};j.useEffect=function(n,e){return ye.H.useEffect(n,e)};j.useEffectEvent=function(n){return ye.H.useEffectEvent(n)};j.useId=function(){return ye.H.useId()};j.useImperativeHandle=function(n,e,t){return ye.H.useImperativeHandle(n,e,t)};j.useInsertionEffect=function(n,e){return ye.H.useInsertionEffect(n,e)};j.useLayoutEffect=function(n,e){return ye.H.useLayoutEffect(n,e)};j.useMemo=function(n,e){return ye.H.useMemo(n,e)};j.useOptimistic=function(n,e){return ye.H.useOptimistic(n,e)};j.useReducer=function(n,e,t){return ye.H.useReducer(n,e,t)};j.useRef=function(n){return ye.H.useRef(n)};j.useState=function(n){return ye.H.useState(n)};j.useSyncExternalStore=function(n,e,t){return ye.H.useSyncExternalStore(n,e,t)};j.useTransition=function(){return ye.H.useTransition()};j.version="19.2.0"});var Vn=at((DV,Tg)=>{"use strict";Tg.exports=_g()});var Og=at(_e=>{"use strict";function hf(n,e){var t=n.length;n.push(e);e:for(;0<t;){var r=t-1>>>1,s=n[r];if(0<Ja(s,e))n[r]=e,n[t]=s,t=r;else break e}}function mn(n){return n.length===0?null:n[0]}function Xa(n){if(n.length===0)return null;var e=n[0],t=n.pop();if(t!==e){n[0]=t;e:for(var r=0,s=n.length,o=s>>>1;r<o;){var i=2*(r+1)-1,a=n[i],c=i+1,u=n[c];if(0>Ja(a,t))c<s&&0>Ja(u,a)?(n[r]=u,n[c]=t,r=c):(n[r]=a,n[i]=t,r=i);else if(c<s&&0>Ja(u,t))n[r]=u,n[c]=t,r=c;else break e}}return e}function Ja(n,e){var t=n.sortIndex-e.sortIndex;return t!==0?t:n.id-e.id}_e.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(Eg=performance,_e.unstable_now=function(){return Eg.now()}):(uf=Date,Sg=uf.now(),_e.unstable_now=function(){return uf.now()-Sg});var Eg,uf,Sg,Rn=[],ur=[],fw=1,zt=null,rt=3,mf=!1,hi=!1,mi=!1,df=!1,Vg=typeof setTimeout=="function"?setTimeout:null,Rg=typeof clearTimeout=="function"?clearTimeout:null,Mg=typeof setImmediate<"u"?setImmediate:null;function qa(n){for(var e=mn(ur);e!==null;){if(e.callback===null)Xa(ur);else if(e.startTime<=n)Xa(ur),e.sortIndex=e.expirationTime,hf(Rn,e);else break;e=mn(ur)}}function pf(n){if(mi=!1,qa(n),!hi)if(mn(Rn)!==null)hi=!0,Us||(Us=!0,Gs());else{var e=mn(ur);e!==null&&gf(pf,e.startTime-n)}}var Us=!1,di=-1,Dg=5,Ig=-1;function kg(){return df?!0:!(_e.unstable_now()-Ig<Dg)}function lf(){if(df=!1,Us){var n=_e.unstable_now();Ig=n;var e=!0;try{e:{hi=!1,mi&&(mi=!1,Rg(di),di=-1),mf=!0;var t=rt;try{t:{for(qa(n),zt=mn(Rn);zt!==null&&!(zt.expirationTime>n&&kg());){var r=zt.callback;if(typeof r=="function"){zt.callback=null,rt=zt.priorityLevel;var s=r(zt.expirationTime<=n);if(n=_e.unstable_now(),typeof s=="function"){zt.callback=s,qa(n),e=!0;break t}zt===mn(Rn)&&Xa(Rn),qa(n)}else Xa(Rn);zt=mn(Rn)}if(zt!==null)e=!0;else{var o=mn(ur);o!==null&&gf(pf,o.startTime-n),e=!1}}break e}finally{zt=null,rt=t,mf=!1}e=void 0}}finally{e?Gs():Us=!1}}}var Gs;typeof Mg=="function"?Gs=function(){Mg(lf)}:typeof MessageChannel<"u"?(ff=new MessageChannel,Cg=ff.port2,ff.port1.onmessage=lf,Gs=function(){Cg.postMessage(null)}):Gs=function(){Vg(lf,0)};var ff,Cg;function gf(n,e){di=Vg(function(){n(_e.unstable_now())},e)}_e.unstable_IdlePriority=5;_e.unstable_ImmediatePriority=1;_e.unstable_LowPriority=4;_e.unstable_NormalPriority=3;_e.unstable_Profiling=null;_e.unstable_UserBlockingPriority=2;_e.unstable_cancelCallback=function(n){n.callback=null};_e.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Dg=0<n?Math.floor(1e3/n):5};_e.unstable_getCurrentPriorityLevel=function(){return rt};_e.unstable_next=function(n){switch(rt){case 1:case 2:case 3:var e=3;break;default:e=rt}var t=rt;rt=e;try{return n()}finally{rt=t}};_e.unstable_requestPaint=function(){df=!0};_e.unstable_runWithPriority=function(n,e){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var t=rt;rt=n;try{return e()}finally{rt=t}};_e.unstable_scheduleCallback=function(n,e,t){var r=_e.unstable_now();switch(typeof t=="object"&&t!==null?(t=t.delay,t=typeof t=="number"&&0<t?r+t:r):t=r,n){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=t+s,n={id:fw++,callback:e,priorityLevel:n,startTime:t,expirationTime:s,sortIndex:-1},t>r?(n.sortIndex=t,hf(ur,n),mn(Rn)===null&&n===mn(ur)&&(mi?(Rg(di),di=-1):mi=!0,gf(pf,t-r))):(n.sortIndex=s,hf(Rn,n),hi||mf||(hi=!0,Us||(Us=!0,Gs()))),n};_e.unstable_shouldYield=kg;_e.unstable_wrapCallback=function(n){var e=rt;return function(){var t=rt;rt=e;try{return n.apply(this,arguments)}finally{rt=t}}}});var Gg=at((zV,Lg)=>{"use strict";Lg.exports=Og()});var Fg=at(ut=>{"use strict";var hw=Vn();function Ug(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function lr(){}var ct={d:{f:lr,r:function(){throw Error(Ug(522))},D:lr,C:lr,L:lr,m:lr,X:lr,S:lr,M:lr},p:0,findDOMNode:null},mw=Symbol.for("react.portal");function dw(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mw,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}var pi=hw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ya(n,e){if(n==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct;ut.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Ug(299));return dw(n,e,null,t)};ut.flushSync=function(n){var e=pi.T,t=ct.p;try{if(pi.T=null,ct.p=2,n)return n()}finally{pi.T=e,ct.p=t,ct.d.f()}};ut.preconnect=function(n,e){typeof n=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,ct.d.C(n,e))};ut.prefetchDNS=function(n){typeof n=="string"&&ct.d.D(n)};ut.preinit=function(n,e){if(typeof n=="string"&&e&&typeof e.as=="string"){var t=e.as,r=Ya(t,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;t==="style"?ct.d.S(n,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:o}):t==="script"&&ct.d.X(n,{crossOrigin:r,integrity:s,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};ut.preinitModule=function(n,e){if(typeof n=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var t=Ya(e.as,e.crossOrigin);ct.d.M(n,{crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&ct.d.M(n)};ut.preload=function(n,e){if(typeof n=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var t=e.as,r=Ya(t,e.crossOrigin);ct.d.L(n,t,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};ut.preloadModule=function(n,e){if(typeof n=="string")if(e){var t=Ya(e.as,e.crossOrigin);ct.d.m(n,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else ct.d.m(n)};ut.requestFormReset=function(n){ct.d.r(n)};ut.unstable_batchedUpdates=function(n,e){return n(e)};ut.useFormState=function(n,e,t){return pi.H.useFormState(n,e,t)};ut.useFormStatus=function(){return pi.H.useHostTransitionStatus()};ut.version="19.2.0"});var Hg=at((PV,zg)=>{"use strict";function Ng(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ng)}catch(n){console.error(n)}}Ng(),zg.exports=Fg()});var e2=at(bu=>{"use strict";var ze=Gg(),d0=Vn(),pw=Hg();function I(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ta(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&4098)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function g0(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function y0(n){if(n.tag===31){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Pg(n){if(ta(n)!==n)throw Error(I(188))}function gw(n){var e=n.alternate;if(!e){if(e=ta(n),e===null)throw Error(I(188));return e!==n?null:n}for(var t=n,r=e;;){var s=t.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===t)return Pg(s),n;if(o===r)return Pg(s),e;o=o.sibling}throw Error(I(188))}if(t.return!==r.return)t=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===t){i=!0,t=s,r=o;break}if(a===r){i=!0,r=s,t=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===t){i=!0,t=o,r=s;break}if(a===r){i=!0,r=o,t=s;break}a=a.sibling}if(!i)throw Error(I(189))}}if(t.alternate!==r)throw Error(I(190))}if(t.tag!==3)throw Error(I(188));return t.stateNode.current===t?n:e}function x0(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n;for(n=n.child;n!==null;){if(e=x0(n),e!==null)return e;n=n.sibling}return null}var be=Object.assign,yw=Symbol.for("react.element"),Qa=Symbol.for("react.transitional.element"),_i=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),A0=Symbol.for("react.strict_mode"),Qf=Symbol.for("react.profiler"),b0=Symbol.for("react.consumer"),Fn=Symbol.for("react.context"),Kh=Symbol.for("react.forward_ref"),Wf=Symbol.for("react.suspense"),$f=Symbol.for("react.suspense_list"),Jh=Symbol.for("react.memo"),fr=Symbol.for("react.lazy");Symbol.for("react.scope");var Zf=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var xw=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var jg=Symbol.iterator;function gi(n){return n===null||typeof n!="object"?null:(n=jg&&n[jg]||n["@@iterator"],typeof n=="function"?n:null)}var Aw=Symbol.for("react.client.reference");function eh(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Aw?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case js:return"Fragment";case Qf:return"Profiler";case A0:return"StrictMode";case Wf:return"Suspense";case $f:return"SuspenseList";case Zf:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case _i:return"Portal";case Fn:return n.displayName||"Context";case b0:return(n._context.displayName||"Context")+".Consumer";case Kh:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Jh:return e=n.displayName||null,e!==null?e:eh(n.type)||"Memo";case fr:e=n._payload,n=n._init;try{return eh(n(e))}catch{}}return null}var Ti=Array.isArray,P=d0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=pw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rs={pending:!1,data:null,method:null,action:null},th=[],Ks=-1;function xn(n){return{current:n}}function Ke(n){0>Ks||(n.current=th[Ks],th[Ks]=null,Ks--)}function pe(n,e){Ks++,th[Ks]=n.current,n.current=e}var yn=xn(null),zi=xn(null),wr=xn(null),Cc=xn(null);function Vc(n,e){switch(pe(wr,e),pe(zi,n),pe(yn,null),e.nodeType){case 9:case 11:n=(n=e.documentElement)&&(n=n.namespaceURI)?Wy(n):0;break;default:if(n=e.tagName,e=e.namespaceURI)e=Wy(e),n=Nx(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Ke(yn),pe(yn,n)}function uo(){Ke(yn),Ke(zi),Ke(wr)}function nh(n){n.memoizedState!==null&&pe(Cc,n);var e=yn.current,t=Nx(e,n.type);e!==t&&(pe(zi,n),pe(yn,t))}function Rc(n){zi.current===n&&(Ke(yn),Ke(zi)),Cc.current===n&&(Ke(Cc),$i._currentValue=rs)}var yf,Kg;function Zr(n){if(yf===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);yf=e&&e[1]||"",Kg=-1<t.stack.indexOf(`
    at`)?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yf+n+Kg}var xf=!1;function Af(n,e){if(!n||xf)return"";xf=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(d){var h=d}Reflect.construct(n,[],f)}else{try{f.call()}catch(d){h=d}n.call(f.prototype)}}else{try{throw Error()}catch(d){h=d}(f=n())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(d){if(d&&h&&typeof d.stack=="string")return[d.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),i=o[0],a=o[1];if(i&&a){var c=i.split(`
`),u=a.split(`
`);for(s=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(r===c.length||s===u.length)for(r=c.length-1,s=u.length-1;1<=r&&0<=s&&c[r]!==u[s];)s--;for(;1<=r&&0<=s;r--,s--)if(c[r]!==u[s]){if(r!==1||s!==1)do if(r--,s--,0>s||c[r]!==u[s]){var l=`
`+c[r].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=r&&0<=s);break}}}finally{xf=!1,Error.prepareStackTrace=t}return(t=n?n.displayName||n.name:"")?Zr(t):""}function bw(n,e){switch(n.tag){case 26:case 27:case 5:return Zr(n.type);case 16:return Zr("Lazy");case 13:return n.child!==e&&e!==null?Zr("Suspense Fallback"):Zr("Suspense");case 19:return Zr("SuspenseList");case 0:case 15:return Af(n.type,!1);case 11:return Af(n.type.render,!1);case 1:return Af(n.type,!0);case 31:return Zr("Activity");default:return""}}function Jg(n){try{var e="",t=null;do e+=bw(n,t),t=n,n=n.return;while(n);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var rh=Object.prototype.hasOwnProperty,qh=ze.unstable_scheduleCallback,bf=ze.unstable_cancelCallback,vw=ze.unstable_shouldYield,ww=ze.unstable_requestPaint,Vt=ze.unstable_now,_w=ze.unstable_getCurrentPriorityLevel,v0=ze.unstable_ImmediatePriority,w0=ze.unstable_UserBlockingPriority,Dc=ze.unstable_NormalPriority,Tw=ze.unstable_LowPriority,_0=ze.unstable_IdlePriority,Bw=ze.log,Ew=ze.unstable_setDisableYieldValue,na=null,Rt=null;function yr(n){if(typeof Bw=="function"&&Ew(n),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(na,n)}catch{}}var Dt=Math.clz32?Math.clz32:Cw,Sw=Math.log,Mw=Math.LN2;function Cw(n){return n>>>=0,n===0?32:31-(Sw(n)/Mw|0)|0}var Wa=256,$a=262144,Za=4194304;function es(n){var e=n&42;if(e!==0)return e;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function su(n,e,t){var r=n.pendingLanes;if(r===0)return 0;var s=0,o=n.suspendedLanes,i=n.pingedLanes;n=n.warmLanes;var a=r&134217727;return a!==0?(r=a&~o,r!==0?s=es(r):(i&=a,i!==0?s=es(i):t||(t=a&~n,t!==0&&(s=es(t))))):(a=r&~o,a!==0?s=es(a):i!==0?s=es(i):t||(t=r&~n,t!==0&&(s=es(t)))),s===0?0:e!==0&&e!==s&&(e&o)===0&&(o=s&-s,t=e&-e,o>=t||o===32&&(t&4194048)!==0)?e:s}function ra(n,e){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&e)===0}function Vw(n,e){switch(n){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T0(){var n=Za;return Za<<=1,(Za&62914560)===0&&(Za=4194304),n}function vf(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function sa(n,e){n.pendingLanes|=e,e!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Rw(n,e,t,r,s,o){var i=n.pendingLanes;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=t,n.entangledLanes&=t,n.errorRecoveryDisabledLanes&=t,n.shellSuspendCounter=0;var a=n.entanglements,c=n.expirationTimes,u=n.hiddenUpdates;for(t=i&~t;0<t;){var l=31-Dt(t),f=1<<l;a[l]=0,c[l]=-1;var h=u[l];if(h!==null)for(u[l]=null,l=0;l<h.length;l++){var d=h[l];d!==null&&(d.lane&=-536870913)}t&=~f}r!==0&&B0(n,r,0),o!==0&&s===0&&n.tag!==0&&(n.suspendedLanes|=o&~(i&~e))}function B0(n,e,t){n.pendingLanes|=e,n.suspendedLanes&=~e;var r=31-Dt(e);n.entangledLanes|=e,n.entanglements[r]=n.entanglements[r]|1073741824|t&261930}function E0(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Dt(t),s=1<<r;s&e|n[r]&e&&(n[r]|=e),t&=~s}}function S0(n,e){var t=e&-e;return t=(t&42)!==0?1:Xh(t),(t&(n.suspendedLanes|e))!==0?0:t}function Xh(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Yh(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function M0(){var n=se.p;return n!==0?n:(n=window.event,n===void 0?32:Wx(n.type))}function qg(n,e){var t=se.p;try{return se.p=n,e()}finally{se.p=t}}var Or=Math.random().toString(36).slice(2),Ye="__reactFiber$"+Or,vt="__reactProps$"+Or,vo="__reactContainer$"+Or,sh="__reactEvents$"+Or,Dw="__reactListeners$"+Or,Iw="__reactHandles$"+Or,Xg="__reactResources$"+Or,oa="__reactMarker$"+Or;function Qh(n){delete n[Ye],delete n[vt],delete n[sh],delete n[Dw],delete n[Iw]}function Js(n){var e=n[Ye];if(e)return e;for(var t=n.parentNode;t;){if(e=t[vo]||t[Ye]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=n0(n);n!==null;){if(t=n[Ye])return t;n=n0(n)}return e}n=t,t=n.parentNode}return null}function wo(n){if(n=n[Ye]||n[vo]){var e=n.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return n}return null}function Bi(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n.stateNode;throw Error(I(33))}function no(n){var e=n[Xg];return e||(e=n[Xg]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function je(n){n[oa]=!0}var C0=new Set,V0={};function ms(n,e){lo(n,e),lo(n+"Capture",e)}function lo(n,e){for(V0[n]=e,n=0;n<e.length;n++)C0.add(e[n])}var kw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yg={},Qg={};function Ow(n){return rh.call(Qg,n)?!0:rh.call(Yg,n)?!1:kw.test(n)?Qg[n]=!0:(Yg[n]=!0,!1)}function dc(n,e,t){if(Ow(e))if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":n.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){n.removeAttribute(e);return}}n.setAttribute(e,""+t)}}function ec(n,e,t){if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(e);return}n.setAttribute(e,""+t)}}function Dn(n,e,t,r){if(r===null)n.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(t);return}n.setAttributeNS(e,t,""+r)}}function Pt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function R0(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Lw(n,e,t){var r=Object.getOwnPropertyDescriptor(n.constructor.prototype,e);if(!n.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){t=""+i,o.call(this,i)}}),Object.defineProperty(n,e,{enumerable:r.enumerable}),{getValue:function(){return t},setValue:function(i){t=""+i},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function oh(n){if(!n._valueTracker){var e=R0(n)?"checked":"value";n._valueTracker=Lw(n,e,""+n[e])}}function D0(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=R0(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Ic(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Gw=/[\n"\\]/g;function Jt(n){return n.replace(Gw,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ih(n,e,t,r,s,o,i,a){n.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?n.type=i:n.removeAttribute("type"),e!=null?i==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+Pt(e)):n.value!==""+Pt(e)&&(n.value=""+Pt(e)):i!=="submit"&&i!=="reset"||n.removeAttribute("value"),e!=null?ah(n,i,Pt(e)):t!=null?ah(n,i,Pt(t)):r!=null&&n.removeAttribute("value"),s==null&&o!=null&&(n.defaultChecked=!!o),s!=null&&(n.checked=s&&typeof s!="function"&&typeof s!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?n.name=""+Pt(a):n.removeAttribute("name")}function I0(n,e,t,r,s,o,i,a){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(n.type=o),e!=null||t!=null){if(!(o!=="submit"&&o!=="reset"||e!=null)){oh(n);return}t=t!=null?""+Pt(t):"",e=e!=null?""+Pt(e):t,a||e===n.value||(n.value=e),n.defaultValue=e}r=r??s,r=typeof r!="function"&&typeof r!="symbol"&&!!r,n.checked=a?n.checked:!!r,n.defaultChecked=!!r,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(n.name=i),oh(n)}function ah(n,e,t){e==="number"&&Ic(n.ownerDocument)===n||n.defaultValue===""+t||(n.defaultValue=""+t)}function ro(n,e,t,r){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Pt(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,r&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function k0(n,e,t){if(e!=null&&(e=""+Pt(e),e!==n.value&&(n.value=e),t==null)){n.defaultValue!==e&&(n.defaultValue=e);return}n.defaultValue=t!=null?""+Pt(t):""}function O0(n,e,t,r){if(e==null){if(r!=null){if(t!=null)throw Error(I(92));if(Ti(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),e=t}t=Pt(e),n.defaultValue=t,r=n.textContent,r===t&&r!==""&&r!==null&&(n.value=r),oh(n)}function fo(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Uw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wg(n,e,t){var r=e.indexOf("--")===0;t==null||typeof t=="boolean"||t===""?r?n.setProperty(e,""):e==="float"?n.cssFloat="":n[e]="":r?n.setProperty(e,t):typeof t!="number"||t===0||Uw.has(e)?e==="float"?n.cssFloat=t:n[e]=(""+t).trim():n[e]=t+"px"}function L0(n,e,t){if(e!=null&&typeof e!="object")throw Error(I(62));if(n=n.style,t!=null){for(var r in t)!t.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="");for(var s in e)r=e[s],e.hasOwnProperty(s)&&t[s]!==r&&Wg(n,s,r)}else for(var o in e)e.hasOwnProperty(o)&&Wg(n,o,e[o])}function Wh(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pc(n){return Nw.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Nn(){}var ch=null;function $h(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var qs=null,so=null;function $g(n){var e=wo(n);if(e&&(n=e.stateNode)){var t=n[vt]||null;e:switch(n=e.stateNode,e.type){case"input":if(ih(n,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+Jt(""+e)+'"][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var s=r[vt]||null;if(!s)throw Error(I(90));ih(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<t.length;e++)r=t[e],r.form===n.form&&D0(r)}break e;case"textarea":k0(n,t.value,t.defaultValue);break e;case"select":e=t.value,e!=null&&ro(n,!!t.multiple,e,!1)}}}var wf=!1;function G0(n,e,t){if(wf)return n(e,t);wf=!0;try{var r=n(e);return r}finally{if(wf=!1,(qs!==null||so!==null)&&(gu(),qs&&(e=qs,n=so,so=qs=null,$g(e),n)))for(e=0;e<n.length;e++)$g(n[e])}}function Hi(n,e){var t=n.stateNode;if(t===null)return null;var r=t[vt]||null;if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(I(231,e,typeof t));return t}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uh=!1;if(Kn)try{Fs={},Object.defineProperty(Fs,"passive",{get:function(){uh=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{uh=!1}var Fs,xr=null,Zh=null,gc=null;function U0(){if(gc)return gc;var n,e=Zh,t=e.length,r,s="value"in xr?xr.value:xr.textContent,o=s.length;for(n=0;n<t&&e[n]===s[n];n++);var i=t-n;for(r=1;r<=i&&e[t-r]===s[o-r];r++);return gc=s.slice(n,1<r?1-r:void 0)}function yc(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function tc(){return!0}function Zg(){return!1}function wt(n){function e(t,r,s,o,i){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?tc:Zg,this.isPropagationStopped=Zg,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=tc)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=tc)},persist:function(){},isPersistent:tc}),e}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ou=wt(ds),ia=be({},ds,{view:0,detail:0}),zw=wt(ia),_f,Tf,yi,iu=be({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:em,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==yi&&(yi&&n.type==="mousemove"?(_f=n.screenX-yi.screenX,Tf=n.screenY-yi.screenY):Tf=_f=0,yi=n),_f)},movementY:function(n){return"movementY"in n?n.movementY:Tf}}),ey=wt(iu),Hw=be({},iu,{dataTransfer:0}),Pw=wt(Hw),jw=be({},ia,{relatedTarget:0}),Bf=wt(jw),Kw=be({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Jw=wt(Kw),qw=be({},ds,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Xw=wt(qw),Yw=be({},ds,{data:0}),ty=wt(Yw),Qw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ww={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$w={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zw(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=$w[n])?!!e[n]:!1}function em(){return Zw}var e_=be({},ia,{key:function(n){if(n.key){var e=Qw[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=yc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ww[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:em,charCode:function(n){return n.type==="keypress"?yc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?yc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),t_=wt(e_),n_=be({},iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ny=wt(n_),r_=be({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:em}),s_=wt(r_),o_=be({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),i_=wt(o_),a_=be({},iu,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),c_=wt(a_),u_=be({},ds,{newState:0,oldState:0}),l_=wt(u_),f_=[9,13,27,32],tm=Kn&&"CompositionEvent"in window,Mi=null;Kn&&"documentMode"in document&&(Mi=document.documentMode);var h_=Kn&&"TextEvent"in window&&!Mi,F0=Kn&&(!tm||Mi&&8<Mi&&11>=Mi),ry=" ",sy=!1;function N0(n,e){switch(n){case"keyup":return f_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z0(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xs=!1;function m_(n,e){switch(n){case"compositionend":return z0(e);case"keypress":return e.which!==32?null:(sy=!0,ry);case"textInput":return n=e.data,n===ry&&sy?null:n;default:return null}}function d_(n,e){if(Xs)return n==="compositionend"||!tm&&N0(n,e)?(n=U0(),gc=Zh=xr=null,Xs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return F0&&e.locale!=="ko"?null:e.data;default:return null}}var p_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oy(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!p_[n.type]:e==="textarea"}function H0(n,e,t,r){qs?so?so.push(r):so=[r]:qs=r,e=Wc(e,"onChange"),0<e.length&&(t=new ou("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Ci=null,Pi=null;function g_(n){Gx(n,0)}function au(n){var e=Bi(n);if(D0(e))return n}function iy(n,e){if(n==="change")return e}var P0=!1;Kn&&(Kn?(rc="oninput"in document,rc||(Ef=document.createElement("div"),Ef.setAttribute("oninput","return;"),rc=typeof Ef.oninput=="function"),nc=rc):nc=!1,P0=nc&&(!document.documentMode||9<document.documentMode));var nc,rc,Ef;function ay(){Ci&&(Ci.detachEvent("onpropertychange",j0),Pi=Ci=null)}function j0(n){if(n.propertyName==="value"&&au(Pi)){var e=[];H0(e,Pi,n,$h(n)),G0(g_,e)}}function y_(n,e,t){n==="focusin"?(ay(),Ci=e,Pi=t,Ci.attachEvent("onpropertychange",j0)):n==="focusout"&&ay()}function x_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return au(Pi)}function A_(n,e){if(n==="click")return au(e)}function b_(n,e){if(n==="input"||n==="change")return au(e)}function v_(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var kt=typeof Object.is=="function"?Object.is:v_;function ji(n,e){if(kt(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!rh.call(e,s)||!kt(n[s],e[s]))return!1}return!0}function cy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function uy(n,e){var t=cy(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=cy(t)}}function K0(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?K0(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function J0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var e=Ic(n.document);e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Ic(n.document)}return e}function nm(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var w_=Kn&&"documentMode"in document&&11>=document.documentMode,Ys=null,lh=null,Vi=null,fh=!1;function ly(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;fh||Ys==null||Ys!==Ic(r)||(r=Ys,"selectionStart"in r&&nm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vi&&ji(Vi,r)||(Vi=r,r=Wc(lh,"onSelect"),0<r.length&&(e=new ou("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Ys)))}function $r(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Qs={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Sf={},q0={};Kn&&(q0=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function ps(n){if(Sf[n])return Sf[n];if(!Qs[n])return n;var e=Qs[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in q0)return Sf[n]=e[t];return n}var X0=ps("animationend"),Y0=ps("animationiteration"),Q0=ps("animationstart"),__=ps("transitionrun"),T_=ps("transitionstart"),B_=ps("transitioncancel"),W0=ps("transitionend"),$0=new Map,hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hh.push("scrollEnd");function cn(n,e){$0.set(n,e),ms(e,[n])}var kc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Ht=[],Ws=0,rm=0;function cu(){for(var n=Ws,e=rm=Ws=0;e<n;){var t=Ht[e];Ht[e++]=null;var r=Ht[e];Ht[e++]=null;var s=Ht[e];Ht[e++]=null;var o=Ht[e];if(Ht[e++]=null,r!==null&&s!==null){var i=r.pending;i===null?s.next=s:(s.next=i.next,i.next=s),r.pending=s}o!==0&&Z0(t,s,o)}}function uu(n,e,t,r){Ht[Ws++]=n,Ht[Ws++]=e,Ht[Ws++]=t,Ht[Ws++]=r,rm|=r,n.lanes|=r,n=n.alternate,n!==null&&(n.lanes|=r)}function sm(n,e,t,r){return uu(n,e,t,r),Oc(n)}function gs(n,e){return uu(n,null,null,e),Oc(n)}function Z0(n,e,t){n.lanes|=t;var r=n.alternate;r!==null&&(r.lanes|=t);for(var s=!1,o=n.return;o!==null;)o.childLanes|=t,r=o.alternate,r!==null&&(r.childLanes|=t),o.tag===22&&(n=o.stateNode,n===null||n._visibility&1||(s=!0)),n=o,o=o.return;return n.tag===3?(o=n.stateNode,s&&e!==null&&(s=31-Dt(t),n=o.hiddenUpdates,r=n[s],r===null?n[s]=[e]:r.push(e),e.lane=t|536870912),o):null}function Oc(n){if(50<Fi)throw Fi=0,Ih=null,Error(I(185));for(var e=n.return;e!==null;)n=e,e=n.return;return n.tag===3?n.stateNode:null}var $s={};function E_(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(n,e,t,r){return new E_(n,e,t,r)}function om(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hn(n,e){var t=n.alternate;return t===null?(t=Mt(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&65011712,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t.refCleanup=n.refCleanup,t}function e1(n,e){n.flags&=65011714;var t=n.alternate;return t===null?(n.childLanes=0,n.lanes=e,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.type=t.type,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n}function xc(n,e,t,r,s,o){var i=0;if(r=n,typeof n=="function")om(n)&&(i=1);else if(typeof n=="string")i=C3(n,t,yn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Zf:return n=Mt(31,t,e,s),n.elementType=Zf,n.lanes=o,n;case js:return ss(t.children,s,o,e);case A0:i=8,s|=24;break;case Qf:return n=Mt(12,t,e,s|2),n.elementType=Qf,n.lanes=o,n;case Wf:return n=Mt(13,t,e,s),n.elementType=Wf,n.lanes=o,n;case $f:return n=Mt(19,t,e,s),n.elementType=$f,n.lanes=o,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Fn:i=10;break e;case b0:i=9;break e;case Kh:i=11;break e;case Jh:i=14;break e;case fr:i=16,r=null;break e}i=29,t=Error(I(130,n===null?"null":typeof n,"")),r=null}return e=Mt(i,t,e,s),e.elementType=n,e.type=r,e.lanes=o,e}function ss(n,e,t,r){return n=Mt(7,n,r,e),n.lanes=t,n}function Mf(n,e,t){return n=Mt(6,n,null,e),n.lanes=t,n}function t1(n){var e=Mt(18,null,null,0);return e.stateNode=n,e}function Cf(n,e,t){return e=Mt(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}var fy=new WeakMap;function qt(n,e){if(typeof n=="object"&&n!==null){var t=fy.get(n);return t!==void 0?t:(e={value:n,source:e,stack:Jg(e)},fy.set(n,e),e)}return{value:n,source:e,stack:Jg(e)}}var Zs=[],eo=0,Lc=null,Ki=0,jt=[],Kt=0,Rr=null,dn=1,pn="";function Gn(n,e){Zs[eo++]=Ki,Zs[eo++]=Lc,Lc=n,Ki=e}function n1(n,e,t){jt[Kt++]=dn,jt[Kt++]=pn,jt[Kt++]=Rr,Rr=n;var r=dn;n=pn;var s=32-Dt(r)-1;r&=~(1<<s),t+=1;var o=32-Dt(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,dn=1<<32-Dt(e)+s|t<<s|r,pn=o+n}else dn=1<<o|t<<s|r,pn=n}function im(n){n.return!==null&&(Gn(n,1),n1(n,1,0))}function am(n){for(;n===Lc;)Lc=Zs[--eo],Zs[eo]=null,Ki=Zs[--eo],Zs[eo]=null;for(;n===Rr;)Rr=jt[--Kt],jt[Kt]=null,pn=jt[--Kt],jt[Kt]=null,dn=jt[--Kt],jt[Kt]=null}function r1(n,e){jt[Kt++]=dn,jt[Kt++]=pn,jt[Kt++]=Rr,dn=e.id,pn=e.overflow,Rr=n}var Qe=null,Ae=null,ee=!1,_r=null,Xt=!1,mh=Error(I(519));function Dr(n){var e=Error(I(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ji(qt(e,n)),mh}function hy(n){var e=n.stateNode,t=n.type,r=n.memoizedProps;switch(e[Ye]=n,e[vt]=r,t){case"dialog":W("cancel",e),W("close",e);break;case"iframe":case"object":case"embed":W("load",e);break;case"video":case"audio":for(t=0;t<Qi.length;t++)W(Qi[t],e);break;case"source":W("error",e);break;case"img":case"image":case"link":W("error",e),W("load",e);break;case"details":W("toggle",e);break;case"input":W("invalid",e),I0(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":W("invalid",e);break;case"textarea":W("invalid",e),O0(e,r.value,r.defaultValue,r.children)}t=r.children,typeof t!="string"&&typeof t!="number"&&typeof t!="bigint"||e.textContent===""+t||r.suppressHydrationWarning===!0||Fx(e.textContent,t)?(r.popover!=null&&(W("beforetoggle",e),W("toggle",e)),r.onScroll!=null&&W("scroll",e),r.onScrollEnd!=null&&W("scrollend",e),r.onClick!=null&&(e.onclick=Nn),e=!0):e=!1,e||Dr(n,!0)}function my(n){for(Qe=n.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:Qe=Qe.return}}function Ns(n){if(n!==Qe)return!1;if(!ee)return my(n),ee=!0,!1;var e=n.tag,t;if((t=e!==3&&e!==27)&&((t=e===5)&&(t=n.type,t=!(t!=="form"&&t!=="button")||Uh(n.type,n.memoizedProps)),t=!t),t&&Ae&&Dr(n),my(n),e===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(I(317));Ae=t0(n)}else if(e===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(I(317));Ae=t0(n)}else e===27?(e=Ae,Lr(n.type)?(n=Hh,Hh=null,Ae=n):Ae=e):Ae=Qe?Qt(n.stateNode.nextSibling):null;return!0}function cs(){Ae=Qe=null,ee=!1}function Vf(){var n=_r;return n!==null&&(At===null?At=n:At.push.apply(At,n),_r=null),n}function Ji(n){_r===null?_r=[n]:_r.push(n)}var dh=xn(null),ys=null,zn=null;function mr(n,e,t){pe(dh,e._currentValue),e._currentValue=t}function Pn(n){n._currentValue=dh.current,Ke(dh)}function ph(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function gh(n,e,t,r){var s=n.child;for(s!==null&&(s.return=n);s!==null;){var o=s.dependencies;if(o!==null){var i=s.child;o=o.firstContext;e:for(;o!==null;){var a=o;o=s;for(var c=0;c<e.length;c++)if(a.context===e[c]){o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),ph(o.return,t,n),r||(i=null);break e}o=a.next}}else if(s.tag===18){if(i=s.return,i===null)throw Error(I(341));i.lanes|=t,o=i.alternate,o!==null&&(o.lanes|=t),ph(i,t,n),i=null}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===n){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}}function _o(n,e,t,r){n=null;for(var s=e,o=!1;s!==null;){if(!o){if((s.flags&524288)!==0)o=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var i=s.alternate;if(i===null)throw Error(I(387));if(i=i.memoizedProps,i!==null){var a=s.type;kt(s.pendingProps.value,i.value)||(n!==null?n.push(a):n=[a])}}else if(s===Cc.current){if(i=s.alternate,i===null)throw Error(I(387));i.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(n!==null?n.push($i):n=[$i])}s=s.return}n!==null&&gh(e,n,t,r),e.flags|=262144}function Gc(n){for(n=n.firstContext;n!==null;){if(!kt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function us(n){ys=n,zn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function We(n){return s1(ys,n)}function sc(n,e){return ys===null&&us(n),s1(n,e)}function s1(n,e){var t=e._currentValue;if(e={context:e,memoizedValue:t,next:null},zn===null){if(n===null)throw Error(I(308));zn=e,n.dependencies={lanes:0,firstContext:e},n.flags|=524288}else zn=zn.next=e;return t}var S_=typeof AbortController<"u"?AbortController:function(){var n=[],e=this.signal={aborted:!1,addEventListener:function(t,r){n.push(r)}};this.abort=function(){e.aborted=!0,n.forEach(function(t){return t()})}},M_=ze.unstable_scheduleCallback,C_=ze.unstable_NormalPriority,Oe={$$typeof:Fn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cm(){return{controller:new S_,data:new Map,refCount:0}}function aa(n){n.refCount--,n.refCount===0&&M_(C_,function(){n.controller.abort()})}var Ri=null,yh=0,ho=0,oo=null;function V_(n,e){if(Ri===null){var t=Ri=[];yh=0,ho=Im(),oo={status:"pending",value:void 0,then:function(r){t.push(r)}}}return yh++,e.then(dy,dy),e}function dy(){if(--yh===0&&Ri!==null){oo!==null&&(oo.status="fulfilled");var n=Ri;Ri=null,ho=0,oo=null;for(var e=0;e<n.length;e++)(0,n[e])()}}function R_(n,e){var t=[],r={status:"pending",value:null,reason:null,then:function(s){t.push(s)}};return n.then(function(){r.status="fulfilled",r.value=e;for(var s=0;s<t.length;s++)(0,t[s])(e)},function(s){for(r.status="rejected",r.reason=s,s=0;s<t.length;s++)(0,t[s])(void 0)}),r}var py=P.S;P.S=function(n,e){xx=Vt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&V_(n,e),py!==null&&py(n,e)};var os=xn(null);function um(){var n=os.current;return n!==null?n:me.pooledCache}function Ac(n,e){e===null?pe(os,os.current):pe(os,e.pool)}function o1(){var n=um();return n===null?null:{parent:Oe._currentValue,pool:n}}var To=Error(I(460)),lm=Error(I(474)),lu=Error(I(542)),Uc={then:function(){}};function gy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function i1(n,e,t){switch(t=n[t],t===void 0?n.push(e):t!==e&&(e.then(Nn,Nn),e=t),e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,xy(n),n;default:if(typeof e.status=="string")e.then(Nn,Nn);else{if(n=me,n!==null&&100<n.shellSuspendCounter)throw Error(I(482));n=e,n.status="pending",n.then(function(r){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=r}},function(r){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,xy(n),n}throw is=e,To}}function ts(n){try{var e=n._init;return e(n._payload)}catch(t){throw t!==null&&typeof t=="object"&&typeof t.then=="function"?(is=t,To):t}}var is=null;function yy(){if(is===null)throw Error(I(459));var n=is;return is=null,n}function xy(n){if(n===To||n===lu)throw Error(I(483))}var io=null,qi=0;function oc(n){var e=qi;return qi+=1,io===null&&(io=[]),i1(io,n,e)}function xi(n,e){e=e.props.ref,n.ref=e!==void 0?e:null}function ic(n,e){throw e.$$typeof===yw?Error(I(525)):(n=Object.prototype.toString.call(e),Error(I(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)))}function a1(n){function e(m,g){if(n){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function t(m,g){if(!n)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m){for(var g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(m,g){return m=Hn(m,g),m.index=0,m.sibling=null,m}function o(m,g,y){return m.index=y,n?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=67108866,g):y):(m.flags|=67108866,g)):(m.flags|=1048576,g)}function i(m){return n&&m.alternate===null&&(m.flags|=67108866),m}function a(m,g,y,v){return g===null||g.tag!==6?(g=Mf(y,m.mode,v),g.return=m,g):(g=s(g,y),g.return=m,g)}function c(m,g,y,v){var V=y.type;return V===js?l(m,g,y.props.children,v,y.key):g!==null&&(g.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===fr&&ts(V)===g.type)?(g=s(g,y.props),xi(g,y),g.return=m,g):(g=xc(y.type,y.key,y.props,null,m.mode,v),xi(g,y),g.return=m,g)}function u(m,g,y,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Cf(y,m.mode,v),g.return=m,g):(g=s(g,y.children||[]),g.return=m,g)}function l(m,g,y,v,V){return g===null||g.tag!==7?(g=ss(y,m.mode,v,V),g.return=m,g):(g=s(g,y),g.return=m,g)}function f(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Mf(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Qa:return y=xc(g.type,g.key,g.props,null,m.mode,y),xi(y,g),y.return=m,y;case _i:return g=Cf(g,m.mode,y),g.return=m,g;case fr:return g=ts(g),f(m,g,y)}if(Ti(g)||gi(g))return g=ss(g,m.mode,y,null),g.return=m,g;if(typeof g.then=="function")return f(m,oc(g),y);if(g.$$typeof===Fn)return f(m,sc(m,g),y);ic(m,g)}return null}function h(m,g,y,v){var V=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return V!==null?null:a(m,g,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Qa:return y.key===V?c(m,g,y,v):null;case _i:return y.key===V?u(m,g,y,v):null;case fr:return y=ts(y),h(m,g,y,v)}if(Ti(y)||gi(y))return V!==null?null:l(m,g,y,v,null);if(typeof y.then=="function")return h(m,g,oc(y),v);if(y.$$typeof===Fn)return h(m,g,sc(m,y),v);ic(m,y)}return null}function d(m,g,y,v,V){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return m=m.get(y)||null,a(g,m,""+v,V);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Qa:return m=m.get(v.key===null?y:v.key)||null,c(g,m,v,V);case _i:return m=m.get(v.key===null?y:v.key)||null,u(g,m,v,V);case fr:return v=ts(v),d(m,g,y,v,V)}if(Ti(v)||gi(v))return m=m.get(y)||null,l(g,m,v,V,null);if(typeof v.then=="function")return d(m,g,y,oc(v),V);if(v.$$typeof===Fn)return d(m,g,y,sc(g,v),V);ic(g,v)}return null}function p(m,g,y,v){for(var V=null,L=null,C=g,D=g=0,G=null;C!==null&&D<y.length;D++){C.index>D?(G=C,C=null):G=C.sibling;var w=h(m,C,y[D],v);if(w===null){C===null&&(C=G);break}n&&C&&w.alternate===null&&e(m,C),g=o(w,g,D),L===null?V=w:L.sibling=w,L=w,C=G}if(D===y.length)return t(m,C),ee&&Gn(m,D),V;if(C===null){for(;D<y.length;D++)C=f(m,y[D],v),C!==null&&(g=o(C,g,D),L===null?V=C:L.sibling=C,L=C);return ee&&Gn(m,D),V}for(C=r(C);D<y.length;D++)G=d(C,m,D,y[D],v),G!==null&&(n&&G.alternate!==null&&C.delete(G.key===null?D:G.key),g=o(G,g,D),L===null?V=G:L.sibling=G,L=G);return n&&C.forEach(function(R){return e(m,R)}),ee&&Gn(m,D),V}function A(m,g,y,v){if(y==null)throw Error(I(151));for(var V=null,L=null,C=g,D=g=0,G=null,w=y.next();C!==null&&!w.done;D++,w=y.next()){C.index>D?(G=C,C=null):G=C.sibling;var R=h(m,C,w.value,v);if(R===null){C===null&&(C=G);break}n&&C&&R.alternate===null&&e(m,C),g=o(R,g,D),L===null?V=R:L.sibling=R,L=R,C=G}if(w.done)return t(m,C),ee&&Gn(m,D),V;if(C===null){for(;!w.done;D++,w=y.next())w=f(m,w.value,v),w!==null&&(g=o(w,g,D),L===null?V=w:L.sibling=w,L=w);return ee&&Gn(m,D),V}for(C=r(C);!w.done;D++,w=y.next())w=d(C,m,D,w.value,v),w!==null&&(n&&w.alternate!==null&&C.delete(w.key===null?D:w.key),g=o(w,g,D),L===null?V=w:L.sibling=w,L=w);return n&&C.forEach(function(U){return e(m,U)}),ee&&Gn(m,D),V}function _(m,g,y,v){if(typeof y=="object"&&y!==null&&y.type===js&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Qa:e:{for(var V=y.key;g!==null;){if(g.key===V){if(V=y.type,V===js){if(g.tag===7){t(m,g.sibling),v=s(g,y.props.children),v.return=m,m=v;break e}}else if(g.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===fr&&ts(V)===g.type){t(m,g.sibling),v=s(g,y.props),xi(v,y),v.return=m,m=v;break e}t(m,g);break}else e(m,g);g=g.sibling}y.type===js?(v=ss(y.props.children,m.mode,v,y.key),v.return=m,m=v):(v=xc(y.type,y.key,y.props,null,m.mode,v),xi(v,y),v.return=m,m=v)}return i(m);case _i:e:{for(V=y.key;g!==null;){if(g.key===V)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){t(m,g.sibling),v=s(g,y.children||[]),v.return=m,m=v;break e}else{t(m,g);break}else e(m,g);g=g.sibling}v=Cf(y,m.mode,v),v.return=m,m=v}return i(m);case fr:return y=ts(y),_(m,g,y,v)}if(Ti(y))return p(m,g,y,v);if(gi(y)){if(V=gi(y),typeof V!="function")throw Error(I(150));return y=V.call(y),A(m,g,y,v)}if(typeof y.then=="function")return _(m,g,oc(y),v);if(y.$$typeof===Fn)return _(m,g,sc(m,y),v);ic(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(t(m,g.sibling),v=s(g,y),v.return=m,m=v):(t(m,g),v=Mf(y,m.mode,v),v.return=m,m=v),i(m)):t(m,g)}return function(m,g,y,v){try{qi=0;var V=_(m,g,y,v);return io=null,V}catch(C){if(C===To||C===lu)throw C;var L=Mt(29,C,null,m.mode);return L.lanes=v,L.return=m,L}finally{}}}var ls=a1(!0),c1=a1(!1),hr=!1;function fm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xh(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Tr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Br(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(re&2)!==0){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,e=Oc(n),Z0(n,null,t),e}return uu(n,r,e,t),Oc(n)}function Di(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194048)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,E0(n,t)}}function Rf(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var i={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};o===null?s=o=i:o=o.next=i,t=t.next}while(t!==null);o===null?s=o=e:o=o.next=e}else s=o=e;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}var Ah=!1;function Ii(){if(Ah){var n=oo;if(n!==null)throw n}}function ki(n,e,t,r){Ah=!1;var s=n.updateQueue;hr=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var l=n.alternate;l!==null&&(l=l.updateQueue,a=l.lastBaseUpdate,a!==i&&(a===null?l.firstBaseUpdate=u:a.next=u,l.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,l=u=c=null,a=o;do{var h=a.lane&-536870913,d=h!==a.lane;if(d?(Z&h)===h:(r&h)===h){h!==0&&h===ho&&(Ah=!0),l!==null&&(l=l.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var p=n,A=a;h=e;var _=t;switch(A.tag){case 1:if(p=A.payload,typeof p=="function"){f=p.call(_,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=A.payload,h=typeof p=="function"?p.call(_,f,h):p,h==null)break e;f=be({},f,h);break e;case 2:hr=!0}}h=a.callback,h!==null&&(n.flags|=64,d&&(n.flags|=8192),d=s.callbacks,d===null?s.callbacks=[h]:d.push(h))}else d={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},l===null?(u=l=d,c=f):l=l.next=d,i|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);l===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=l,o===null&&(s.shared.lanes=0),kr|=i,n.lanes=i,n.memoizedState=f}}function u1(n,e){if(typeof n!="function")throw Error(I(191,n));n.call(e)}function l1(n,e){var t=n.callbacks;if(t!==null)for(n.callbacks=null,n=0;n<t.length;n++)u1(t[n],e)}var mo=xn(null),Fc=xn(0);function Ay(n,e){n=Yn,pe(Fc,n),pe(mo,e),Yn=n|e.baseLanes}function bh(){pe(Fc,Yn),pe(mo,mo.current)}function hm(){Yn=Fc.current,Ke(mo),Ke(Fc)}var Ot=xn(null),Yt=null;function dr(n){var e=n.alternate;pe(Ce,Ce.current&1),pe(Ot,n),Yt===null&&(e===null||mo.current!==null||e.memoizedState!==null)&&(Yt=n)}function vh(n){pe(Ce,Ce.current),pe(Ot,n),Yt===null&&(Yt=n)}function f1(n){n.tag===22?(pe(Ce,Ce.current),pe(Ot,n),Yt===null&&(Yt=n)):pr(n)}function pr(){pe(Ce,Ce.current),pe(Ot,Ot.current)}function St(n){Ke(Ot),Yt===n&&(Yt=null),Ke(Ce)}var Ce=xn(0);function Nc(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||Nh(t)||zh(t)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jn=0,q=null,he=null,Ie=null,zc=!1,ao=!1,fs=!1,Hc=0,Xi=0,co=null,D_=0;function Ee(){throw Error(I(321))}function mm(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!kt(n[t],e[t]))return!1;return!0}function dm(n,e,t,r,s,o){return Jn=o,q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,P.H=n===null||n.memoizedState===null?H1:Bm,fs=!1,o=t(r,s),fs=!1,ao&&(o=m1(e,t,r,s)),h1(n),o}function h1(n){P.H=Yi;var e=he!==null&&he.next!==null;if(Jn=0,Ie=he=q=null,zc=!1,Xi=0,co=null,e)throw Error(I(300));n===null||Le||(n=n.dependencies,n!==null&&Gc(n)&&(Le=!0))}function m1(n,e,t,r){q=n;var s=0;do{if(ao&&(co=null),Xi=0,ao=!1,25<=s)throw Error(I(301));if(s+=1,Ie=he=null,n.updateQueue!=null){var o=n.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}P.H=P1,o=e(t,r)}while(ao);return o}function I_(){var n=P.H,e=n.useState()[0];return e=typeof e.then=="function"?ca(e):e,n=n.useState()[0],(he!==null?he.memoizedState:null)!==n&&(q.flags|=1024),e}function pm(){var n=Hc!==0;return Hc=0,n}function gm(n,e,t){e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~t}function ym(n){if(zc){for(n=n.memoizedState;n!==null;){var e=n.queue;e!==null&&(e.pending=null),n=n.next}zc=!1}Jn=0,Ie=he=q=null,ao=!1,Xi=Hc=0,co=null}function lt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?q.memoizedState=Ie=n:Ie=Ie.next=n,Ie}function Ve(){if(he===null){var n=q.alternate;n=n!==null?n.memoizedState:null}else n=he.next;var e=Ie===null?q.memoizedState:Ie.next;if(e!==null)Ie=e,he=n;else{if(n===null)throw q.alternate===null?Error(I(467)):Error(I(310));he=n,n={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Ie===null?q.memoizedState=Ie=n:Ie=Ie.next=n}return Ie}function fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ca(n){var e=Xi;return Xi+=1,co===null&&(co=[]),n=i1(co,n,e),e=q,(Ie===null?e.memoizedState:Ie.next)===null&&(e=e.alternate,P.H=e===null||e.memoizedState===null?H1:Bm),n}function hu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ca(n);if(n.$$typeof===Fn)return We(n)}throw Error(I(438,String(n)))}function xm(n){var e=null,t=q.updateQueue;if(t!==null&&(e=t.memoCache),e==null){var r=q.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),t===null&&(t=fu(),q.updateQueue=t),t.memoCache=e,t=e.data[e.index],t===void 0)for(t=e.data[e.index]=Array(n),r=0;r<n;r++)t[r]=xw;return e.index++,t}function qn(n,e){return typeof e=="function"?e(n):e}function bc(n){var e=Ve();return Am(e,he,n)}function Am(n,e,t){var r=n.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=t;var s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}e.baseQueue=s=o,r.pending=null}if(o=n.baseState,s===null)n.memoizedState=o;else{e=s.next;var a=i=null,c=null,u=e,l=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Z&f)===f:(Jn&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ho&&(l=!0);else if((Jn&h)===h){u=u.next,h===ho&&(l=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(a=c=f,i=o):c=c.next=f,q.lanes|=h,kr|=h;f=u.action,fs&&t(o,f),o=u.hasEagerState?u.eagerState:t(o,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(a=c=h,i=o):c=c.next=h,q.lanes|=f,kr|=f;u=u.next}while(u!==null&&u!==e);if(c===null?i=o:c.next=a,!kt(o,n.memoizedState)&&(Le=!0,l&&(t=oo,t!==null)))throw t;n.memoizedState=o,n.baseState=i,n.baseQueue=c,r.lastRenderedState=o}return s===null&&(r.lanes=0),[n.memoizedState,r.dispatch]}function Df(n){var e=Ve(),t=e.queue;if(t===null)throw Error(I(311));t.lastRenderedReducer=n;var r=t.dispatch,s=t.pending,o=e.memoizedState;if(s!==null){t.pending=null;var i=s=s.next;do o=n(o,i.action),i=i.next;while(i!==s);kt(o,e.memoizedState)||(Le=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function d1(n,e,t){var r=q,s=Ve(),o=ee;if(o){if(t===void 0)throw Error(I(407));t=t()}else t=e();var i=!kt((he||s).memoizedState,t);if(i&&(s.memoizedState=t,Le=!0),s=s.queue,bm(y1.bind(null,r,s,n),[n]),s.getSnapshot!==e||i||Ie!==null&&Ie.memoizedState.tag&1){if(r.flags|=2048,po(9,{destroy:void 0},g1.bind(null,r,s,t,e),null),me===null)throw Error(I(349));o||(Jn&127)!==0||p1(r,e,t)}return t}function p1(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=q.updateQueue,e===null?(e=fu(),q.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function g1(n,e,t,r){e.value=t,e.getSnapshot=r,x1(e)&&A1(n)}function y1(n,e,t){return t(function(){x1(e)&&A1(n)})}function x1(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!kt(n,t)}catch{return!0}}function A1(n){var e=gs(n,2);e!==null&&bt(e,n,2)}function wh(n){var e=lt();if(typeof n=="function"){var t=n;if(n=t(),fs){yr(!0);try{t()}finally{yr(!1)}}}return e.memoizedState=e.baseState=n,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:n},e}function b1(n,e,t,r){return n.baseState=t,Am(n,he,typeof r=="function"?r:qn)}function k_(n,e,t,r,s){if(du(n))throw Error(I(485));if(n=e.action,n!==null){var o={payload:s,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){o.listeners.push(i)}};P.T!==null?t(!0):o.isTransition=!1,r(o),t=e.pending,t===null?(o.next=e.pending=o,v1(e,o)):(o.next=t.next,e.pending=t.next=o)}}function v1(n,e){var t=e.action,r=e.payload,s=n.state;if(e.isTransition){var o=P.T,i={};P.T=i;try{var a=t(s,r),c=P.S;c!==null&&c(i,a),by(n,e,a)}catch(u){_h(n,e,u)}finally{o!==null&&i.types!==null&&(o.types=i.types),P.T=o}}else try{o=t(s,r),by(n,e,o)}catch(u){_h(n,e,u)}}function by(n,e,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(r){vy(n,e,r)},function(r){return _h(n,e,r)}):vy(n,e,t)}function vy(n,e,t){e.status="fulfilled",e.value=t,w1(e),n.state=t,e=n.pending,e!==null&&(t=e.next,t===e?n.pending=null:(t=t.next,e.next=t,v1(n,t)))}function _h(n,e,t){var r=n.pending;if(n.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=t,w1(e),e=e.next;while(e!==r)}n.action=null}function w1(n){n=n.listeners;for(var e=0;e<n.length;e++)(0,n[e])()}function _1(n,e){return e}function wy(n,e){if(ee){var t=me.formState;if(t!==null){e:{var r=q;if(ee){if(Ae){t:{for(var s=Ae,o=Xt;s.nodeType!==8;){if(!o){s=null;break t}if(s=Qt(s.nextSibling),s===null){s=null;break t}}o=s.data,s=o==="F!"||o==="F"?s:null}if(s){Ae=Qt(s.nextSibling),r=s.data==="F!";break e}}Dr(r)}r=!1}r&&(e=t[0])}}return t=lt(),t.memoizedState=t.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_1,lastRenderedState:e},t.queue=r,t=F1.bind(null,q,r),r.dispatch=t,r=wh(!1),o=Tm.bind(null,q,!1,r.queue),r=lt(),s={state:e,dispatch:null,action:n,pending:null},r.queue=s,t=k_.bind(null,q,s,o,t),s.dispatch=t,r.memoizedState=n,[e,t,!1]}function _y(n){var e=Ve();return T1(e,he,n)}function T1(n,e,t){if(e=Am(n,e,_1)[0],n=bc(qn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=ca(e)}catch(i){throw i===To?lu:i}else r=e;e=Ve();var s=e.queue,o=s.dispatch;return t!==e.memoizedState&&(q.flags|=2048,po(9,{destroy:void 0},O_.bind(null,s,t),null)),[r,o,n]}function O_(n,e){n.action=e}function Ty(n){var e=Ve(),t=he;if(t!==null)return T1(e,t,n);Ve(),e=e.memoizedState,t=Ve();var r=t.queue.dispatch;return t.memoizedState=n,[e,r,!1]}function po(n,e,t,r){return n={tag:n,create:t,deps:r,inst:e,next:null},e=q.updateQueue,e===null&&(e=fu(),q.updateQueue=e),t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n),n}function B1(){return Ve().memoizedState}function vc(n,e,t,r){var s=lt();q.flags|=n,s.memoizedState=po(1|e,{destroy:void 0},t,r===void 0?null:r)}function mu(n,e,t,r){var s=Ve();r=r===void 0?null:r;var o=s.memoizedState.inst;he!==null&&r!==null&&mm(r,he.memoizedState.deps)?s.memoizedState=po(e,o,t,r):(q.flags|=n,s.memoizedState=po(1|e,o,t,r))}function By(n,e){vc(8390656,8,n,e)}function bm(n,e){mu(2048,8,n,e)}function L_(n){q.flags|=4;var e=q.updateQueue;if(e===null)e=fu(),q.updateQueue=e,e.events=[n];else{var t=e.events;t===null?e.events=[n]:t.push(n)}}function E1(n){var e=Ve().memoizedState;return L_({ref:e,nextImpl:n}),function(){if((re&2)!==0)throw Error(I(440));return e.impl.apply(void 0,arguments)}}function S1(n,e){return mu(4,2,n,e)}function M1(n,e){return mu(4,4,n,e)}function C1(n,e){if(typeof e=="function"){n=n();var t=e(n);return function(){typeof t=="function"?t():e(null)}}if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function V1(n,e,t){t=t!=null?t.concat([n]):null,mu(4,4,C1.bind(null,e,n),t)}function vm(){}function R1(n,e){var t=Ve();e=e===void 0?null:e;var r=t.memoizedState;return e!==null&&mm(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function D1(n,e){var t=Ve();e=e===void 0?null:e;var r=t.memoizedState;if(e!==null&&mm(e,r[1]))return r[0];if(r=n(),fs){yr(!0);try{n()}finally{yr(!1)}}return t.memoizedState=[r,e],r}function wm(n,e,t){return t===void 0||(Jn&1073741824)!==0&&(Z&261930)===0?n.memoizedState=e:(n.memoizedState=t,n=bx(),q.lanes|=n,kr|=n,t)}function I1(n,e,t,r){return kt(t,e)?t:mo.current!==null?(n=wm(n,t,r),kt(n,e)||(Le=!0),n):(Jn&42)===0||(Jn&1073741824)!==0&&(Z&261930)===0?(Le=!0,n.memoizedState=t):(n=bx(),q.lanes|=n,kr|=n,e)}function k1(n,e,t,r,s){var o=se.p;se.p=o!==0&&8>o?o:8;var i=P.T,a={};P.T=a,Tm(n,!1,e,t);try{var c=s(),u=P.S;if(u!==null&&u(a,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=R_(c,r);Oi(n,e,l,It(n))}else Oi(n,e,r,It(n))}catch(f){Oi(n,e,{then:function(){},status:"rejected",reason:f},It())}finally{se.p=o,i!==null&&a.types!==null&&(i.types=a.types),P.T=i}}function G_(){}function Th(n,e,t,r){if(n.tag!==5)throw Error(I(476));var s=O1(n).queue;k1(n,s,e,rs,t===null?G_:function(){return L1(n),t(r)})}function O1(n){var e=n.memoizedState;if(e!==null)return e;e={memoizedState:rs,baseState:rs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:rs},next:null};var t={};return e.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:t},next:null},n.memoizedState=e,n=n.alternate,n!==null&&(n.memoizedState=e),e}function L1(n){var e=O1(n);e.next===null&&(e=n.alternate.memoizedState),Oi(n,e.next.queue,{},It())}function _m(){return We($i)}function G1(){return Ve().memoizedState}function U1(){return Ve().memoizedState}function U_(n){for(var e=n.return;e!==null;){switch(e.tag){case 24:case 3:var t=It();n=Tr(t);var r=Br(e,n,t);r!==null&&(bt(r,e,t),Di(r,e,t)),e={cache:cm()},n.payload=e;return}e=e.return}}function F_(n,e,t){var r=It();t={lane:r,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null},du(n)?N1(e,t):(t=sm(n,e,t,r),t!==null&&(bt(t,n,r),z1(t,e,r)))}function F1(n,e,t){var r=It();Oi(n,e,t,r)}function Oi(n,e,t,r){var s={lane:r,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null};if(du(n))N1(e,s);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,t);if(s.hasEagerState=!0,s.eagerState=a,kt(a,i))return uu(n,e,s,0),me===null&&cu(),!1}catch{}finally{}if(t=sm(n,e,s,r),t!==null)return bt(t,n,r),z1(t,e,r),!0}return!1}function Tm(n,e,t,r){if(r={lane:2,revertLane:Im(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},du(n)){if(e)throw Error(I(479))}else e=sm(n,t,r,2),e!==null&&bt(e,n,2)}function du(n){var e=n.alternate;return n===q||e!==null&&e===q}function N1(n,e){ao=zc=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function z1(n,e,t){if((t&4194048)!==0){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,E0(n,t)}}var Yi={readContext:We,use:hu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};Yi.useEffectEvent=Ee;var H1={readContext:We,use:hu,useCallback:function(n,e){return lt().memoizedState=[n,e===void 0?null:e],n},useContext:We,useEffect:By,useImperativeHandle:function(n,e,t){t=t!=null?t.concat([n]):null,vc(4194308,4,C1.bind(null,e,n),t)},useLayoutEffect:function(n,e){return vc(4194308,4,n,e)},useInsertionEffect:function(n,e){vc(4,2,n,e)},useMemo:function(n,e){var t=lt();e=e===void 0?null:e;var r=n();if(fs){yr(!0);try{n()}finally{yr(!1)}}return t.memoizedState=[r,e],r},useReducer:function(n,e,t){var r=lt();if(t!==void 0){var s=t(e);if(fs){yr(!0);try{t(e)}finally{yr(!1)}}}else s=e;return r.memoizedState=r.baseState=s,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},r.queue=n,n=n.dispatch=F_.bind(null,q,n),[r.memoizedState,n]},useRef:function(n){var e=lt();return n={current:n},e.memoizedState=n},useState:function(n){n=wh(n);var e=n.queue,t=F1.bind(null,q,e);return e.dispatch=t,[n.memoizedState,t]},useDebugValue:vm,useDeferredValue:function(n,e){var t=lt();return wm(t,n,e)},useTransition:function(){var n=wh(!1);return n=k1.bind(null,q,n.queue,!0,!1),lt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,e,t){var r=q,s=lt();if(ee){if(t===void 0)throw Error(I(407));t=t()}else{if(t=e(),me===null)throw Error(I(349));(Z&127)!==0||p1(r,e,t)}s.memoizedState=t;var o={value:t,getSnapshot:e};return s.queue=o,By(y1.bind(null,r,o,n),[n]),r.flags|=2048,po(9,{destroy:void 0},g1.bind(null,r,o,t,e),null),t},useId:function(){var n=lt(),e=me.identifierPrefix;if(ee){var t=pn,r=dn;t=(r&~(1<<32-Dt(r)-1)).toString(32)+t,e="_"+e+"R_"+t,t=Hc++,0<t&&(e+="H"+t.toString(32)),e+="_"}else t=D_++,e="_"+e+"r_"+t.toString(32)+"_";return n.memoizedState=e},useHostTransitionStatus:_m,useFormState:wy,useActionState:wy,useOptimistic:function(n){var e=lt();e.memoizedState=e.baseState=n;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=t,e=Tm.bind(null,q,!0,t),t.dispatch=e,[n,e]},useMemoCache:xm,useCacheRefresh:function(){return lt().memoizedState=U_.bind(null,q)},useEffectEvent:function(n){var e=lt(),t={impl:n};return e.memoizedState=t,function(){if((re&2)!==0)throw Error(I(440));return t.impl.apply(void 0,arguments)}}},Bm={readContext:We,use:hu,useCallback:R1,useContext:We,useEffect:bm,useImperativeHandle:V1,useInsertionEffect:S1,useLayoutEffect:M1,useMemo:D1,useReducer:bc,useRef:B1,useState:function(){return bc(qn)},useDebugValue:vm,useDeferredValue:function(n,e){var t=Ve();return I1(t,he.memoizedState,n,e)},useTransition:function(){var n=bc(qn)[0],e=Ve().memoizedState;return[typeof n=="boolean"?n:ca(n),e]},useSyncExternalStore:d1,useId:G1,useHostTransitionStatus:_m,useFormState:_y,useActionState:_y,useOptimistic:function(n,e){var t=Ve();return b1(t,he,n,e)},useMemoCache:xm,useCacheRefresh:U1};Bm.useEffectEvent=E1;var P1={readContext:We,use:hu,useCallback:R1,useContext:We,useEffect:bm,useImperativeHandle:V1,useInsertionEffect:S1,useLayoutEffect:M1,useMemo:D1,useReducer:Df,useRef:B1,useState:function(){return Df(qn)},useDebugValue:vm,useDeferredValue:function(n,e){var t=Ve();return he===null?wm(t,n,e):I1(t,he.memoizedState,n,e)},useTransition:function(){var n=Df(qn)[0],e=Ve().memoizedState;return[typeof n=="boolean"?n:ca(n),e]},useSyncExternalStore:d1,useId:G1,useHostTransitionStatus:_m,useFormState:Ty,useActionState:Ty,useOptimistic:function(n,e){var t=Ve();return he!==null?b1(t,he,n,e):(t.baseState=n,[n,t.queue.dispatch])},useMemoCache:xm,useCacheRefresh:U1};P1.useEffectEvent=E1;function If(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:be({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Bh={enqueueSetState:function(n,e,t){n=n._reactInternals;var r=It(),s=Tr(r);s.payload=e,t!=null&&(s.callback=t),e=Br(n,s,r),e!==null&&(bt(e,n,r),Di(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=It(),s=Tr(r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Br(n,s,r),e!==null&&(bt(e,n,r),Di(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=It(),r=Tr(t);r.tag=2,e!=null&&(r.callback=e),e=Br(n,r,t),e!==null&&(bt(e,n,t),Di(e,n,t))}};function Ey(n,e,t,r,s,o,i){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!ji(t,r)||!ji(s,o):!0}function Sy(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Bh.enqueueReplaceState(e,e.state,null)}function hs(n,e){var t=e;if("ref"in e){t={};for(var r in e)r!=="ref"&&(t[r]=e[r])}if(n=n.defaultProps){t===e&&(t=be({},t));for(var s in n)t[s]===void 0&&(t[s]=n[s])}return t}function j1(n){kc(n)}function K1(n){console.error(n)}function J1(n){kc(n)}function Pc(n,e){try{var t=n.onUncaughtError;t(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function My(n,e,t){try{var r=n.onCaughtError;r(t.value,{componentStack:t.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Eh(n,e,t){return t=Tr(t),t.tag=3,t.payload={element:null},t.callback=function(){Pc(n,e)},t}function q1(n){return n=Tr(n),n.tag=3,n}function X1(n,e,t,r){var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var o=r.value;n.payload=function(){return s(o)},n.callback=function(){My(e,t,r)}}var i=t.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){My(e,t,r),typeof s!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var a=r.stack;this.componentDidCatch(r.value,{componentStack:a!==null?a:""})})}function N_(n,e,t,r,s){if(t.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=t.alternate,e!==null&&_o(e,t,s,!0),t=Ot.current,t!==null){switch(t.tag){case 31:case 13:return Yt===null?Xc():t.alternate===null&&Se===0&&(Se=3),t.flags&=-257,t.flags|=65536,t.lanes=s,r===Uc?t.flags|=16384:(e=t.updateQueue,e===null?t.updateQueue=new Set([r]):e.add(r),jf(n,r,s)),!1;case 22:return t.flags|=65536,r===Uc?t.flags|=16384:(e=t.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},t.updateQueue=e):(t=e.retryQueue,t===null?e.retryQueue=new Set([r]):t.add(r)),jf(n,r,s)),!1}throw Error(I(435,t.tag))}return jf(n,r,s),Xc(),!1}if(ee)return e=Ot.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=s,r!==mh&&(n=Error(I(422),{cause:r}),Ji(qt(n,t)))):(r!==mh&&(e=Error(I(423),{cause:r}),Ji(qt(e,t))),n=n.current.alternate,n.flags|=65536,s&=-s,n.lanes|=s,r=qt(r,t),s=Eh(n.stateNode,r,s),Rf(n,s),Se!==4&&(Se=2)),!1;var o=Error(I(520),{cause:r});if(o=qt(o,t),Ui===null?Ui=[o]:Ui.push(o),Se!==4&&(Se=2),e===null)return!0;r=qt(r,t),t=e;do{switch(t.tag){case 3:return t.flags|=65536,n=s&-s,t.lanes|=n,n=Eh(t.stateNode,r,n),Rf(t,n),!1;case 1:if(e=t.type,o=t.stateNode,(t.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Er===null||!Er.has(o))))return t.flags|=65536,s&=-s,t.lanes|=s,s=q1(s),X1(s,n,t,r),Rf(t,s),!1}t=t.return}while(t!==null);return!1}var Em=Error(I(461)),Le=!1;function Xe(n,e,t,r){e.child=n===null?c1(e,null,t,r):ls(e,n.child,t,r)}function Cy(n,e,t,r,s){t=t.render;var o=e.ref;if("ref"in r){var i={};for(var a in r)a!=="ref"&&(i[a]=r[a])}else i=r;return us(e),r=dm(n,e,t,i,o,s),a=pm(),n!==null&&!Le?(gm(n,e,s),Xn(n,e,s)):(ee&&a&&im(e),e.flags|=1,Xe(n,e,r,s),e.child)}function Vy(n,e,t,r,s){if(n===null){var o=t.type;return typeof o=="function"&&!om(o)&&o.defaultProps===void 0&&t.compare===null?(e.tag=15,e.type=o,Y1(n,e,o,r,s)):(n=xc(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!Sm(n,s)){var i=o.memoizedProps;if(t=t.compare,t=t!==null?t:ji,t(i,r)&&n.ref===e.ref)return Xn(n,e,s)}return e.flags|=1,n=Hn(o,r),n.ref=e.ref,n.return=e,e.child=n}function Y1(n,e,t,r,s){if(n!==null){var o=n.memoizedProps;if(ji(o,r)&&n.ref===e.ref)if(Le=!1,e.pendingProps=r=o,Sm(n,s))(n.flags&131072)!==0&&(Le=!0);else return e.lanes=n.lanes,Xn(n,e,s)}return Sh(n,e,t,r,s)}function Q1(n,e,t,r){var s=r.children,o=n!==null?n.memoizedState:null;if(n===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((e.flags&128)!==0){if(o=o!==null?o.baseLanes|t:t,n!==null){for(r=e.child=n.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;r=s&~o}else r=0,e.child=null;return Ry(n,e,o,t,r)}if((t&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ac(e,o!==null?o.cachePool:null),o!==null?Ay(e,o):bh(),f1(e);else return r=e.lanes=536870912,Ry(n,e,o!==null?o.baseLanes|t:t,t,r)}else o!==null?(Ac(e,o.cachePool),Ay(e,o),pr(e),e.memoizedState=null):(n!==null&&Ac(e,null),bh(),pr(e));return Xe(n,e,s,t),e.child}function Ei(n,e){return n!==null&&n.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Ry(n,e,t,r,s){var o=um();return o=o===null?null:{parent:Oe._currentValue,pool:o},e.memoizedState={baseLanes:t,cachePool:o},n!==null&&Ac(e,null),bh(),f1(e),n!==null&&_o(n,e,r,!0),e.childLanes=s,null}function wc(n,e){return e=jc({mode:e.mode,children:e.children},n.mode),e.ref=n.ref,n.child=e,e.return=n,e}function Dy(n,e,t){return ls(e,n.child,null,t),n=wc(e,e.pendingProps),n.flags|=2,St(e),e.memoizedState=null,n}function z_(n,e,t){var r=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,n===null){if(ee){if(r.mode==="hidden")return n=wc(e,r),e.lanes=536870912,Ei(null,n);if(vh(e),(n=Ae)?(n=Hx(n,Xt),n=n!==null&&n.data==="&"?n:null,n!==null&&(e.memoizedState={dehydrated:n,treeContext:Rr!==null?{id:dn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},t=t1(n),t.return=e,e.child=t,Qe=e,Ae=null)):n=null,n===null)throw Dr(e);return e.lanes=536870912,null}return wc(e,r)}var o=n.memoizedState;if(o!==null){var i=o.dehydrated;if(vh(e),s)if(e.flags&256)e.flags&=-257,e=Dy(n,e,t);else if(e.memoizedState!==null)e.child=n.child,e.flags|=128,e=null;else throw Error(I(558));else if(Le||_o(n,e,t,!1),s=(t&n.childLanes)!==0,Le||s){if(r=me,r!==null&&(i=S0(r,t),i!==0&&i!==o.retryLane))throw o.retryLane=i,gs(n,i),bt(r,n,i),Em;Xc(),e=Dy(n,e,t)}else n=o.treeContext,Ae=Qt(i.nextSibling),Qe=e,ee=!0,_r=null,Xt=!1,n!==null&&r1(e,n),e=wc(e,r),e.flags|=4096;return e}return n=Hn(n.child,{mode:r.mode,children:r.children}),n.ref=e.ref,e.child=n,n.return=e,n}function _c(n,e){var t=e.ref;if(t===null)n!==null&&n.ref!==null&&(e.flags|=4194816);else{if(typeof t!="function"&&typeof t!="object")throw Error(I(284));(n===null||n.ref!==t)&&(e.flags|=4194816)}}function Sh(n,e,t,r,s){return us(e),t=dm(n,e,t,r,void 0,s),r=pm(),n!==null&&!Le?(gm(n,e,s),Xn(n,e,s)):(ee&&r&&im(e),e.flags|=1,Xe(n,e,t,s),e.child)}function Iy(n,e,t,r,s,o){return us(e),e.updateQueue=null,t=m1(e,r,t,s),h1(n),r=pm(),n!==null&&!Le?(gm(n,e,o),Xn(n,e,o)):(ee&&r&&im(e),e.flags|=1,Xe(n,e,t,o),e.child)}function ky(n,e,t,r,s){if(us(e),e.stateNode===null){var o=$s,i=t.contextType;typeof i=="object"&&i!==null&&(o=We(i)),o=new t(r,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Bh,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=r,o.state=e.memoizedState,o.refs={},fm(e),i=t.contextType,o.context=typeof i=="object"&&i!==null?We(i):$s,o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(If(e,t,i,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(i=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),i!==o.state&&Bh.enqueueReplaceState(o,o.state,null),ki(e,r,o,s),Ii(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(n===null){o=e.stateNode;var a=e.memoizedProps,c=hs(t,a);o.props=c;var u=o.context,l=t.contextType;i=$s,typeof l=="object"&&l!==null&&(i=We(l));var f=t.getDerivedStateFromProps;l=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function",a=e.pendingProps!==a,l||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a||u!==i)&&Sy(e,o,r,i),hr=!1;var h=e.memoizedState;o.state=h,ki(e,r,o,s),Ii(),u=e.memoizedState,a||h!==u||hr?(typeof f=="function"&&(If(e,t,f,r),u=e.memoizedState),(c=hr||Ey(e,t,c,r,h,u,i))?(l||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=i,r=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xh(n,e),i=e.memoizedProps,l=hs(t,i),o.props=l,f=e.pendingProps,h=o.context,u=t.contextType,c=$s,typeof u=="object"&&u!==null&&(c=We(u)),a=t.getDerivedStateFromProps,(u=typeof a=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==f||h!==c)&&Sy(e,o,r,c),hr=!1,h=e.memoizedState,o.state=h,ki(e,r,o,s),Ii();var d=e.memoizedState;i!==f||h!==d||hr||n!==null&&n.dependencies!==null&&Gc(n.dependencies)?(typeof a=="function"&&(If(e,t,a,r),d=e.memoizedState),(l=hr||Ey(e,t,l,r,h,d,c)||n!==null&&n.dependencies!==null&&Gc(n.dependencies))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,d,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,d,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=d),o.props=r,o.state=d,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||i===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),r=!1)}return o=r,_c(n,e),r=(e.flags&128)!==0,o||r?(o=e.stateNode,t=r&&typeof t.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,n!==null&&r?(e.child=ls(e,n.child,null,s),e.child=ls(e,null,t,s)):Xe(n,e,t,s),e.memoizedState=o.state,n=e.child):n=Xn(n,e,s),n}function Oy(n,e,t,r){return cs(),e.flags|=256,Xe(n,e,t,r),e.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(n){return{baseLanes:n,cachePool:o1()}}function Lf(n,e,t){return n=n!==null?n.childLanes&~t:0,e&&(n|=Ct),n}function W1(n,e,t){var r=e.pendingProps,s=!1,o=(e.flags&128)!==0,i;if((i=o)||(i=n!==null&&n.memoizedState===null?!1:(Ce.current&2)!==0),i&&(s=!0,e.flags&=-129),i=(e.flags&32)!==0,e.flags&=-33,n===null){if(ee){if(s?dr(e):pr(e),(n=Ae)?(n=Hx(n,Xt),n=n!==null&&n.data!=="&"?n:null,n!==null&&(e.memoizedState={dehydrated:n,treeContext:Rr!==null?{id:dn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},t=t1(n),t.return=e,e.child=t,Qe=e,Ae=null)):n=null,n===null)throw Dr(e);return zh(n)?e.lanes=32:e.lanes=536870912,null}var a=r.children;return r=r.fallback,s?(pr(e),s=e.mode,a=jc({mode:"hidden",children:a},s),r=ss(r,s,t,null),a.return=e,r.return=e,a.sibling=r,e.child=a,r=e.child,r.memoizedState=Of(t),r.childLanes=Lf(n,i,t),e.memoizedState=kf,Ei(null,r)):(dr(e),Mh(e,a))}var c=n.memoizedState;if(c!==null&&(a=c.dehydrated,a!==null)){if(o)e.flags&256?(dr(e),e.flags&=-257,e=Gf(n,e,t)):e.memoizedState!==null?(pr(e),e.child=n.child,e.flags|=128,e=null):(pr(e),a=r.fallback,s=e.mode,r=jc({mode:"visible",children:r.children},s),a=ss(a,s,t,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,ls(e,n.child,null,t),r=e.child,r.memoizedState=Of(t),r.childLanes=Lf(n,i,t),e.memoizedState=kf,e=Ei(null,r));else if(dr(e),zh(a)){if(i=a.nextSibling&&a.nextSibling.dataset,i)var u=i.dgst;i=u,r=Error(I(419)),r.stack="",r.digest=i,Ji({value:r,source:null,stack:null}),e=Gf(n,e,t)}else if(Le||_o(n,e,t,!1),i=(t&n.childLanes)!==0,Le||i){if(i=me,i!==null&&(r=S0(i,t),r!==0&&r!==c.retryLane))throw c.retryLane=r,gs(n,r),bt(i,n,r),Em;Nh(a)||Xc(),e=Gf(n,e,t)}else Nh(a)?(e.flags|=192,e.child=n.child,e=null):(n=c.treeContext,Ae=Qt(a.nextSibling),Qe=e,ee=!0,_r=null,Xt=!1,n!==null&&r1(e,n),e=Mh(e,r.children),e.flags|=4096);return e}return s?(pr(e),a=r.fallback,s=e.mode,c=n.child,u=c.sibling,r=Hn(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?a=Hn(u,a):(a=ss(a,s,t,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,Ei(null,r),r=e.child,a=n.child.memoizedState,a===null?a=Of(t):(s=a.cachePool,s!==null?(c=Oe._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=o1(),a={baseLanes:a.baseLanes|t,cachePool:s}),r.memoizedState=a,r.childLanes=Lf(n,i,t),e.memoizedState=kf,Ei(n.child,r)):(dr(e),t=n.child,n=t.sibling,t=Hn(t,{mode:"visible",children:r.children}),t.return=e,t.sibling=null,n!==null&&(i=e.deletions,i===null?(e.deletions=[n],e.flags|=16):i.push(n)),e.child=t,e.memoizedState=null,t)}function Mh(n,e){return e=jc({mode:"visible",children:e},n.mode),e.return=n,n.child=e}function jc(n,e){return n=Mt(22,n,null,e),n.lanes=0,n}function Gf(n,e,t){return ls(e,n.child,null,t),n=Mh(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Ly(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),ph(n.return,e,t)}function Uf(n,e,t,r,s,o){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s,treeForkCount:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=s,i.treeForkCount=o)}function $1(n,e,t){var r=e.pendingProps,s=r.revealOrder,o=r.tail;r=r.children;var i=Ce.current,a=(i&2)!==0;if(a?(i=i&1|2,e.flags|=128):i&=1,pe(Ce,i),Xe(n,e,r,t),r=ee?Ki:0,!a&&n!==null&&(n.flags&128)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ly(n,t,e);else if(n.tag===19)Ly(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&Nc(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),Uf(e,!1,s,t,o,r);break;case"backwards":case"unstable_legacy-backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&Nc(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}Uf(e,!0,t,null,o,r);break;case"together":Uf(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Xn(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),kr|=e.lanes,(t&e.childLanes)===0)if(n!==null){if(_o(n,e,t,!1),(t&e.childLanes)===0)return null}else return null;if(n!==null&&e.child!==n.child)throw Error(I(153));if(e.child!==null){for(n=e.child,t=Hn(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Hn(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Sm(n,e){return(n.lanes&e)!==0?!0:(n=n.dependencies,!!(n!==null&&Gc(n)))}function H_(n,e,t){switch(e.tag){case 3:Vc(e,e.stateNode.containerInfo),mr(e,Oe,n.memoizedState.cache),cs();break;case 27:case 5:nh(e);break;case 4:Vc(e,e.stateNode.containerInfo);break;case 10:mr(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,vh(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(dr(e),e.flags|=128,null):(t&e.child.childLanes)!==0?W1(n,e,t):(dr(e),n=Xn(n,e,t),n!==null?n.sibling:null);dr(e);break;case 19:var s=(n.flags&128)!==0;if(r=(t&e.childLanes)!==0,r||(_o(n,e,t,!1),r=(t&e.childLanes)!==0),s){if(r)return $1(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pe(Ce,Ce.current),r)break;return null;case 22:return e.lanes=0,Q1(n,e,t,e.pendingProps);case 24:mr(e,Oe,n.memoizedState.cache)}return Xn(n,e,t)}function Z1(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps)Le=!0;else{if(!Sm(n,t)&&(e.flags&128)===0)return Le=!1,H_(n,e,t);Le=(n.flags&131072)!==0}else Le=!1,ee&&(e.flags&1048576)!==0&&n1(e,Ki,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(n=ts(e.elementType),e.type=n,typeof n=="function")om(n)?(r=hs(n,r),e.tag=1,e=ky(null,e,n,r,t)):(e.tag=0,e=Sh(null,e,n,r,t));else{if(n!=null){var s=n.$$typeof;if(s===Kh){e.tag=11,e=Cy(null,e,n,r,t);break e}else if(s===Jh){e.tag=14,e=Vy(null,e,n,r,t);break e}}throw e=eh(n)||n,Error(I(306,e,""))}}return e;case 0:return Sh(n,e,e.type,e.pendingProps,t);case 1:return r=e.type,s=hs(r,e.pendingProps),ky(n,e,r,s,t);case 3:e:{if(Vc(e,e.stateNode.containerInfo),n===null)throw Error(I(387));r=e.pendingProps;var o=e.memoizedState;s=o.element,xh(n,e),ki(e,r,null,t);var i=e.memoizedState;if(r=i.cache,mr(e,Oe,r),r!==o.cache&&gh(e,[Oe],t,!0),Ii(),r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=Oy(n,e,r,t);break e}else if(r!==s){s=qt(Error(I(424)),e),Ji(s),e=Oy(n,e,r,t);break e}else{switch(n=e.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ae=Qt(n.firstChild),Qe=e,ee=!0,_r=null,Xt=!0,t=c1(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling}else{if(cs(),r===s){e=Xn(n,e,t);break e}Xe(n,e,r,t)}e=e.child}return e;case 26:return _c(n,e),n===null?(t=s0(e.type,null,e.pendingProps,null))?e.memoizedState=t:ee||(t=e.type,n=e.pendingProps,r=$c(wr.current).createElement(t),r[Ye]=e,r[vt]=n,$e(r,t,n),je(r),e.stateNode=r):e.memoizedState=s0(e.type,n.memoizedProps,e.pendingProps,n.memoizedState),null;case 27:return nh(e),n===null&&ee&&(r=e.stateNode=Px(e.type,e.pendingProps,wr.current),Qe=e,Xt=!0,s=Ae,Lr(e.type)?(Hh=s,Ae=Qt(r.firstChild)):Ae=s),Xe(n,e,e.pendingProps.children,t),_c(n,e),n===null&&(e.flags|=4194304),e.child;case 5:return n===null&&ee&&((s=r=Ae)&&(r=g3(r,e.type,e.pendingProps,Xt),r!==null?(e.stateNode=r,Qe=e,Ae=Qt(r.firstChild),Xt=!1,s=!0):s=!1),s||Dr(e)),nh(e),s=e.type,o=e.pendingProps,i=n!==null?n.memoizedProps:null,r=o.children,Uh(s,o)?r=null:i!==null&&Uh(s,i)&&(e.flags|=32),e.memoizedState!==null&&(s=dm(n,e,I_,null,null,t),$i._currentValue=s),_c(n,e),Xe(n,e,r,t),e.child;case 6:return n===null&&ee&&((n=t=Ae)&&(t=y3(t,e.pendingProps,Xt),t!==null?(e.stateNode=t,Qe=e,Ae=null,n=!0):n=!1),n||Dr(e)),null;case 13:return W1(n,e,t);case 4:return Vc(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=ls(e,null,r,t):Xe(n,e,r,t),e.child;case 11:return Cy(n,e,e.type,e.pendingProps,t);case 7:return Xe(n,e,e.pendingProps,t),e.child;case 8:return Xe(n,e,e.pendingProps.children,t),e.child;case 12:return Xe(n,e,e.pendingProps.children,t),e.child;case 10:return r=e.pendingProps,mr(e,e.type,r.value),Xe(n,e,r.children,t),e.child;case 9:return s=e.type._context,r=e.pendingProps.children,us(e),s=We(s),r=r(s),e.flags|=1,Xe(n,e,r,t),e.child;case 14:return Vy(n,e,e.type,e.pendingProps,t);case 15:return Y1(n,e,e.type,e.pendingProps,t);case 19:return $1(n,e,t);case 31:return z_(n,e,t);case 22:return Q1(n,e,t,e.pendingProps);case 24:return us(e),r=We(Oe),n===null?(s=um(),s===null&&(s=me,o=cm(),s.pooledCache=o,o.refCount++,o!==null&&(s.pooledCacheLanes|=t),s=o),e.memoizedState={parent:r,cache:s},fm(e),mr(e,Oe,s)):((n.lanes&t)!==0&&(xh(n,e),ki(e,null,null,t),Ii()),s=n.memoizedState,o=e.memoizedState,s.parent!==r?(s={parent:r,cache:r},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),mr(e,Oe,r)):(r=o.cache,mr(e,Oe,r),r!==s.cache&&gh(e,[Oe],t,!0))),Xe(n,e,e.pendingProps.children,t),e.child;case 29:throw e.pendingProps}throw Error(I(156,e.tag))}function In(n){n.flags|=4}function Ff(n,e,t,r,s){if((e=(n.mode&32)!==0)&&(e=!1),e){if(n.flags|=16777216,(s&335544128)===s)if(n.stateNode.complete)n.flags|=8192;else if(_x())n.flags|=8192;else throw is=Uc,lm}else n.flags&=-16777217}function Gy(n,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Jx(e))if(_x())n.flags|=8192;else throw is=Uc,lm}function ac(n,e){e!==null&&(n.flags|=4),n.flags&16384&&(e=n.tag!==22?T0():536870912,n.lanes|=e,go|=e)}function Ai(n,e){if(!ee)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function xe(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&65011712,r|=s.flags&65011712,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function P_(n,e,t){var r=e.pendingProps;switch(am(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(e),null;case 1:return xe(e),null;case 3:return t=e.stateNode,r=null,n!==null&&(r=n.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Pn(Oe),uo(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(n===null||n.child===null)&&(Ns(e)?In(e):n===null||n.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Vf())),xe(e),null;case 26:var s=e.type,o=e.memoizedState;return n===null?(In(e),o!==null?(xe(e),Gy(e,o)):(xe(e),Ff(e,s,null,r,t))):o?o!==n.memoizedState?(In(e),xe(e),Gy(e,o)):(xe(e),e.flags&=-16777217):(n=n.memoizedProps,n!==r&&In(e),xe(e),Ff(e,s,n,r,t)),null;case 27:if(Rc(e),t=wr.current,s=e.type,n!==null&&e.stateNode!=null)n.memoizedProps!==r&&In(e);else{if(!r){if(e.stateNode===null)throw Error(I(166));return xe(e),null}n=yn.current,Ns(e)?hy(e,n):(n=Px(s,r,t),e.stateNode=n,In(e))}return xe(e),null;case 5:if(Rc(e),s=e.type,n!==null&&e.stateNode!=null)n.memoizedProps!==r&&In(e);else{if(!r){if(e.stateNode===null)throw Error(I(166));return xe(e),null}if(o=yn.current,Ns(e))hy(e,o);else{var i=$c(wr.current);switch(o){case 1:o=i.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:o=i.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":o=i.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":o=i.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":o=i.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is=="string"?i.createElement(s,{is:r.is}):i.createElement(s)}}o[Ye]=e,o[vt]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)o.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=o;e:switch($e(o,s,r),s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&In(e)}}return xe(e),Ff(e,e.type,n===null?null:n.memoizedProps,e.pendingProps,t),null;case 6:if(n&&e.stateNode!=null)n.memoizedProps!==r&&In(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=wr.current,Ns(e)){if(n=e.stateNode,t=e.memoizedProps,r=null,s=Qe,s!==null)switch(s.tag){case 27:case 5:r=s.memoizedProps}n[Ye]=e,n=!!(n.nodeValue===t||r!==null&&r.suppressHydrationWarning===!0||Fx(n.nodeValue,t)),n||Dr(e,!0)}else n=$c(n).createTextNode(r),n[Ye]=e,e.stateNode=n}return xe(e),null;case 31:if(t=e.memoizedState,n===null||n.memoizedState!==null){if(r=Ns(e),t!==null){if(n===null){if(!r)throw Error(I(318));if(n=e.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(I(557));n[Ye]=e}else cs(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;xe(e),n=!1}else t=Vf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=t),n=!0;if(!n)return e.flags&256?(St(e),e):(St(e),null);if((e.flags&128)!==0)throw Error(I(558))}return xe(e),null;case 13:if(r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(s=Ns(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(I(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[Ye]=e}else cs(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;xe(e),s=!1}else s=Vf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(St(e),e):(St(e),null)}return St(e),(e.flags&128)!==0?(e.lanes=t,e):(t=r!==null,n=n!==null&&n.memoizedState!==null,t&&(r=e.child,s=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(s=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048)),t!==n&&t&&(e.child.flags|=8192),ac(e,e.updateQueue),xe(e),null);case 4:return uo(),n===null&&km(e.stateNode.containerInfo),xe(e),null;case 10:return Pn(e.type),xe(e),null;case 19:if(Ke(Ce),r=e.memoizedState,r===null)return xe(e),null;if(s=(e.flags&128)!==0,o=r.rendering,o===null)if(s)Ai(r,!1);else{if(Se!==0||n!==null&&(n.flags&128)!==0)for(n=e.child;n!==null;){if(o=Nc(n),o!==null){for(e.flags|=128,Ai(r,!1),n=o.updateQueue,e.updateQueue=n,ac(e,n),e.subtreeFlags=0,n=t,t=e.child;t!==null;)e1(t,n),t=t.sibling;return pe(Ce,Ce.current&1|2),ee&&Gn(e,r.treeForkCount),e.child}n=n.sibling}r.tail!==null&&Vt()>Jc&&(e.flags|=128,s=!0,Ai(r,!1),e.lanes=4194304)}else{if(!s)if(n=Nc(o),n!==null){if(e.flags|=128,s=!0,n=n.updateQueue,e.updateQueue=n,ac(e,n),Ai(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ee)return xe(e),null}else 2*Vt()-r.renderingStartTime>Jc&&t!==536870912&&(e.flags|=128,s=!0,Ai(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.renderingStartTime=Vt(),n.sibling=null,t=Ce.current,pe(Ce,s?t&1|2:t&1),ee&&Gn(e,r.treeForkCount),n):(xe(e),null);case 22:case 23:return St(e),hm(),r=e.memoizedState!==null,n!==null?n.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(t&536870912)!==0&&(e.flags&128)===0&&(xe(e),e.subtreeFlags&6&&(e.flags|=8192)):xe(e),t=e.updateQueue,t!==null&&ac(e,t.retryQueue),t=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==t&&(e.flags|=2048),n!==null&&Ke(os),null;case 24:return t=null,n!==null&&(t=n.memoizedState.cache),e.memoizedState.cache!==t&&(e.flags|=2048),Pn(Oe),xe(e),null;case 25:return null;case 30:return null}throw Error(I(156,e.tag))}function j_(n,e){switch(am(e),e.tag){case 1:return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Pn(Oe),uo(),n=e.flags,(n&65536)!==0&&(n&128)===0?(e.flags=n&-65537|128,e):null;case 26:case 27:case 5:return Rc(e),null;case 31:if(e.memoizedState!==null){if(St(e),e.alternate===null)throw Error(I(340));cs()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 13:if(St(e),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(I(340));cs()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ke(Ce),null;case 4:return uo(),null;case 10:return Pn(e.type),null;case 22:case 23:return St(e),hm(),n!==null&&Ke(os),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 24:return Pn(Oe),null;case 25:return null;default:return null}}function ex(n,e){switch(am(e),e.tag){case 3:Pn(Oe),uo();break;case 26:case 27:case 5:Rc(e);break;case 4:uo();break;case 31:e.memoizedState!==null&&St(e);break;case 13:St(e);break;case 19:Ke(Ce);break;case 10:Pn(e.type);break;case 22:case 23:St(e),hm(),n!==null&&Ke(os);break;case 24:Pn(Oe)}}function ua(n,e){try{var t=e.updateQueue,r=t!==null?t.lastEffect:null;if(r!==null){var s=r.next;t=s;do{if((t.tag&n)===n){r=void 0;var o=t.create,i=t.inst;r=o(),i.destroy=r}t=t.next}while(t!==s)}}catch(a){ce(e,e.return,a)}}function Ir(n,e,t){try{var r=e.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var o=s.next;r=o;do{if((r.tag&n)===n){var i=r.inst,a=i.destroy;if(a!==void 0){i.destroy=void 0,s=e;var c=t,u=a;try{u()}catch(l){ce(s,c,l)}}}r=r.next}while(r!==o)}}catch(l){ce(e,e.return,l)}}function tx(n){var e=n.updateQueue;if(e!==null){var t=n.stateNode;try{l1(e,t)}catch(r){ce(n,n.return,r)}}}function nx(n,e,t){t.props=hs(n.type,n.memoizedProps),t.state=n.memoizedState;try{t.componentWillUnmount()}catch(r){ce(n,e,r)}}function Li(n,e){try{var t=n.ref;if(t!==null){switch(n.tag){case 26:case 27:case 5:var r=n.stateNode;break;case 30:r=n.stateNode;break;default:r=n.stateNode}typeof t=="function"?n.refCleanup=t(r):t.current=r}}catch(s){ce(n,e,s)}}function gn(n,e){var t=n.ref,r=n.refCleanup;if(t!==null)if(typeof r=="function")try{r()}catch(s){ce(n,e,s)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(s){ce(n,e,s)}else t.current=null}function rx(n){var e=n.type,t=n.memoizedProps,r=n.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":t.autoFocus&&r.focus();break e;case"img":t.src?r.src=t.src:t.srcSet&&(r.srcset=t.srcSet)}}catch(s){ce(n,n.return,s)}}function Nf(n,e,t){try{var r=n.stateNode;l3(r,n.type,t,e),r[vt]=e}catch(s){ce(n,n.return,s)}}function sx(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Lr(n.type)||n.tag===4}function zf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||sx(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Lr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ch(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t).insertBefore(n,e):(e=t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,e.appendChild(n),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Nn));else if(r!==4&&(r===27&&Lr(n.type)&&(t=n.stateNode,e=null),n=n.child,n!==null))for(Ch(n,e,t),n=n.sibling;n!==null;)Ch(n,e,t),n=n.sibling}function Kc(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(r===27&&Lr(n.type)&&(t=n.stateNode),n=n.child,n!==null))for(Kc(n,e,t),n=n.sibling;n!==null;)Kc(n,e,t),n=n.sibling}function ox(n){var e=n.stateNode,t=n.memoizedProps;try{for(var r=n.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);$e(e,r,t),e[Ye]=n,e[vt]=t}catch(o){ce(n,n.return,o)}}var Un=!1,ke=!1,Hf=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function K_(n,e){if(n=n.containerInfo,Lh=nu,n=J0(n),nm(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var i=0,a=-1,c=-1,u=0,l=0,f=n,h=null;t:for(;;){for(var d;f!==t||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===n)break t;if(h===t&&++u===s&&(a=i),h===o&&++l===r&&(c=i),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}t=a===-1||c===-1?null:{start:a,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Gh={focusedElem:n,selectionRange:t},nu=!1,Pe=e;Pe!==null;)if(e=Pe,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Pe=n;else for(;Pe!==null;){switch(e=Pe,o=e.alternate,n=e.flags,e.tag){case 0:if((n&4)!==0&&(n=e.updateQueue,n=n!==null?n.events:null,n!==null))for(t=0;t<n.length;t++)s=n[t],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&o!==null){n=void 0,t=e,s=o.memoizedProps,o=o.memoizedState,r=t.stateNode;try{var p=hs(t.type,s);n=r.getSnapshotBeforeUpdate(p,o),r.__reactInternalSnapshotBeforeUpdate=n}catch(A){ce(t,t.return,A)}}break;case 3:if((n&1024)!==0){if(n=e.stateNode.containerInfo,t=n.nodeType,t===9)Fh(n);else if(t===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Fh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(I(163))}if(n=e.sibling,n!==null){n.return=e.return,Pe=n;break}Pe=e.return}}function ix(n,e,t){var r=t.flags;switch(t.tag){case 0:case 11:case 15:On(n,t),r&4&&ua(5,t);break;case 1:if(On(n,t),r&4)if(n=t.stateNode,e===null)try{n.componentDidMount()}catch(i){ce(t,t.return,i)}else{var s=hs(t.type,e.memoizedProps);e=e.memoizedState;try{n.componentDidUpdate(s,e,n.__reactInternalSnapshotBeforeUpdate)}catch(i){ce(t,t.return,i)}}r&64&&tx(t),r&512&&Li(t,t.return);break;case 3:if(On(n,t),r&64&&(n=t.updateQueue,n!==null)){if(e=null,t.child!==null)switch(t.child.tag){case 27:case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}try{l1(n,e)}catch(i){ce(t,t.return,i)}}break;case 27:e===null&&r&4&&ox(t);case 26:case 5:On(n,t),e===null&&r&4&&rx(t),r&512&&Li(t,t.return);break;case 12:On(n,t);break;case 31:On(n,t),r&4&&ux(n,t);break;case 13:On(n,t),r&4&&lx(n,t),r&64&&(n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(t=e3.bind(null,t),x3(n,t))));break;case 22:if(r=t.memoizedState!==null||Un,!r){e=e!==null&&e.memoizedState!==null||ke,s=Un;var o=ke;Un=r,(ke=e)&&!o?Ln(n,t,(t.subtreeFlags&8772)!==0):On(n,t),Un=s,ke=o}break;case 30:break;default:On(n,t)}}function ax(n){var e=n.alternate;e!==null&&(n.alternate=null,ax(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&Qh(e)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Te=null,xt=!1;function kn(n,e,t){for(t=t.child;t!==null;)cx(n,e,t),t=t.sibling}function cx(n,e,t){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(na,t)}catch{}switch(t.tag){case 26:ke||gn(t,e),kn(n,e,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode,t.parentNode.removeChild(t));break;case 27:ke||gn(t,e);var r=Te,s=xt;Lr(t.type)&&(Te=t.stateNode,xt=!1),kn(n,e,t),Ni(t.stateNode),Te=r,xt=s;break;case 5:ke||gn(t,e);case 6:if(r=Te,s=xt,Te=null,kn(n,e,t),Te=r,xt=s,Te!==null)if(xt)try{(Te.nodeType===9?Te.body:Te.nodeName==="HTML"?Te.ownerDocument.body:Te).removeChild(t.stateNode)}catch(o){ce(t,e,o)}else try{Te.removeChild(t.stateNode)}catch(o){ce(t,e,o)}break;case 18:Te!==null&&(xt?(n=Te,Zy(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.stateNode),bo(n)):Zy(Te,t.stateNode));break;case 4:r=Te,s=xt,Te=t.stateNode.containerInfo,xt=!0,kn(n,e,t),Te=r,xt=s;break;case 0:case 11:case 14:case 15:Ir(2,t,e),ke||Ir(4,t,e),kn(n,e,t);break;case 1:ke||(gn(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"&&nx(t,e,r)),kn(n,e,t);break;case 21:kn(n,e,t);break;case 22:ke=(r=ke)||t.memoizedState!==null,kn(n,e,t),ke=r;break;default:kn(n,e,t)}}function ux(n,e){if(e.memoizedState===null&&(n=e.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{bo(n)}catch(t){ce(e,e.return,t)}}}function lx(n,e){if(e.memoizedState===null&&(n=e.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{bo(n)}catch(t){ce(e,e.return,t)}}function J_(n){switch(n.tag){case 31:case 13:case 19:var e=n.stateNode;return e===null&&(e=n.stateNode=new Uy),e;case 22:return n=n.stateNode,e=n._retryCache,e===null&&(e=n._retryCache=new Uy),e;default:throw Error(I(435,n.tag))}}function cc(n,e){var t=J_(n);e.forEach(function(r){if(!t.has(r)){t.add(r);var s=t3.bind(null,n,r);r.then(s,s)}})}function gt(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r],o=n,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 27:if(Lr(a.type)){Te=a.stateNode,xt=!1;break e}break;case 5:Te=a.stateNode,xt=!1;break e;case 3:case 4:Te=a.stateNode.containerInfo,xt=!0;break e}a=a.return}if(Te===null)throw Error(I(160));cx(o,i,s),Te=null,xt=!1,o=s.alternate,o!==null&&(o.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)fx(e,n),e=e.sibling}var an=null;function fx(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:gt(e,n),yt(n),r&4&&(Ir(3,n,n.return),ua(3,n),Ir(5,n,n.return));break;case 1:gt(e,n),yt(n),r&512&&(ke||t===null||gn(t,t.return)),r&64&&Un&&(n=n.updateQueue,n!==null&&(r=n.callbacks,r!==null&&(t=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=t===null?r:t.concat(r))));break;case 26:var s=an;if(gt(e,n),yt(n),r&512&&(ke||t===null||gn(t,t.return)),r&4){var o=t!==null?t.memoizedState:null;if(r=n.memoizedState,t===null)if(r===null)if(n.stateNode===null){e:{r=n.type,t=n.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":o=s.getElementsByTagName("title")[0],(!o||o[oa]||o[Ye]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=s.createElement(r),s.head.insertBefore(o,s.querySelector("head > title"))),$e(o,r,t),o[Ye]=n,je(o),r=o;break e;case"link":var i=i0("link","href",s).get(r+(t.href||""));if(i){for(var a=0;a<i.length;a++)if(o=i[a],o.getAttribute("href")===(t.href==null||t.href===""?null:t.href)&&o.getAttribute("rel")===(t.rel==null?null:t.rel)&&o.getAttribute("title")===(t.title==null?null:t.title)&&o.getAttribute("crossorigin")===(t.crossOrigin==null?null:t.crossOrigin)){i.splice(a,1);break t}}o=s.createElement(r),$e(o,r,t),s.head.appendChild(o);break;case"meta":if(i=i0("meta","content",s).get(r+(t.content||""))){for(a=0;a<i.length;a++)if(o=i[a],o.getAttribute("content")===(t.content==null?null:""+t.content)&&o.getAttribute("name")===(t.name==null?null:t.name)&&o.getAttribute("property")===(t.property==null?null:t.property)&&o.getAttribute("http-equiv")===(t.httpEquiv==null?null:t.httpEquiv)&&o.getAttribute("charset")===(t.charSet==null?null:t.charSet)){i.splice(a,1);break t}}o=s.createElement(r),$e(o,r,t),s.head.appendChild(o);break;default:throw Error(I(468,r))}o[Ye]=n,je(o),r=o}n.stateNode=r}else a0(s,n.type,n.stateNode);else n.stateNode=o0(s,r,n.memoizedProps);else o!==r?(o===null?t.stateNode!==null&&(t=t.stateNode,t.parentNode.removeChild(t)):o.count--,r===null?a0(s,n.type,n.stateNode):o0(s,r,n.memoizedProps)):r===null&&n.stateNode!==null&&Nf(n,n.memoizedProps,t.memoizedProps)}break;case 27:gt(e,n),yt(n),r&512&&(ke||t===null||gn(t,t.return)),t!==null&&r&4&&Nf(n,n.memoizedProps,t.memoizedProps);break;case 5:if(gt(e,n),yt(n),r&512&&(ke||t===null||gn(t,t.return)),n.flags&32){s=n.stateNode;try{fo(s,"")}catch(p){ce(n,n.return,p)}}r&4&&n.stateNode!=null&&(s=n.memoizedProps,Nf(n,s,t!==null?t.memoizedProps:s)),r&1024&&(Hf=!0);break;case 6:if(gt(e,n),yt(n),r&4){if(n.stateNode===null)throw Error(I(162));r=n.memoizedProps,t=n.stateNode;try{t.nodeValue=r}catch(p){ce(n,n.return,p)}}break;case 3:if(Ec=null,s=an,an=Zc(e.containerInfo),gt(e,n),an=s,yt(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{bo(e.containerInfo)}catch(p){ce(n,n.return,p)}Hf&&(Hf=!1,hx(n));break;case 4:r=an,an=Zc(n.stateNode.containerInfo),gt(e,n),yt(n),an=r;break;case 12:gt(e,n),yt(n);break;case 31:gt(e,n),yt(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,cc(n,r)));break;case 13:gt(e,n),yt(n),n.child.flags&8192&&n.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(pu=Vt()),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,cc(n,r)));break;case 22:s=n.memoizedState!==null;var c=t!==null&&t.memoizedState!==null,u=Un,l=ke;if(Un=u||s,ke=l||c,gt(e,n),ke=l,Un=u,yt(n),r&8192)e:for(e=n.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(t===null||c||Un||ke||ns(n)),t=null,e=n;;){if(e.tag===5||e.tag===26){if(t===null){c=t=e;try{if(o=c.stateNode,s)i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{a=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;a.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){ce(c,c.return,p)}}}else if(e.tag===6){if(t===null){c=e;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(p){ce(c,c.return,p)}}}else if(e.tag===18){if(t===null){c=e;try{var d=c.stateNode;s?e0(d,!0):e0(c.stateNode,!1)}catch(p){ce(c,c.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===n)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;t===e&&(t=null),e=e.return}t===e&&(t=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=n.updateQueue,r!==null&&(t=r.retryQueue,t!==null&&(r.retryQueue=null,cc(n,t))));break;case 19:gt(e,n),yt(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,cc(n,r)));break;case 30:break;case 21:break;default:gt(e,n),yt(n)}}function yt(n){var e=n.flags;if(e&2){try{for(var t,r=n.return;r!==null;){if(sx(r)){t=r;break}r=r.return}if(t==null)throw Error(I(160));switch(t.tag){case 27:var s=t.stateNode,o=zf(n);Kc(n,o,s);break;case 5:var i=t.stateNode;t.flags&32&&(fo(i,""),t.flags&=-33);var a=zf(n);Kc(n,a,i);break;case 3:case 4:var c=t.stateNode.containerInfo,u=zf(n);Ch(n,u,c);break;default:throw Error(I(161))}}catch(l){ce(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function hx(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var e=n;hx(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),n=n.sibling}}function On(n,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)ix(n,e.alternate,e),e=e.sibling}function ns(n){for(n=n.child;n!==null;){var e=n;switch(e.tag){case 0:case 11:case 14:case 15:Ir(4,e,e.return),ns(e);break;case 1:gn(e,e.return);var t=e.stateNode;typeof t.componentWillUnmount=="function"&&nx(e,e.return,t),ns(e);break;case 27:Ni(e.stateNode);case 26:case 5:gn(e,e.return),ns(e);break;case 22:e.memoizedState===null&&ns(e);break;case 30:ns(e);break;default:ns(e)}n=n.sibling}}function Ln(n,e,t){for(t=t&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,s=n,o=e,i=o.flags;switch(o.tag){case 0:case 11:case 15:Ln(s,o,t),ua(4,o);break;case 1:if(Ln(s,o,t),r=o,s=r.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){ce(r,r.return,u)}if(r=o,s=r.updateQueue,s!==null){var a=r.stateNode;try{var c=s.shared.hiddenCallbacks;if(c!==null)for(s.shared.hiddenCallbacks=null,s=0;s<c.length;s++)u1(c[s],a)}catch(u){ce(r,r.return,u)}}t&&i&64&&tx(o),Li(o,o.return);break;case 27:ox(o);case 26:case 5:Ln(s,o,t),t&&r===null&&i&4&&rx(o),Li(o,o.return);break;case 12:Ln(s,o,t);break;case 31:Ln(s,o,t),t&&i&4&&ux(s,o);break;case 13:Ln(s,o,t),t&&i&4&&lx(s,o);break;case 22:o.memoizedState===null&&Ln(s,o,t),Li(o,o.return);break;case 30:break;default:Ln(s,o,t)}e=e.sibling}}function Mm(n,e){var t=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==t&&(n!=null&&n.refCount++,t!=null&&aa(t))}function Cm(n,e){n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&aa(n))}function on(n,e,t,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mx(n,e,t,r),e=e.sibling}function mx(n,e,t,r){var s=e.flags;switch(e.tag){case 0:case 11:case 15:on(n,e,t,r),s&2048&&ua(9,e);break;case 1:on(n,e,t,r);break;case 3:on(n,e,t,r),s&2048&&(n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&aa(n)));break;case 12:if(s&2048){on(n,e,t,r),n=e.stateNode;try{var o=e.memoizedProps,i=o.id,a=o.onPostCommit;typeof a=="function"&&a(i,e.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(c){ce(e,e.return,c)}}else on(n,e,t,r);break;case 31:on(n,e,t,r);break;case 13:on(n,e,t,r);break;case 23:break;case 22:o=e.stateNode,i=e.alternate,e.memoizedState!==null?o._visibility&2?on(n,e,t,r):Gi(n,e):o._visibility&2?on(n,e,t,r):(o._visibility|=2,Hs(n,e,t,r,(e.subtreeFlags&10256)!==0||!1)),s&2048&&Mm(i,e);break;case 24:on(n,e,t,r),s&2048&&Cm(e.alternate,e);break;default:on(n,e,t,r)}}function Hs(n,e,t,r,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var o=n,i=e,a=t,c=r,u=i.flags;switch(i.tag){case 0:case 11:case 15:Hs(o,i,a,c,s),ua(8,i);break;case 23:break;case 22:var l=i.stateNode;i.memoizedState!==null?l._visibility&2?Hs(o,i,a,c,s):Gi(o,i):(l._visibility|=2,Hs(o,i,a,c,s)),s&&u&2048&&Mm(i.alternate,i);break;case 24:Hs(o,i,a,c,s),s&&u&2048&&Cm(i.alternate,i);break;default:Hs(o,i,a,c,s)}e=e.sibling}}function Gi(n,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var t=n,r=e,s=r.flags;switch(r.tag){case 22:Gi(t,r),s&2048&&Mm(r.alternate,r);break;case 24:Gi(t,r),s&2048&&Cm(r.alternate,r);break;default:Gi(t,r)}e=e.sibling}}var Si=8192;function zs(n,e,t){if(n.subtreeFlags&Si)for(n=n.child;n!==null;)dx(n,e,t),n=n.sibling}function dx(n,e,t){switch(n.tag){case 26:zs(n,e,t),n.flags&Si&&n.memoizedState!==null&&V3(t,an,n.memoizedState,n.memoizedProps);break;case 5:zs(n,e,t);break;case 3:case 4:var r=an;an=Zc(n.stateNode.containerInfo),zs(n,e,t),an=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Si,Si=16777216,zs(n,e,t),Si=r):zs(n,e,t));break;default:zs(n,e,t)}}function px(n){var e=n.alternate;if(e!==null&&(n=e.child,n!==null)){e.child=null;do e=n.sibling,n.sibling=null,n=e;while(n!==null)}}function bi(n){var e=n.deletions;if((n.flags&16)!==0){if(e!==null)for(var t=0;t<e.length;t++){var r=e[t];Pe=r,yx(r,n)}px(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gx(n),n=n.sibling}function gx(n){switch(n.tag){case 0:case 11:case 15:bi(n),n.flags&2048&&Ir(9,n,n.return);break;case 3:bi(n);break;case 12:bi(n);break;case 22:var e=n.stateNode;n.memoizedState!==null&&e._visibility&2&&(n.return===null||n.return.tag!==13)?(e._visibility&=-3,Tc(n)):bi(n);break;default:bi(n)}}function Tc(n){var e=n.deletions;if((n.flags&16)!==0){if(e!==null)for(var t=0;t<e.length;t++){var r=e[t];Pe=r,yx(r,n)}px(n)}for(n=n.child;n!==null;){switch(e=n,e.tag){case 0:case 11:case 15:Ir(8,e,e.return),Tc(e);break;case 22:t=e.stateNode,t._visibility&2&&(t._visibility&=-3,Tc(e));break;default:Tc(e)}n=n.sibling}}function yx(n,e){for(;Pe!==null;){var t=Pe;switch(t.tag){case 0:case 11:case 15:Ir(8,t,e);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var r=t.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:aa(t.memoizedState.cache)}if(r=t.child,r!==null)r.return=t,Pe=r;else e:for(t=n;Pe!==null;){r=Pe;var s=r.sibling,o=r.return;if(ax(r),r===t){Pe=null;break e}if(s!==null){s.return=o,Pe=s;break e}Pe=o}}}var q_={getCacheForType:function(n){var e=We(Oe),t=e.data.get(n);return t===void 0&&(t=n(),e.data.set(n,t)),t},cacheSignal:function(){return We(Oe).controller.signal}},X_=typeof WeakMap=="function"?WeakMap:Map,re=0,me=null,$=null,Z=0,ae=0,Et=null,Ar=!1,Bo=!1,Vm=!1,Yn=0,Se=0,kr=0,as=0,Rm=0,Ct=0,go=0,Ui=null,At=null,Vh=!1,pu=0,xx=0,Jc=1/0,qc=null,Er=null,Ne=0,Sr=null,yo=null,jn=0,Rh=0,Dh=null,Ax=null,Fi=0,Ih=null;function It(){return(re&2)!==0&&Z!==0?Z&-Z:P.T!==null?Im():M0()}function bx(){if(Ct===0)if((Z&536870912)===0||ee){var n=$a;$a<<=1,($a&3932160)===0&&($a=262144),Ct=n}else Ct=536870912;return n=Ot.current,n!==null&&(n.flags|=32),Ct}function bt(n,e,t){(n===me&&(ae===2||ae===9)||n.cancelPendingCommit!==null)&&(xo(n,0),br(n,Z,Ct,!1)),sa(n,t),((re&2)===0||n!==me)&&(n===me&&((re&2)===0&&(as|=t),Se===4&&br(n,Z,Ct,!1)),An(n))}function vx(n,e,t){if((re&6)!==0)throw Error(I(327));var r=!t&&(e&127)===0&&(e&n.expiredLanes)===0||ra(n,e),s=r?W_(n,e):Pf(n,e,!0),o=r;do{if(s===0){Bo&&!r&&br(n,e,0,!1);break}else{if(t=n.current.alternate,o&&!Y_(t)){s=Pf(n,e,!1),o=!1;continue}if(s===2){if(o=e,n.errorRecoveryDisabledLanes&o)var i=0;else i=n.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){e=i;e:{var a=n;s=Ui;var c=a.current.memoizedState.isDehydrated;if(c&&(xo(a,i).flags|=256),i=Pf(a,i,!1),i!==2){if(Vm&&!c){a.errorRecoveryDisabledLanes|=o,as|=o,s=4;break e}o=At,At=s,o!==null&&(At===null?At=o:At.push.apply(At,o))}s=i}if(o=!1,s!==2)continue}}if(s===1){xo(n,0),br(n,e,0,!0);break}e:{switch(r=n,o=s,o){case 0:case 1:throw Error(I(345));case 4:if((e&4194048)!==e)break;case 6:br(r,e,Ct,!Ar);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(I(329))}if((e&62914560)===e&&(s=pu+300-Vt(),10<s)){if(br(r,e,Ct,!Ar),su(r,0,!0)!==0)break e;jn=e,r.timeoutHandle=zx(Fy.bind(null,r,t,At,qc,Vh,e,Ct,as,go,Ar,o,"Throttled",-0,0),s);break e}Fy(r,t,At,qc,Vh,e,Ct,as,go,Ar,o,null,-0,0)}}break}while(!0);An(n)}function Fy(n,e,t,r,s,o,i,a,c,u,l,f,h,d){if(n.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},dx(e,o,f);var p=(o&62914560)===o?pu-Vt():(o&4194048)===o?xx-Vt():0;if(p=R3(f,p),p!==null){jn=o,n.cancelPendingCommit=p(zy.bind(null,n,e,o,t,r,s,i,a,c,l,f,null,h,d)),br(n,o,i,!u);return}}zy(n,e,o,t,r,s,i,a,c)}function Y_(n){for(var e=n;;){var t=e.tag;if((t===0||t===11||t===15)&&e.flags&16384&&(t=e.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var r=0;r<t.length;r++){var s=t[r],o=s.getSnapshot;s=s.value;try{if(!kt(o(),s))return!1}catch{return!1}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function br(n,e,t,r){e&=~Rm,e&=~as,n.suspendedLanes|=e,n.pingedLanes&=~e,r&&(n.warmLanes|=e),r=n.expirationTimes;for(var s=e;0<s;){var o=31-Dt(s),i=1<<o;r[o]=-1,s&=~i}t!==0&&B0(n,t,e)}function gu(){return(re&6)===0?(la(0,!1),!1):!0}function Dm(){if($!==null){if(ae===0)var n=$.return;else n=$,zn=ys=null,ym(n),io=null,qi=0,n=$;for(;n!==null;)ex(n.alternate,n),n=n.return;$=null}}function xo(n,e){var t=n.timeoutHandle;t!==-1&&(n.timeoutHandle=-1,m3(t)),t=n.cancelPendingCommit,t!==null&&(n.cancelPendingCommit=null,t()),jn=0,Dm(),me=n,$=t=Hn(n.current,null),Z=e,ae=0,Et=null,Ar=!1,Bo=ra(n,e),Vm=!1,go=Ct=Rm=as=kr=Se=0,At=Ui=null,Vh=!1,(e&8)!==0&&(e|=e&32);var r=n.entangledLanes;if(r!==0)for(n=n.entanglements,r&=e;0<r;){var s=31-Dt(r),o=1<<s;e|=n[s],r&=~o}return Yn=e,cu(),t}function wx(n,e){q=null,P.H=Yi,e===To||e===lu?(e=yy(),ae=3):e===lm?(e=yy(),ae=4):ae=e===Em?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Et=e,$===null&&(Se=1,Pc(n,qt(e,n.current)))}function _x(){var n=Ot.current;return n===null?!0:(Z&4194048)===Z?Yt===null:(Z&62914560)===Z||(Z&536870912)!==0?n===Yt:!1}function Tx(){var n=P.H;return P.H=Yi,n===null?Yi:n}function Bx(){var n=P.A;return P.A=q_,n}function Xc(){Se=4,Ar||(Z&4194048)!==Z&&Ot.current!==null||(Bo=!0),(kr&134217727)===0&&(as&134217727)===0||me===null||br(me,Z,Ct,!1)}function Pf(n,e,t){var r=re;re|=2;var s=Tx(),o=Bx();(me!==n||Z!==e)&&(qc=null,xo(n,e)),e=!1;var i=Se;e:do try{if(ae!==0&&$!==null){var a=$,c=Et;switch(ae){case 8:Dm(),i=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(e=!0);var u=ae;if(ae=0,Et=null,to(n,a,c,u),t&&Bo){i=0;break e}break;default:u=ae,ae=0,Et=null,to(n,a,c,u)}}Q_(),i=Se;break}catch(l){wx(n,l)}while(!0);return e&&n.shellSuspendCounter++,zn=ys=null,re=r,P.H=s,P.A=o,$===null&&(me=null,Z=0,cu()),i}function Q_(){for(;$!==null;)Ex($)}function W_(n,e){var t=re;re|=2;var r=Tx(),s=Bx();me!==n||Z!==e?(qc=null,Jc=Vt()+500,xo(n,e)):Bo=ra(n,e);e:do try{if(ae!==0&&$!==null){e=$;var o=Et;t:switch(ae){case 1:ae=0,Et=null,to(n,e,o,1);break;case 2:case 9:if(gy(o)){ae=0,Et=null,Ny(e);break}e=function(){ae!==2&&ae!==9||me!==n||(ae=7),An(n)},o.then(e,e);break e;case 3:ae=7;break e;case 4:ae=5;break e;case 7:gy(o)?(ae=0,Et=null,Ny(e)):(ae=0,Et=null,to(n,e,o,7));break;case 5:var i=null;switch($.tag){case 26:i=$.memoizedState;case 5:case 27:var a=$;if(i?Jx(i):a.stateNode.complete){ae=0,Et=null;var c=a.sibling;if(c!==null)$=c;else{var u=a.return;u!==null?($=u,yu(u)):$=null}break t}}ae=0,Et=null,to(n,e,o,5);break;case 6:ae=0,Et=null,to(n,e,o,6);break;case 8:Dm(),Se=6;break e;default:throw Error(I(462))}}$_();break}catch(l){wx(n,l)}while(!0);return zn=ys=null,P.H=r,P.A=s,re=t,$!==null?0:(me=null,Z=0,cu(),Se)}function $_(){for(;$!==null&&!vw();)Ex($)}function Ex(n){var e=Z1(n.alternate,n,Yn);n.memoizedProps=n.pendingProps,e===null?yu(n):$=e}function Ny(n){var e=n,t=e.alternate;switch(e.tag){case 15:case 0:e=Iy(t,e,e.pendingProps,e.type,void 0,Z);break;case 11:e=Iy(t,e,e.pendingProps,e.type.render,e.ref,Z);break;case 5:ym(e);default:ex(t,e),e=$=e1(e,Yn),e=Z1(t,e,Yn)}n.memoizedProps=n.pendingProps,e===null?yu(n):$=e}function to(n,e,t,r){zn=ys=null,ym(e),io=null,qi=0;var s=e.return;try{if(N_(n,s,e,t,Z)){Se=1,Pc(n,qt(t,n.current)),$=null;return}}catch(o){if(s!==null)throw $=s,o;Se=1,Pc(n,qt(t,n.current)),$=null;return}e.flags&32768?(ee||r===1?n=!0:Bo||(Z&536870912)!==0?n=!1:(Ar=n=!0,(r===2||r===9||r===3||r===6)&&(r=Ot.current,r!==null&&r.tag===13&&(r.flags|=16384))),Sx(e,n)):yu(e)}function yu(n){var e=n;do{if((e.flags&32768)!==0){Sx(e,Ar);return}n=e.return;var t=P_(e.alternate,e,Yn);if(t!==null){$=t;return}if(e=e.sibling,e!==null){$=e;return}$=e=n}while(e!==null);Se===0&&(Se=5)}function Sx(n,e){do{var t=j_(n.alternate,n);if(t!==null){t.flags&=32767,$=t;return}if(t=n.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!e&&(n=n.sibling,n!==null)){$=n;return}$=n=t}while(n!==null);Se=6,$=null}function zy(n,e,t,r,s,o,i,a,c){n.cancelPendingCommit=null;do xu();while(Ne!==0);if((re&6)!==0)throw Error(I(327));if(e!==null){if(e===n.current)throw Error(I(177));if(o=e.lanes|e.childLanes,o|=rm,Rw(n,t,o,i,a,c),n===me&&($=me=null,Z=0),yo=e,Sr=n,jn=t,Rh=o,Dh=s,Ax=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,n3(Dc,function(){return Dx(),null})):(n.callbackNode=null,n.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=P.T,P.T=null,s=se.p,se.p=2,i=re,re|=4;try{K_(n,e,t)}finally{re=i,se.p=s,P.T=r}}Ne=1,Mx(),Cx(),Vx()}}function Mx(){if(Ne===1){Ne=0;var n=Sr,e=yo,t=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||t){t=P.T,P.T=null;var r=se.p;se.p=2;var s=re;re|=4;try{fx(e,n);var o=Gh,i=J0(n.containerInfo),a=o.focusedElem,c=o.selectionRange;if(i!==a&&a&&a.ownerDocument&&K0(a.ownerDocument.documentElement,a)){if(c!==null&&nm(a)){var u=c.start,l=c.end;if(l===void 0&&(l=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(l,a.value.length);else{var f=a.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var d=h.getSelection(),p=a.textContent.length,A=Math.min(c.start,p),_=c.end===void 0?A:Math.min(c.end,p);!d.extend&&A>_&&(i=_,_=A,A=i);var m=uy(a,A),g=uy(a,_);if(m&&g&&(d.rangeCount!==1||d.anchorNode!==m.node||d.anchorOffset!==m.offset||d.focusNode!==g.node||d.focusOffset!==g.offset)){var y=f.createRange();y.setStart(m.node,m.offset),d.removeAllRanges(),A>_?(d.addRange(y),d.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),d.addRange(y))}}}}for(f=[],d=a;d=d.parentNode;)d.nodeType===1&&f.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<f.length;a++){var v=f[a];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}nu=!!Lh,Gh=Lh=null}finally{re=s,se.p=r,P.T=t}}n.current=e,Ne=2}}function Cx(){if(Ne===2){Ne=0;var n=Sr,e=yo,t=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||t){t=P.T,P.T=null;var r=se.p;se.p=2;var s=re;re|=4;try{ix(n,e.alternate,e)}finally{re=s,se.p=r,P.T=t}}Ne=3}}function Vx(){if(Ne===4||Ne===3){Ne=0,ww();var n=Sr,e=yo,t=jn,r=Ax;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ne=5:(Ne=0,yo=Sr=null,Rx(n,n.pendingLanes));var s=n.pendingLanes;if(s===0&&(Er=null),Yh(t),e=e.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(na,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=P.T,s=se.p,se.p=2,P.T=null;try{for(var o=n.onRecoverableError,i=0;i<r.length;i++){var a=r[i];o(a.value,{componentStack:a.stack})}}finally{P.T=e,se.p=s}}(jn&3)!==0&&xu(),An(n),s=n.pendingLanes,(t&261930)!==0&&(s&42)!==0?n===Ih?Fi++:(Fi=0,Ih=n):Fi=0,la(0,!1)}}function Rx(n,e){(n.pooledCacheLanes&=e)===0&&(e=n.pooledCache,e!=null&&(n.pooledCache=null,aa(e)))}function xu(){return Mx(),Cx(),Vx(),Dx()}function Dx(){if(Ne!==5)return!1;var n=Sr,e=Rh;Rh=0;var t=Yh(jn),r=P.T,s=se.p;try{se.p=32>t?32:t,P.T=null,t=Dh,Dh=null;var o=Sr,i=jn;if(Ne=0,yo=Sr=null,jn=0,(re&6)!==0)throw Error(I(331));var a=re;if(re|=4,gx(o.current),mx(o,o.current,i,t),re=a,la(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(na,o)}catch{}return!0}finally{se.p=s,P.T=r,Rx(n,e)}}function Hy(n,e,t){e=qt(t,e),e=Eh(n.stateNode,e,2),n=Br(n,e,2),n!==null&&(sa(n,2),An(n))}function ce(n,e,t){if(n.tag===3)Hy(n,n,t);else for(;e!==null;){if(e.tag===3){Hy(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){n=qt(t,n),t=q1(2),r=Br(e,t,2),r!==null&&(X1(t,r,e,n),sa(r,2),An(r));break}}e=e.return}}function jf(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new X_;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(t)||(Vm=!0,s.add(t),n=Z_.bind(null,n,e,t),e.then(n,n))}function Z_(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),n.pingedLanes|=n.suspendedLanes&t,n.warmLanes&=~t,me===n&&(Z&t)===t&&(Se===4||Se===3&&(Z&62914560)===Z&&300>Vt()-pu?(re&2)===0&&xo(n,0):Rm|=t,go===Z&&(go=0)),An(n)}function Ix(n,e){e===0&&(e=T0()),n=gs(n,e),n!==null&&(sa(n,e),An(n))}function e3(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Ix(n,t)}function t3(n,e){var t=0;switch(n.tag){case 31:case 13:var r=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=n.stateNode;break;case 22:r=n.stateNode._retryCache;break;default:throw Error(I(314))}r!==null&&r.delete(e),Ix(n,t)}function n3(n,e){return qh(n,e)}var Yc=null,Ps=null,kh=!1,Qc=!1,Kf=!1,vr=0;function An(n){n!==Ps&&n.next===null&&(Ps===null?Yc=Ps=n:Ps=Ps.next=n),Qc=!0,kh||(kh=!0,s3())}function la(n,e){if(!Kf&&Qc){Kf=!0;do for(var t=!1,r=Yc;r!==null;){if(!e)if(n!==0){var s=r.pendingLanes;if(s===0)var o=0;else{var i=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-Dt(42|n)+1)-1,o&=s&~(i&~a),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(t=!0,Py(r,o))}else o=Z,o=su(r,r===me?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(o&3)===0||ra(r,o)||(t=!0,Py(r,o));r=r.next}while(t);Kf=!1}}function r3(){kx()}function kx(){Qc=kh=!1;var n=0;vr!==0&&h3()&&(n=vr);for(var e=Vt(),t=null,r=Yc;r!==null;){var s=r.next,o=Ox(r,e);o===0?(r.next=null,t===null?Yc=s:t.next=s,s===null&&(Ps=t)):(t=r,(n!==0||(o&3)!==0)&&(Qc=!0)),r=s}Ne!==0&&Ne!==5||la(n,!1),vr!==0&&(vr=0)}function Ox(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,s=n.expirationTimes,o=n.pendingLanes&-62914561;0<o;){var i=31-Dt(o),a=1<<i,c=s[i];c===-1?((a&t)===0||(a&r)!==0)&&(s[i]=Vw(a,e)):c<=e&&(n.expiredLanes|=a),o&=~a}if(e=me,t=Z,t=su(n,n===e?t:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r=n.callbackNode,t===0||n===e&&(ae===2||ae===9)||n.cancelPendingCommit!==null)return r!==null&&r!==null&&bf(r),n.callbackNode=null,n.callbackPriority=0;if((t&3)===0||ra(n,t)){if(e=t&-t,e===n.callbackPriority)return e;switch(r!==null&&bf(r),Yh(t)){case 2:case 8:t=w0;break;case 32:t=Dc;break;case 268435456:t=_0;break;default:t=Dc}return r=Lx.bind(null,n),t=qh(t,r),n.callbackPriority=e,n.callbackNode=t,e}return r!==null&&r!==null&&bf(r),n.callbackPriority=2,n.callbackNode=null,2}function Lx(n,e){if(Ne!==0&&Ne!==5)return n.callbackNode=null,n.callbackPriority=0,null;var t=n.callbackNode;if(xu()&&n.callbackNode!==t)return null;var r=Z;return r=su(n,n===me?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r===0?null:(vx(n,r,e),Ox(n,Vt()),n.callbackNode!=null&&n.callbackNode===t?Lx.bind(null,n):null)}function Py(n,e){if(xu())return null;vx(n,e,!0)}function s3(){d3(function(){(re&6)!==0?qh(v0,r3):kx()})}function Im(){if(vr===0){var n=ho;n===0&&(n=Wa,Wa<<=1,(Wa&261888)===0&&(Wa=256)),vr=n}return vr}function jy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:pc(""+n)}function Ky(n,e){var t=e.ownerDocument.createElement("input");return t.name=e.name,t.value=e.value,n.id&&t.setAttribute("form",n.id),e.parentNode.insertBefore(t,e),n=new FormData(n),t.parentNode.removeChild(t),n}function o3(n,e,t,r,s){if(e==="submit"&&t&&t.stateNode===s){var o=jy((s[vt]||null).action),i=r.submitter;i&&(e=(e=i[vt]||null)?jy(e.formAction):i.getAttribute("formAction"),e!==null&&(o=e,i=null));var a=new ou("action","action",null,r,s);n.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(vr!==0){var c=i?Ky(s,i):new FormData(s);Th(t,{pending:!0,data:c,method:s.method,action:o},null,c)}}else typeof o=="function"&&(a.preventDefault(),c=i?Ky(s,i):new FormData(s),Th(t,{pending:!0,data:c,method:s.method,action:o},o,c))},currentTarget:s}]})}}for(uc=0;uc<hh.length;uc++)lc=hh[uc],Jy=lc.toLowerCase(),qy=lc[0].toUpperCase()+lc.slice(1),cn(Jy,"on"+qy);var lc,Jy,qy,uc;cn(X0,"onAnimationEnd");cn(Y0,"onAnimationIteration");cn(Q0,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn(__,"onTransitionRun");cn(T_,"onTransitionStart");cn(B_,"onTransitionCancel");cn(W0,"onTransitionEnd");lo("onMouseEnter",["mouseout","mouseover"]);lo("onMouseLeave",["mouseout","mouseover"]);lo("onPointerEnter",["pointerout","pointerover"]);lo("onPointerLeave",["pointerout","pointerover"]);ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qi));function Gx(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;o=a,s.currentTarget=u;try{o(s)}catch(l){kc(l)}s.currentTarget=null,o=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;o=a,s.currentTarget=u;try{o(s)}catch(l){kc(l)}s.currentTarget=null,o=c}}}}function W(n,e){var t=e[sh];t===void 0&&(t=e[sh]=new Set);var r=n+"__bubble";t.has(r)||(Ux(e,n,2,!1),t.add(r))}function Jf(n,e,t){var r=0;e&&(r|=4),Ux(t,n,r,e)}var fc="_reactListening"+Math.random().toString(36).slice(2);function km(n){if(!n[fc]){n[fc]=!0,C0.forEach(function(t){t!=="selectionchange"&&(i3.has(t)||Jf(t,!1,n),Jf(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[fc]||(e[fc]=!0,Jf("selectionchange",!1,e))}}function Ux(n,e,t,r){switch(Wx(e)){case 2:var s=k3;break;case 8:s=O3;break;default:s=Um}t=s.bind(null,e,t,n),s=void 0,!uh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function qf(n,e,t,r,s){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&i.stateNode.containerInfo===s)return;i=i.return}for(;a!==null;){if(i=Js(a),i===null)return;if(c=i.tag,c===5||c===6||c===26||c===27){r=o=i;continue e}a=a.parentNode}}r=r.return}G0(function(){var u=o,l=$h(t),f=[];e:{var h=$0.get(n);if(h!==void 0){var d=ou,p=n;switch(n){case"keypress":if(yc(t)===0)break e;case"keydown":case"keyup":d=t_;break;case"focusin":p="focus",d=Bf;break;case"focusout":p="blur",d=Bf;break;case"beforeblur":case"afterblur":d=Bf;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Pw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=s_;break;case X0:case Y0:case Q0:d=Jw;break;case W0:d=i_;break;case"scroll":case"scrollend":d=zw;break;case"wheel":d=c_;break;case"copy":case"cut":case"paste":d=Xw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=ny;break;case"toggle":case"beforetoggle":d=l_}var A=(e&4)!==0,_=!A&&(n==="scroll"||n==="scrollend"),m=A?h!==null?h+"Capture":null:h;A=[];for(var g=u,y;g!==null;){var v=g;if(y=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||y===null||m===null||(v=Hi(g,m),v!=null&&A.push(Wi(g,v,y))),_)break;g=g.return}0<A.length&&(h=new d(h,p,null,t,l),f.push({event:h,listeners:A}))}}if((e&7)===0){e:{if(h=n==="mouseover"||n==="pointerover",d=n==="mouseout"||n==="pointerout",h&&t!==ch&&(p=t.relatedTarget||t.fromElement)&&(Js(p)||p[vo]))break e;if((d||h)&&(h=l.window===l?l:(h=l.ownerDocument)?h.defaultView||h.parentWindow:window,d?(p=t.relatedTarget||t.toElement,d=u,p=p?Js(p):null,p!==null&&(_=ta(p),A=p.tag,p!==_||A!==5&&A!==27&&A!==6)&&(p=null)):(d=null,p=u),d!==p)){if(A=ey,v="onMouseLeave",m="onMouseEnter",g="mouse",(n==="pointerout"||n==="pointerover")&&(A=ny,v="onPointerLeave",m="onPointerEnter",g="pointer"),_=d==null?h:Bi(d),y=p==null?h:Bi(p),h=new A(v,g+"leave",d,t,l),h.target=_,h.relatedTarget=y,v=null,Js(l)===u&&(A=new A(m,g+"enter",p,t,l),A.target=y,A.relatedTarget=_,v=A),_=v,d&&p)t:{for(A=a3,m=d,g=p,y=0,v=m;v;v=A(v))y++;v=0;for(var V=g;V;V=A(V))v++;for(;0<y-v;)m=A(m),y--;for(;0<v-y;)g=A(g),v--;for(;y--;){if(m===g||g!==null&&m===g.alternate){A=m;break t}m=A(m),g=A(g)}A=null}else A=null;d!==null&&Xy(f,h,d,A,!1),p!==null&&_!==null&&Xy(f,_,p,A,!0)}}e:{if(h=u?Bi(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var L=iy;else if(oy(h))if(P0)L=b_;else{L=x_;var C=y_}else d=h.nodeName,!d||d.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&Wh(u.elementType)&&(L=iy):L=A_;if(L&&(L=L(n,u))){H0(f,L,t,l);break e}C&&C(n,h,u),n==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&ah(h,"number",h.value)}switch(C=u?Bi(u):window,n){case"focusin":(oy(C)||C.contentEditable==="true")&&(Ys=C,lh=u,Vi=null);break;case"focusout":Vi=lh=Ys=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,ly(f,t,l);break;case"selectionchange":if(w_)break;case"keydown":case"keyup":ly(f,t,l)}var D;if(tm)e:{switch(n){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else Xs?N0(n,t)&&(G="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(G="onCompositionStart");G&&(F0&&t.locale!=="ko"&&(Xs||G!=="onCompositionStart"?G==="onCompositionEnd"&&Xs&&(D=U0()):(xr=l,Zh="value"in xr?xr.value:xr.textContent,Xs=!0)),C=Wc(u,G),0<C.length&&(G=new ty(G,n,null,t,l),f.push({event:G,listeners:C}),D?G.data=D:(D=z0(t),D!==null&&(G.data=D)))),(D=h_?m_(n,t):d_(n,t))&&(G=Wc(u,"onBeforeInput"),0<G.length&&(C=new ty("onBeforeInput","beforeinput",null,t,l),f.push({event:C,listeners:G}),C.data=D)),o3(f,n,u,t,l)}Gx(f,e)})}function Wi(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Wc(n,e){for(var t=e+"Capture",r=[];n!==null;){var s=n,o=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||o===null||(s=Hi(n,t),s!=null&&r.unshift(Wi(n,s,o)),s=Hi(n,e),s!=null&&r.push(Wi(n,s,o))),n.tag===3)return r;n=n.return}return[]}function a3(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Xy(n,e,t,r,s){for(var o=e._reactName,i=[];t!==null&&t!==r;){var a=t,c=a.alternate,u=a.stateNode;if(a=a.tag,c!==null&&c===r)break;a!==5&&a!==26&&a!==27||u===null||(c=u,s?(u=Hi(t,o),u!=null&&i.unshift(Wi(t,u,c))):s||(u=Hi(t,o),u!=null&&i.push(Wi(t,u,c)))),t=t.return}i.length!==0&&n.push({event:e,listeners:i})}var c3=/\r\n?/g,u3=/\u0000|\uFFFD/g;function Yy(n){return(typeof n=="string"?n:""+n).replace(c3,`
`).replace(u3,"")}function Fx(n,e){return e=Yy(e),Yy(n)===e}function fe(n,e,t,r,s,o){switch(t){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||fo(n,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&fo(n,""+r);break;case"className":ec(n,"class",r);break;case"tabIndex":ec(n,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ec(n,t,r);break;case"style":L0(n,r,o);break;case"data":if(e!=="object"){ec(n,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||t!=="href")){n.removeAttribute(t);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(t);break}r=pc(""+r),n.setAttribute(t,r);break;case"action":case"formAction":if(typeof r=="function"){n.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(t==="formAction"?(e!=="input"&&fe(n,e,"name",s.name,s,null),fe(n,e,"formEncType",s.formEncType,s,null),fe(n,e,"formMethod",s.formMethod,s,null),fe(n,e,"formTarget",s.formTarget,s,null)):(fe(n,e,"encType",s.encType,s,null),fe(n,e,"method",s.method,s,null),fe(n,e,"target",s.target,s,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(t);break}r=pc(""+r),n.setAttribute(t,r);break;case"onClick":r!=null&&(n.onclick=Nn);break;case"onScroll":r!=null&&W("scroll",n);break;case"onScrollEnd":r!=null&&W("scrollend",n);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(I(61));if(t=r.__html,t!=null){if(s.children!=null)throw Error(I(60));n.innerHTML=t}}break;case"multiple":n.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":n.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){n.removeAttribute("xlink:href");break}t=pc(""+r),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(t,""+r):n.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(t,""):n.removeAttribute(t);break;case"capture":case"download":r===!0?n.setAttribute(t,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(t,r):n.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?n.setAttribute(t,r):n.removeAttribute(t);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?n.removeAttribute(t):n.setAttribute(t,r);break;case"popover":W("beforetoggle",n),W("toggle",n),dc(n,"popover",r);break;case"xlinkActuate":Dn(n,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Dn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Dn(n,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Dn(n,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Dn(n,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Dn(n,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":dc(n,"is",r);break;case"innerText":case"textContent":break;default:(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t=Fw.get(t)||t,dc(n,t,r))}}function Oh(n,e,t,r,s,o){switch(t){case"style":L0(n,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(I(61));if(t=r.__html,t!=null){if(s.children!=null)throw Error(I(60));n.innerHTML=t}}break;case"children":typeof r=="string"?fo(n,r):(typeof r=="number"||typeof r=="bigint")&&fo(n,""+r);break;case"onScroll":r!=null&&W("scroll",n);break;case"onScrollEnd":r!=null&&W("scrollend",n);break;case"onClick":r!=null&&(n.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!V0.hasOwnProperty(t))e:{if(t[0]==="o"&&t[1]==="n"&&(s=t.endsWith("Capture"),e=t.slice(2,s?t.length-7:void 0),o=n[vt]||null,o=o!=null?o[t]:null,typeof o=="function"&&n.removeEventListener(e,o,s),typeof r=="function")){typeof o!="function"&&o!==null&&(t in n?n[t]=null:n.hasAttribute(t)&&n.removeAttribute(t)),n.addEventListener(e,r,s);break e}t in n?n[t]=r:r===!0?n.setAttribute(t,""):dc(n,t,r)}}}function $e(n,e,t){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":W("error",n),W("load",n);var r=!1,s=!1,o;for(o in t)if(t.hasOwnProperty(o)){var i=t[o];if(i!=null)switch(o){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(I(137,e));default:fe(n,e,o,i,t,null)}}s&&fe(n,e,"srcSet",t.srcSet,t,null),r&&fe(n,e,"src",t.src,t,null);return;case"input":W("invalid",n);var a=o=i=s=null,c=null,u=null;for(r in t)if(t.hasOwnProperty(r)){var l=t[r];if(l!=null)switch(r){case"name":s=l;break;case"type":i=l;break;case"checked":c=l;break;case"defaultChecked":u=l;break;case"value":o=l;break;case"defaultValue":a=l;break;case"children":case"dangerouslySetInnerHTML":if(l!=null)throw Error(I(137,e));break;default:fe(n,e,r,l,t,null)}}I0(n,o,a,c,u,i,s,!1);return;case"select":W("invalid",n),r=i=o=null;for(s in t)if(t.hasOwnProperty(s)&&(a=t[s],a!=null))switch(s){case"value":o=a;break;case"defaultValue":i=a;break;case"multiple":r=a;default:fe(n,e,s,a,t,null)}e=o,t=i,n.multiple=!!r,e!=null?ro(n,!!r,e,!1):t!=null&&ro(n,!!r,t,!0);return;case"textarea":W("invalid",n),o=s=r=null;for(i in t)if(t.hasOwnProperty(i)&&(a=t[i],a!=null))switch(i){case"value":r=a;break;case"defaultValue":s=a;break;case"children":o=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(I(91));break;default:fe(n,e,i,a,t,null)}O0(n,r,s,o);return;case"option":for(c in t)if(t.hasOwnProperty(c)&&(r=t[c],r!=null))switch(c){case"selected":n.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:fe(n,e,c,r,t,null)}return;case"dialog":W("beforetoggle",n),W("toggle",n),W("cancel",n),W("close",n);break;case"iframe":case"object":W("load",n);break;case"video":case"audio":for(r=0;r<Qi.length;r++)W(Qi[r],n);break;case"image":W("error",n),W("load",n);break;case"details":W("toggle",n);break;case"embed":case"source":case"link":W("error",n),W("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in t)if(t.hasOwnProperty(u)&&(r=t[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(I(137,e));default:fe(n,e,u,r,t,null)}return;default:if(Wh(e)){for(l in t)t.hasOwnProperty(l)&&(r=t[l],r!==void 0&&Oh(n,e,l,r,t,void 0));return}}for(a in t)t.hasOwnProperty(a)&&(r=t[a],r!=null&&fe(n,e,a,r,t,null))}function l3(n,e,t,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,o=null,i=null,a=null,c=null,u=null,l=null;for(d in t){var f=t[d];if(t.hasOwnProperty(d)&&f!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(d)||fe(n,e,d,null,r,f)}}for(var h in r){var d=r[h];if(f=t[h],r.hasOwnProperty(h)&&(d!=null||f!=null))switch(h){case"type":o=d;break;case"name":s=d;break;case"checked":u=d;break;case"defaultChecked":l=d;break;case"value":i=d;break;case"defaultValue":a=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(I(137,e));break;default:d!==f&&fe(n,e,h,d,r,f)}}ih(n,i,a,c,u,l,o,s);return;case"select":d=i=a=h=null;for(o in t)if(c=t[o],t.hasOwnProperty(o)&&c!=null)switch(o){case"value":break;case"multiple":d=c;default:r.hasOwnProperty(o)||fe(n,e,o,null,r,c)}for(s in r)if(o=r[s],c=t[s],r.hasOwnProperty(s)&&(o!=null||c!=null))switch(s){case"value":h=o;break;case"defaultValue":a=o;break;case"multiple":i=o;default:o!==c&&fe(n,e,s,o,r,c)}e=a,t=i,r=d,h!=null?ro(n,!!t,h,!1):!!r!=!!t&&(e!=null?ro(n,!!t,e,!0):ro(n,!!t,t?[]:"",!1));return;case"textarea":d=h=null;for(a in t)if(s=t[a],t.hasOwnProperty(a)&&s!=null&&!r.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:fe(n,e,a,null,r,s)}for(i in r)if(s=r[i],o=t[i],r.hasOwnProperty(i)&&(s!=null||o!=null))switch(i){case"value":h=s;break;case"defaultValue":d=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(I(91));break;default:s!==o&&fe(n,e,i,s,r,o)}k0(n,h,d);return;case"option":for(var p in t)if(h=t[p],t.hasOwnProperty(p)&&h!=null&&!r.hasOwnProperty(p))switch(p){case"selected":n.selected=!1;break;default:fe(n,e,p,null,r,h)}for(c in r)if(h=r[c],d=t[c],r.hasOwnProperty(c)&&h!==d&&(h!=null||d!=null))switch(c){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:fe(n,e,c,h,r,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in t)h=t[A],t.hasOwnProperty(A)&&h!=null&&!r.hasOwnProperty(A)&&fe(n,e,A,null,r,h);for(u in r)if(h=r[u],d=t[u],r.hasOwnProperty(u)&&h!==d&&(h!=null||d!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(I(137,e));break;default:fe(n,e,u,h,r,d)}return;default:if(Wh(e)){for(var _ in t)h=t[_],t.hasOwnProperty(_)&&h!==void 0&&!r.hasOwnProperty(_)&&Oh(n,e,_,void 0,r,h);for(l in r)h=r[l],d=t[l],!r.hasOwnProperty(l)||h===d||h===void 0&&d===void 0||Oh(n,e,l,h,r,d);return}}for(var m in t)h=t[m],t.hasOwnProperty(m)&&h!=null&&!r.hasOwnProperty(m)&&fe(n,e,m,null,r,h);for(f in r)h=r[f],d=t[f],!r.hasOwnProperty(f)||h===d||h==null&&d==null||fe(n,e,f,h,r,d)}function Qy(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function f3(){if(typeof performance.getEntriesByType=="function"){for(var n=0,e=0,t=performance.getEntriesByType("resource"),r=0;r<t.length;r++){var s=t[r],o=s.transferSize,i=s.initiatorType,a=s.duration;if(o&&a&&Qy(i)){for(i=0,a=s.responseEnd,r+=1;r<t.length;r++){var c=t[r],u=c.startTime;if(u>a)break;var l=c.transferSize,f=c.initiatorType;l&&Qy(f)&&(c=c.responseEnd,i+=l*(c<a?1:(a-u)/(c-u)))}if(--r,e+=8*(o+i)/(s.duration/1e3),n++,10<n)break}}if(0<n)return e/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Lh=null,Gh=null;function $c(n){return n.nodeType===9?n:n.ownerDocument}function Wy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nx(n,e){if(n===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&e==="foreignObject"?0:n}function Uh(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xf=null;function h3(){var n=window.event;return n&&n.type==="popstate"?n===Xf?!1:(Xf=n,!0):(Xf=null,!1)}var zx=typeof setTimeout=="function"?setTimeout:void 0,m3=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,d3=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(n){return $y.resolve(null).then(n).catch(p3)}:zx;function p3(n){setTimeout(function(){throw n})}function Lr(n){return n==="head"}function Zy(n,e){var t=e,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"||t==="/&"){if(r===0){n.removeChild(s),bo(e);return}r--}else if(t==="$"||t==="$?"||t==="$~"||t==="$!"||t==="&")r++;else if(t==="html")Ni(n.ownerDocument.documentElement);else if(t==="head"){t=n.ownerDocument.head,Ni(t);for(var o=t.firstChild;o;){var i=o.nextSibling,a=o.nodeName;o[oa]||a==="SCRIPT"||a==="STYLE"||a==="LINK"&&o.rel.toLowerCase()==="stylesheet"||t.removeChild(o),o=i}}else t==="body"&&Ni(n.ownerDocument.body);t=s}while(t);bo(e)}function e0(n,e){var t=n;n=0;do{var r=t.nextSibling;if(t.nodeType===1?e?(t._stashedDisplay=t.style.display,t.style.display="none"):(t.style.display=t._stashedDisplay||"",t.getAttribute("style")===""&&t.removeAttribute("style")):t.nodeType===3&&(e?(t._stashedText=t.nodeValue,t.nodeValue=""):t.nodeValue=t._stashedText||""),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(n===0)break;n--}else t!=="$"&&t!=="$?"&&t!=="$~"&&t!=="$!"||n++;t=r}while(t)}function Fh(n){var e=n.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var t=e;switch(e=e.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":Fh(t),Qh(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(t.rel.toLowerCase()==="stylesheet")continue}n.removeChild(t)}}function g3(n,e,t,r){for(;n.nodeType===1;){var s=t;if(n.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(r){if(!n[oa])switch(e){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(o=n.getAttribute("rel"),o==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(o!==s.rel||n.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||n.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||n.getAttribute("title")!==(s.title==null?null:s.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(o=n.getAttribute("src"),(o!==(s.src==null?null:s.src)||n.getAttribute("type")!==(s.type==null?null:s.type)||n.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&o&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(e==="input"&&n.type==="hidden"){var o=s.name==null?null:""+s.name;if(s.type==="hidden"&&n.getAttribute("name")===o)return n}else return n;if(n=Qt(n.nextSibling),n===null)break}return null}function y3(n,e,t){if(e==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!t||(n=Qt(n.nextSibling),n===null))return null;return n}function Hx(n,e){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!e||(n=Qt(n.nextSibling),n===null))return null;return n}function Nh(n){return n.data==="$?"||n.data==="$~"}function zh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function x3(n,e){var t=n.ownerDocument;if(n.data==="$~")n._reactRetry=e;else if(n.data!=="$?"||t.readyState!=="loading")e();else{var r=function(){e(),t.removeEventListener("DOMContentLoaded",r)};t.addEventListener("DOMContentLoaded",r),n._reactRetry=r}}function Qt(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return n}var Hh=null;function t0(n){n=n.nextSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"||t==="/&"){if(e===0)return Qt(n.nextSibling);e--}else t!=="$"&&t!=="$!"&&t!=="$?"&&t!=="$~"&&t!=="&"||e++}n=n.nextSibling}return null}function n0(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"){if(e===0)return n;e--}else t!=="/$"&&t!=="/&"||e++}n=n.previousSibling}return null}function Px(n,e,t){switch(e=$c(t),n){case"html":if(n=e.documentElement,!n)throw Error(I(452));return n;case"head":if(n=e.head,!n)throw Error(I(453));return n;case"body":if(n=e.body,!n)throw Error(I(454));return n;default:throw Error(I(451))}}function Ni(n){for(var e=n.attributes;e.length;)n.removeAttributeNode(e[0]);Qh(n)}var Wt=new Map,r0=new Set;function Zc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Qn=se.d;se.d={f:A3,r:b3,D:v3,C:w3,L:_3,m:T3,X:E3,S:B3,M:S3};function A3(){var n=Qn.f(),e=gu();return n||e}function b3(n){var e=wo(n);e!==null&&e.tag===5&&e.type==="form"?L1(e):Qn.r(n)}var Eo=typeof document>"u"?null:document;function jx(n,e,t){var r=Eo;if(r&&typeof e=="string"&&e){var s=Jt(e);s='link[rel="'+n+'"][href="'+s+'"]',typeof t=="string"&&(s+='[crossorigin="'+t+'"]'),r0.has(s)||(r0.add(s),n={rel:n,crossOrigin:t,href:e},r.querySelector(s)===null&&(e=r.createElement("link"),$e(e,"link",n),je(e),r.head.appendChild(e)))}}function v3(n){Qn.D(n),jx("dns-prefetch",n,null)}function w3(n,e){Qn.C(n,e),jx("preconnect",n,e)}function _3(n,e,t){Qn.L(n,e,t);var r=Eo;if(r&&n&&e){var s='link[rel="preload"][as="'+Jt(e)+'"]';e==="image"&&t&&t.imageSrcSet?(s+='[imagesrcset="'+Jt(t.imageSrcSet)+'"]',typeof t.imageSizes=="string"&&(s+='[imagesizes="'+Jt(t.imageSizes)+'"]')):s+='[href="'+Jt(n)+'"]';var o=s;switch(e){case"style":o=Ao(n);break;case"script":o=So(n)}Wt.has(o)||(n=be({rel:"preload",href:e==="image"&&t&&t.imageSrcSet?void 0:n,as:e},t),Wt.set(o,n),r.querySelector(s)!==null||e==="style"&&r.querySelector(fa(o))||e==="script"&&r.querySelector(ha(o))||(e=r.createElement("link"),$e(e,"link",n),je(e),r.head.appendChild(e)))}}function T3(n,e){Qn.m(n,e);var t=Eo;if(t&&n){var r=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+Jt(r)+'"][href="'+Jt(n)+'"]',o=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=So(n)}if(!Wt.has(o)&&(n=be({rel:"modulepreload",href:n},e),Wt.set(o,n),t.querySelector(s)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(ha(o)))return}r=t.createElement("link"),$e(r,"link",n),je(r),t.head.appendChild(r)}}}function B3(n,e,t){Qn.S(n,e,t);var r=Eo;if(r&&n){var s=no(r).hoistableStyles,o=Ao(n);e=e||"default";var i=s.get(o);if(!i){var a={loading:0,preload:null};if(i=r.querySelector(fa(o)))a.loading=5;else{n=be({rel:"stylesheet",href:n,"data-precedence":e},t),(t=Wt.get(o))&&Om(n,t);var c=i=r.createElement("link");je(c),$e(c,"link",n),c._p=new Promise(function(u,l){c.onload=u,c.onerror=l}),c.addEventListener("load",function(){a.loading|=1}),c.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Bc(i,e,r)}i={type:"stylesheet",instance:i,count:1,state:a},s.set(o,i)}}}function E3(n,e){Qn.X(n,e);var t=Eo;if(t&&n){var r=no(t).hoistableScripts,s=So(n),o=r.get(s);o||(o=t.querySelector(ha(s)),o||(n=be({src:n,async:!0},e),(e=Wt.get(s))&&Lm(n,e),o=t.createElement("script"),je(o),$e(o,"link",n),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(s,o))}}function S3(n,e){Qn.M(n,e);var t=Eo;if(t&&n){var r=no(t).hoistableScripts,s=So(n),o=r.get(s);o||(o=t.querySelector(ha(s)),o||(n=be({src:n,async:!0,type:"module"},e),(e=Wt.get(s))&&Lm(n,e),o=t.createElement("script"),je(o),$e(o,"link",n),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(s,o))}}function s0(n,e,t,r){var s=(s=wr.current)?Zc(s):null;if(!s)throw Error(I(446));switch(n){case"meta":case"title":return null;case"style":return typeof t.precedence=="string"&&typeof t.href=="string"?(e=Ao(t.href),t=no(s).hoistableStyles,r=t.get(e),r||(r={type:"style",instance:null,count:0,state:null},t.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(t.rel==="stylesheet"&&typeof t.href=="string"&&typeof t.precedence=="string"){n=Ao(t.href);var o=no(s).hoistableStyles,i=o.get(n);if(i||(s=s.ownerDocument||s,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(n,i),(o=s.querySelector(fa(n)))&&!o._p&&(i.instance=o,i.state.loading=5),Wt.has(n)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},Wt.set(n,t),o||M3(s,n,t,i.state))),e&&r===null)throw Error(I(528,""));return i}if(e&&r!==null)throw Error(I(529,""));return null;case"script":return e=t.async,t=t.src,typeof t=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=So(t),t=no(s).hoistableScripts,r=t.get(e),r||(r={type:"script",instance:null,count:0,state:null},t.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(I(444,n))}}function Ao(n){return'href="'+Jt(n)+'"'}function fa(n){return'link[rel="stylesheet"]['+n+"]"}function Kx(n){return be({},n,{"data-precedence":n.precedence,precedence:null})}function M3(n,e,t,r){n.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=n.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),$e(e,"link",t),je(e),n.head.appendChild(e))}function So(n){return'[src="'+Jt(n)+'"]'}function ha(n){return"script[async]"+n}function o0(n,e,t){if(e.count++,e.instance===null)switch(e.type){case"style":var r=n.querySelector('style[data-href~="'+Jt(t.href)+'"]');if(r)return e.instance=r,je(r),r;var s=be({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return r=(n.ownerDocument||n).createElement("style"),je(r),$e(r,"style",s),Bc(r,t.precedence,n),e.instance=r;case"stylesheet":s=Ao(t.href);var o=n.querySelector(fa(s));if(o)return e.state.loading|=4,e.instance=o,je(o),o;r=Kx(t),(s=Wt.get(s))&&Om(r,s),o=(n.ownerDocument||n).createElement("link"),je(o);var i=o;return i._p=new Promise(function(a,c){i.onload=a,i.onerror=c}),$e(o,"link",r),e.state.loading|=4,Bc(o,t.precedence,n),e.instance=o;case"script":return o=So(t.src),(s=n.querySelector(ha(o)))?(e.instance=s,je(s),s):(r=t,(s=Wt.get(o))&&(r=be({},t),Lm(r,s)),n=n.ownerDocument||n,s=n.createElement("script"),je(s),$e(s,"link",r),n.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(I(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,Bc(r,t.precedence,n));return e.instance}function Bc(n,e,t){for(var r=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,o=s,i=0;i<r.length;i++){var a=r[i];if(a.dataset.precedence===e)o=a;else if(o!==s)break}o?o.parentNode.insertBefore(n,o.nextSibling):(e=t.nodeType===9?t.head:t,e.insertBefore(n,e.firstChild))}function Om(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.title==null&&(n.title=e.title)}function Lm(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.integrity==null&&(n.integrity=e.integrity)}var Ec=null;function i0(n,e,t){if(Ec===null){var r=new Map,s=Ec=new Map;s.set(t,r)}else s=Ec,r=s.get(t),r||(r=new Map,s.set(t,r));if(r.has(n))return r;for(r.set(n,null),t=t.getElementsByTagName(n),s=0;s<t.length;s++){var o=t[s];if(!(o[oa]||o[Ye]||n==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var i=o.getAttribute(e)||"";i=n+i;var a=r.get(i);a?a.push(o):r.set(i,[o])}}return r}function a0(n,e,t){n=n.ownerDocument||n,n.head.insertBefore(t,e==="title"?n.querySelector("head > title"):null)}function C3(n,e,t){if(t===1||e.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return n=e.disabled,typeof e.precedence=="string"&&n==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Jx(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function V3(n,e,t,r){if(t.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var s=Ao(r.href),o=e.querySelector(fa(s));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=eu.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=o,je(o);return}o=e.ownerDocument||e,r=Kx(r),(s=Wt.get(s))&&Om(r,s),o=o.createElement("link"),je(o);var i=o;i._p=new Promise(function(a,c){i.onload=a,i.onerror=c}),$e(o,"link",r),t.instance=o}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=eu.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}var Yf=0;function R3(n,e){return n.stylesheets&&n.count===0&&Sc(n,n.stylesheets),0<n.count||0<n.imgCount?function(t){var r=setTimeout(function(){if(n.stylesheets&&Sc(n,n.stylesheets),n.unsuspend){var o=n.unsuspend;n.unsuspend=null,o()}},6e4+e);0<n.imgBytes&&Yf===0&&(Yf=62500*f3());var s=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Sc(n,n.stylesheets),n.unsuspend)){var o=n.unsuspend;n.unsuspend=null,o()}},(n.imgBytes>Yf?50:800)+e);return n.unsuspend=t,function(){n.unsuspend=null,clearTimeout(r),clearTimeout(s)}}:null}function eu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var tu=null;function Sc(n,e){n.stylesheets=null,n.unsuspend!==null&&(n.count++,tu=new Map,e.forEach(D3,n),tu=null,eu.call(n))}function D3(n,e){if(!(e.state.loading&4)){var t=tu.get(n);if(t)var r=t.get(null);else{t=new Map,tu.set(n,t);for(var s=n.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<s.length;o++){var i=s[o];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(t.set(i.dataset.precedence,i),r=i)}r&&t.set(null,r)}s=e.instance,i=s.getAttribute("data-precedence"),o=t.get(i)||r,o===r&&t.set(null,s),t.set(i,s),this.count++,r=eu.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),o?o.parentNode.insertBefore(s,o.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(s,n.firstChild)),e.state.loading|=4}}var $i={$$typeof:Fn,Provider:null,Consumer:null,_currentValue:rs,_currentValue2:rs,_threadCount:0};function I3(n,e,t,r,s,o,i,a,c){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vf(0),this.hiddenUpdates=vf(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=o,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function qx(n,e,t,r,s,o,i,a,c,u,l,f){return n=new I3(n,e,t,i,c,u,l,f,a),e=1,o===!0&&(e|=24),o=Mt(3,null,null,e),n.current=o,o.stateNode=n,e=cm(),e.refCount++,n.pooledCache=e,e.refCount++,o.memoizedState={element:r,isDehydrated:t,cache:e},fm(o),n}function Xx(n){return n?(n=$s,n):$s}function Yx(n,e,t,r,s,o){s=Xx(s),r.context===null?r.context=s:r.pendingContext=s,r=Tr(e),r.payload={element:t},o=o===void 0?null:o,o!==null&&(r.callback=o),t=Br(n,r,e),t!==null&&(bt(t,n,e),Di(t,n,e))}function c0(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Gm(n,e){c0(n,e),(n=n.alternate)&&c0(n,e)}function Qx(n){if(n.tag===13||n.tag===31){var e=gs(n,67108864);e!==null&&bt(e,n,67108864),Gm(n,67108864)}}function u0(n){if(n.tag===13||n.tag===31){var e=It();e=Xh(e);var t=gs(n,e);t!==null&&bt(t,n,e),Gm(n,e)}}var nu=!0;function k3(n,e,t,r){var s=P.T;P.T=null;var o=se.p;try{se.p=2,Um(n,e,t,r)}finally{se.p=o,P.T=s}}function O3(n,e,t,r){var s=P.T;P.T=null;var o=se.p;try{se.p=8,Um(n,e,t,r)}finally{se.p=o,P.T=s}}function Um(n,e,t,r){if(nu){var s=Ph(r);if(s===null)qf(n,e,r,ru,t),l0(n,r);else if(G3(s,n,e,t,r))r.stopPropagation();else if(l0(n,r),e&4&&-1<L3.indexOf(n)){for(;s!==null;){var o=wo(s);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var i=es(o.pendingLanes);if(i!==0){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;i;){var c=1<<31-Dt(i);a.entanglements[1]|=c,i&=~c}An(o),(re&6)===0&&(Jc=Vt()+500,la(0,!1))}}break;case 31:case 13:a=gs(o,2),a!==null&&bt(a,o,2),gu(),Gm(o,2)}if(o=Ph(r),o===null&&qf(n,e,r,ru,t),o===s)break;s=o}s!==null&&r.stopPropagation()}else qf(n,e,r,null,t)}}function Ph(n){return n=$h(n),Fm(n)}var ru=null;function Fm(n){if(ru=null,n=Js(n),n!==null){var e=ta(n);if(e===null)n=null;else{var t=e.tag;if(t===13){if(n=g0(e),n!==null)return n;n=null}else if(t===31){if(n=y0(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null)}}return ru=n,null}function Wx(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_w()){case v0:return 2;case w0:return 8;case Dc:case Tw:return 32;case _0:return 268435456;default:return 32}default:return 32}}var jh=!1,Mr=null,Cr=null,Vr=null,Zi=new Map,ea=new Map,gr=[],L3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l0(n,e){switch(n){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Zi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ea.delete(e.pointerId)}}function vi(n,e,t,r,s,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=wo(e),e!==null&&Qx(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function G3(n,e,t,r,s){switch(e){case"focusin":return Mr=vi(Mr,n,e,t,r,s),!0;case"dragenter":return Cr=vi(Cr,n,e,t,r,s),!0;case"mouseover":return Vr=vi(Vr,n,e,t,r,s),!0;case"pointerover":var o=s.pointerId;return Zi.set(o,vi(Zi.get(o)||null,n,e,t,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ea.set(o,vi(ea.get(o)||null,n,e,t,r,s)),!0}return!1}function $x(n){var e=Js(n.target);if(e!==null){var t=ta(e);if(t!==null){if(e=t.tag,e===13){if(e=g0(t),e!==null){n.blockedOn=e,qg(n.priority,function(){u0(t)});return}}else if(e===31){if(e=y0(t),e!==null){n.blockedOn=e,qg(n.priority,function(){u0(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Mc(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Ph(n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);ch=r,t.target.dispatchEvent(r),ch=null}else return e=wo(t),e!==null&&Qx(e),n.blockedOn=t,!1;e.shift()}return!0}function f0(n,e,t){Mc(n)&&t.delete(e)}function U3(){jh=!1,Mr!==null&&Mc(Mr)&&(Mr=null),Cr!==null&&Mc(Cr)&&(Cr=null),Vr!==null&&Mc(Vr)&&(Vr=null),Zi.forEach(f0),ea.forEach(f0)}function hc(n,e){n.blockedOn===e&&(n.blockedOn=null,jh||(jh=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,U3)))}var mc=null;function h0(n){mc!==n&&(mc=n,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,function(){mc===n&&(mc=null);for(var e=0;e<n.length;e+=3){var t=n[e],r=n[e+1],s=n[e+2];if(typeof r!="function"){if(Fm(r||t)===null)continue;break}var o=wo(t);o!==null&&(n.splice(e,3),e-=3,Th(o,{pending:!0,data:s,method:t.method,action:r},r,s))}}))}function bo(n){function e(c){return hc(c,n)}Mr!==null&&hc(Mr,n),Cr!==null&&hc(Cr,n),Vr!==null&&hc(Vr,n),Zi.forEach(e),ea.forEach(e);for(var t=0;t<gr.length;t++){var r=gr[t];r.blockedOn===n&&(r.blockedOn=null)}for(;0<gr.length&&(t=gr[0],t.blockedOn===null);)$x(t),t.blockedOn===null&&gr.shift();if(t=(n.ownerDocument||n).$$reactFormReplay,t!=null)for(r=0;r<t.length;r+=3){var s=t[r],o=t[r+1],i=s[vt]||null;if(typeof o=="function")i||h0(t);else if(i){var a=null;if(o&&o.hasAttribute("formAction")){if(s=o,i=o[vt]||null)a=i.formAction;else if(Fm(s)!==null)continue}else a=i.action;typeof a=="function"?t[r+1]=a:(t.splice(r,3),r-=3),h0(t)}}}function Zx(){function n(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(i){return s=i})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),r||setTimeout(t,20)}function t(){if(!r&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,s=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(t,100),function(){r=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function Nm(n){this._internalRoot=n}Au.prototype.render=Nm.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(I(409));var t=e.current,r=It();Yx(t,r,n,e,null,null)};Au.prototype.unmount=Nm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Yx(n.current,2,null,n,null,null),gu(),e[vo]=null}};function Au(n){this._internalRoot=n}Au.prototype.unstable_scheduleHydration=function(n){if(n){var e=M0();n={blockedOn:null,target:n,priority:e};for(var t=0;t<gr.length&&e!==0&&e<gr[t].priority;t++);gr.splice(t,0,n),t===0&&$x(n)}};var m0=d0.version;if(m0!=="19.2.0")throw Error(I(527,m0,"19.2.0"));se.findDOMNode=function(n){var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(I(188)):(n=Object.keys(n).join(","),Error(I(268,n)));return n=gw(e),n=n!==null?x0(n):null,n=n===null?null:n.stateNode,n};var F3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(wi=__REACT_DEVTOOLS_GLOBAL_HOOK__,!wi.isDisabled&&wi.supportsFiber))try{na=wi.inject(F3),Rt=wi}catch{}var wi;bu.createRoot=function(n,e){if(!p0(n))throw Error(I(299));var t=!1,r="",s=j1,o=K1,i=J1;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qx(n,1,!1,null,null,t,r,null,s,o,i,Zx),n[vo]=e.current,km(n),new Nm(e)};bu.hydrateRoot=function(n,e,t){if(!p0(n))throw Error(I(299));var r=!1,s="",o=j1,i=K1,a=J1,c=null;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.formState!==void 0&&(c=t.formState)),e=qx(n,1,!0,e,t??null,r,s,c,o,i,a,Zx),e.context=Xx(null),t=e.current,r=It(),r=Xh(r),s=Tr(r),s.callback=null,Br(t,s,r),t=r,e.current.lanes=t,sa(e,t),An(e),n[vo]=e.current,km(n),new Au(e)};bu.version="19.2.0"});var r2=at((KV,n2)=>{"use strict";function t2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t2)}catch(n){console.error(n)}}t2(),n2.exports=e2()});var Ra=at(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.isAnyArray=void 0;var DS=Object.prototype.toString;function IS(n){let e=DS.call(n);return e.endsWith("Array]")&&!e.includes("Big")}rl.isAnyArray=IS});var Vb=at((EU,Cb)=>{"use strict";var kS=Ra();function OS(n,e={}){if(!kS.isAnyArray(n))throw new TypeError("input must be an array");if(n.length===0)throw new TypeError("input must not be empty");let{fromIndex:t=0,toIndex:r=n.length}=e;if(t<0||t>=n.length||!Number.isInteger(t))throw new Error("fromIndex must be a positive integer smaller than length");if(r<=t||r>n.length||!Number.isInteger(r))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");let s=n[t];for(let o=t+1;o<r;o++)n[o]>s&&(s=n[o]);return s}Cb.exports=OS});var Db=at((SU,Rb)=>{"use strict";var LS=Ra();function GS(n,e={}){if(!LS.isAnyArray(n))throw new TypeError("input must be an array");if(n.length===0)throw new TypeError("input must not be empty");let{fromIndex:t=0,toIndex:r=n.length}=e;if(t<0||t>=n.length||!Number.isInteger(t))throw new Error("fromIndex must be a positive integer smaller than length");if(r<=t||r>n.length||!Number.isInteger(r))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");let s=n[t];for(let o=t+1;o<r;o++)n[o]<s&&(s=n[o]);return s}Rb.exports=GS});var Lb=at((MU,Ob)=>{"use strict";var Ib=Ra(),US=Vb(),FS=Db();function kb(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var NS=kb(US),zS=kb(FS);function HS(n,e={}){if(Ib.isAnyArray(n)){if(n.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");let t;if(e.output!==void 0){if(!Ib.isAnyArray(e.output))throw new TypeError("output option must be an array if specified");t=e.output}else t=new Array(n.length);let r=zS.default(n),s=NS.default(n);if(r===s)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");let{min:o=e.autoMinMax?r:0,max:i=e.autoMinMax?s:1}=e;if(o>=i)throw new RangeError("min option must be smaller than max option");let a=(i-o)/(s-r);for(let c=0;c<n.length;c++)t[c]=(n[c]-r)*a+o;return t}Ob.exports=HS});var Pb=at(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});var Tt=Ra(),Gb=Lb(),sl=" ".repeat(2),Nb=" ".repeat(4);function PS(){return zb(this)}function zb(n,e={}){let{maxRows:t=15,maxColumns:r=10,maxNumSize:s=8,padMinus:o="auto"}=e;return`${n.constructor.name} {
${sl}[
${Nb}${jS(n,t,r,s,o)}
${sl}]
${sl}rows: ${n.rows}
${sl}columns: ${n.columns}
}`}function jS(n,e,t,r,s){let{rows:o,columns:i}=n,a=Math.min(o,e),c=Math.min(i,t),u=[];if(s==="auto"){s=!1;e:for(let l=0;l<a;l++)for(let f=0;f<c;f++)if(n.get(l,f)<0){s=!0;break e}}for(let l=0;l<a;l++){let f=[];for(let h=0;h<c;h++)f.push(KS(n.get(l,h),r,s));u.push(`${f.join(" ")}`)}return c!==i&&(u[u.length-1]+=` ... ${i-t} more columns`),a!==o&&u.push(`... ${o-e} more rows`),u.join(`
${Nb}`)}function KS(n,e,t){return(n>=0&&t?` ${Ub(n,e-1)}`:Ub(n,e)).padEnd(e)}function Ub(n,e){let t=n.toString();if(t.length<=e)return t;let r=n.toFixed(e);if(r.length>e&&(r=n.toFixed(Math.max(0,e-(r.length-e)))),r.length<=e&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;let s=n.toExponential(e);return s.length>e&&(s=n.toExponential(Math.max(0,e-(s.length-e)))),s.slice(0)}function JS(n,e){n.prototype.add=function(r){return typeof r=="number"?this.addS(r):this.addM(r)},n.prototype.addS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)+r);return this},n.prototype.addM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)+r.get(s,o));return this},n.add=function(r,s){return new e(r).add(s)},n.prototype.sub=function(r){return typeof r=="number"?this.subS(r):this.subM(r)},n.prototype.subS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)-r);return this},n.prototype.subM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)-r.get(s,o));return this},n.sub=function(r,s){return new e(r).sub(s)},n.prototype.subtract=n.prototype.sub,n.prototype.subtractS=n.prototype.subS,n.prototype.subtractM=n.prototype.subM,n.subtract=n.sub,n.prototype.mul=function(r){return typeof r=="number"?this.mulS(r):this.mulM(r)},n.prototype.mulS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)*r);return this},n.prototype.mulM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)*r.get(s,o));return this},n.mul=function(r,s){return new e(r).mul(s)},n.prototype.multiply=n.prototype.mul,n.prototype.multiplyS=n.prototype.mulS,n.prototype.multiplyM=n.prototype.mulM,n.multiply=n.mul,n.prototype.div=function(r){return typeof r=="number"?this.divS(r):this.divM(r)},n.prototype.divS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)/r);return this},n.prototype.divM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)/r.get(s,o));return this},n.div=function(r,s){return new e(r).div(s)},n.prototype.divide=n.prototype.div,n.prototype.divideS=n.prototype.divS,n.prototype.divideM=n.prototype.divM,n.divide=n.div,n.prototype.mod=function(r){return typeof r=="number"?this.modS(r):this.modM(r)},n.prototype.modS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)%r);return this},n.prototype.modM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)%r.get(s,o));return this},n.mod=function(r,s){return new e(r).mod(s)},n.prototype.modulus=n.prototype.mod,n.prototype.modulusS=n.prototype.modS,n.prototype.modulusM=n.prototype.modM,n.modulus=n.mod,n.prototype.and=function(r){return typeof r=="number"?this.andS(r):this.andM(r)},n.prototype.andS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)&r);return this},n.prototype.andM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)&r.get(s,o));return this},n.and=function(r,s){return new e(r).and(s)},n.prototype.or=function(r){return typeof r=="number"?this.orS(r):this.orM(r)},n.prototype.orS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)|r);return this},n.prototype.orM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)|r.get(s,o));return this},n.or=function(r,s){return new e(r).or(s)},n.prototype.xor=function(r){return typeof r=="number"?this.xorS(r):this.xorM(r)},n.prototype.xorS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)^r);return this},n.prototype.xorM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)^r.get(s,o));return this},n.xor=function(r,s){return new e(r).xor(s)},n.prototype.leftShift=function(r){return typeof r=="number"?this.leftShiftS(r):this.leftShiftM(r)},n.prototype.leftShiftS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)<<r);return this},n.prototype.leftShiftM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)<<r.get(s,o));return this},n.leftShift=function(r,s){return new e(r).leftShift(s)},n.prototype.signPropagatingRightShift=function(r){return typeof r=="number"?this.signPropagatingRightShiftS(r):this.signPropagatingRightShiftM(r)},n.prototype.signPropagatingRightShiftS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)>>r);return this},n.prototype.signPropagatingRightShiftM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)>>r.get(s,o));return this},n.signPropagatingRightShift=function(r,s){return new e(r).signPropagatingRightShift(s)},n.prototype.rightShift=function(r){return typeof r=="number"?this.rightShiftS(r):this.rightShiftM(r)},n.prototype.rightShiftS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)>>>r);return this},n.prototype.rightShiftM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)>>>r.get(s,o));return this},n.rightShift=function(r,s){return new e(r).rightShift(s)},n.prototype.zeroFillRightShift=n.prototype.rightShift,n.prototype.zeroFillRightShiftS=n.prototype.rightShiftS,n.prototype.zeroFillRightShiftM=n.prototype.rightShiftM,n.zeroFillRightShift=n.rightShift,n.prototype.not=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,~this.get(r,s));return this},n.not=function(r){return new e(r).not()},n.prototype.abs=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.abs(this.get(r,s)));return this},n.abs=function(r){return new e(r).abs()},n.prototype.acos=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.acos(this.get(r,s)));return this},n.acos=function(r){return new e(r).acos()},n.prototype.acosh=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.acosh(this.get(r,s)));return this},n.acosh=function(r){return new e(r).acosh()},n.prototype.asin=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.asin(this.get(r,s)));return this},n.asin=function(r){return new e(r).asin()},n.prototype.asinh=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.asinh(this.get(r,s)));return this},n.asinh=function(r){return new e(r).asinh()},n.prototype.atan=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.atan(this.get(r,s)));return this},n.atan=function(r){return new e(r).atan()},n.prototype.atanh=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.atanh(this.get(r,s)));return this},n.atanh=function(r){return new e(r).atanh()},n.prototype.cbrt=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.cbrt(this.get(r,s)));return this},n.cbrt=function(r){return new e(r).cbrt()},n.prototype.ceil=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.ceil(this.get(r,s)));return this},n.ceil=function(r){return new e(r).ceil()},n.prototype.clz32=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.clz32(this.get(r,s)));return this},n.clz32=function(r){return new e(r).clz32()},n.prototype.cos=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.cos(this.get(r,s)));return this},n.cos=function(r){return new e(r).cos()},n.prototype.cosh=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.cosh(this.get(r,s)));return this},n.cosh=function(r){return new e(r).cosh()},n.prototype.exp=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.exp(this.get(r,s)));return this},n.exp=function(r){return new e(r).exp()},n.prototype.expm1=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.expm1(this.get(r,s)));return this},n.expm1=function(r){return new e(r).expm1()},n.prototype.floor=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.floor(this.get(r,s)));return this},n.floor=function(r){return new e(r).floor()},n.prototype.fround=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.fround(this.get(r,s)));return this},n.fround=function(r){return new e(r).fround()},n.prototype.log=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.log(this.get(r,s)));return this},n.log=function(r){return new e(r).log()},n.prototype.log1p=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.log1p(this.get(r,s)));return this},n.log1p=function(r){return new e(r).log1p()},n.prototype.log10=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.log10(this.get(r,s)));return this},n.log10=function(r){return new e(r).log10()},n.prototype.log2=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.log2(this.get(r,s)));return this},n.log2=function(r){return new e(r).log2()},n.prototype.round=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.round(this.get(r,s)));return this},n.round=function(r){return new e(r).round()},n.prototype.sign=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.sign(this.get(r,s)));return this},n.sign=function(r){return new e(r).sign()},n.prototype.sin=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.sin(this.get(r,s)));return this},n.sin=function(r){return new e(r).sin()},n.prototype.sinh=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.sinh(this.get(r,s)));return this},n.sinh=function(r){return new e(r).sinh()},n.prototype.sqrt=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.sqrt(this.get(r,s)));return this},n.sqrt=function(r){return new e(r).sqrt()},n.prototype.tan=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.tan(this.get(r,s)));return this},n.tan=function(r){return new e(r).tan()},n.prototype.tanh=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.tanh(this.get(r,s)));return this},n.tanh=function(r){return new e(r).tanh()},n.prototype.trunc=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.trunc(this.get(r,s)));return this},n.trunc=function(r){return new e(r).trunc()},n.pow=function(r,s){return new e(r).pow(s)},n.prototype.pow=function(r){return typeof r=="number"?this.powS(r):this.powM(r)},n.prototype.powS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)**r);return this},n.prototype.powM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)**r.get(s,o));return this}}function en(n,e,t){let r=t?n.rows:n.rows-1;if(e<0||e>r)throw new RangeError("Row index out of range")}function tn(n,e,t){let r=t?n.columns:n.columns-1;if(e<0||e>r)throw new RangeError("Column index out of range")}function qo(n,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==n.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function Xo(n,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==n.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function Sp(n,e){if(!Tt.isAnyArray(e))throw new TypeError("row indices must be an array");for(let t=0;t<e.length;t++)if(e[t]<0||e[t]>=n.rows)throw new RangeError("row indices are out of range")}function Mp(n,e){if(!Tt.isAnyArray(e))throw new TypeError("column indices must be an array");for(let t=0;t<e.length;t++)if(e[t]<0||e[t]>=n.columns)throw new RangeError("column indices are out of range")}function xp(n,e,t,r,s){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(ol("startRow",e),ol("endRow",t),ol("startColumn",r),ol("endColumn",s),e>t||r>s||e<0||e>=n.rows||t<0||t>=n.rows||r<0||r>=n.columns||s<0||s>=n.columns)throw new RangeError("Submatrix indices are out of range")}function ml(n,e=0){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function ol(n,e){if(typeof e!="number")throw new TypeError(`${n} must be a number`)}function Jo(n){if(n.isEmpty())throw new Error("Empty matrix has no elements to index")}function qS(n){let e=ml(n.rows);for(let t=0;t<n.rows;++t)for(let r=0;r<n.columns;++r)e[t]+=n.get(t,r);return e}function XS(n){let e=ml(n.columns);for(let t=0;t<n.rows;++t)for(let r=0;r<n.columns;++r)e[r]+=n.get(t,r);return e}function YS(n){let e=0;for(let t=0;t<n.rows;t++)for(let r=0;r<n.columns;r++)e+=n.get(t,r);return e}function QS(n){let e=ml(n.rows,1);for(let t=0;t<n.rows;++t)for(let r=0;r<n.columns;++r)e[t]*=n.get(t,r);return e}function WS(n){let e=ml(n.columns,1);for(let t=0;t<n.rows;++t)for(let r=0;r<n.columns;++r)e[r]*=n.get(t,r);return e}function $S(n){let e=1;for(let t=0;t<n.rows;t++)for(let r=0;r<n.columns;r++)e*=n.get(t,r);return e}function ZS(n,e,t){let r=n.rows,s=n.columns,o=[];for(let i=0;i<r;i++){let a=0,c=0,u=0;for(let l=0;l<s;l++)u=n.get(i,l)-t[i],a+=u,c+=u*u;e?o.push((c-a*a/s)/(s-1)):o.push((c-a*a/s)/s)}return o}function eM(n,e,t){let r=n.rows,s=n.columns,o=[];for(let i=0;i<s;i++){let a=0,c=0,u=0;for(let l=0;l<r;l++)u=n.get(l,i)-t[i],a+=u,c+=u*u;e?o.push((c-a*a/r)/(r-1)):o.push((c-a*a/r)/r)}return o}function tM(n,e,t){let r=n.rows,s=n.columns,o=r*s,i=0,a=0,c=0;for(let u=0;u<r;u++)for(let l=0;l<s;l++)c=n.get(u,l)-t,i+=c,a+=c*c;return e?(a-i*i/o)/(o-1):(a-i*i/o)/o}function nM(n,e){for(let t=0;t<n.rows;t++)for(let r=0;r<n.columns;r++)n.set(t,r,n.get(t,r)-e[t])}function rM(n,e){for(let t=0;t<n.rows;t++)for(let r=0;r<n.columns;r++)n.set(t,r,n.get(t,r)-e[r])}function sM(n,e){for(let t=0;t<n.rows;t++)for(let r=0;r<n.columns;r++)n.set(t,r,n.get(t,r)-e)}function oM(n){let e=[];for(let t=0;t<n.rows;t++){let r=0;for(let s=0;s<n.columns;s++)r+=n.get(t,s)**2/(n.columns-1);e.push(Math.sqrt(r))}return e}function iM(n,e){for(let t=0;t<n.rows;t++)for(let r=0;r<n.columns;r++)n.set(t,r,n.get(t,r)/e[t])}function aM(n){let e=[];for(let t=0;t<n.columns;t++){let r=0;for(let s=0;s<n.rows;s++)r+=n.get(s,t)**2/(n.rows-1);e.push(Math.sqrt(r))}return e}function cM(n,e){for(let t=0;t<n.rows;t++)for(let r=0;r<n.columns;r++)n.set(t,r,n.get(t,r)/e[r])}function uM(n){let e=n.size-1,t=0;for(let r=0;r<n.columns;r++)for(let s=0;s<n.rows;s++)t+=n.get(s,r)**2/e;return Math.sqrt(t)}function lM(n,e){for(let t=0;t<n.rows;t++)for(let r=0;r<n.columns;r++)n.set(t,r,n.get(t,r)/e)}var ve=class n{static from1DArray(e,t,r){if(e*t!==r.length)throw new RangeError("data length does not match given dimensions");let o=new F(e,t);for(let i=0;i<e;i++)for(let a=0;a<t;a++)o.set(i,a,r[i*t+a]);return o}static rowVector(e){let t=new F(1,e.length);for(let r=0;r<e.length;r++)t.set(0,r,e[r]);return t}static columnVector(e){let t=new F(e.length,1);for(let r=0;r<e.length;r++)t.set(r,0,e[r]);return t}static zeros(e,t){return new F(e,t)}static ones(e,t){return new F(e,t).fill(1)}static rand(e,t,r={}){if(typeof r!="object")throw new TypeError("options must be an object");let{random:s=Math.random}=r,o=new F(e,t);for(let i=0;i<e;i++)for(let a=0;a<t;a++)o.set(i,a,s());return o}static randInt(e,t,r={}){if(typeof r!="object")throw new TypeError("options must be an object");let{min:s=0,max:o=1e3,random:i=Math.random}=r;if(!Number.isInteger(s))throw new TypeError("min must be an integer");if(!Number.isInteger(o))throw new TypeError("max must be an integer");if(s>=o)throw new RangeError("min must be smaller than max");let a=o-s,c=new F(e,t);for(let u=0;u<e;u++)for(let l=0;l<t;l++){let f=s+Math.round(i()*a);c.set(u,l,f)}return c}static eye(e,t,r){t===void 0&&(t=e),r===void 0&&(r=1);let s=Math.min(e,t),o=this.zeros(e,t);for(let i=0;i<s;i++)o.set(i,i,r);return o}static diag(e,t,r){let s=e.length;t===void 0&&(t=s),r===void 0&&(r=t);let o=Math.min(s,t,r),i=this.zeros(t,r);for(let a=0;a<o;a++)i.set(a,a,e[a]);return i}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let r=e.rows,s=e.columns,o=new F(r,s);for(let i=0;i<r;i++)for(let a=0;a<s;a++)o.set(i,a,Math.min(e.get(i,a),t.get(i,a)));return o}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let r=e.rows,s=e.columns,o=new this(r,s);for(let i=0;i<r;i++)for(let a=0;a<s;a++)o.set(i,a,Math.max(e.get(i,a),t.get(i,a)));return o}static checkMatrix(e){return n.isMatrix(e)?e:new F(e)}static isMatrix(e){return e!=null&&e.klass==="Matrix"}get size(){return this.rows*this.columns}apply(e){if(typeof e!="function")throw new TypeError("callback must be a function");for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e.call(this,t,r);return this}to1DArray(){let e=[];for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e.push(this.get(t,r));return e}to2DArray(){let e=[];for(let t=0;t<this.rows;t++){e.push([]);for(let r=0;r<this.columns;r++)e[t].push(this.get(t,r))}return e}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let e=0;e<this.rows;e++)if(this.get(e,e)!==0)return!1;return!0}isEchelonForm(){let e=0,t=0,r=-1,s=!0,o=!1;for(;e<this.rows&&s;){for(t=0,o=!1;t<this.columns&&o===!1;)this.get(e,t)===0?t++:this.get(e,t)===1&&t>r?(o=!0,r=t):(s=!1,o=!0);e++}return s}isReducedEchelonForm(){let e=0,t=0,r=-1,s=!0,o=!1;for(;e<this.rows&&s;){for(t=0,o=!1;t<this.columns&&o===!1;)this.get(e,t)===0?t++:this.get(e,t)===1&&t>r?(o=!0,r=t):(s=!1,o=!0);for(let i=t+1;i<this.rows;i++)this.get(e,i)!==0&&(s=!1);e++}return s}echelonForm(){let e=this.clone(),t=0,r=0;for(;t<e.rows&&r<e.columns;){let s=t;for(let o=t;o<e.rows;o++)e.get(o,r)>e.get(s,r)&&(s=o);if(e.get(s,r)===0)r++;else{e.swapRows(t,s);let o=e.get(t,r);for(let i=r;i<e.columns;i++)e.set(t,i,e.get(t,i)/o);for(let i=t+1;i<e.rows;i++){let a=e.get(i,r)/e.get(t,r);e.set(i,r,0);for(let c=r+1;c<e.columns;c++)e.set(i,c,e.get(i,c)-e.get(t,c)*a)}t++,r++}}return e}reducedEchelonForm(){let e=this.echelonForm(),t=e.columns,r=e.rows,s=r-1;for(;s>=0;)if(e.maxRow(s)===0)s--;else{let o=0,i=!1;for(;o<r&&i===!1;)e.get(s,o)===1?i=!0:o++;for(let a=0;a<s;a++){let c=e.get(a,o);for(let u=o;u<t;u++){let l=e.get(a,u)-c*e.get(s,u);e.set(a,u,l)}}s--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if(typeof e!="object")throw new TypeError("options must be an object");let{rows:t=1,columns:r=1}=e;if(!Number.isInteger(t)||t<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let s=new F(this.rows*t,this.columns*r);for(let o=0;o<t;o++)for(let i=0;i<r;i++)s.setSubMatrix(this,this.rows*o,this.columns*i);return s}fill(e){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,e);return this}neg(){return this.mulS(-1)}getRow(e){en(this,e);let t=[];for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}getRowVector(e){return F.rowVector(this.getRow(e))}setRow(e,t){en(this,e),t=qo(this,t);for(let r=0;r<this.columns;r++)this.set(e,r,t[r]);return this}swapRows(e,t){en(this,e),en(this,t);for(let r=0;r<this.columns;r++){let s=this.get(e,r);this.set(e,r,this.get(t,r)),this.set(t,r,s)}return this}getColumn(e){tn(this,e);let t=[];for(let r=0;r<this.rows;r++)t.push(this.get(r,e));return t}getColumnVector(e){return F.columnVector(this.getColumn(e))}setColumn(e,t){tn(this,e),t=Xo(this,t);for(let r=0;r<this.rows;r++)this.set(r,e,t[r]);return this}swapColumns(e,t){tn(this,e),tn(this,t);for(let r=0;r<this.rows;r++){let s=this.get(r,e);this.set(r,e,this.get(r,t)),this.set(r,t,s)}return this}addRowVector(e){e=qo(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)+e[r]);return this}subRowVector(e){e=qo(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)-e[r]);return this}mulRowVector(e){e=qo(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e[r]);return this}divRowVector(e){e=qo(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)/e[r]);return this}addColumnVector(e){e=Xo(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)+e[t]);return this}subColumnVector(e){e=Xo(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)-e[t]);return this}mulColumnVector(e){e=Xo(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e[t]);return this}divColumnVector(e){e=Xo(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)/e[t]);return this}mulRow(e,t){en(this,e);for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this}mulColumn(e,t){tn(this,e);for(let r=0;r<this.rows;r++)this.set(r,e,this.get(r,e)*t);return this}max(e){if(this.isEmpty())return NaN;switch(e){case"row":{let t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)>t[r]&&(t[r]=this.get(r,s));return t}case"column":{let t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)>t[s]&&(t[s]=this.get(r,s));return t}case void 0:{let t=this.get(0,0);for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)>t&&(t=this.get(r,s));return t}default:throw new Error(`invalid option: ${e}`)}}maxIndex(){Jo(this);let e=this.get(0,0),t=[0,0];for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)>e&&(e=this.get(r,s),t[0]=r,t[1]=s);return t}min(e){if(this.isEmpty())return NaN;switch(e){case"row":{let t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)<t[r]&&(t[r]=this.get(r,s));return t}case"column":{let t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)<t[s]&&(t[s]=this.get(r,s));return t}case void 0:{let t=this.get(0,0);for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)<t&&(t=this.get(r,s));return t}default:throw new Error(`invalid option: ${e}`)}}minIndex(){Jo(this);let e=this.get(0,0),t=[0,0];for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)<e&&(e=this.get(r,s),t[0]=r,t[1]=s);return t}maxRow(e){if(en(this,e),this.isEmpty())return NaN;let t=this.get(e,0);for(let r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}maxRowIndex(e){en(this,e),Jo(this);let t=this.get(e,0),r=[e,0];for(let s=1;s<this.columns;s++)this.get(e,s)>t&&(t=this.get(e,s),r[1]=s);return r}minRow(e){if(en(this,e),this.isEmpty())return NaN;let t=this.get(e,0);for(let r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}minRowIndex(e){en(this,e),Jo(this);let t=this.get(e,0),r=[e,0];for(let s=1;s<this.columns;s++)this.get(e,s)<t&&(t=this.get(e,s),r[1]=s);return r}maxColumn(e){if(tn(this,e),this.isEmpty())return NaN;let t=this.get(0,e);for(let r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e));return t}maxColumnIndex(e){tn(this,e),Jo(this);let t=this.get(0,e),r=[0,e];for(let s=1;s<this.rows;s++)this.get(s,e)>t&&(t=this.get(s,e),r[0]=s);return r}minColumn(e){if(tn(this,e),this.isEmpty())return NaN;let t=this.get(0,e);for(let r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e));return t}minColumnIndex(e){tn(this,e),Jo(this);let t=this.get(0,e),r=[0,e];for(let s=1;s<this.rows;s++)this.get(s,e)<t&&(t=this.get(s,e),r[0]=s);return r}diag(){let e=Math.min(this.rows,this.columns),t=[];for(let r=0;r<e;r++)t.push(this.get(r,r));return t}norm(e="frobenius"){switch(e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${e}`)}}cumulativeSum(){let e=0;for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e+=this.get(t,r),this.set(t,r,e);return this}dot(e){n.isMatrix(e)&&(e=e.to1DArray());let t=this.to1DArray();if(t.length!==e.length)throw new RangeError("vectors do not have the same size");let r=0;for(let s=0;s<t.length;s++)r+=t[s]*e[s];return r}mmul(e){e=F.checkMatrix(e);let t=this.rows,r=this.columns,s=e.columns,o=new F(t,s),i=new Float64Array(r);for(let a=0;a<s;a++){for(let c=0;c<r;c++)i[c]=e.get(c,a);for(let c=0;c<t;c++){let u=0;for(let l=0;l<r;l++)u+=this.get(c,l)*i[l];o.set(c,a,u)}}return o}mpow(e){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(e)||e<0)throw new RangeError("Exponent must be a non-negative integer");let t=F.eye(this.rows),r=this;for(let s=e;s>=1;s/=2)(s&1)!==0&&(t=t.mmul(r)),r=r.mmul(r);return t}strassen2x2(e){e=F.checkMatrix(e);let t=new F(2,2),r=this.get(0,0),s=e.get(0,0),o=this.get(0,1),i=e.get(0,1),a=this.get(1,0),c=e.get(1,0),u=this.get(1,1),l=e.get(1,1),f=(r+u)*(s+l),h=(a+u)*s,d=r*(i-l),p=u*(c-s),A=(r+o)*l,_=(a-r)*(s+i),m=(o-u)*(c+l),g=f+p-A+m,y=d+A,v=h+p,V=f-h+d+_;return t.set(0,0,g),t.set(0,1,y),t.set(1,0,v),t.set(1,1,V),t}strassen3x3(e){e=F.checkMatrix(e);let t=new F(3,3),r=this.get(0,0),s=this.get(0,1),o=this.get(0,2),i=this.get(1,0),a=this.get(1,1),c=this.get(1,2),u=this.get(2,0),l=this.get(2,1),f=this.get(2,2),h=e.get(0,0),d=e.get(0,1),p=e.get(0,2),A=e.get(1,0),_=e.get(1,1),m=e.get(1,2),g=e.get(2,0),y=e.get(2,1),v=e.get(2,2),V=(r+s+o-i-a-l-f)*_,L=(r-i)*(-d+_),C=a*(-h+d+A-_-m-g+v),D=(-r+i+a)*(h-d+_),G=(i+a)*(-h+d),w=r*h,R=(-r+u+l)*(h-p+m),U=(-r+u)*(p-m),O=(u+l)*(-h+p),z=(r+s+o-a-c-u-l)*m,K=l*(-h+p+A-_-m-g+y),Y=(-o+l+f)*(_+g-y),te=(o-f)*(_-y),we=o*g,Ue=(l+f)*(-g+y),le=(-o+a+c)*(m+g-v),tt=(o-c)*(m-v),it=(a+c)*(-g+v),J=s*A,Be=c*y,Fe=i*p,De=u*d,de=f*v,qr=w+we+J,Xr=V+D+G+w+Y+we+Ue,sr=w+R+O+z+we+le+it,or=L+C+D+w+we+le+tt,Yr=L+D+G+w+Be,ks=we+le+tt+it+Fe,ai=w+R+U+K+Y+te+we,ci=Y+te+we+Ue+De,ui=w+R+U+O+de;return t.set(0,0,qr),t.set(0,1,Xr),t.set(0,2,sr),t.set(1,0,or),t.set(1,1,Yr),t.set(1,2,ks),t.set(2,0,ai),t.set(2,1,ci),t.set(2,2,ui),t}mmulStrassen(e){e=F.checkMatrix(e);let t=this.clone(),r=t.rows,s=t.columns,o=e.rows,i=e.columns;s!==o&&console.warn(`Multiplying ${r} x ${s} and ${o} x ${i} matrix: dimensions do not match.`);function a(f,h,d){let p=f.rows,A=f.columns;if(p===h&&A===d)return f;{let _=n.zeros(h,d);return _=_.setSubMatrix(f,0,0),_}}let c=Math.max(r,o),u=Math.max(s,i);t=a(t,c,u),e=a(e,c,u);function l(f,h,d,p){if(d<=512||p<=512)return f.mmul(h);d%2===1&&p%2===1?(f=a(f,d+1,p+1),h=a(h,d+1,p+1)):d%2===1?(f=a(f,d+1,p),h=a(h,d+1,p)):p%2===1&&(f=a(f,d,p+1),h=a(h,d,p+1));let A=parseInt(f.rows/2,10),_=parseInt(f.columns/2,10),m=f.subMatrix(0,A-1,0,_-1),g=h.subMatrix(0,A-1,0,_-1),y=f.subMatrix(0,A-1,_,f.columns-1),v=h.subMatrix(0,A-1,_,h.columns-1),V=f.subMatrix(A,f.rows-1,0,_-1),L=h.subMatrix(A,h.rows-1,0,_-1),C=f.subMatrix(A,f.rows-1,_,f.columns-1),D=h.subMatrix(A,h.rows-1,_,h.columns-1),G=l(n.add(m,C),n.add(g,D),A,_),w=l(n.add(V,C),g,A,_),R=l(m,n.sub(v,D),A,_),U=l(C,n.sub(L,g),A,_),O=l(n.add(m,y),D,A,_),z=l(n.sub(V,m),n.add(g,v),A,_),K=l(n.sub(y,C),n.add(L,D),A,_),Y=n.add(G,U);Y.sub(O),Y.add(K);let te=n.add(R,O),we=n.add(w,U),Ue=n.sub(G,w);Ue.add(R),Ue.add(z);let le=n.zeros(2*Y.rows,2*Y.columns);return le=le.setSubMatrix(Y,0,0),le=le.setSubMatrix(te,Y.rows,0),le=le.setSubMatrix(we,0,Y.columns),le=le.setSubMatrix(Ue,Y.rows,Y.columns),le.subMatrix(0,d-1,0,p-1)}return l(t,e,c,u)}scaleRows(e={}){if(typeof e!="object")throw new TypeError("options must be an object");let{min:t=0,max:r=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(t>=r)throw new RangeError("min must be smaller than max");let s=new F(this.rows,this.columns);for(let o=0;o<this.rows;o++){let i=this.getRow(o);i.length>0&&Gb(i,{min:t,max:r,output:i}),s.setRow(o,i)}return s}scaleColumns(e={}){if(typeof e!="object")throw new TypeError("options must be an object");let{min:t=0,max:r=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(t>=r)throw new RangeError("min must be smaller than max");let s=new F(this.rows,this.columns);for(let o=0;o<this.columns;o++){let i=this.getColumn(o);i.length&&Gb(i,{min:t,max:r,output:i}),s.setColumn(o,i)}return s}flipRows(){let e=Math.ceil(this.columns/2);for(let t=0;t<this.rows;t++)for(let r=0;r<e;r++){let s=this.get(t,r),o=this.get(t,this.columns-1-r);this.set(t,r,o),this.set(t,this.columns-1-r,s)}return this}flipColumns(){let e=Math.ceil(this.rows/2);for(let t=0;t<this.columns;t++)for(let r=0;r<e;r++){let s=this.get(r,t),o=this.get(this.rows-1-r,t);this.set(r,t,o),this.set(this.rows-1-r,t,s)}return this}kroneckerProduct(e){e=F.checkMatrix(e);let t=this.rows,r=this.columns,s=e.rows,o=e.columns,i=new F(t*s,r*o);for(let a=0;a<t;a++)for(let c=0;c<r;c++)for(let u=0;u<s;u++)for(let l=0;l<o;l++)i.set(s*a+u,o*c+l,this.get(a,c)*e.get(u,l));return i}kroneckerSum(e){if(e=F.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let t=this.rows,r=e.rows,s=this.kroneckerProduct(F.eye(r,r)),o=F.eye(t,t).kroneckerProduct(e);return s.add(o)}transpose(){let e=new F(this.columns,this.rows);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e.set(r,t,this.get(t,r));return e}sortRows(e=Fb){for(let t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e=Fb){for(let t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,r,s){xp(this,e,t,r,s);let o=new F(t-e+1,s-r+1);for(let i=e;i<=t;i++)for(let a=r;a<=s;a++)o.set(i-e,a-r,this.get(i,a));return o}subMatrixRow(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=this.columns-1),t>r||t<0||t>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let s=new F(e.length,r-t+1);for(let o=0;o<e.length;o++)for(let i=t;i<=r;i++){if(e[o]<0||e[o]>=this.rows)throw new RangeError(`Row index out of range: ${e[o]}`);s.set(o,i-t,this.get(e[o],i))}return s}subMatrixColumn(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=this.rows-1),t>r||t<0||t>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let s=new F(r-t+1,e.length);for(let o=0;o<e.length;o++)for(let i=t;i<=r;i++){if(e[o]<0||e[o]>=this.columns)throw new RangeError(`Column index out of range: ${e[o]}`);s.set(i-t,o,this.get(i,e[o]))}return s}setSubMatrix(e,t,r){if(e=F.checkMatrix(e),e.isEmpty())return this;let s=t+e.rows-1,o=r+e.columns-1;xp(this,t,s,r,o);for(let i=0;i<e.rows;i++)for(let a=0;a<e.columns;a++)this.set(t+i,r+a,e.get(i,a));return this}selection(e,t){Sp(this,e),Mp(this,t);let r=new F(e.length,t.length);for(let s=0;s<e.length;s++){let o=e[s];for(let i=0;i<t.length;i++){let a=t[i];r.set(s,i,this.get(o,a))}}return r}trace(){let e=Math.min(this.rows,this.columns),t=0;for(let r=0;r<e;r++)t+=this.get(r,r);return t}clone(){return this.constructor.copy(this,new F(this.rows,this.columns))}static copy(e,t){for(let[r,s,o]of e.entries())t.set(r,s,o);return t}sum(e){switch(e){case"row":return qS(this);case"column":return XS(this);case void 0:return YS(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return QS(this);case"column":return WS(this);case void 0:return $S(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){let t=this.sum(e);switch(e){case"row":{for(let r=0;r<this.rows;r++)t[r]/=this.columns;return t}case"column":{for(let r=0;r<this.columns;r++)t[r]/=this.rows;return t}case void 0:return t/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,t={}){if(typeof e=="object"&&(t=e,e=void 0),typeof t!="object")throw new TypeError("options must be an object");let{unbiased:r=!0,mean:s=this.mean(e)}=t;if(typeof r!="boolean")throw new TypeError("unbiased must be a boolean");switch(e){case"row":{if(!Tt.isAnyArray(s))throw new TypeError("mean must be an array");return ZS(this,r,s)}case"column":{if(!Tt.isAnyArray(s))throw new TypeError("mean must be an array");return eM(this,r,s)}case void 0:{if(typeof s!="number")throw new TypeError("mean must be a number");return tM(this,r,s)}default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,t){typeof e=="object"&&(t=e,e=void 0);let r=this.variance(e,t);if(e===void 0)return Math.sqrt(r);for(let s=0;s<r.length;s++)r[s]=Math.sqrt(r[s]);return r}center(e,t={}){if(typeof e=="object"&&(t=e,e=void 0),typeof t!="object")throw new TypeError("options must be an object");let{center:r=this.mean(e)}=t;switch(e){case"row":{if(!Tt.isAnyArray(r))throw new TypeError("center must be an array");return nM(this,r),this}case"column":{if(!Tt.isAnyArray(r))throw new TypeError("center must be an array");return rM(this,r),this}case void 0:{if(typeof r!="number")throw new TypeError("center must be a number");return sM(this,r),this}default:throw new Error(`invalid option: ${e}`)}}scale(e,t={}){if(typeof e=="object"&&(t=e,e=void 0),typeof t!="object")throw new TypeError("options must be an object");let r=t.scale;switch(e){case"row":{if(r===void 0)r=oM(this);else if(!Tt.isAnyArray(r))throw new TypeError("scale must be an array");return iM(this,r),this}case"column":{if(r===void 0)r=aM(this);else if(!Tt.isAnyArray(r))throw new TypeError("scale must be an array");return cM(this,r),this}case void 0:{if(r===void 0)r=uM(this);else if(typeof r!="number")throw new TypeError("scale must be a number");return lM(this,r),this}default:throw new Error(`invalid option: ${e}`)}}toString(e){return zb(this,e)}[Symbol.iterator](){return this.entries()}*entries(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)yield[e,t,this.get(e,t)]}*values(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)yield this.get(e,t)}};ve.prototype.klass="Matrix";typeof Symbol<"u"&&(ve.prototype[Symbol.for("nodejs.util.inspect.custom")]=PS);function Fb(n,e){return n-e}function fM(n){return n.every(e=>typeof e=="number")}ve.random=ve.rand;ve.randomInt=ve.randInt;ve.diagonal=ve.diag;ve.prototype.diagonal=ve.prototype.diag;ve.identity=ve.eye;ve.prototype.negate=ve.prototype.neg;ve.prototype.tensorProduct=ve.prototype.kroneckerProduct;var F=class n extends ve{data;#e(e,t){if(this.data=[],Number.isInteger(t)&&t>=0)for(let r=0;r<e;r++)this.data.push(new Float64Array(t));else throw new TypeError("nColumns must be a positive integer");this.rows=e,this.columns=t}constructor(e,t){if(super(),n.isMatrix(e))this.#e(e.rows,e.columns),n.copy(e,this);else if(Number.isInteger(e)&&e>=0)this.#e(e,t);else if(Tt.isAnyArray(e)){let r=e;if(e=r.length,t=e?r[0].length:0,typeof t!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let s=0;s<e;s++){if(r[s].length!==t)throw new RangeError("Inconsistent array dimensions");if(!fM(r[s]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[s]))}this.rows=e,this.columns=t}else throw new TypeError("First argument must be a positive number or an array")}set(e,t,r){return this.data[e][t]=r,this}get(e,t){return this.data[e][t]}removeRow(e){return en(this,e),this.data.splice(e,1),this.rows-=1,this}addRow(e,t){return t===void 0&&(t=e,e=this.rows),en(this,e,!0),t=Float64Array.from(qo(this,t)),this.data.splice(e,0,t),this.rows+=1,this}removeColumn(e){tn(this,e);for(let t=0;t<this.rows;t++){let r=new Float64Array(this.columns-1);for(let s=0;s<e;s++)r[s]=this.data[t][s];for(let s=e+1;s<this.columns;s++)r[s-1]=this.data[t][s];this.data[t]=r}return this.columns-=1,this}addColumn(e,t){typeof t>"u"&&(t=e,e=this.columns),tn(this,e,!0),t=Xo(this,t);for(let r=0;r<this.rows;r++){let s=new Float64Array(this.columns+1),o=0;for(;o<e;o++)s[o]=this.data[r][o];for(s[o++]=t[r];o<this.columns+1;o++)s[o]=this.data[r][o-1];this.data[r]=s}return this.columns+=1,this}};JS(ve,F);var Ss=class n extends ve{#e;get size(){return this.#e.size}get rows(){return this.#e.rows}get columns(){return this.#e.columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(e){return F.isMatrix(e)&&e.klassType==="SymmetricMatrix"}static zeros(e){return new this(e)}static ones(e){return new this(e).fill(1)}constructor(e){if(super(),F.isMatrix(e)){if(!e.isSymmetric())throw new TypeError("not symmetric data");this.#e=F.copy(e,new F(e.rows,e.rows))}else if(Number.isInteger(e)&&e>=0)this.#e=new F(e,e);else if(this.#e=new F(e),!this.isSymmetric())throw new TypeError("not symmetric data")}clone(){let e=new n(this.diagonalSize);for(let[t,r,s]of this.upperRightEntries())e.set(t,r,s);return e}toMatrix(){return new F(this)}get(e,t){return this.#e.get(e,t)}set(e,t,r){return this.#e.set(e,t,r),this.#e.set(t,e,r),this}removeCross(e){return this.#e.removeRow(e),this.#e.removeColumn(e),this}addCross(e,t){t===void 0&&(t=e,e=this.diagonalSize);let r=t.slice();return r.splice(e,1),this.#e.addRow(e,r),this.#e.addColumn(e,t),this}applyMask(e){if(e.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");let t=[];for(let[r,s]of e.entries())s||t.push(r);t.reverse();for(let r of t)this.removeCross(r);return this}toCompact(){let{diagonalSize:e}=this,t=new Array(e*(e+1)/2);for(let r=0,s=0,o=0;o<t.length;o++)t[o]=this.get(s,r),++r>=e&&(r=++s);return t}static fromCompact(e){let t=e.length,r=(Math.sqrt(8*t+1)-1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(e)}`);let s=new n(r);for(let o=0,i=0,a=0;a<t;a++)s.set(o,i,e[a]),++o>=r&&(o=++i);return s}*upperRightEntries(){for(let e=0,t=0;e<this.diagonalSize;void 0){let r=this.get(e,t);yield[e,t,r],++t>=this.diagonalSize&&(t=++e)}}*upperRightValues(){for(let e=0,t=0;e<this.diagonalSize;void 0)yield this.get(e,t),++t>=this.diagonalSize&&(t=++e)}};Ss.prototype.klassType="SymmetricMatrix";var cl=class n extends Ss{static isDistanceMatrix(e){return Ss.isSymmetricMatrix(e)&&e.klassSubType==="DistanceMatrix"}constructor(e){if(super(e),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(e,t,r){return e===t&&(r=0),super.set(e,t,r)}addCross(e,t){return t===void 0&&(t=e,e=this.diagonalSize),t=t.slice(),t[e]=0,super.addCross(e,t)}toSymmetricMatrix(){return new Ss(this)}clone(){let e=new n(this.diagonalSize);for(let[t,r,s]of this.upperRightEntries())t!==r&&e.set(t,r,s);return e}toCompact(){let{diagonalSize:e}=this,t=(e-1)*e/2,r=new Array(t);for(let s=1,o=0,i=0;i<r.length;i++)r[i]=this.get(o,s),++s>=e&&(s=++o+1);return r}static fromCompact(e){let t=e.length;if(t===0)return new this(0);let r=(Math.sqrt(8*t+1)+1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(e)}`);let s=new this(r);for(let o=1,i=0,a=0;a<t;a++)s.set(o,i,e[a]),++o>=r&&(o=++i+1);return s}};cl.prototype.klassSubType="DistanceMatrix";var un=class extends ve{constructor(e,t,r){super(),this.matrix=e,this.rows=t,this.columns=r}},Ap=class extends un{constructor(e,t){tn(e,t),super(e,e.rows,1),this.column=t}set(e,t,r){return this.matrix.set(e,this.column,r),this}get(e){return this.matrix.get(e,this.column)}},bp=class extends un{constructor(e,t){Mp(e,t),super(e,e.rows,t.length),this.columnIndices=t}set(e,t,r){return this.matrix.set(e,this.columnIndices[t],r),this}get(e,t){return this.matrix.get(e,this.columnIndices[t])}},vp=class extends un{constructor(e){super(e,e.rows,e.columns)}set(e,t,r){return this.matrix.set(e,this.columns-t-1,r),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}},wp=class extends un{constructor(e){super(e,e.rows,e.columns)}set(e,t,r){return this.matrix.set(this.rows-e-1,t,r),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}},_p=class extends un{constructor(e,t){en(e,t),super(e,1,e.columns),this.row=t}set(e,t,r){return this.matrix.set(this.row,t,r),this}get(e,t){return this.matrix.get(this.row,t)}},Tp=class extends un{constructor(e,t){Sp(e,t),super(e,t.length,e.columns),this.rowIndices=t}set(e,t,r){return this.matrix.set(this.rowIndices[e],t,r),this}get(e,t){return this.matrix.get(this.rowIndices[e],t)}},Yo=class extends un{constructor(e,t,r){Sp(e,t),Mp(e,r),super(e,t.length,r.length),this.rowIndices=t,this.columnIndices=r}set(e,t,r){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],r),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}},Bp=class extends un{constructor(e,t,r,s,o){xp(e,t,r,s,o),super(e,r-t+1,o-s+1),this.startRow=t,this.startColumn=s}set(e,t,r){return this.matrix.set(this.startRow+e,this.startColumn+t,r),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}},Ep=class extends un{constructor(e){super(e,e.columns,e.rows)}set(e,t,r){return this.matrix.set(t,e,r),this}get(e,t){return this.matrix.get(t,e)}},ul=class extends ve{constructor(e,t={}){let{rows:r=1}=t;if(e.length%r!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=e.length/r,this.data=e}set(e,t,r){let s=this._calculateIndex(e,t);return this.data[s]=r,this}get(e,t){let r=this._calculateIndex(e,t);return this.data[r]}_calculateIndex(e,t){return e*this.columns+t}},ht=class extends ve{constructor(e){super(),this.data=e,this.rows=e.length,this.columns=e[0].length}set(e,t,r){return this.data[e][t]=r,this}get(e,t){return this.data[e][t]}};function hM(n,e){if(Tt.isAnyArray(n))return n[0]&&Tt.isAnyArray(n[0])?new ht(n):new ul(n,e);throw new Error("the argument is not an array")}var Qo=class{constructor(e){e=ht.checkMatrix(e);let t=e.clone(),r=t.rows,s=t.columns,o=new Float64Array(r),i=1,a,c,u,l,f,h,d,p,A;for(a=0;a<r;a++)o[a]=a;for(p=new Float64Array(r),c=0;c<s;c++){for(a=0;a<r;a++)p[a]=t.get(a,c);for(a=0;a<r;a++){for(A=Math.min(a,c),f=0,u=0;u<A;u++)f+=t.get(a,u)*p[u];p[a]-=f,t.set(a,c,p[a])}for(l=c,a=c+1;a<r;a++)Math.abs(p[a])>Math.abs(p[l])&&(l=a);if(l!==c){for(u=0;u<s;u++)h=t.get(l,u),t.set(l,u,t.get(c,u)),t.set(c,u,h);d=o[l],o[l]=o[c],o[c]=d,i=-i}if(c<r&&t.get(c,c)!==0)for(a=c+1;a<r;a++)t.set(a,c,t.get(a,c)/t.get(c,c))}this.LU=t,this.pivotVector=o,this.pivotSign=i}isSingular(){let e=this.LU,t=e.columns;for(let r=0;r<t;r++)if(e.get(r,r)===0)return!0;return!1}solve(e){e=F.checkMatrix(e);let t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let s=e.columns,o=e.subMatrixRow(this.pivotVector,0,s-1),i=t.columns,a,c,u;for(u=0;u<i;u++)for(a=u+1;a<i;a++)for(c=0;c<s;c++)o.set(a,c,o.get(a,c)-o.get(u,c)*t.get(a,u));for(u=i-1;u>=0;u--){for(c=0;c<s;c++)o.set(u,c,o.get(u,c)/t.get(u,u));for(a=0;a<u;a++)for(c=0;c<s;c++)o.set(a,c,o.get(a,c)-o.get(u,c)*t.get(a,u))}return o}get determinant(){let e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");let t=this.pivotSign,r=e.columns;for(let s=0;s<r;s++)t*=e.get(s,s);return t}get lowerTriangularMatrix(){let e=this.LU,t=e.rows,r=e.columns,s=new F(t,r);for(let o=0;o<t;o++)for(let i=0;i<r;i++)o>i?s.set(o,i,e.get(o,i)):o===i?s.set(o,i,1):s.set(o,i,0);return s}get upperTriangularMatrix(){let e=this.LU,t=e.rows,r=e.columns,s=new F(t,r);for(let o=0;o<t;o++)for(let i=0;i<r;i++)o<=i?s.set(o,i,e.get(o,i)):s.set(o,i,0);return s}get pivotPermutationVector(){return Array.from(this.pivotVector)}};function er(n,e){let t=0;return Math.abs(n)>Math.abs(e)?(t=e/n,Math.abs(n)*Math.sqrt(1+t*t)):e!==0?(t=n/e,Math.abs(e)*Math.sqrt(1+t*t)):0}var Da=class{constructor(e){e=ht.checkMatrix(e);let t=e.clone(),r=e.rows,s=e.columns,o=new Float64Array(s),i,a,c,u;for(c=0;c<s;c++){let l=0;for(i=c;i<r;i++)l=er(l,t.get(i,c));if(l!==0){for(t.get(c,c)<0&&(l=-l),i=c;i<r;i++)t.set(i,c,t.get(i,c)/l);for(t.set(c,c,t.get(c,c)+1),a=c+1;a<s;a++){for(u=0,i=c;i<r;i++)u+=t.get(i,c)*t.get(i,a);for(u=-u/t.get(c,c),i=c;i<r;i++)t.set(i,a,t.get(i,a)+u*t.get(i,c))}}o[c]=-l}this.QR=t,this.Rdiag=o}solve(e){e=F.checkMatrix(e);let t=this.QR,r=t.rows;if(e.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let s=e.columns,o=e.clone(),i=t.columns,a,c,u,l;for(u=0;u<i;u++)for(c=0;c<s;c++){for(l=0,a=u;a<r;a++)l+=t.get(a,u)*o.get(a,c);for(l=-l/t.get(u,u),a=u;a<r;a++)o.set(a,c,o.get(a,c)+l*t.get(a,u))}for(u=i-1;u>=0;u--){for(c=0;c<s;c++)o.set(u,c,o.get(u,c)/this.Rdiag[u]);for(a=0;a<u;a++)for(c=0;c<s;c++)o.set(a,c,o.get(a,c)-o.get(u,c)*t.get(a,u))}return o.subMatrix(0,i-1,0,s-1)}isFullRank(){let e=this.QR.columns;for(let t=0;t<e;t++)if(this.Rdiag[t]===0)return!1;return!0}get upperTriangularMatrix(){let e=this.QR,t=e.columns,r=new F(t,t),s,o;for(s=0;s<t;s++)for(o=0;o<t;o++)s<o?r.set(s,o,e.get(s,o)):s===o?r.set(s,o,this.Rdiag[s]):r.set(s,o,0);return r}get orthogonalMatrix(){let e=this.QR,t=e.rows,r=e.columns,s=new F(t,r),o,i,a,c;for(a=r-1;a>=0;a--){for(o=0;o<t;o++)s.set(o,a,0);for(s.set(a,a,1),i=a;i<r;i++)if(e.get(a,a)!==0){for(c=0,o=a;o<t;o++)c+=e.get(o,a)*s.get(o,i);for(c=-c/e.get(a,a),o=a;o<t;o++)s.set(o,i,s.get(o,i)+c*e.get(o,a))}}return s}},Pr=class{constructor(e,t={}){if(e=ht.checkMatrix(e),e.isEmpty())throw new Error("Matrix must be non-empty");let r=e.rows,s=e.columns,{computeLeftSingularVectors:o=!0,computeRightSingularVectors:i=!0,autoTranspose:a=!1}=t,c=!!o,u=!!i,l=!1,f;if(r<s)if(!a)f=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{f=e.transpose(),r=f.rows,s=f.columns,l=!0;let w=c;c=u,u=w}else f=e.clone();let h=Math.min(r,s),d=Math.min(r+1,s),p=new Float64Array(d),A=new F(r,h),_=new F(s,s),m=new Float64Array(s),g=new Float64Array(r),y=new Float64Array(d);for(let w=0;w<d;w++)y[w]=w;let v=Math.min(r-1,s),V=Math.max(0,Math.min(s-2,r)),L=Math.max(v,V);for(let w=0;w<L;w++){if(w<v){p[w]=0;for(let R=w;R<r;R++)p[w]=er(p[w],f.get(R,w));if(p[w]!==0){f.get(w,w)<0&&(p[w]=-p[w]);for(let R=w;R<r;R++)f.set(R,w,f.get(R,w)/p[w]);f.set(w,w,f.get(w,w)+1)}p[w]=-p[w]}for(let R=w+1;R<s;R++){if(w<v&&p[w]!==0){let U=0;for(let O=w;O<r;O++)U+=f.get(O,w)*f.get(O,R);U=-U/f.get(w,w);for(let O=w;O<r;O++)f.set(O,R,f.get(O,R)+U*f.get(O,w))}m[R]=f.get(w,R)}if(c&&w<v)for(let R=w;R<r;R++)A.set(R,w,f.get(R,w));if(w<V){m[w]=0;for(let R=w+1;R<s;R++)m[w]=er(m[w],m[R]);if(m[w]!==0){m[w+1]<0&&(m[w]=0-m[w]);for(let R=w+1;R<s;R++)m[R]/=m[w];m[w+1]+=1}if(m[w]=-m[w],w+1<r&&m[w]!==0){for(let R=w+1;R<r;R++)g[R]=0;for(let R=w+1;R<r;R++)for(let U=w+1;U<s;U++)g[R]+=m[U]*f.get(R,U);for(let R=w+1;R<s;R++){let U=-m[R]/m[w+1];for(let O=w+1;O<r;O++)f.set(O,R,f.get(O,R)+U*g[O])}}if(u)for(let R=w+1;R<s;R++)_.set(R,w,m[R])}}let C=Math.min(s,r+1);if(v<s&&(p[v]=f.get(v,v)),r<C&&(p[C-1]=0),V+1<C&&(m[V]=f.get(V,C-1)),m[C-1]=0,c){for(let w=v;w<h;w++){for(let R=0;R<r;R++)A.set(R,w,0);A.set(w,w,1)}for(let w=v-1;w>=0;w--)if(p[w]!==0){for(let R=w+1;R<h;R++){let U=0;for(let O=w;O<r;O++)U+=A.get(O,w)*A.get(O,R);U=-U/A.get(w,w);for(let O=w;O<r;O++)A.set(O,R,A.get(O,R)+U*A.get(O,w))}for(let R=w;R<r;R++)A.set(R,w,-A.get(R,w));A.set(w,w,1+A.get(w,w));for(let R=0;R<w-1;R++)A.set(R,w,0)}else{for(let R=0;R<r;R++)A.set(R,w,0);A.set(w,w,1)}}if(u)for(let w=s-1;w>=0;w--){if(w<V&&m[w]!==0)for(let R=w+1;R<s;R++){let U=0;for(let O=w+1;O<s;O++)U+=_.get(O,w)*_.get(O,R);U=-U/_.get(w+1,w);for(let O=w+1;O<s;O++)_.set(O,R,_.get(O,R)+U*_.get(O,w))}for(let R=0;R<s;R++)_.set(R,w,0);_.set(w,w,1)}let D=C-1,G=Number.EPSILON;for(;C>0;){let w,R;for(w=C-2;w>=-1&&w!==-1;w--){let U=Number.MIN_VALUE+G*Math.abs(p[w]+Math.abs(p[w+1]));if(Math.abs(m[w])<=U||Number.isNaN(m[w])){m[w]=0;break}}if(w===C-2)R=4;else{let U;for(U=C-1;U>=w&&U!==w;U--){let O=(U!==C?Math.abs(m[U]):0)+(U!==w+1?Math.abs(m[U-1]):0);if(Math.abs(p[U])<=G*O){p[U]=0;break}}U===w?R=3:U===C-1?R=1:(R=2,w=U)}switch(w++,R){case 1:{let U=m[C-2];m[C-2]=0;for(let O=C-2;O>=w;O--){let z=er(p[O],U),K=p[O]/z,Y=U/z;if(p[O]=z,O!==w&&(U=-Y*m[O-1],m[O-1]=K*m[O-1]),u)for(let te=0;te<s;te++)z=K*_.get(te,O)+Y*_.get(te,C-1),_.set(te,C-1,-Y*_.get(te,O)+K*_.get(te,C-1)),_.set(te,O,z)}break}case 2:{let U=m[w-1];m[w-1]=0;for(let O=w;O<C;O++){let z=er(p[O],U),K=p[O]/z,Y=U/z;if(p[O]=z,U=-Y*m[O],m[O]=K*m[O],c)for(let te=0;te<r;te++)z=K*A.get(te,O)+Y*A.get(te,w-1),A.set(te,w-1,-Y*A.get(te,O)+K*A.get(te,w-1)),A.set(te,O,z)}break}case 3:{let U=Math.max(Math.abs(p[C-1]),Math.abs(p[C-2]),Math.abs(m[C-2]),Math.abs(p[w]),Math.abs(m[w])),O=p[C-1]/U,z=p[C-2]/U,K=m[C-2]/U,Y=p[w]/U,te=m[w]/U,we=((z+O)*(z-O)+K*K)/2,Ue=O*K*(O*K),le=0;(we!==0||Ue!==0)&&(we<0?le=0-Math.sqrt(we*we+Ue):le=Math.sqrt(we*we+Ue),le=Ue/(we+le));let tt=(Y+O)*(Y-O)+le,it=Y*te;for(let J=w;J<C-1;J++){let Be=er(tt,it);Be===0&&(Be=Number.MIN_VALUE);let Fe=tt/Be,De=it/Be;if(J!==w&&(m[J-1]=Be),tt=Fe*p[J]+De*m[J],m[J]=Fe*m[J]-De*p[J],it=De*p[J+1],p[J+1]=Fe*p[J+1],u)for(let de=0;de<s;de++)Be=Fe*_.get(de,J)+De*_.get(de,J+1),_.set(de,J+1,-De*_.get(de,J)+Fe*_.get(de,J+1)),_.set(de,J,Be);if(Be=er(tt,it),Be===0&&(Be=Number.MIN_VALUE),Fe=tt/Be,De=it/Be,p[J]=Be,tt=Fe*m[J]+De*p[J+1],p[J+1]=-De*m[J]+Fe*p[J+1],it=De*m[J+1],m[J+1]=Fe*m[J+1],c&&J<r-1)for(let de=0;de<r;de++)Be=Fe*A.get(de,J)+De*A.get(de,J+1),A.set(de,J+1,-De*A.get(de,J)+Fe*A.get(de,J+1)),A.set(de,J,Be)}m[C-2]=tt;break}case 4:{if(p[w]<=0&&(p[w]=p[w]<0?-p[w]:0,u))for(let U=0;U<=D;U++)_.set(U,w,-_.get(U,w));for(;w<D&&!(p[w]>=p[w+1]);){let U=p[w];if(p[w]=p[w+1],p[w+1]=U,u&&w<s-1)for(let O=0;O<s;O++)U=_.get(O,w+1),_.set(O,w+1,_.get(O,w)),_.set(O,w,U);if(c&&w<r-1)for(let O=0;O<r;O++)U=A.get(O,w+1),A.set(O,w+1,A.get(O,w)),A.set(O,w,U);w++}C--;break}}}if(l){let w=_;_=A,A=w}this.m=r,this.n=s,this.s=p,this.U=A,this.V=_}solve(e){let t=e,r=this.threshold,s=this.s.length,o=F.zeros(s,s);for(let h=0;h<s;h++)Math.abs(this.s[h])<=r?o.set(h,h,0):o.set(h,h,1/this.s[h]);let i=this.U,a=this.rightSingularVectors,c=a.mmul(o),u=a.rows,l=i.rows,f=F.zeros(u,l);for(let h=0;h<u;h++)for(let d=0;d<l;d++){let p=0;for(let A=0;A<s;A++)p+=c.get(h,A)*i.get(d,A);f.set(h,d,p)}return f.mmul(t)}solveForDiagonal(e){return this.solve(F.diag(e))}inverse(){let e=this.V,t=this.threshold,r=e.rows,s=e.columns,o=new F(r,this.s.length);for(let l=0;l<r;l++)for(let f=0;f<s;f++)Math.abs(this.s[f])>t&&o.set(l,f,e.get(l,f)/this.s[f]);let i=this.U,a=i.rows,c=i.columns,u=new F(r,a);for(let l=0;l<r;l++)for(let f=0;f<a;f++){let h=0;for(let d=0;d<c;d++)h+=o.get(l,d)*i.get(f,d);u.set(l,f,h)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,t=0,r=this.s;for(let s=0,o=r.length;s<o;s++)r[s]>e&&t++;return t}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return F.diag(this.s)}};function mM(n,e=!1){return n=ht.checkMatrix(n),e?new Pr(n).inverse():Hb(n,F.eye(n.rows))}function Hb(n,e,t=!1){return n=ht.checkMatrix(n),e=ht.checkMatrix(e),t?new Pr(n).solve(e):n.isSquare()?new Qo(n).solve(e):new Da(n).solve(e)}function al(n){if(n=F.checkMatrix(n),n.isSquare()){if(n.columns===0)return 1;let e,t,r,s;if(n.columns===2)return e=n.get(0,0),t=n.get(0,1),r=n.get(1,0),s=n.get(1,1),e*s-t*r;if(n.columns===3){let o,i,a;return o=new Yo(n,[1,2],[1,2]),i=new Yo(n,[1,2],[0,2]),a=new Yo(n,[1,2],[0,1]),e=n.get(0,0),t=n.get(0,1),r=n.get(0,2),e*al(o)-t*al(i)+r*al(a)}else return new Qo(n).determinant}else throw Error("determinant can only be calculated for a square matrix")}function dM(n,e){let t=[];for(let r=0;r<n;r++)r!==e&&t.push(r);return t}function pM(n,e,t,r=1e-9,s=1e-9){if(n>s)return new Array(e.rows+1).fill(0);{let o=e.addRow(t,[0]);for(let i=0;i<o.rows;i++)Math.abs(o.get(i,0))<r&&o.set(i,0,0);return o.to1DArray()}}function gM(n,e={}){let{thresholdValue:t=1e-9,thresholdError:r=1e-9}=e;n=F.checkMatrix(n);let s=n.rows,o=new F(s,s);for(let i=0;i<s;i++){let a=F.columnVector(n.getRow(i)),c=n.subMatrixRow(dM(s,i)).transpose(),l=new Pr(c).solve(a),f=F.sub(a,c.mmul(l)).abs().max();o.setRow(i,pM(f,l,i,t,r))}return o}function yM(n,e=Number.EPSILON){if(n=F.checkMatrix(n),n.isEmpty())return n.transpose();let t=new Pr(n,{autoTranspose:!0}),r=t.leftSingularVectors,s=t.rightSingularVectors,o=t.diagonal;for(let i=0;i<o.length;i++)Math.abs(o[i])>e?o[i]=1/o[i]:o[i]=0;return s.mmul(F.diag(o).mmul(r.transpose()))}function xM(n,e=n,t={}){n=new F(n);let r=!1;if(typeof e=="object"&&!F.isMatrix(e)&&!Tt.isAnyArray(e)?(t=e,e=n,r=!0):e=new F(e),n.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");let{center:s=!0}=t;s&&(n=n.center("column"),r||(e=e.center("column")));let o=n.transpose().mmul(e);for(let i=0;i<o.rows;i++)for(let a=0;a<o.columns;a++)o.set(i,a,o.get(i,a)*(1/(n.rows-1)));return o}function AM(n,e=n,t={}){n=new F(n);let r=!1;if(typeof e=="object"&&!F.isMatrix(e)&&!Tt.isAnyArray(e)?(t=e,e=n,r=!0):e=new F(e),n.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");let{center:s=!0,scale:o=!0}=t;s&&(n.center("column"),r||e.center("column")),o&&(n.scale("column"),r||e.scale("column"));let i=n.standardDeviation("column",{unbiased:!0}),a=r?i:e.standardDeviation("column",{unbiased:!0}),c=n.transpose().mmul(e);for(let u=0;u<c.rows;u++)for(let l=0;l<c.columns;l++)c.set(u,l,c.get(u,l)*(1/(i[u]*a[l]))*(1/(n.rows-1)));return c}var ll=class{constructor(e,t={}){let{assumeSymmetric:r=!1}=t;if(e=ht.checkMatrix(e),!e.isSquare())throw new Error("Matrix is not a square matrix");if(e.isEmpty())throw new Error("Matrix must be non-empty");let s=e.columns,o=new F(s,s),i=new Float64Array(s),a=new Float64Array(s),c=e,u,l,f=!1;if(r?f=!0:f=e.isSymmetric(),f){for(u=0;u<s;u++)for(l=0;l<s;l++)o.set(u,l,c.get(u,l));bM(s,a,i,o),vM(s,a,i,o)}else{let h=new F(s,s),d=new Float64Array(s);for(l=0;l<s;l++)for(u=0;u<s;u++)h.set(u,l,c.get(u,l));wM(s,h,d,o),_M(s,a,i,o,h)}this.n=s,this.e=a,this.d=i,this.V=o}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let e=this.n,t=this.e,r=this.d,s=new F(e,e),o,i;for(o=0;o<e;o++){for(i=0;i<e;i++)s.set(o,i,0);s.set(o,o,r[o]),t[o]>0?s.set(o,o+1,t[o]):t[o]<0&&s.set(o,o-1,t[o])}return s}};function bM(n,e,t,r){let s,o,i,a,c,u,l,f;for(c=0;c<n;c++)t[c]=r.get(n-1,c);for(a=n-1;a>0;a--){for(f=0,i=0,u=0;u<a;u++)f=f+Math.abs(t[u]);if(f===0)for(e[a]=t[a-1],c=0;c<a;c++)t[c]=r.get(a-1,c),r.set(a,c,0),r.set(c,a,0);else{for(u=0;u<a;u++)t[u]/=f,i+=t[u]*t[u];for(s=t[a-1],o=Math.sqrt(i),s>0&&(o=-o),e[a]=f*o,i=i-s*o,t[a-1]=s-o,c=0;c<a;c++)e[c]=0;for(c=0;c<a;c++){for(s=t[c],r.set(c,a,s),o=e[c]+r.get(c,c)*s,u=c+1;u<=a-1;u++)o+=r.get(u,c)*t[u],e[u]+=r.get(u,c)*s;e[c]=o}for(s=0,c=0;c<a;c++)e[c]/=i,s+=e[c]*t[c];for(l=s/(i+i),c=0;c<a;c++)e[c]-=l*t[c];for(c=0;c<a;c++){for(s=t[c],o=e[c],u=c;u<=a-1;u++)r.set(u,c,r.get(u,c)-(s*e[u]+o*t[u]));t[c]=r.get(a-1,c),r.set(a,c,0)}}t[a]=i}for(a=0;a<n-1;a++){if(r.set(n-1,a,r.get(a,a)),r.set(a,a,1),i=t[a+1],i!==0){for(u=0;u<=a;u++)t[u]=r.get(u,a+1)/i;for(c=0;c<=a;c++){for(o=0,u=0;u<=a;u++)o+=r.get(u,a+1)*r.get(u,c);for(u=0;u<=a;u++)r.set(u,c,r.get(u,c)-o*t[u])}}for(u=0;u<=a;u++)r.set(u,a+1,0)}for(c=0;c<n;c++)t[c]=r.get(n-1,c),r.set(n-1,c,0);r.set(n-1,n-1,1),e[0]=0}function vM(n,e,t,r){let s,o,i,a,c,u,l,f,h,d,p,A,_,m,g,y;for(i=1;i<n;i++)e[i-1]=e[i];e[n-1]=0;let v=0,V=0,L=Number.EPSILON;for(u=0;u<n;u++){for(V=Math.max(V,Math.abs(t[u])+Math.abs(e[u])),l=u;l<n&&!(Math.abs(e[l])<=L*V);)l++;if(l>u)do{for(s=t[u],f=(t[u+1]-s)/(2*e[u]),h=er(f,1),f<0&&(h=-h),t[u]=e[u]/(f+h),t[u+1]=e[u]*(f+h),d=t[u+1],o=s-t[u],i=u+2;i<n;i++)t[i]-=o;for(v=v+o,f=t[l],p=1,A=p,_=p,m=e[u+1],g=0,y=0,i=l-1;i>=u;i--)for(_=A,A=p,y=g,s=p*e[i],o=p*f,h=er(f,e[i]),e[i+1]=g*h,g=e[i]/h,p=f/h,f=p*t[i]-g*s,t[i+1]=o+g*(p*s+g*t[i]),c=0;c<n;c++)o=r.get(c,i+1),r.set(c,i+1,g*r.get(c,i)+p*o),r.set(c,i,p*r.get(c,i)-g*o);f=-g*y*_*m*e[u]/d,e[u]=g*f,t[u]=p*f}while(Math.abs(e[u])>L*V);t[u]=t[u]+v,e[u]=0}for(i=0;i<n-1;i++){for(c=i,f=t[i],a=i+1;a<n;a++)t[a]<f&&(c=a,f=t[a]);if(c!==i)for(t[c]=t[i],t[i]=f,a=0;a<n;a++)f=r.get(a,i),r.set(a,i,r.get(a,c)),r.set(a,c,f)}}function wM(n,e,t,r){let s=0,o=n-1,i,a,c,u,l,f,h;for(f=s+1;f<=o-1;f++){for(h=0,u=f;u<=o;u++)h=h+Math.abs(e.get(u,f-1));if(h!==0){for(c=0,u=o;u>=f;u--)t[u]=e.get(u,f-1)/h,c+=t[u]*t[u];for(a=Math.sqrt(c),t[f]>0&&(a=-a),c=c-t[f]*a,t[f]=t[f]-a,l=f;l<n;l++){for(i=0,u=o;u>=f;u--)i+=t[u]*e.get(u,l);for(i=i/c,u=f;u<=o;u++)e.set(u,l,e.get(u,l)-i*t[u])}for(u=0;u<=o;u++){for(i=0,l=o;l>=f;l--)i+=t[l]*e.get(u,l);for(i=i/c,l=f;l<=o;l++)e.set(u,l,e.get(u,l)-i*t[l])}t[f]=h*t[f],e.set(f,f-1,h*a)}}for(u=0;u<n;u++)for(l=0;l<n;l++)r.set(u,l,u===l?1:0);for(f=o-1;f>=s+1;f--)if(e.get(f,f-1)!==0){for(u=f+1;u<=o;u++)t[u]=e.get(u,f-1);for(l=f;l<=o;l++){for(a=0,u=f;u<=o;u++)a+=t[u]*r.get(u,l);for(a=a/t[f]/e.get(f,f-1),u=f;u<=o;u++)r.set(u,l,r.get(u,l)+a*t[u])}}}function _M(n,e,t,r,s){let o=n-1,i=0,a=n-1,c=Number.EPSILON,u=0,l=0,f=0,h=0,d=0,p=0,A=0,_=0,m,g,y,v,V,L,C,D,G,w,R,U,O,z,K;for(m=0;m<n;m++)for((m<i||m>a)&&(t[m]=s.get(m,m),e[m]=0),g=Math.max(m-1,0);g<n;g++)l=l+Math.abs(s.get(m,g));for(;o>=i;){for(v=o;v>i&&(p=Math.abs(s.get(v-1,v-1))+Math.abs(s.get(v,v)),p===0&&(p=l),!(Math.abs(s.get(v,v-1))<c*p));)v--;if(v===o)s.set(o,o,s.get(o,o)+u),t[o]=s.get(o,o),e[o]=0,o--,_=0;else if(v===o-1){if(C=s.get(o,o-1)*s.get(o-1,o),f=(s.get(o-1,o-1)-s.get(o,o))/2,h=f*f+C,A=Math.sqrt(Math.abs(h)),s.set(o,o,s.get(o,o)+u),s.set(o-1,o-1,s.get(o-1,o-1)+u),D=s.get(o,o),h>=0){for(A=f>=0?f+A:f-A,t[o-1]=D+A,t[o]=t[o-1],A!==0&&(t[o]=D-C/A),e[o-1]=0,e[o]=0,D=s.get(o,o-1),p=Math.abs(D)+Math.abs(A),f=D/p,h=A/p,d=Math.sqrt(f*f+h*h),f=f/d,h=h/d,g=o-1;g<n;g++)A=s.get(o-1,g),s.set(o-1,g,h*A+f*s.get(o,g)),s.set(o,g,h*s.get(o,g)-f*A);for(m=0;m<=o;m++)A=s.get(m,o-1),s.set(m,o-1,h*A+f*s.get(m,o)),s.set(m,o,h*s.get(m,o)-f*A);for(m=i;m<=a;m++)A=r.get(m,o-1),r.set(m,o-1,h*A+f*r.get(m,o)),r.set(m,o,h*r.get(m,o)-f*A)}else t[o-1]=D+f,t[o]=D+f,e[o-1]=A,e[o]=-A;o=o-2,_=0}else{if(D=s.get(o,o),G=0,C=0,v<o&&(G=s.get(o-1,o-1),C=s.get(o,o-1)*s.get(o-1,o)),_===10){for(u+=D,m=i;m<=o;m++)s.set(m,m,s.get(m,m)-D);p=Math.abs(s.get(o,o-1))+Math.abs(s.get(o-1,o-2)),D=G=.75*p,C=-.4375*p*p}if(_===30&&(p=(G-D)/2,p=p*p+C,p>0)){for(p=Math.sqrt(p),G<D&&(p=-p),p=D-C/((G-D)/2+p),m=i;m<=o;m++)s.set(m,m,s.get(m,m)-p);u+=p,D=G=C=.964}for(_=_+1,V=o-2;V>=v&&(A=s.get(V,V),d=D-A,p=G-A,f=(d*p-C)/s.get(V+1,V)+s.get(V,V+1),h=s.get(V+1,V+1)-A-d-p,d=s.get(V+2,V+1),p=Math.abs(f)+Math.abs(h)+Math.abs(d),f=f/p,h=h/p,d=d/p,!(V===v||Math.abs(s.get(V,V-1))*(Math.abs(h)+Math.abs(d))<c*(Math.abs(f)*(Math.abs(s.get(V-1,V-1))+Math.abs(A)+Math.abs(s.get(V+1,V+1))))));)V--;for(m=V+2;m<=o;m++)s.set(m,m-2,0),m>V+2&&s.set(m,m-3,0);for(y=V;y<=o-1&&(z=y!==o-1,y!==V&&(f=s.get(y,y-1),h=s.get(y+1,y-1),d=z?s.get(y+2,y-1):0,D=Math.abs(f)+Math.abs(h)+Math.abs(d),D!==0&&(f=f/D,h=h/D,d=d/D)),D!==0);y++)if(p=Math.sqrt(f*f+h*h+d*d),f<0&&(p=-p),p!==0){for(y!==V?s.set(y,y-1,-p*D):v!==V&&s.set(y,y-1,-s.get(y,y-1)),f=f+p,D=f/p,G=h/p,A=d/p,h=h/f,d=d/f,g=y;g<n;g++)f=s.get(y,g)+h*s.get(y+1,g),z&&(f=f+d*s.get(y+2,g),s.set(y+2,g,s.get(y+2,g)-f*A)),s.set(y,g,s.get(y,g)-f*D),s.set(y+1,g,s.get(y+1,g)-f*G);for(m=0;m<=Math.min(o,y+3);m++)f=D*s.get(m,y)+G*s.get(m,y+1),z&&(f=f+A*s.get(m,y+2),s.set(m,y+2,s.get(m,y+2)-f*d)),s.set(m,y,s.get(m,y)-f),s.set(m,y+1,s.get(m,y+1)-f*h);for(m=i;m<=a;m++)f=D*r.get(m,y)+G*r.get(m,y+1),z&&(f=f+A*r.get(m,y+2),r.set(m,y+2,r.get(m,y+2)-f*d)),r.set(m,y,r.get(m,y)-f),r.set(m,y+1,r.get(m,y+1)-f*h)}}}if(l!==0){for(o=n-1;o>=0;o--)if(f=t[o],h=e[o],h===0)for(v=o,s.set(o,o,1),m=o-1;m>=0;m--){for(C=s.get(m,m)-f,d=0,g=v;g<=o;g++)d=d+s.get(m,g)*s.get(g,o);if(e[m]<0)A=C,p=d;else if(v=m,e[m]===0?s.set(m,o,C!==0?-d/C:-d/(c*l)):(D=s.get(m,m+1),G=s.get(m+1,m),h=(t[m]-f)*(t[m]-f)+e[m]*e[m],L=(D*p-A*d)/h,s.set(m,o,L),s.set(m+1,o,Math.abs(D)>Math.abs(A)?(-d-C*L)/D:(-p-G*L)/A)),L=Math.abs(s.get(m,o)),c*L*L>1)for(g=m;g<=o;g++)s.set(g,o,s.get(g,o)/L)}else if(h<0)for(v=o-1,Math.abs(s.get(o,o-1))>Math.abs(s.get(o-1,o))?(s.set(o-1,o-1,h/s.get(o,o-1)),s.set(o-1,o,-(s.get(o,o)-f)/s.get(o,o-1))):(K=il(0,-s.get(o-1,o),s.get(o-1,o-1)-f,h),s.set(o-1,o-1,K[0]),s.set(o-1,o,K[1])),s.set(o,o-1,0),s.set(o,o,1),m=o-2;m>=0;m--){for(w=0,R=0,g=v;g<=o;g++)w=w+s.get(m,g)*s.get(g,o-1),R=R+s.get(m,g)*s.get(g,o);if(C=s.get(m,m)-f,e[m]<0)A=C,d=w,p=R;else if(v=m,e[m]===0?(K=il(-w,-R,C,h),s.set(m,o-1,K[0]),s.set(m,o,K[1])):(D=s.get(m,m+1),G=s.get(m+1,m),U=(t[m]-f)*(t[m]-f)+e[m]*e[m]-h*h,O=(t[m]-f)*2*h,U===0&&O===0&&(U=c*l*(Math.abs(C)+Math.abs(h)+Math.abs(D)+Math.abs(G)+Math.abs(A))),K=il(D*d-A*w+h*R,D*p-A*R-h*w,U,O),s.set(m,o-1,K[0]),s.set(m,o,K[1]),Math.abs(D)>Math.abs(A)+Math.abs(h)?(s.set(m+1,o-1,(-w-C*s.get(m,o-1)+h*s.get(m,o))/D),s.set(m+1,o,(-R-C*s.get(m,o)-h*s.get(m,o-1))/D)):(K=il(-d-G*s.get(m,o-1),-p-G*s.get(m,o),A,h),s.set(m+1,o-1,K[0]),s.set(m+1,o,K[1]))),L=Math.max(Math.abs(s.get(m,o-1)),Math.abs(s.get(m,o))),c*L*L>1)for(g=m;g<=o;g++)s.set(g,o-1,s.get(g,o-1)/L),s.set(g,o,s.get(g,o)/L)}for(m=0;m<n;m++)if(m<i||m>a)for(g=m;g<n;g++)r.set(m,g,s.get(m,g));for(g=n-1;g>=i;g--)for(m=i;m<=a;m++){for(A=0,y=i;y<=Math.min(g,a);y++)A=A+r.get(m,y)*s.get(y,g);r.set(m,g,A)}}}function il(n,e,t,r){let s,o;return Math.abs(t)>Math.abs(r)?(s=r/t,o=t+s*r,[(n+s*e)/o,(e-s*n)/o]):(s=t/r,o=r+s*t,[(s*n+e)/o,(s*e-n)/o])}var fl=class{constructor(e){if(e=ht.checkMatrix(e),!e.isSymmetric())throw new Error("Matrix is not symmetric");let t=e,r=t.rows,s=new F(r,r),o=!0,i,a,c;for(a=0;a<r;a++){let u=0;for(c=0;c<a;c++){let l=0;for(i=0;i<c;i++)l+=s.get(c,i)*s.get(a,i);l=(t.get(a,c)-l)/s.get(c,c),s.set(a,c,l),u=u+l*l}for(u=t.get(a,a)-u,o&&=u>0,s.set(a,a,Math.sqrt(Math.max(u,0))),c=a+1;c<r;c++)s.set(a,c,0)}this.L=s,this.positiveDefinite=o}isPositiveDefinite(){return this.positiveDefinite}solve(e){e=ht.checkMatrix(e);let t=this.L,r=t.rows;if(e.rows!==r)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let s=e.columns,o=e.clone(),i,a,c;for(c=0;c<r;c++)for(a=0;a<s;a++){for(i=0;i<c;i++)o.set(c,a,o.get(c,a)-o.get(i,a)*t.get(c,i));o.set(c,a,o.get(c,a)/t.get(c,c))}for(c=r-1;c>=0;c--)for(a=0;a<s;a++){for(i=c+1;i<r;i++)o.set(c,a,o.get(c,a)-o.get(i,a)*t.get(i,c));o.set(c,a,o.get(c,a)/t.get(c,c))}return o}get lowerTriangularMatrix(){return this.L}},hl=class{constructor(e,t={}){e=ht.checkMatrix(e);let{Y:r}=t,{scaleScores:s=!1,maxIterations:o=1e3,terminationCriteria:i=1e-10}=t,a;if(r){if(Tt.isAnyArray(r)&&typeof r[0]=="number"?r=F.columnVector(r):r=ht.checkMatrix(r),r.rows!==e.rows)throw new Error("Y should have the same number of rows as X");a=r.getColumnVector(0)}else a=e.getColumnVector(0);let c=1,u,l,f,h;for(let d=0;d<o&&c>i;d++)f=e.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),f=f.div(f.norm()),u=e.mmul(f).div(f.transpose().mmul(f).get(0,0)),d>0&&(c=u.clone().sub(h).pow(2).sum()),h=u.clone(),r?(l=r.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),l=l.div(l.norm()),a=r.mmul(l).div(l.transpose().mmul(l).get(0,0))):a=u;if(r){let d=e.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0));d=d.div(d.norm());let p=e.clone().sub(u.clone().mmul(d.transpose())),A=a.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),_=r.clone().sub(u.clone().mulS(A.get(0,0)).mmul(l.transpose()));this.t=u,this.p=d.transpose(),this.w=f.transpose(),this.q=l,this.u=a,this.s=u.transpose().mmul(u),this.xResidual=p,this.yResidual=_,this.betas=A}else this.w=f.transpose(),this.s=u.transpose().mmul(u).sqrt(),s?this.t=u.clone().div(this.s.get(0,0)):this.t=u,this.xResidual=e.sub(u.mmul(f.transpose()))}};Q.AbstractMatrix=ve;Q.CHO=fl;Q.CholeskyDecomposition=fl;Q.DistanceMatrix=cl;Q.EVD=ll;Q.EigenvalueDecomposition=ll;Q.LU=Qo;Q.LuDecomposition=Qo;Q.Matrix=F;Q.MatrixColumnSelectionView=bp;Q.MatrixColumnView=Ap;Q.MatrixFlipColumnView=vp;Q.MatrixFlipRowView=wp;Q.MatrixRowSelectionView=Tp;Q.MatrixRowView=_p;Q.MatrixSelectionView=Yo;Q.MatrixSubView=Bp;Q.MatrixTransposeView=Ep;Q.NIPALS=hl;Q.Nipals=hl;Q.QR=Da;Q.QrDecomposition=Da;Q.SVD=Pr;Q.SingularValueDecomposition=Pr;Q.SymmetricMatrix=Ss;Q.WrapperMatrix1D=ul;Q.WrapperMatrix2D=ht;Q.correlation=AM;Q.covariance=xM;Q.default=F;Q.determinant=al;Q.inverse=mM;Q.linearDependencies=gM;Q.pseudoInverse=yM;Q.solve=Hb;Q.wrap=hM});function rg(n,e){let t=new Map;for(let r of n){let s=e(r),o=t.get(s)??[];o.push(r),t.set(s,o)}return t}function Cn(n){let e=[];for(let t=0;t<n&&t<1e7;t++)e.push(t);return e}function Ha(n){return n}function Qr(n,e,t){return t||(t=()=>Math.random()),t()*(e-n)+n}function sg(n,e){return n.length===0?[e]:n[0].map(t=>sg(n.slice(1),[...e,t])).flat(1)}function og(...n){return sg(n,[])}function ZM(n){return Object.fromEntries(Array.from(rg(n,e=>e.name).entries()).map(([e,t])=>{let r=t.reduce((o,i)=>o+i.runtime,0)/t.length,s=t.length;return[e,{totalRuntime:r,invocationCount:s,averageRuntime:r/s,worstCaseRuntime:t.reduce((o,i)=>Math.max(o,i.runtime),0),bestCaseRuntime:t.reduce((o,i)=>Math.min(o,i.runtime),0)}]}))}function _v(n){return n instanceof Promise?n:Promise.resolve(n)}function Tv(n,e,t,r){let s=e??navigator.hardwareConcurrency,o=[],i=[],a=0;for(let f=0;f<s;f++)i.push(new Worker(n));function c(){let f=a;return a=(a+1)%s,f}let u=0;function l(f,h,d){let p=i[d],A=t?.[f],_=performance.now();if((A?.runMode?.(h)??"worker")==="main"){if(!r)throw new Error("If a threadpool method is to run in the main thread, its interface should be provided to the main thread!");let y=r[f](...h);return o.push(_v(y).then(v=>({name:f,inputSize:A?.estimateInputSize?.(h)??1,runtime:performance.now()-_,metadata:A?.getRuntimeMetadata?.(h,v),thread:{type:"main"}}))),y}let g=new Promise(async(y,v)=>{let V=u;u++;let L=async D=>{if(D.data.id!==V)return;p.removeEventListener("message",L);let G=t?.[f]?.parseRetVal??(w=>w);y(await G(D.data.returnValue))};p.addEventListener("message",L);let C=t?.[f]?.serializeArgs??(D=>D);p.postMessage({type:f,args:await C(h),id:V},t?.[f]?.transferArgs?.(h)??[])});return o.push(g.then(y=>({name:f,inputSize:A?.estimateInputSize?.(h)??1,runtime:performance.now()-_,metadata:A?.getRuntimeMetadata?.(h,y),thread:{type:"worker",workerId:d}}))),g}return{threadCount:s,getCurrentPerformanceRecords(){return Promise.all(o)},send:new Proxy({},{get(f,h){return async(...d)=>{let p=c();return l(h,d,p)}}}),sendToThread:f=>new Proxy({},{get(h,d){return async(...p)=>l(d,p,f)}}),broadcast:new Proxy({},{get(f,h){return async(...d)=>await Promise.all(i.map((p,A)=>l(h,d,A)))}})}}function Bv(n,e){self.addEventListener("message",async t=>{let s=await(e?.[t.data.type]?.parseArgs??Ha)(t.data.args),o=await n[t.data.type](...s),i=e?.[t.data.type]?.serializeRetVal??Ha;postMessage({returnValue:await i(o),id:t.data.id},e?.[t.data.type]?.transferRetVal?.(o)??[])})}function eC(getInterface,src,workerCount,serialization){if(eval("self.WorkerGlobalScope")){Bv(getInterface(!1),serialization);return}else return Tv(src??document.currentScript.src,workerCount,serialization,getInterface(!0))}async function tC(cb){if(!eval("self.WorkerGlobalScope"))return await cb()}function Xl(n){return[n[0],n[1],n[2]]}function ig(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function li(n,e){return[n[0]*e[0]+n[4]*e[1]+n[8]*e[2]+n[12]*e[3],n[1]*e[0]+n[5]*e[1]+n[9]*e[2]+n[13]*e[3],n[2]*e[0]+n[6]*e[1]+n[10]*e[2]+n[14]*e[3],n[3]*e[0]+n[7]*e[1]+n[11]*e[2]+n[15]*e[3]]}function qe(n,e){return[n[0]*e[0]+n[4]*e[1]+n[8]*e[2]+n[12]*e[3],n[1]*e[0]+n[5]*e[1]+n[9]*e[2]+n[13]*e[3],n[2]*e[0]+n[6]*e[1]+n[10]*e[2]+n[14]*e[3],n[3]*e[0]+n[7]*e[1]+n[11]*e[2]+n[15]*e[3],n[0]*e[4]+n[4]*e[5]+n[8]*e[6]+n[12]*e[7],n[1]*e[4]+n[5]*e[5]+n[9]*e[6]+n[13]*e[7],n[2]*e[4]+n[6]*e[5]+n[10]*e[6]+n[14]*e[7],n[3]*e[4]+n[7]*e[5]+n[11]*e[6]+n[15]*e[7],n[0]*e[8]+n[4]*e[9]+n[8]*e[10]+n[12]*e[11],n[1]*e[8]+n[5]*e[9]+n[9]*e[10]+n[13]*e[11],n[2]*e[8]+n[6]*e[9]+n[10]*e[10]+n[14]*e[11],n[3]*e[8]+n[7]*e[9]+n[11]*e[10]+n[15]*e[11],n[0]*e[12]+n[4]*e[13]+n[8]*e[14]+n[12]*e[15],n[1]*e[12]+n[5]*e[13]+n[9]*e[14]+n[13]*e[15],n[2]*e[12]+n[6]*e[13]+n[10]*e[14]+n[14]*e[15],n[3]*e[12]+n[7]*e[13]+n[11]*e[14]+n[15]*e[15]]}function ir(n,e){return[n[0]+e[0],n[1]+e[1]]}function ar(n,e){return[n[0]+e[0],n[1]+e[1],n[2]+e[2]]}function Ev(n,e){return[n[0]*e[0],n[1]*e[1],n[2]*e[2]]}function Yl(n,e){return[n[0]-e[0],n[1]-e[1],n[2]-e[2]]}function Ql(n){return Wr(n,1/Math.sqrt(Wl(n,n)))}function Sv(n){return n[0]+n[1]+n[2]}function Wl(n,e){return Sv(Ev(n,e))}function $l(n,e){return[n[0]*e,n[1]*e]}function Wr(n,e){return[n[0]*e,n[1]*e,n[2]*e]}var yC=Symbol("allKeys");var xC=Symbol("all2");var Lv=hn(cg()),Gv=hn(lg());function Nv(n,e){if(e)return e;if(n==="f32"||n==="i32"||n==="u32"||n==="f16")return n;if(n.startsWith("vec")||n.startsWith("mat")){if(n.endsWith("i"))return"i32";if(n.endsWith("u"))return"u32";if(n.endsWith("h"))return"f16"}return"f32"}function zv(n){return n.startsWith("vec2")?2:n.startsWith("vec3")?3:n.startsWith("vec4")?4:n.startsWith("mat2x3")||n.startsWith("mat3x2")?6:n.startsWith("mat2x4")||n.startsWith("mat4x2")?8:n.startsWith("mat3x4")||n.startsWith("mat4x3")?12:n.startsWith("mat2")?4:n.startsWith("mat3")?9:n.startsWith("mat4")?16:1}function Hv(n,e,t,r,s){let o=Nv(n,e),i=zv(n),a={i32:4,f32:4,u32:4,f16:2}[o],c={i32:"setInt32",f32:"setFloat32",u32:"setUint32",f16:"setFloat16"}[o];for(let u=0;u<i;u++)t[c](r+a*u,s[u],!0)}function Zl(n,e,t,r){if(n.members){for(let o of n.members)Zl(o.type,e[o.name],t,r+o.offset);return}if(n.name==="array")for(let o=0;o<n.count;o++)Zl(n.format,e[o],t,r+n.stride*o);else Hv(n.name,n.format?.name,t,r,Array.isArray(e)?e:[e])}function Pv(n,e){let t=new ArrayBuffer(n.size),r=new DataView(t);return Zl(n,e,r,0),t}function cr(n,e,t,r){return Pv(n.bindGroups[e][t].type,r)}function qv(n){let e=Math.hypot(...n);return Wr(n,1/e)}function ef(n,e,t){return e=qv(e),ar(ar(Wr(n,Math.cos(t)),Wr(ig(e,n),Math.sin(t))),Wr(e,Wl(e,n)*(1-Math.cos(t))))}function fi(n,e){return[...ef([1,0,0],n,e),0,...ef([0,1,0],n,e),0,...ef([0,0,1],n,e),0,0,0,0,1]}function hg(n){return[n[0],0,0,0,0,n[1],0,0,0,0,n[2],0,0,0,0,1]}function nt(n){return[1,0,0,0,0,1,0,0,0,0,1,0,...n,1]}var lw=hn(Vn());var Bg=hn(Vn());var ja=hn(Vn());var Ka=hn(Vn());var zm=hn(Vn()),N3=hn(r2());var Hm=hn(Vn());async function s2(n){let e=new Map,t=new Map;for(let s of n)for(let o of s.tags)e.set(o,(e.get(o)??new Set).add(s));function r(s){if(t.has(s))return t.get(s);let o=(async()=>{let i=[];for(let a of s.waitFor)for(let c of e.get(a)??new Set)i.push(r(c));return await Promise.all(i),await s.task()})();return t.set(s,o),o}for(let s of n)r(s);return await Promise.all([...t.values()])}async function o2(n){let e={};async function t(o){e[o.brand]||(e[o.brand]=(async()=>({componentTemplate:o,instances:new Set,state:await o.init(async i=>(await t(i),(await e[i.brand]).state))}))())}for(let o of n)t(o);let r=Object.fromEntries(await Promise.all(Object.entries(e).map(async([o,i])=>[o,await i])));async function s(o){let i={},a=[];async function c(u){i[u.brand]||(i[u.brand]=u[o]?.({state:r[u.brand].state,instances:r[u.brand].instances,subsystem(l){return r[l.brand]},scheduleTask(l,f,h){a.push({task:l,tags:f??[],waitFor:h??[]})}})??Promise.resolve(),await i[u.brand])}await Promise.all(Object.values(r).map(async u=>await c(u.componentTemplate))),await s2(a)}return{subsystem(o){return{instances:r[o.brand].instances,global:r[o.brand].state}},async renderUpdate(){await s("renderUpdate")},async fixedUpdate(){await s("fixedUpdate")},entity(o){let i={};function a(c,u){if(i[c])return;let l=r[c].componentTemplate.create(u,r[c],r,f=>(a(f.brand,o[f.brand]),i[f.brand]));r[c].instances.add({data:l,entity:i}),i[c]=l}for(let[c,u]of Object.entries(o))a(c,u);return{component(c){return i[c.brand]},destroy(){for(let[c,u]of Object.entries(i))r[c]?.instances.delete(u)}}}}}var vu={create(){},onDestroy(){},async init(){let n=document.createElement("canvas");return n.style=`
top: 0;
left: 0;
position: absolute;
width: 100vw;
height: 100vh;    
`,n.width=1024,n.height=1024,document.body.appendChild(n),{canvas:n}},brand:"mainCanvas",dependencies:[],globalDependencies:[]},Mo=Symbol("GBuffer Pass"),Pm=Symbol("GBuffer Submit"),wu=Symbol("Lighting Pass");function z3(n,e,t,r){let s=1/Math.tan(n/2),o=1/(t-r);return[s/e,0,0,0,0,s,0,0,0,0,r*o,-1,0,0,t*r*o,0]}function H3(n,e){let t=n.createTexture({dimension:"2d",format:"rgba8unorm",label:"albedo",size:e,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),r=n.createTexture({dimension:"2d",format:"rgba16float",label:"normal",size:e,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),s=n.createTexture({dimension:"2d",format:"rgba32float",label:"position",size:e,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.STORAGE_BINDING}),o=n.createTexture({size:e,format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT});return{albedo:t,normal:r,position:s,depth:o}}function P3(n,e){let t=(o,i,a)=>n.createTexture({size:e.map(c=>Math.ceil(c*o)),format:i,mipLevelCount:a,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_DST|GPUTextureUsage.TEXTURE_BINDING}),r=t(1,"rgba8unorm",2),s=t(1,"rgba8unorm",1);return{color:r,color2:s,depth:t(1,"rg8unorm",1),depth2:t(1,"rg8unorm",1),nearField:t(1,"rgba8unorm",1),nearField2:t(1,"rgba8unorm",1),farField:t(1,"rgba8unorm",1),farField2:t(1,"rgba8unorm",1)}}function Wn(n,e,t,r){let s=n.createBuffer({label:r,usage:t,size:e.byteLength});return n.queue.writeBuffer(s,0,e),s}function i2(n,e,t){let r=t&&e[0]===t.dimensions[0]&&e[1]===t.dimensions[1]?t:void 0;return r||{gbuffer:H3(n,e),dimensions:e,lighting:P3(n,e)}}function j3(n){return Wn(n,new Float32Array([1,-1,-1,1,-1,-1,1,-1,1,1,-1,1]),GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST,"fullscreen quad for blit")}var ue={create(){},onDestroy(){},async init(n){let e=(await n(vu)).canvas,t=e.getContext("webgpu"),s=await(await navigator.gpu.requestAdapter()).requestDevice({requiredFeatures:["float32-filterable"],requiredLimits:{}}),o=navigator.gpu.getPreferredCanvasFormat();t.configure({device:s,format:o});let i=new Set;function a(){e.width=window.innerWidth*window.devicePixelRatio,e.height=window.innerHeight*window.devicePixelRatio;for(let u of i)u();c.textures=i2(s,[e.width,e.height])}window.addEventListener("resize",a);let c={fullscreenQuad:j3(s),textures:i2(s,[e.width,e.height]),canvas:e,ctx:t,device:s,projectionMatrix:nt([0,0,0]),fov:1,aspect:1,near:.1,far:100,viewMatrix:nt([0,0,0]),canvasFormat:o,onResize(u){let l=u();return i.add(u),[l,()=>{i.delete(u)}]},gBufferRenderPass:void 0,time:0};return a(),c},renderUpdate({state:n,scheduleTask:e}){let{device:t,textures:r,fullscreenQuad:s}=n;n.projectionMatrix=z3(1,window.innerWidth/window.innerHeight,.1,200);let o=t.createCommandEncoder(),i=o.beginRenderPass({colorAttachments:[{view:r.gbuffer.position.createView(),clearValue:[0,0,0,1],loadOp:"clear",storeOp:"store"},{view:r.gbuffer.normal.createView(),clearValue:[0,0,0,1],loadOp:"clear",storeOp:"store"},{view:r.gbuffer.albedo.createView(),clearValue:[0,0,0,1],loadOp:"clear",storeOp:"store"}],depthStencilAttachment:{view:r.gbuffer.depth,depthClearValue:1,depthLoadOp:"clear",depthStoreOp:"store"}});n.gBufferRenderPass=i,e(()=>(i.end(),t.queue.submit([o.finish()]),Promise.resolve()),[Pm],[Mo])},brand:"deferredWebgpuRenderer",dependencies:[],globalDependencies:[vu]};var Lt={create(n){return{matrix:n}},onDestroy(){},brand:"transform",dependencies:[],globalDependencies:[],init:()=>{}};async function ma(n,e,t,r){return r._parse(n,e,t,r)}function ft(n,e){if(!n)throw new Error(e||"loader assertion failed.")}var bn={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},K3=bn.self||bn.window||bn.global||{},J3=bn.window||bn.self||bn.global||{},q3=bn.global||bn.self||bn.window||{},X3=bn.document||{};var $n=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser);var a2=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),Y3=a2&&parseFloat(a2[1])||0;var _u=globalThis,Q3=globalThis.document||{},Tu=globalThis.process||{},W3=globalThis.console,dD=globalThis.navigator||{};function c2(n){if(typeof window<"u"&&window.process?.type==="renderer"||typeof process<"u"&&process.versions?.electron)return!0;let e=typeof navigator<"u"&&navigator.userAgent,t=n||e;return!!(t&&t.indexOf("Electron")>=0)}function xs(){return!(typeof process=="object"&&String(process)==="[object process]"&&!process?.browser)||c2()}var jm="4.1.0";function Z3(n){try{let e=window[n],t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch{return null}}var Bu=class{constructor(e,t,r="sessionStorage"){this.storage=Z3(r),this.id=e,this.config=t,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){let t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}}_loadConfiguration(){let e={};if(this.storage){let t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}};function u2(n){let e;return n<10?e=`${n.toFixed(2)}ms`:n<100?e=`${n.toFixed(1)}ms`:n<1e3?e=`${n.toFixed(0)}ms`:e=`${(n/1e3).toFixed(2)}s`,e}function l2(n,e=8){let t=Math.max(e-n.length,0);return`${" ".repeat(t)}${n}`}var Eu;(function(n){n[n.BLACK=30]="BLACK",n[n.RED=31]="RED",n[n.GREEN=32]="GREEN",n[n.YELLOW=33]="YELLOW",n[n.BLUE=34]="BLUE",n[n.MAGENTA=35]="MAGENTA",n[n.CYAN=36]="CYAN",n[n.WHITE=37]="WHITE",n[n.BRIGHT_BLACK=90]="BRIGHT_BLACK",n[n.BRIGHT_RED=91]="BRIGHT_RED",n[n.BRIGHT_GREEN=92]="BRIGHT_GREEN",n[n.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",n[n.BRIGHT_BLUE=94]="BRIGHT_BLUE",n[n.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",n[n.BRIGHT_CYAN=96]="BRIGHT_CYAN",n[n.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(Eu||(Eu={}));var eT=10;function f2(n){return typeof n!="string"?n:(n=n.toUpperCase(),Eu[n]||Eu.WHITE)}function h2(n,e,t){return!xs&&typeof n=="string"&&(e&&(n=`\x1B[${f2(e)}m${n}\x1B[39m`),t&&(n=`\x1B[${f2(t)+eT}m${n}\x1B[49m`)),n}function m2(n,e=["constructor"]){let t=Object.getPrototypeOf(n),r=Object.getOwnPropertyNames(t),s=n;for(let o of r){let i=s[o];typeof i=="function"&&(e.find(a=>o===a)||(s[o]=i.bind(n)))}}function da(n,e){if(!n)throw new Error(e||"Assertion failed")}function As(){let n;if(xs()&&_u.performance)n=_u?.performance?.now?.();else if("hrtime"in Tu){let e=Tu?.hrtime?.();n=e[0]*1e3+e[1]/1e6}else n=Date.now();return n}var Co={debug:xs()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},tT={enabled:!0,level:0};function Vo(){}var d2={},p2={once:!0},vn=class{constructor({id:e}={id:""}){this.VERSION=jm,this._startTs=As(),this._deltaTs=As(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=e,this.userData={},this._storage=new Bu(`__probe-${this.id}__`,tT),this.timeStamp(`${this.id} started`),m2(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((As()-this._startTs).toPrecision(10))}getDelta(){return Number((As()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(e=!0){return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,t){this._storage.setConfiguration({[e]:t})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,t){if(!e)throw new Error(t||"Assertion failed")}warn(e){return this._getLogFunction(0,e,Co.warn,arguments,p2)}error(e){return this._getLogFunction(0,e,Co.error,arguments)}deprecated(e,t){return this.warn(`\`${e}\` is deprecated and will be removed in a later version. Use \`${t}\` instead`)}removed(e,t){return this.error(`\`${e}\` has been removed. Use \`${t}\` instead`)}probe(e,t){return this._getLogFunction(e,t,Co.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,Co.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){return this._getLogFunction(e,t,Co.debug||Co.info,arguments,p2)}table(e,t,r){return t?this._getLogFunction(e,t,console.table||Vo,r&&[r],{tag:rT(t)}):Vo}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||Vo)}group(e,t,r={collapsed:!1}){let s=g2({logLevel:e,message:t,opts:r}),{collapsed:o}=r;return s.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(s)}groupCollapsed(e,t,r={}){return this.group(e,t,Object.assign({},r,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||Vo)}withGroup(e,t,r){this.group(e,t)();try{r()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=y2(e)}_getLogFunction(e,t,r,s,o){if(this._shouldLog(e)){o=g2({logLevel:e,message:t,args:s,opts:o}),r=r||o.method,da(r),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=As();let i=o.tag||o.message;if(o.once&&i)if(!d2[i])d2[i]=As();else return Vo;return t=nT(this.id,o.message,o),r.bind(console,t,...o.args)}return Vo}};vn.VERSION=jm;function y2(n){if(!n)return 0;let e;switch(typeof n){case"number":e=n;break;case"object":e=n.logLevel||n.priority||0;break;default:return 0}return da(Number.isFinite(e)&&e>=0),e}function g2(n){let{logLevel:e,message:t}=n;n.logLevel=y2(e);let r=n.args?Array.from(n.args):[];for(;r.length&&r.shift()!==t;);switch(typeof e){case"string":case"function":t!==void 0&&r.unshift(t),n.message=e;break;case"object":Object.assign(n,e);break;default:}typeof n.message=="function"&&(n.message=n.message());let s=typeof n.message;return da(s==="string"||s==="object"),Object.assign(n,{args:r},n.opts)}function nT(n,e,t){if(typeof e=="string"){let r=t.time?l2(u2(t.total)):"";e=t.time?`${n}: ${r}  ${e}`:`${n}: ${e}`,e=h2(e,t.color,t.background)}return e}function rT(n){for(let e in n)for(let t in n[e])return t||"untitled";return"empty"}globalThis.probe={};var FD=new vn({id:"@probe.gl/log"});var Km="4.3.3",sT=Km[0]>="0"&&Km[0]<="9"?`v${Km}`:"";function oT(){let n=new vn({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=n,globalThis.loaders.version=sT,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=n,n}var Jm=oT();function qm(n,e){return x2(n||{},e)}function x2(n,e,t=0){if(t>3)return e;let r={...n};for(let[s,o]of Object.entries(e))o&&typeof o=="object"&&!Array.isArray(o)?r[s]=x2(r[s]||{},e[s],t+1):r[s]=e[s];return r}function Xm(n){globalThis.loaders||={},globalThis.loaders.modules||={},Object.assign(globalThis.loaders.modules,n)}function Ym(n){return globalThis.loaders?.modules?.[n]||null}var A2="latest";function iT(){return globalThis._loadersgl_?.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.3"),globalThis._loadersgl_.version}var pa=iT();function Ze(n,e){if(!n)throw new Error(e||"loaders.gl assertion failed.")}var wn={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},YD=wn.self||wn.window||wn.global||{},QD=wn.window||wn.self||wn.global||{},WD=wn.global||wn.self||wn.window||{},$D=wn.document||{};var Je=typeof process!="object"||String(process)!=="[object process]"||process.browser,ga=typeof importScripts=="function",v2=typeof window<"u"&&typeof window.orientation<"u",b2=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),ZD=b2&&parseFloat(b2[1])||0;var ya=class{name;workerThread;isRunning=!0;result;_resolve=()=>{};_reject=()=>{};constructor(e,t){this.name=e,this.workerThread=t,this.result=new Promise((r,s)=>{this._resolve=r,this._reject=s})}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){Ze(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){Ze(this.isRunning),this.isRunning=!1,this._reject(e)}};var Ro=class{terminate(){}};var Qm=new Map;function w2(n){Ze(n.source&&!n.url||!n.source&&n.url);let e=Qm.get(n.source||n.url);return e||(n.url&&(e=aT(n.url),Qm.set(n.url,e)),n.source&&(e=_2(n.source),Qm.set(n.source,e))),Ze(e),e}function aT(n){if(!n.startsWith("http"))return n;let e=cT(n);return _2(e)}function _2(n){let e=new Blob([n],{type:"application/javascript"});return URL.createObjectURL(e)}function cT(n){return`try {
  importScripts('${n}');
} catch (error) {
  console.error(error);
  throw error;
}`}function Wm(n,e=!0,t){let r=t||new Set;if(n){if(T2(n))r.add(n);else if(T2(n.buffer))r.add(n.buffer);else if(!ArrayBuffer.isView(n)){if(e&&typeof n=="object")for(let s in n)Wm(n[s],e,r)}}return t===void 0?Array.from(r):[]}function T2(n){return n?n instanceof ArrayBuffer||typeof MessagePort<"u"&&n instanceof MessagePort||typeof ImageBitmap<"u"&&n instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas:!1}var $m=()=>{},Ur=class{name;source;url;terminated=!1;worker;onMessage;onError;_loadableURL="";static isSupported(){return typeof Worker<"u"&&Je||typeof Ro<"u"&&!Je}constructor(e){let{name:t,source:r,url:s}=e;Ze(r||s),this.name=t,this.source=r,this.url=s,this.onMessage=$m,this.onError=o=>console.log(o),this.worker=Je?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=$m,this.onError=$m,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,t){t=t||Wm(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+=`worker ${this.name} from ${this.url}. `,e.message&&(t+=`${e.message} in `),e.lineno&&(t+=`:${e.lineno}:${e.colno}`),new Error(t)}_createBrowserWorker(){this._loadableURL=w2({source:this.source,url:this.url});let e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=t=>{t.data?this.onMessage(t.data):this.onError(new Error("No data received"))},e.onerror=t=>{this.onError(this._getErrorFromErrorEvent(t)),this.terminated=!0},e.onmessageerror=t=>console.error(t),e}_createNodeWorker(){let e;if(this.url){let r=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;e=new Ro(r,{eval:!1})}else if(this.source)e=new Ro(this.source,{eval:!0});else throw new Error("no worker");return e.on("message",t=>{this.onMessage(t)}),e.on("error",t=>{this.onError(t)}),e.on("exit",t=>{}),e}};var xa=class{name="unnamed";source;url;maxConcurrency=1;maxMobileConcurrency=1;onDebug=()=>{};reuseWorkers=!0;props={};jobQueue=[];idleQueue=[];count=0;isDestroyed=!1;static isSupported(){return Ur.isSupported()}constructor(e){this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},e.name!==void 0&&(this.name=e.name),e.maxConcurrency!==void 0&&(this.maxConcurrency=e.maxConcurrency),e.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=e.maxMobileConcurrency),e.reuseWorkers!==void 0&&(this.reuseWorkers=e.reuseWorkers),e.onDebug!==void 0&&(this.onDebug=e.onDebug)}async startJob(e,t=(s,o,i)=>s.done(i),r=(s,o)=>s.error(o)){let s=new Promise(o=>(this.jobQueue.push({name:e,onMessage:t,onError:r,onStart:o}),this));return this._startQueuedJob(),await s}async _startQueuedJob(){if(!this.jobQueue.length)return;let e=this._getAvailableWorker();if(!e)return;let t=this.jobQueue.shift();if(t){this.onDebug({message:"Starting job",name:t.name,workerThread:e,backlog:this.jobQueue.length});let r=new ya(t.name,e);e.onMessage=s=>t.onMessage(r,s.type,s.payload),e.onError=s=>t.onError(r,s),t.onStart(r);try{await r.result}catch(s){console.error(`Worker exception: ${s}`)}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){!Je||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;let e=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new Ur({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return v2?this.maxMobileConcurrency:this.maxConcurrency}};var uT={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},bs=class n{props;workerPools=new Map;static _workerFarm;static isSupported(){return Ur.isSupported()}static getWorkerFarm(e={}){return n._workerFarm=n._workerFarm||new n({}),n._workerFarm.setProps(e),n._workerFarm}constructor(e){this.props={...uT},this.setProps(e),this.workerPools=new Map}destroy(){for(let e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(let t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(e){let{name:t,source:r,url:s}=e,o=this.workerPools.get(t);return o||(o=new xa({name:t,source:r,url:s}),o.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,o)),o}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}};function Zm(n,e={}){let t=e[n.id]||{},r=Je?`${n.id}-worker.js`:`${n.id}-worker-node.js`,s=t.workerUrl;if(!s&&n.id==="compression"&&(s=e.workerUrl),e._workerType==="test"&&(Je?s=`modules/${n.module}/dist/${r}`:s=`modules/${n.module}/src/workers/${n.id}-worker-node.ts`),!s){let o=n.version;o==="latest"&&(o=A2);let i=o?`@${o}`:"";s=`https://unpkg.com/@loaders.gl/${n.module}${i}/dist/${r}`}return Ze(s),s}function ed(n,e=pa){Ze(n,"no worker provided");let t=n.version;return!(!e||!t)}var td={};async function _n(n,e=null,t={},r=null){return e&&(n=B2(n,e,t,r)),td[n]=td[n]||lT(n),await td[n]}function B2(n,e,t={},r=null){if(!t.useLocalLibraries&&n.startsWith("http"))return n;r=r||n;let s=t.modules||{};return s[r]?s[r]:Je?t.CDN?(Ze(t.CDN.startsWith("http")),`${t.CDN}/${e}@${pa}/dist/libs/${r}`):ga?`../src/libs/${r}`:`modules/${e}/src/libs/${r}`:`modules/${e}/dist/libs/${r}`}async function lT(n){if(n.endsWith("wasm"))return await hT(n);if(!Je)try{let{requireFromFile:t}=globalThis.loaders||{};return await t?.(n)}catch(t){return console.error(t),null}if(ga)return importScripts(n);let e=await mT(n);return fT(e,n)}function fT(n,e){if(!Je){let{requireFromString:r}=globalThis.loaders||{};return r?.(n,e)}if(ga)return eval.call(globalThis,n),null;let t=document.createElement("script");t.id=e;try{t.appendChild(document.createTextNode(n))}catch{t.text=n}return document.body.appendChild(t),null}async function hT(n){let{readFileAsArrayBuffer:e}=globalThis.loaders||{};return Je||!e||n.startsWith("http")?await(await fetch(n)).arrayBuffer():await e(n)}async function mT(n){let{readFileAsText:e}=globalThis.loaders||{};return Je||!e||n.startsWith("http")?await(await fetch(n)).text():await e(n)}function nd(n,e){return!bs.isSupported()||!Je&&!e?._nodeWorkers?!1:n.worker&&e?.worker}async function rd(n,e,t,r,s){let o=n.id,i=Zm(n,t),c=bs.getWorkerFarm(t).getWorkerPool({name:o,url:i});t=JSON.parse(JSON.stringify(t)),r=JSON.parse(JSON.stringify(r||{}));let u=await c.startJob("process-on-worker",dT.bind(null,s));return u.postMessage("process",{input:e,options:t,context:r}),await(await u.result).result}async function dT(n,e,t,r){switch(t){case"done":e.done(r);break;case"error":e.error(new Error(r.error));break;case"process":let{id:s,input:o,options:i}=r;try{let a=await n(o,i);e.postMessage("done",{id:s,result:a})}catch(a){let c=a instanceof Error?a.message:"unknown error";e.postMessage("error",{id:s,error:c})}break;default:console.warn(`parse-with-worker unknown message ${t}`)}}function S2(n,e=5){return typeof n=="string"?n.slice(0,e):ArrayBuffer.isView(n)?E2(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?E2(n,0,e):""}function E2(n,e,t){if(n.byteLength<=e+t)return"";let r=new DataView(n),s="";for(let o=0;o<t;o++)s+=String.fromCharCode(r.getUint8(e+o));return s}function sd(n){try{return JSON.parse(n)}catch{throw new Error(`Failed to parse JSON from data starting with "${S2(n)}"`)}}function od(n,e,t){if(t=t||n.byteLength,n.byteLength<t||e.byteLength<t)return!1;let r=new Uint8Array(n),s=new Uint8Array(e);for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}function id(...n){return M2(n)}function M2(n){let e=n.map(o=>o instanceof ArrayBuffer?new Uint8Array(o):o),t=e.reduce((o,i)=>o+i.byteLength,0),r=new Uint8Array(t),s=0;for(let o of e)r.set(o,s),s+=o.byteLength;return r.buffer}function Aa(n,e,t){let r=t!==void 0?new Uint8Array(n).subarray(e,e+t):new Uint8Array(n).subarray(e);return new Uint8Array(r).buffer}function Fr(n,e){return ft(n>=0),ft(e>0),n+(e-1)&~(e-1)}function ad(n,e,t){let r;if(n instanceof ArrayBuffer)r=new Uint8Array(n);else{let s=n.byteOffset,o=n.byteLength;r=new Uint8Array(n.buffer||n.arrayBuffer,s,o)}return e.set(r,t),t+Fr(r.byteLength,4)}async function cd(n){let e=[];for await(let t of n)e.push(t);return id(...e)}var pT="",C2={};function ud(n){for(let e in C2)if(n.startsWith(e)){let t=C2[e];n=n.replace(e,t)}return!n.startsWith("http://")&&!n.startsWith("https://")&&(n=`${pT}${n}`),n}function V2(n){return n&&typeof n=="object"&&n.isBuffer}function Su(n){if(V2(n))return n;if(n instanceof ArrayBuffer)return n;if(ArrayBuffer.isView(n))return n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength);if(typeof n=="string"){let e=n;return new TextEncoder().encode(e).buffer}if(n&&typeof n=="object"&&n._toArrayBuffer)return n._toArrayBuffer();throw new Error("toArrayBuffer")}var vs={};Nt(vs,{dirname:()=>yT,filename:()=>gT,join:()=>xT,resolve:()=>AT});function R2(){if(typeof process<"u"&&typeof process.cwd<"u")return process.cwd();let n=window.location?.pathname;return n?.slice(0,n.lastIndexOf("/")+1)||""}function gT(n){let e=n?n.lastIndexOf("/"):-1;return e>=0?n.substr(e+1):""}function yT(n){let e=n?n.lastIndexOf("/"):-1;return e>=0?n.substr(0,e):""}function xT(...n){return n=n.map((t,r)=>(r&&(t=t.replace(new RegExp("^/"),"")),r!==n.length-1&&(t=t.replace(new RegExp("/$"),"")),t)),n.join("/")}function AT(...n){let e=[];for(let o=0;o<n.length;o++)e[o]=n[o];let t="",r=!1,s;for(let o=e.length-1;o>=-1&&!r;o--){let i;o>=0?i=e[o]:(s===void 0&&(s=R2()),i=s),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===ba)}return t=bT(t,!r),r?`/${t}`:t.length>0?t:"."}var ba=47,ld=46;function bT(n,e){let t="",r=-1,s=0,o,i=!1;for(let a=0;a<=n.length;++a){if(a<n.length)o=n.charCodeAt(a);else{if(o===ba)break;o=ba}if(o===ba){if(!(r===a-1||s===1))if(r!==a-1&&s===2){if(t.length<2||!i||t.charCodeAt(t.length-1)!==ld||t.charCodeAt(t.length-2)!==ld){if(t.length>2){let c=t.length-1,u=c;for(;u>=0&&t.charCodeAt(u)!==ba;--u);if(u!==c){t=u===-1?"":t.slice(0,u),r=a,s=0,i=!1;continue}}else if(t.length===2||t.length===1){t="",r=a,s=0,i=!1;continue}}e&&(t.length>0?t+="/..":t="..",i=!0)}else{let c=n.slice(r+1,a);t.length>0?t+=`/${c}`:t=c,i=!1}r=a,s=0}else o===ld&&s!==-1?++s:s=-1}return t}var vT=n=>typeof n=="boolean",va=n=>typeof n=="function",ws=n=>n!==null&&typeof n=="object",fd=n=>ws(n)&&n.constructor==={}.constructor;var D2=n=>!!n&&typeof n[Symbol.iterator]=="function",I2=n=>n&&typeof n[Symbol.asyncIterator]=="function";var $t=n=>typeof Response<"u"&&n instanceof Response||n&&n.arrayBuffer&&n.text&&n.json;var Tn=n=>typeof Blob<"u"&&n instanceof Blob,k2=n=>n&&typeof n=="object"&&n.isBuffer;var wT=n=>typeof ReadableStream<"u"&&n instanceof ReadableStream||ws(n)&&va(n.tee)&&va(n.cancel)&&va(n.getReader);var _T=n=>ws(n)&&va(n.read)&&va(n.pipe)&&vT(n.readable),Mu=n=>wT(n)||_T(n);var Cu=class extends Error{constructor(e,t){super(e),this.reason=t.reason,this.url=t.url,this.response=t.response}reason;url;response};var TT=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,BT=/^([-\w.]+\/[-\w.+]+)/;function hd(n,e){return n.toLowerCase()===e.toLowerCase()}function O2(n){let e=BT.exec(n);return e?e[1]:n}function md(n){let e=TT.exec(n);return e?e[1]:""}var L2=/\?.*/;function G2(n){let e=n.match(L2);return e&&e[0]}function Do(n){return n.replace(L2,"")}function U2(n){if(n.length<50)return n;let e=n.slice(n.length-15);return`${n.substr(0,32)}...${e}`}function _s(n){return $t(n)?n.url:Tn(n)?n.name||"":typeof n=="string"?n:""}function wa(n){if($t(n)){let e=n,t=e.headers.get("content-type")||"",r=Do(e.url);return O2(t)||md(r)}return Tn(n)?n.type||"":typeof n=="string"?md(n):""}function F2(n){return $t(n)?n.headers["content-length"]||-1:Tn(n)?n.size:typeof n=="string"?n.length:n instanceof ArrayBuffer||ArrayBuffer.isView(n)?n.byteLength:-1}async function Vu(n){if($t(n))return n;let e={},t=F2(n);t>=0&&(e["content-length"]=String(t));let r=_s(n),s=wa(n);s&&(e["content-type"]=s);let o=await ST(n);o&&(e["x-first-bytes"]=o),typeof n=="string"&&(n=new TextEncoder().encode(n));let i=new Response(n,{headers:e});return Object.defineProperty(i,"url",{value:r}),i}async function N2(n){if(!n.ok)throw await ET(n)}async function ET(n){let e=U2(n.url),t=`Failed to fetch resource (${n.status}) ${n.statusText}: ${e}`;t=t.length>100?`${t.slice(0,100)}...`:t;let r={reason:n.statusText,url:n.url,response:n};try{let s=n.headers.get("Content-Type");r.reason=!n.bodyUsed&&s?.includes("application/json")?await n.json():await n.text()}catch{}return new Cu(t,r)}async function ST(n){if(typeof n=="string")return`data:,${n.slice(0,5)}`;if(n instanceof Blob){let t=n.slice(0,5);return await new Promise(r=>{let s=new FileReader;s.onload=o=>r(o?.target?.result),s.readAsDataURL(t)})}if(n instanceof ArrayBuffer){let t=n.slice(0,5);return`data:base64,${MT(t)}`}return null}function MT(n){let e="",t=new Uint8Array(n);for(let r=0;r<t.byteLength;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function CT(n){return!VT(n)&&!RT(n)}function VT(n){return n.startsWith("http:")||n.startsWith("https:")}function RT(n){return n.startsWith("data:")}async function dd(n,e){if(typeof n=="string"){let t=ud(n);return CT(t)&&globalThis.loaders?.fetchNode?globalThis.loaders?.fetchNode(t,e):await fetch(t,e)}return await Vu(n)}var pd=new vn({id:"loaders.gl"}),Ru=class{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}},Du=class{console;constructor(){this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}};var gd={fetch:null,mimeType:void 0,nothrow:!1,log:new Du,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:$n,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},z2={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function yd(){globalThis.loaders=globalThis.loaders||{};let{loaders:n}=globalThis;return n._state||(n._state={}),n._state}function xd(){let n=yd();return n.globalOptions=n.globalOptions||{...gd},n.globalOptions}function j2(n,e,t,r){return t=t||[],t=Array.isArray(t)?t:[t],DT(n,t),kT(e,n,r)}function DT(n,e){H2(n,null,gd,z2,e);for(let t of e){let r=n&&n[t.id]||{},s=t.options&&t.options[t.id]||{},o=t.deprecatedOptions&&t.deprecatedOptions[t.id]||{};H2(r,t.id,s,o,e)}}function H2(n,e,t,r,s){let o=e||"Top level",i=e?`${e}.`:"";for(let a in n){let c=!e&&ws(n[a]),u=a==="baseUri"&&!e,l=a==="workerUrl"&&e;if(!(a in t)&&!u&&!l){if(a in r)pd.warn(`${o} loader option '${i}${a}' no longer supported, use '${r[a]}'`)();else if(!c){let f=IT(a,s);pd.warn(`${o} loader option '${i}${a}' not recognized. ${f}`)()}}}}function IT(n,e){let t=n.toLowerCase(),r="";for(let s of e)for(let o in s.options){if(n===o)return`Did you mean '${s.id}.${o}'?`;let i=o.toLowerCase();(t.startsWith(i)||i.startsWith(t))&&(r=r||`Did you mean '${s.id}.${o}'?`)}return r}function kT(n,e,t){let s={...n.options||{}};return OT(s,t),s.log===null&&(s.log=new Ru),P2(s,xd()),P2(s,e),s}function P2(n,e){for(let t in e)if(t in e){let r=e[t];fd(r)&&fd(n[t])?n[t]={...n[t],...e[t]}:n[t]=e[t]}}function OT(n,e){e&&!("baseUri"in n)&&(n.baseUri=e)}function Ad(n){return n?(Array.isArray(n)&&(n=n[0]),Array.isArray(n?.extensions)):!1}function bd(n){ft(n,"null loader"),ft(Ad(n),"invalid loader");let e;return Array.isArray(n)&&(e=n[1],n=n[0],n={...n,options:{...n.options,...e}}),(n?.parseTextSync||n?.parseText)&&(n.text=!0),n.text||(n.binary=!0),n}var LT=()=>{let n=yd();return n.loaderRegistry=n.loaderRegistry||[],n.loaderRegistry};function K2(){return LT()}var GT=/\.([^.]+)$/;async function X2(n,e=[],t,r){if(!Y2(n))return null;let s=J2(n,e,{...t,nothrow:!0},r);if(s)return s;if(Tn(n)&&(n=await n.slice(0,10).arrayBuffer(),s=J2(n,e,t,r)),!s&&!t?.nothrow)throw new Error(Q2(n));return s}function J2(n,e=[],t,r){if(!Y2(n))return null;if(e&&!Array.isArray(e))return bd(e);let s=[];e&&(s=s.concat(e)),t?.ignoreRegisteredLoaders||s.push(...K2()),FT(s);let o=UT(n,s,t,r);if(!o&&!t?.nothrow)throw new Error(Q2(n));return o}function UT(n,e,t,r){let s=_s(n),o=wa(n),i=Do(s)||r?.url,a=null,c="";return t?.mimeType&&(a=vd(e,t?.mimeType),c=`match forced by supplied MIME type ${t?.mimeType}`),a=a||NT(e,i),c=c||(a?`matched url ${i}`:""),a=a||vd(e,o),c=c||(a?`matched MIME type ${o}`:""),a=a||HT(e,n),c=c||(a?`matched initial data ${W2(n)}`:""),t?.fallbackMimeType&&(a=a||vd(e,t?.fallbackMimeType),c=c||(a?`matched fallback MIME type ${o}`:"")),c&&Jm.log(1,`selectLoader selected ${a?.name}: ${c}.`),a}function Y2(n){return!(n instanceof Response&&n.status===204)}function Q2(n){let e=_s(n),t=wa(n),r="No valid loader found (";r+=e?`${vs.filename(e)}, `:"no url provided, ",r+=`MIME type: ${t?`"${t}"`:"not provided"}, `;let s=n?W2(n):"";return r+=s?` first bytes: "${s}"`:"first bytes: not available",r+=")",r}function FT(n){for(let e of n)bd(e)}function NT(n,e){let t=e&&GT.exec(e),r=t&&t[1];return r?zT(n,r):null}function zT(n,e){e=e.toLowerCase();for(let t of n)for(let r of t.extensions)if(r.toLowerCase()===e)return t;return null}function vd(n,e){for(let t of n)if(t.mimeTypes?.some(r=>hd(e,r))||hd(e,`application/x.${t.id}`))return t;return null}function HT(n,e){if(!e)return null;for(let t of n)if(typeof e=="string"){if(PT(e,t))return t}else if(ArrayBuffer.isView(e)){if(q2(e.buffer,e.byteOffset,t))return t}else if(e instanceof ArrayBuffer&&q2(e,0,t))return t;return null}function PT(n,e){return e.testText?e.testText(n):(Array.isArray(e.tests)?e.tests:[e.tests]).some(r=>n.startsWith(r))}function q2(n,e,t){return(Array.isArray(t.tests)?t.tests:[t.tests]).some(s=>jT(n,e,t,s))}function jT(n,e,t,r){if(r instanceof ArrayBuffer)return od(r,n,r.byteLength);switch(typeof r){case"function":return r(n);case"string":let s=wd(n,e,r.length);return r===s;default:return!1}}function W2(n,e=5){return typeof n=="string"?n.slice(0,e):ArrayBuffer.isView(n)?wd(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?wd(n,0,e):""}function wd(n,e,t){if(n.byteLength<e+t)return"";let r=new DataView(n),s="";for(let o=0;o<t;o++)s+=String.fromCharCode(r.getUint8(e+o));return s}function*$2(n,e){let t=e?.chunkSize||262144,r=0,s=new TextEncoder;for(;r<n.length;){let o=Math.min(n.length-r,t),i=n.slice(r,r+o);r+=o,yield s.encode(i)}}function*Z2(n,e={}){let{chunkSize:t=262144}=e,r=0;for(;r<n.byteLength;){let s=Math.min(n.byteLength-r,t),o=new ArrayBuffer(s),i=new Uint8Array(n,r,s);new Uint8Array(o).set(i),r+=s,yield o}}async function*eA(n,e){let t=e?.chunkSize||1048576,r=0;for(;r<n.size;){let s=r+t,o=await n.slice(r,s).arrayBuffer();r=s,yield o}}function _d(n,e){return $n?KT(n,e):JT(n,e)}async function*KT(n,e){let t=n.getReader(),r;try{for(;;){let s=r||t.read();e?._streamReadAhead&&(r=t.read());let{done:o,value:i}=await s;if(o)return;yield Su(i)}}catch{t.releaseLock()}}async function*JT(n,e){for await(let t of n)yield Su(t)}function tA(n,e){if(typeof n=="string")return $2(n,e);if(n instanceof ArrayBuffer)return Z2(n,e);if(Tn(n))return eA(n,e);if(Mu(n))return _d(n,e);if($t(n))return _d(n.body,e);throw new Error("makeIterator")}var nA="Cannot convert supplied data type";function qT(n,e,t){if(e.text&&typeof n=="string")return n;if(k2(n)&&(n=n.buffer),n instanceof ArrayBuffer){let r=n;return e.text&&!e.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(n)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(n);let r=n.buffer,s=n.byteLength||n.length;return(n.byteOffset!==0||s!==r.byteLength)&&(r=r.slice(n.byteOffset,n.byteOffset+s)),r}throw new Error(nA)}async function rA(n,e,t){let r=n instanceof ArrayBuffer||ArrayBuffer.isView(n);if(typeof n=="string"||r)return qT(n,e,t);if(Tn(n)&&(n=await Vu(n)),$t(n)){let s=n;return await N2(s),e.binary?await s.arrayBuffer():await s.text()}if(Mu(n)&&(n=tA(n,t)),D2(n)||I2(n))return cd(n);throw new Error(nA)}function sA(n,e){let t=xd(),r=n||t;return typeof r.fetch=="function"?r.fetch:ws(r.fetch)?s=>dd(s,r.fetch):e?.fetch?e?.fetch:dd}function oA(n,e,t){if(t)return t;let r={fetch:sA(e,n),...n};if(r.url){let s=Do(r.url);r.baseUrl=s,r.queryString=G2(r.url),r.filename=vs.filename(s),r.baseUrl=vs.dirname(s)}return Array.isArray(r.loaders)||(r.loaders=null),r}function iA(n,e){if(n&&!Array.isArray(n))return n;let t;if(n&&(t=Array.isArray(n)?n:[n]),e&&e.loaders){let r=Array.isArray(e.loaders)?e.loaders:[e.loaders];t=t?[...t,...r]:r}return t&&t.length?t:void 0}async function Io(n,e,t,r){e&&!Array.isArray(e)&&!Ad(e)&&(r=void 0,t=e,e=void 0),n=await n,t=t||{};let s=_s(n),i=iA(e,r),a=await X2(n,i,t);return a?(t=j2(t,a,i,s),r=oA({url:s,_parse:Io,loaders:i},t,r||null),await XT(a,n,t,r)):null}async function XT(n,e,t,r){if(ed(n),t=qm(n.options,t),$t(e)){let o=e,{ok:i,redirected:a,status:c,statusText:u,type:l,url:f}=o,h=Object.fromEntries(o.headers.entries());r.response={headers:h,ok:i,redirected:a,status:c,statusText:u,type:l,url:f}}e=await rA(e,n,t);let s=n;if(s.parseTextSync&&typeof e=="string")return s.parseTextSync(e,t,r);if(nd(n,t))return await rd(n,e,t,r,Io);if(s.parseText&&typeof e=="string")return await s.parseText(e,t,r);if(s.parse)return await s.parse(e,t,r);throw Ze(!s.parseSync),new Error(`${n.id} loader - no parser found and worker is disabled`)}function aA(n){switch(n.constructor){case Int8Array:return"int8";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int16Array:return"int16";case Uint16Array:return"uint16";case Int32Array:return"int32";case Uint32Array:return"uint32";case Float32Array:return"float32";case Float64Array:return"float64";default:return"null"}}function Td(n){let e=1/0,t=1/0,r=1/0,s=-1/0,o=-1/0,i=-1/0,a=n.POSITION?n.POSITION.value:[],c=a&&a.length;for(let u=0;u<c;u+=3){let l=a[u],f=a[u+1],h=a[u+2];e=l<e?l:e,t=f<t?f:t,r=h<r?h:r,s=l>s?l:s,o=f>o?f:o,i=h>i?h:i}return[[e,t,r],[s,o,i]]}function Bd(n,e,t){let r=aA(e.value),s=t||cA(e);return{name:n,type:{type:"fixed-size-list",listSize:e.size,children:[{name:"value",type:r}]},nullable:!1,metadata:s}}function cA(n){let e={};return"byteOffset"in n&&(e.byteOffset=n.byteOffset.toString(10)),"byteStride"in n&&(e.byteStride=n.byteStride.toString(10)),"normalized"in n&&(e.normalized=n.normalized.toString()),e}var Id={};Nt(Id,{createExtMeshFeatures:()=>L4,decode:()=>R4,encode:()=>D4,name:()=>V4});var uA="4.3.3";var YT=globalThis.loaders?.parseImageNode,Ed=typeof Image<"u",Sd=typeof ImageBitmap<"u",QT=!!YT,Md=$n?!0:QT;function lA(n){switch(n){case"auto":return Sd||Ed||Md;case"imagebitmap":return Sd;case"image":return Ed;case"data":return Md;default:throw new Error(`@loaders.gl/images: image ${n} not supported in this environment`)}}function fA(){if(Sd)return"imagebitmap";if(Ed)return"image";if(Md)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function hA(n){let e=WT(n);if(!e)throw new Error("Not an image");return e}function _a(n){switch(hA(n)){case"data":return n;case"image":case"imagebitmap":let e=document.createElement("canvas"),t=e.getContext("2d");if(!t)throw new Error("getImageData");return e.width=n.width,e.height=n.height,t.drawImage(n,0,0),t.getImageData(0,0,n.width,n.height);default:throw new Error("getImageData")}}function WT(n){return typeof ImageBitmap<"u"&&n instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&n instanceof Image?"image":n&&typeof n=="object"&&n.data&&n.width&&n.height?"data":null}var $T=/^data:image\/svg\+xml/,ZT=/\.svg((\?|#).*)?$/;function Iu(n){return n&&($T.test(n)||ZT.test(n))}function mA(n,e){if(Iu(e)){let r=new TextDecoder().decode(n);try{typeof unescape=="function"&&typeof encodeURIComponent=="function"&&(r=unescape(encodeURIComponent(r)))}catch(o){throw new Error(o.message)}return`data:image/svg+xml;base64,${btoa(r)}`}return Cd(n,e)}function Cd(n,e){if(Iu(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(n)])}async function ku(n,e,t){let r=mA(n,t),s=self.URL||self.webkitURL,o=typeof r!="string"&&s.createObjectURL(r);try{return await e4(o||r,e)}finally{o&&s.revokeObjectURL(o)}}async function e4(n,e){let t=new Image;return t.src=n,e.image&&e.image.decode&&t.decode?(await t.decode(),t):await new Promise((r,s)=>{try{t.onload=()=>r(t),t.onerror=o=>{let i=o instanceof Error?o.message:"error";s(new Error(i))}}catch(o){s(o)}})}var t4={},dA=!0;async function pA(n,e,t){let r;Iu(t)?r=await ku(n,e,t):r=Cd(n,t);let s=e&&e.imagebitmap;return await n4(r,s)}async function n4(n,e=null){if((r4(e)||!dA)&&(e=null),e)try{return await createImageBitmap(n,e)}catch(t){console.warn(t),dA=!1}return await createImageBitmap(n)}function r4(n){for(let e in n||t4)return!1;return!0}function gA(n){return!a4(n,"ftyp",4)||(n[8]&96)===0?null:s4(n)}function s4(n){switch(o4(n,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}function o4(n,e,t){return String.fromCharCode(...n.slice(e,t))}function i4(n){return[...n].map(e=>e.charCodeAt(0))}function a4(n,e,t=0){let r=i4(e);for(let s=0;s<r.length;++s)if(r[s]!==n[s+t])return!1;return!0}var Bn=!1,Ta=!0;function Ts(n){let e=Ba(n);return u4(e)||h4(e)||l4(e)||f4(e)||c4(e)}function c4(n){let e=new Uint8Array(n instanceof DataView?n.buffer:n),t=gA(e);return t?{mimeType:t.mimeType,width:0,height:0}:null}function u4(n){let e=Ba(n);return e.byteLength>=24&&e.getUint32(0,Bn)===2303741511?{mimeType:"image/png",width:e.getUint32(16,Bn),height:e.getUint32(20,Bn)}:null}function l4(n){let e=Ba(n);return e.byteLength>=10&&e.getUint32(0,Bn)===1195984440?{mimeType:"image/gif",width:e.getUint16(6,Ta),height:e.getUint16(8,Ta)}:null}function f4(n){let e=Ba(n);return e.byteLength>=14&&e.getUint16(0,Bn)===16973&&e.getUint32(2,Ta)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,Ta),height:e.getUint32(22,Ta)}:null}function h4(n){let e=Ba(n);if(!(e.byteLength>=3&&e.getUint16(0,Bn)===65496&&e.getUint8(2)===255))return null;let{tableMarkers:r,sofMarkers:s}=m4(),o=2;for(;o+9<e.byteLength;){let i=e.getUint16(o,Bn);if(s.has(i))return{mimeType:"image/jpeg",height:e.getUint16(o+5,Bn),width:e.getUint16(o+7,Bn)};if(!r.has(i))return null;o+=2,o+=e.getUint16(o,Bn)}return null}function m4(){let n=new Set([65499,65476,65484,65501,65534]);for(let t=65504;t<65520;++t)n.add(t);return{tableMarkers:n,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function Ba(n){if(n instanceof DataView)return n;if(ArrayBuffer.isView(n))return new DataView(n.buffer);if(n instanceof ArrayBuffer)return new DataView(n);throw new Error("toDataView")}async function yA(n,e){let{mimeType:t}=Ts(n)||{},r=globalThis.loaders?.parseImageNode;return ft(r),await r(n,t)}async function xA(n,e,t){e=e||{};let s=(e.image||{}).type||"auto",{url:o}=t||{},i=d4(s),a;switch(i){case"imagebitmap":a=await pA(n,e,o);break;case"image":a=await ku(n,e,o);break;case"data":a=await yA(n,e);break;default:ft(!1)}return s==="data"&&(a=_a(a)),a}function d4(n){switch(n){case"auto":case"data":return fA();default:return lA(n),n}}var p4=["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],g4=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],y4={image:{type:"auto",decode:!0}},Vd={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:uA,mimeTypes:g4,extensions:p4,parse:xA,tests:[n=>!!Ts(new DataView(n))],options:y4};var Rd={};function Dd(n){if(Rd[n]===void 0){let e=$n?A4(n):x4(n);Rd[n]=e}return Rd[n]}function x4(n){let e=["image/png","image/jpeg","image/gif"],t=globalThis.loaders?.imageFormatsNode||e;return!!globalThis.loaders?.parseImageNode&&t.includes(n)}function A4(n){switch(n){case"image/avif":case"image/webp":return b4(n);default:return!0}}function b4(n){try{return document.createElement("canvas").toDataURL(n).indexOf(`data:${n}`)===0}catch{return!1}}function He(n,e){if(!n)throw new Error(e||"assert failed: gltf")}var Ou={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Lu={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4};var AA=["SCALAR","VEC2","VEC3","VEC4"],v4=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],w4=new Map(v4),_4={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},T4={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},B4={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function Gu(n){return AA[n-1]||AA[0]}function Nr(n){let e=w4.get(n.constructor);if(!e)throw new Error("Illegal typed array");return e}function ko(n,e){let t=B4[n.componentType],r=_4[n.type],s=T4[n.componentType],o=n.count*r,i=n.count*r*s;He(i>=0&&i<=e.byteLength);let a=Lu[n.componentType],c=Ou[n.type];return{ArrayType:t,length:o,byteLength:i,componentByteSize:a,numberOfComponentsInElement:c}}function bA(n,e,t){let r=n.bufferViews[t];He(r);let s=r.buffer,o=e[s];He(o);let i=(r.byteOffset||0)+o.byteOffset;return new Uint8Array(o.arrayBuffer,i,r.byteLength)}function vA(n,e,t){let r=typeof t=="number"?n.accessors?.[t]:t;if(!r)throw new Error(`No gltf accessor ${JSON.stringify(t)}`);let s=n.bufferViews?.[r.bufferView||0];if(!s)throw new Error(`No gltf buffer view for accessor ${s}`);let{arrayBuffer:o,byteOffset:i}=e[s.buffer],a=(i||0)+(r.byteOffset||0)+(s.byteOffset||0),{ArrayType:c,length:u,componentByteSize:l,numberOfComponentsInElement:f}=ko(r,s),h=l*f,d=s.byteStride||h;if(typeof s.byteStride>"u"||s.byteStride===h)return new c(o,a,u);let p=new c(u);for(let A=0;A<r.count;A++){let _=new c(o,a+A*d,f);p.set(_,A*f)}return p}function E4(){return{asset:{version:"2.0",generator:"loaders.gl"},buffers:[],extensions:{},extensionsRequired:[],extensionsUsed:[]}}var ne=class{gltf;sourceBuffers;byteLength;constructor(e){this.gltf={json:e?.json||E4(),buffers:e?.buffers||[],images:e?.images||[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(e){return this.json[e]}getExtraData(e){return(this.json.extras||{})[e]}hasExtension(e){let t=this.getUsedExtensions().find(s=>s===e),r=this.getRequiredExtensions().find(s=>s===e);return typeof t=="string"||typeof r=="string"}getExtension(e){let t=this.getUsedExtensions().find(s=>s===e),r=this.json.extensions||{};return t?r[e]:null}getRequiredExtension(e){return this.getRequiredExtensions().find(r=>r===e)?this.getExtension(e):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(e,t){return(e.extensions||{})[t]}getScene(e){return this.getObject("scenes",e)}getNode(e){return this.getObject("nodes",e)}getSkin(e){return this.getObject("skins",e)}getMesh(e){return this.getObject("meshes",e)}getMaterial(e){return this.getObject("materials",e)}getAccessor(e){return this.getObject("accessors",e)}getTexture(e){return this.getObject("textures",e)}getSampler(e){return this.getObject("samplers",e)}getImage(e){return this.getObject("images",e)}getBufferView(e){return this.getObject("bufferViews",e)}getBuffer(e){return this.getObject("buffers",e)}getObject(e,t){if(typeof t=="object")return t;let r=this.json[e]&&this.json[e][t];if(!r)throw new Error(`glTF file error: Could not find ${e}[${t}]`);return r}getTypedArrayForBufferView(e){e=this.getBufferView(e);let t=e.buffer,r=this.gltf.buffers[t];He(r);let s=(e.byteOffset||0)+r.byteOffset;return new Uint8Array(r.arrayBuffer,s,e.byteLength)}getTypedArrayForAccessor(e){let t=this.getAccessor(e);return vA(this.gltf.json,this.gltf.buffers,t)}getTypedArrayForImageData(e){e=this.getAccessor(e);let t=this.getBufferView(e.bufferView),s=this.getBuffer(t.buffer).data,o=t.byteOffset||0;return new Uint8Array(s,o,t.byteLength)}addApplicationData(e,t){return this.json[e]=t,this}addExtraData(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}addObjectExtension(e,t,r){return e.extensions=e.extensions||{},e.extensions[t]=r,this.registerUsedExtension(t),this}setObjectExtension(e,t,r){let s=e.extensions||{};s[t]=r}removeObjectExtension(e,t){let r=e?.extensions||{};if(r[t]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];let s=this.json.extensionsRemoved;s.includes(t)||s.push(t)}delete r[t]}addExtension(e,t={}){return He(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}addRequiredExtension(e,t={}){return He(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}registerUsedExtension(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(t=>t===e)||this.json.extensionsUsed.push(e)}registerRequiredExtension(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(t=>t===e)||this.json.extensionsRequired.push(e)}removeExtension(e){if(this.json.extensions?.[e]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];let t=this.json.extensionsRemoved;t.includes(e)||t.push(e)}this.json.extensions&&delete this.json.extensions[e],this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e)}setDefaultScene(e){this.json.scene=e}addScene(e){let{nodeIndices:t}=e;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:t}),this.json.scenes.length-1}addNode(e){let{meshIndex:t,matrix:r}=e;this.json.nodes=this.json.nodes||[];let s={mesh:t};return r&&(s.matrix=r),this.json.nodes.push(s),this.json.nodes.length-1}addMesh(e){let{attributes:t,indices:r,material:s,mode:o=4}=e,a={primitives:[{attributes:this._addAttributes(t),mode:o}]};if(r){let c=this._addIndices(r);a.primitives[0].indices=c}return Number.isFinite(s)&&(a.primitives[0].material=s),this.json.meshes=this.json.meshes||[],this.json.meshes.push(a),this.json.meshes.length-1}addPointCloud(e){let r={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(r),this.json.meshes.length-1}addImage(e,t){let r=Ts(e),s=t||r?.mimeType,i={bufferView:this.addBufferView(e),mimeType:s};return this.json.images=this.json.images||[],this.json.images.push(i),this.json.images.length-1}addBufferView(e,t=0,r=this.byteLength){let s=e.byteLength;He(Number.isFinite(s)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);let o={buffer:t,byteOffset:r,byteLength:s};return this.byteLength+=Fr(s,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(o),this.json.bufferViews.length-1}addAccessor(e,t){let r={bufferView:e,type:Gu(t.size),componentType:t.componentType,count:t.count,max:t.max,min:t.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(r),this.json.accessors.length-1}addBinaryBuffer(e,t={size:3}){let r=this.addBufferView(e),s={min:t.min,max:t.max};(!s.min||!s.max)&&(s=this._getAccessorMinMax(e,t.size));let o={size:t.size,componentType:Nr(e),count:Math.round(e.length/t.size),min:s.min,max:s.max};return this.addAccessor(r,Object.assign(o,t))}addTexture(e){let{imageIndex:t}=e,r={source:t};return this.json.textures=this.json.textures||[],this.json.textures.push(r),this.json.textures.length-1}addMaterial(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}createBinaryChunk(){let e=this.byteLength,t=new ArrayBuffer(e),r=new Uint8Array(t),s=0;for(let o of this.sourceBuffers||[])s=ad(o,r,s);this.json?.buffers?.[0]?this.json.buffers[0].byteLength=e:this.json.buffers=[{byteLength:e}],this.gltf.binary=t,this.sourceBuffers=[t],this.gltf.buffers=[{arrayBuffer:t,byteOffset:0,byteLength:t.byteLength}]}_removeStringFromArray(e,t){let r=!0;for(;r;){let s=e.indexOf(t);s>-1?e.splice(s,1):r=!1}}_addAttributes(e={}){let t={};for(let r in e){let s=e[r],o=this._getGltfAttributeName(r),i=this.addBinaryBuffer(s.value,s);t[o]=i}return t}_addIndices(e){return this.addBinaryBuffer(e,{size:1})}_getGltfAttributeName(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}_getAccessorMinMax(e,t){let r={min:null,max:null};if(e.length<t)return r;r.min=[],r.max=[];let s=e.subarray(0,t);for(let o of s)r.min.push(o),r.max.push(o);for(let o=t;o<e.length;o+=t)for(let i=0;i<t;i++)r.min[0+i]=Math.min(r.min[0+i],e[o+i]),r.max[0+i]=Math.max(r.max[0+i],e[o+i]);return r}};function wA(n){return(n%1+1)%1}var _A={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16,BOOLEAN:1,STRING:1,ENUM:1},S4={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:BigInt64Array,UINT64:BigUint64Array,FLOAT32:Float32Array,FLOAT64:Float64Array},TA={INT8:1,UINT8:1,INT16:2,UINT16:2,INT32:4,UINT32:4,INT64:8,UINT64:8,FLOAT32:4,FLOAT64:8};function Ea(n,e){return TA[e]*_A[n]}function Oo(n,e,t,r){if(t!=="UINT8"&&t!=="UINT16"&&t!=="UINT32"&&t!=="UINT64")return null;let s=n.getTypedArrayForBufferView(e),o=Lo(s,"SCALAR",t,r+1);return o instanceof BigInt64Array||o instanceof BigUint64Array?null:o}function Lo(n,e,t,r=1){let s=_A[e],o=S4[t],i=TA[t],a=r*s,c=a*i,u=n.buffer,l=n.byteOffset;return l%i!==0&&(u=new Uint8Array(u).slice(l,l+c).buffer,l=0),new o(u,l,a)}function Go(n,e,t){let r=`TEXCOORD_${e.texCoord||0}`,s=t.attributes[r],o=n.getTypedArrayForAccessor(s),i=n.gltf.json,a=e.index,c=i.textures?.[a]?.source;if(typeof c<"u"){let u=i.images?.[c]?.mimeType,l=n.gltf.images?.[c];if(l&&typeof l.width<"u"){let f=[];for(let h=0;h<o.length;h+=2){let d=M4(l,u,o,h,e.channels);f.push(d)}return f}}return[]}function Uu(n,e,t,r,s){if(!t?.length)return;let o=[];for(let l of t){let f=r.findIndex(h=>h===l);f===-1&&(f=r.push(l)-1),o.push(f)}let i=new Uint32Array(o),a=n.gltf.buffers.push({arrayBuffer:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength})-1,c=n.addBufferView(i,a,0),u=n.addAccessor(c,{size:1,componentType:Nr(i),count:i.length});s.attributes[e]=u}function M4(n,e,t,r,s=[0]){let o={r:{offset:0,shift:0},g:{offset:1,shift:8},b:{offset:2,shift:16},a:{offset:3,shift:24}},i=t[r],a=t[r+1],c=1;e&&(e.indexOf("image/jpeg")!==-1||e.indexOf("image/png")!==-1)&&(c=4);let u=C4(i,a,n,c),l=0;for(let f of s){let h=typeof f=="number"?Object.values(o)[f]:o[f],d=u+h.offset,p=_a(n);if(p.data.length<=d)throw new Error(`${p.data.length} <= ${d}`);let A=p.data[d];l|=A<<h.shift}return l}function C4(n,e,t,r=1){let s=t.width,o=wA(n)*(s-1),i=Math.round(o),a=t.height,c=wA(e)*(a-1),u=Math.round(c),l=t.components?t.components:r;return(u*s+i)*l}function Fu(n,e,t,r,s){let o=[];for(let i=0;i<e;i++){let a=t[i],c=t[i+1]-t[i];if(c+a>r)break;let u=a/s,l=c/s;o.push(n.slice(u,u+l))}return o}function Nu(n,e,t){let r=[];for(let s=0;s<e;s++){let o=s*t;r.push(n.slice(o,o+t))}return r}function zu(n,e,t,r){if(t)throw new Error("Not implemented - arrayOffsets for strings is specified");if(r){let s=[],o=new TextDecoder("utf8"),i=0;for(let a=0;a<n;a++){let c=r[a+1]-r[a];if(c+i<=e.length){let u=e.subarray(i,c+i),l=o.decode(u);s.push(l),i+=c}}return s}return[]}var Uo="EXT_mesh_features",V4=Uo;async function R4(n,e){let t=new ne(n);I4(t,e)}function D4(n,e){let t=new ne(n);return O4(t,e),t.createBinaryChunk(),t.gltf}function I4(n,e){let t=n.gltf.json;if(t.meshes)for(let r of t.meshes)for(let s of r.primitives)k4(n,s,e)}function k4(n,e,t){if(!t?.gltf?.loadBuffers)return;let s=e.extensions?.[Uo]?.featureIds;if(s)for(let o of s){let i;if(typeof o.attribute<"u"){let a=`_FEATURE_ID_${o.attribute}`,c=e.attributes[a];i=n.getTypedArrayForAccessor(c)}else typeof o.texture<"u"&&t?.gltf?.loadImages?i=Go(n,o.texture,e):i=[];o.data=i}}function O4(n,e){let t=n.gltf.json.meshes;if(t)for(let r of t)for(let s of r.primitives)G4(n,s)}function L4(n,e,t,r){e.extensions||(e.extensions={});let s=e.extensions[Uo];s||(s={featureIds:[]},e.extensions[Uo]=s);let{featureIds:o}=s,i={featureCount:t.length,propertyTable:r,data:t};o.push(i),n.addObjectExtension(e,Uo,s)}function G4(n,e){let t=e.extensions?.[Uo];if(!t)return;let r=t.featureIds;r.forEach((s,o)=>{if(s.data){let{accessorKey:i,index:a}=U4(e.attributes),c=new Uint32Array(s.data);r[o]={featureCount:c.length,propertyTable:s.propertyTable,attribute:a},n.gltf.buffers.push({arrayBuffer:c.buffer,byteOffset:c.byteOffset,byteLength:c.byteLength});let u=n.addBufferView(c),l=n.addAccessor(u,{size:1,componentType:Nr(c),count:c.length});e.attributes[i]=l}})}function U4(n){let e="_FEATURE_ID_",t=Object.keys(n).filter(o=>o.indexOf(e)===0),r=-1;for(let o of t){let i=Number(o.substring(e.length));i>r&&(r=i)}return r++,{accessorKey:`${e}${r}`,index:r}}var Ld={};Nt(Ld,{createExtStructuralMetadata:()=>iB,decode:()=>N4,encode:()=>z4,name:()=>F4});var Fo="EXT_structural_metadata",F4=Fo;async function N4(n,e){let t=new ne(n);H4(t,e)}function z4(n,e){let t=new ne(n);return sB(t,e),t.createBinaryChunk(),t.gltf}function H4(n,e){if(!e.gltf?.loadBuffers)return;let t=n.getExtension(Fo);t&&(e.gltf?.loadImages&&P4(n,t),j4(n,t))}function P4(n,e){let t=e.propertyTextures,r=n.gltf.json;if(t&&r.meshes)for(let s of r.meshes)for(let o of s.primitives)J4(n,t,o,e)}function j4(n,e){let t=e.schema;if(!t)return;let r=t.classes,s=e.propertyTables;if(r&&s)for(let o in r){let i=K4(s,o);i&&X4(n,t,i)}}function K4(n,e){for(let t of n)if(t.class===e)return t;return null}function J4(n,e,t,r){if(!e)return;let o=t.extensions?.[Fo]?.propertyTextures;if(o)for(let i of o){let a=e[i];q4(n,a,t,r)}}function q4(n,e,t,r){if(!e.properties)return;r.dataAttributeNames||(r.dataAttributeNames=[]);let s=e.class;for(let o in e.properties){let i=`${s}_${o}`,a=e.properties?.[o];if(!a)continue;a.data||(a.data=[]);let c=a.data,u=Go(n,a,t);u!==null&&(Uu(n,i,u,c,t),a.data=c,r.dataAttributeNames.push(i))}}function X4(n,e,t){let r=e.classes?.[t.class];if(!r)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${t.class}`);let s=t.count;for(let o in r.properties){let i=r.properties[o],a=t.properties?.[o];if(a){let c=Y4(n,e,i,s,a);a.data=c}}}function Y4(n,e,t,r,s){let o=[],i=s.values,a=n.getTypedArrayForBufferView(i),c=Q4(n,t,s,r),u=W4(n,s,r);switch(t.type){case"SCALAR":case"VEC2":case"VEC3":case"VEC4":case"MAT2":case"MAT3":case"MAT4":{o=$4(t,r,a,c);break}case"BOOLEAN":throw new Error(`Not implemented - classProperty.type=${t.type}`);case"STRING":{o=zu(r,a,c,u);break}case"ENUM":{o=Z4(e,t,r,a,c);break}default:throw new Error(`Unknown classProperty type ${t.type}`)}return o}function Q4(n,e,t,r){return e.array&&typeof e.count>"u"&&typeof t.arrayOffsets<"u"?Oo(n,t.arrayOffsets,t.arrayOffsetType||"UINT32",r):null}function W4(n,e,t){return typeof e.stringOffsets<"u"?Oo(n,e.stringOffsets,e.stringOffsetType||"UINT32",t):null}function $4(n,e,t,r){let s=n.array,o=n.count,i=Ea(n.type,n.componentType),a=t.byteLength/i,c;return n.componentType?c=Lo(t,n.type,n.componentType,a):c=t,s?r?Fu(c,e,r,t.length,i):o?Nu(c,e,o):[]:c}function Z4(n,e,t,r,s){let o=e.enumType;if(!o)throw new Error("Incorrect data in the EXT_structural_metadata extension: classProperty.enumType is not set for type ENUM");let i=n.enums?.[o];if(!i)throw new Error(`Incorrect data in the EXT_structural_metadata extension: schema.enums does't contain ${o}`);let a=i.valueType||"UINT16",c=Ea(e.type,a),u=r.byteLength/c,l=Lo(r,e.type,a,u);if(l||(l=r),e.array){if(s)return eB({valuesData:l,numberOfElements:t,arrayOffsets:s,valuesDataBytesLength:r.length,elementSize:c,enumEntry:i});let f=e.count;return f?tB(l,t,f,i):[]}return Od(l,0,t,i)}function eB(n){let{valuesData:e,numberOfElements:t,arrayOffsets:r,valuesDataBytesLength:s,elementSize:o,enumEntry:i}=n,a=[];for(let c=0;c<t;c++){let u=r[c],l=r[c+1]-r[c];if(l+u>s)break;let f=u/o,h=l/o,d=Od(e,f,h,i);a.push(d)}return a}function tB(n,e,t,r){let s=[];for(let o=0;o<e;o++){let i=t*o,a=Od(n,i,t,r);s.push(a)}return s}function Od(n,e,t,r){let s=[];for(let o=0;o<t;o++)if(n instanceof BigInt64Array||n instanceof BigUint64Array)s.push("");else{let i=n[e+o],a=nB(r,i);a?s.push(a.name):s.push("")}return s}function nB(n,e){for(let t of n.values)if(t.value===e)return t;return null}var rB="schemaClassId";function sB(n,e){let t=n.getExtension(Fo);if(t&&t.propertyTables)for(let r of t.propertyTables){let s=r.class,o=t.schema?.classes?.[s];r.properties&&o&&oB(r,o,n)}}function oB(n,e,t){for(let r in n.properties){let s=n.properties[r].data;if(s){let o=e.properties[r];if(o){let i=uB(s,o,t);n.properties[r]=i}}}}function iB(n,e,t=rB){let r=n.getExtension(Fo);r||(r=n.addExtension(Fo)),r.schema=aB(e,t,r.schema);let s=cB(e,t,r.schema);return r.propertyTables||(r.propertyTables=[]),r.propertyTables.push(s)-1}function aB(n,e,t){let r=t??{id:"schema_id"},s={properties:{}};for(let o of n){let i={type:o.elementType,componentType:o.componentType};s.properties[o.name]=i}return r.classes={},r.classes[e]=s,r}function cB(n,e,t){let r={class:e,count:0},s=0,o=t.classes?.[e];for(let i of n){if(s===0&&(s=i.values.length),s!==i.values.length&&i.values.length)throw new Error("Illegal values in attributes");o?.properties[i.name]&&(r.properties||(r.properties={}),r.properties[i.name]={values:0,data:i.values})}return r.count=s,r}function uB(n,e,t){let r={values:0};if(e.type==="STRING"){let{stringData:s,stringOffsets:o}=hB(n);r.stringOffsets=kd(o,t),r.values=kd(s,t)}else if(e.type==="SCALAR"&&e.componentType){let s=fB(n,e.componentType);r.values=kd(s,t)}return r}var lB={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:Int32Array,UINT64:Uint32Array,FLOAT32:Float32Array,FLOAT64:Float64Array};function fB(n,e){let t=[];for(let s of n)t.push(Number(s));let r=lB[e];if(!r)throw new Error("Illegal component type");return new r(t)}function hB(n){let e=new TextEncoder,t=[],r=0;for(let c of n){let u=e.encode(c);r+=u.length,t.push(u)}let s=new Uint8Array(r),o=[],i=0;for(let c of t)s.set(c,i),o.push(i),i+=c.length;o.push(i);let a=new Uint32Array(o);return{stringData:s,stringOffsets:a}}function kd(n,e){return e.gltf.buffers.push({arrayBuffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}),e.addBufferView(n)}var Gd={};Nt(Gd,{decode:()=>dB,name:()=>mB});var BA="EXT_feature_metadata",mB=BA;async function dB(n,e){let t=new ne(n);pB(t,e)}function pB(n,e){if(!e.gltf?.loadBuffers)return;let t=n.getExtension(BA);t&&(e.gltf?.loadImages&&gB(n,t),yB(n,t))}function gB(n,e){let t=e.schema;if(!t)return;let r=t.classes,{featureTextures:s}=e;if(r&&s)for(let o in r){let i=r[o],a=AB(s,o);a&&vB(n,a,i)}}function yB(n,e){let t=e.schema;if(!t)return;let r=t.classes,s=e.featureTables;if(r&&s)for(let o in r){let i=xB(s,o);i&&bB(n,t,i)}}function xB(n,e){for(let t in n){let r=n[t];if(r.class===e)return r}return null}function AB(n,e){for(let t in n){let r=n[t];if(r.class===e)return r}return null}function bB(n,e,t){if(!t.class)return;let r=e.classes?.[t.class];if(!r)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${t.class}`);let s=t.count;for(let o in r.properties){let i=r.properties[o],a=t.properties?.[o];if(a){let c=wB(n,e,i,s,a);a.data=c}}}function vB(n,e,t){let r=e.class;for(let s in t.properties){let o=e?.properties?.[s];if(o){let i=SB(n,o,r);o.data=i}}}function wB(n,e,t,r,s){let o=[],i=s.bufferView,a=n.getTypedArrayForBufferView(i),c=_B(n,t,s,r),u=TB(n,t,s,r);return t.type==="STRING"||t.componentType==="STRING"?o=zu(r,a,c,u):BB(t)&&(o=EB(t,r,a,c)),o}function _B(n,e,t,r){return e.type==="ARRAY"&&typeof e.componentCount>"u"&&typeof t.arrayOffsetBufferView<"u"?Oo(n,t.arrayOffsetBufferView,t.offsetType||"UINT32",r):null}function TB(n,e,t,r){return typeof t.stringOffsetBufferView<"u"?Oo(n,t.stringOffsetBufferView,t.offsetType||"UINT32",r):null}function BB(n){let e=["UINT8","INT16","UINT16","INT32","UINT32","INT64","UINT64","FLOAT32","FLOAT64"];return e.includes(n.type)||typeof n.componentType<"u"&&e.includes(n.componentType)}function EB(n,e,t,r){let s=n.type==="ARRAY",o=n.componentCount,i="SCALAR",a=n.componentType||n.type,c=Ea(i,a),u=t.byteLength/c,l=Lo(t,i,a,u);return s?r?Fu(l,e,r,t.length,c):o?Nu(l,e,o):[]:l}function SB(n,e,t){let r=n.gltf.json;if(!r.meshes)return[];let s=[];for(let o of r.meshes)for(let i of o.primitives)MB(n,t,e,s,i);return s}function MB(n,e,t,r,s){let o={channels:t.channels,...t.texture},i=Go(n,o,s);i&&Uu(n,e,i,r,s)}var EA="4.3.3";var SA="4.3.3";var Hu={TRANSCODER:"basis_transcoder.js",TRANSCODER_WASM:"basis_transcoder.wasm",ENCODER:"basis_encoder.js",ENCODER_WASM:"basis_encoder.wasm"},MA;async function Fd(n){Xm(n.modules);let e=Ym("basis");return e||(MA||=CB(n),await MA)}async function CB(n){let e=null,t=null;return[e,t]=await Promise.all([await _n(Hu.TRANSCODER,"textures",n),await _n(Hu.TRANSCODER_WASM,"textures",n)]),e=e||globalThis.BASIS,await VB(e,t)}function VB(n,e){let t={};return e&&(t.wasmBinary=e),new Promise(r=>{n(t).then(s=>{let{BasisFile:o,initializeBasis:i}=s;i(),r({BasisFile:o})})})}var Ud;async function Nd(n){let e=n.modules||{};return e.basisEncoder?e.basisEncoder:(Ud=Ud||RB(n),await Ud)}async function RB(n){let e=null,t=null;return[e,t]=await Promise.all([await _n(Hu.ENCODER,"textures",n),await _n(Hu.ENCODER_WASM,"textures",n)]),e=e||globalThis.BASIS,await DB(e,t)}function DB(n,e){let t={};return e&&(t.wasmBinary=e),new Promise(r=>{n(t).then(s=>{let{BasisFile:o,KTX2File:i,initializeBasis:a,BasisEncoder:c}=s;a(),r({BasisFile:o,KTX2File:i,BasisEncoder:c})})})}var Bs={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919};var IB=["","WEBKIT_","MOZ_"],CA={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"},Pu=null;function VA(n){if(!Pu){n=n||kB()||void 0,Pu=new Set;for(let e of IB)for(let t in CA)if(n&&n.getExtension(`${e}${t}`)){let r=CA[t];Pu.add(r)}}return Pu}function kB(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}var Gt=[171,75,84,88,32,50,48,187,13,10,26,10];function RA(n){let e=new Uint8Array(n);return!(e.byteLength<Gt.length||e[0]!==Gt[0]||e[1]!==Gt[1]||e[2]!==Gt[2]||e[3]!==Gt[3]||e[4]!==Gt[4]||e[5]!==Gt[5]||e[6]!==Gt[6]||e[7]!==Gt[7]||e[8]!==Gt[8]||e[9]!==Gt[9]||e[10]!==Gt[10]||e[11]!==Gt[11])}var OB={etc1:{basisFormat:0,compressed:!0,format:Bs.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:Bs.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:Bs.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:Bs.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:Bs.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:Bs.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};async function IA(n,e){if(e.basis.containerFormat==="auto"){if(RA(n)){let r=await Nd(e);return DA(r.KTX2File,n,e)}let{BasisFile:t}=await Fd(e);return zd(t,n,e)}switch(e.basis.module){case"encoder":let t=await Nd(e);switch(e.basis.containerFormat){case"ktx2":return DA(t.KTX2File,n,e);case"basis":default:return zd(t.BasisFile,n,e)}case"transcoder":default:let{BasisFile:r}=await Fd(e);return zd(r,n,e)}}function zd(n,e,t){let r=new n(new Uint8Array(e));try{if(!r.startTranscoding())throw new Error("Failed to start basis transcoding");let s=r.getNumImages(),o=[];for(let i=0;i<s;i++){let a=r.getNumLevels(i),c=[];for(let u=0;u<a;u++)c.push(LB(r,i,u,t));o.push(c)}return o}finally{r.close(),r.delete()}}function LB(n,e,t,r){let s=n.getImageWidth(e,t),o=n.getImageHeight(e,t),i=n.getHasAlpha(),{compressed:a,format:c,basisFormat:u}=kA(r,i),l=n.getImageTranscodedSizeInBytes(e,t,u),f=new Uint8Array(l);if(!n.transcodeImage(f,e,t,u,0,0))throw new Error("failed to start Basis transcoding");return{width:s,height:o,data:f,compressed:a,format:c,hasAlpha:i}}function DA(n,e,t){let r=new n(new Uint8Array(e));try{if(!r.startTranscoding())throw new Error("failed to start KTX2 transcoding");let s=r.getLevels(),o=[];for(let i=0;i<s;i++)o.push(GB(r,i,t));return[o]}finally{r.close(),r.delete()}}function GB(n,e,t){let{alphaFlag:r,height:s,width:o}=n.getImageLevelInfo(e,0,0),{compressed:i,format:a,basisFormat:c}=kA(t,r),u=n.getImageTranscodedSizeInBytes(e,0,0,c),l=new Uint8Array(u);if(!n.transcodeImage(l,e,0,0,c,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:o,height:s,data:l,compressed:i,levelSize:u,hasAlpha:r,format:a}}function kA(n,e){let t=n&&n.basis&&n.basis.format;return t==="auto"&&(t=ju()),typeof t=="object"&&(t=e?t.alpha:t.noAlpha),t=t.toLowerCase(),OB[t]}function ju(){let n=VA();return n.has("astc")?"astc-4x4":n.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:n.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:n.has("etc1")?"etc1":n.has("etc2")?"etc2":"rgb565"}var OA={dataType:null,batchType:null,name:"Basis",id:"basis",module:"textures",version:SA,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},Hd={...OA,parse:IA};var No=!0,LA=1735152710,Kd=12,Ku=8,UB=1313821514,FB=5130562,NB=0,zB=0,HB=1;function PB(n,e=0){return`${String.fromCharCode(n.getUint8(e+0))}${String.fromCharCode(n.getUint8(e+1))}${String.fromCharCode(n.getUint8(e+2))}${String.fromCharCode(n.getUint8(e+3))}`}function GA(n,e=0,t={}){let r=new DataView(n),{magic:s=LA}=t,o=r.getUint32(e,!1);return o===s||o===LA}function UA(n,e,t=0,r={}){let s=new DataView(e),o=PB(s,t+0),i=s.getUint32(t+4,No),a=s.getUint32(t+8,No);switch(Object.assign(n,{header:{byteOffset:t,byteLength:a,hasBinChunk:!1},type:o,version:i,json:{},binChunks:[]}),t+=Kd,n.version){case 1:return jB(n,s,t);case 2:return KB(n,s,t,r={});default:throw new Error(`Invalid GLB version ${n.version}. Only supports version 1 and 2.`)}}function jB(n,e,t){ft(n.header.byteLength>Kd+Ku);let r=e.getUint32(t+0,No),s=e.getUint32(t+4,No);return t+=Ku,ft(s===NB),Pd(n,e,t,r),t+=r,t+=jd(n,e,t,n.header.byteLength),t}function KB(n,e,t,r){return ft(n.header.byteLength>Kd+Ku),JB(n,e,t,r),t+n.header.byteLength}function JB(n,e,t,r){for(;t+8<=n.header.byteLength;){let s=e.getUint32(t+0,No),o=e.getUint32(t+4,No);switch(t+=Ku,o){case UB:Pd(n,e,t,s);break;case FB:jd(n,e,t,s);break;case zB:r.strict||Pd(n,e,t,s);break;case HB:r.strict||jd(n,e,t,s);break;default:break}t+=Fr(s,4)}return t}function Pd(n,e,t,r){let s=new Uint8Array(e.buffer,t,r),i=new TextDecoder("utf8").decode(s);return n.json=JSON.parse(i),Fr(r,4)}function jd(n,e,t,r){return n.header.hasBinChunk=!0,n.binChunks.push({byteOffset:t,byteLength:r,arrayBuffer:e.buffer}),Fr(r,4)}function Jd(n,e){if(n.startsWith("data:")||n.startsWith("http:")||n.startsWith("https:"))return n;let r=e.baseUri||e.uri;if(!r)throw new Error(`'baseUri' must be provided to resolve relative url ${n}`);return r.substr(0,r.lastIndexOf("/")+1)+n}var Xd={};Nt(Xd,{decode:()=>sE,name:()=>rE});var qB="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",XB="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",YB=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),QB=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),WB={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},$B={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};async function FA(n,e,t,r,s,o="NONE"){let i=await ZB();nE(i,i.exports[$B[s]],n,e,t,r,i.exports[WB[o||"NONE"]])}var qd;async function ZB(){return qd||(qd=eE()),qd}async function eE(){let n=qB;WebAssembly.validate(YB)&&(n=XB,console.log("Warning: meshopt_decoder is using experimental SIMD support"));let e=await WebAssembly.instantiate(tE(n),{});return await e.instance.exports.__wasm_call_ctors(),e.instance}function tE(n){let e=new Uint8Array(n.length);for(let r=0;r<n.length;++r){let s=n.charCodeAt(r);e[r]=s>96?s-71:s>64?s-65:s>47?s+4:s>46?63:62}let t=0;for(let r=0;r<n.length;++r)e[t++]=e[r]<60?QB[e[r]]:(e[r]-60)*64+e[++r];return e.buffer.slice(0,t)}function nE(n,e,t,r,s,o,i){let a=n.exports.sbrk,c=r+3&-4,u=a(c*s),l=a(o.length),f=new Uint8Array(n.exports.memory.buffer);f.set(o,l);let h=e(u,r,s,l,o.length);if(h===0&&i&&i(u,c,s),t.set(f.subarray(u,u+r*s)),a(u-a(0)),h!==0)throw new Error(`Malformed buffer data: ${h}`)}var Ju="EXT_meshopt_compression",rE=Ju;async function sE(n,e){let t=new ne(n);if(!e?.gltf?.decompressMeshes||!e.gltf?.loadBuffers)return;let r=[];for(let s of n.json.bufferViews||[])r.push(oE(t,s));await Promise.all(r),t.removeExtension(Ju)}async function oE(n,e){let t=n.getObjectExtension(e,Ju);if(t){let{byteOffset:r=0,byteLength:s=0,byteStride:o,count:i,mode:a,filter:c="NONE",buffer:u}=t,l=n.gltf.buffers[u],f=new Uint8Array(l.arrayBuffer,l.byteOffset+r,s),h=new Uint8Array(n.gltf.buffers[e.buffer].arrayBuffer,e.byteOffset,e.byteLength);await FA(h,i,o,f,a,c),n.removeObjectExtension(e,Ju)}}var Yd={};Nt(Yd,{name:()=>iE,preprocess:()=>aE});var zo="EXT_texture_webp",iE=zo;function aE(n,e){let t=new ne(n);if(!Dd("image/webp")){if(t.getRequiredExtensions().includes(zo))throw new Error(`gltf: Required extension ${zo} not supported by browser`);return}let{json:r}=t;for(let s of r.textures||[]){let o=t.getObjectExtension(s,zo);o&&(s.source=o.source),t.removeObjectExtension(s,zo)}t.removeExtension(zo)}var Qd={};Nt(Qd,{name:()=>cE,preprocess:()=>uE});var qu="KHR_texture_basisu",cE=qu;function uE(n,e){let t=new ne(n),{json:r}=t;for(let s of r.textures||[]){let o=t.getObjectExtension(s,qu);o&&(s.source=o.source,t.removeObjectExtension(s,qu))}t.removeExtension(qu)}var tp={};Nt(tp,{decode:()=>BE,encode:()=>EE,name:()=>_E,preprocess:()=>TE});var NA="4.3.3";var zA={dataType:null,batchType:null,name:"Draco",id:"draco",module:"draco",version:NA,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:typeof WebAssembly=="object"?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}};function PA(n,e,t){let r=jA(e.metadata),s=[],o=lE(e.attributes);for(let i in n){let a=n[i],c=HA(i,a,o[i]);s.push(c)}if(t){let i=HA("indices",t);s.push(i)}return{fields:s,metadata:r}}function lE(n){let e={};for(let t in n){let r=n[t];e[r.name||"undefined"]=r}return e}function HA(n,e,t){let r=t?jA(t.metadata):void 0;return Bd(n,e,r)}function jA(n){Object.entries(n);let e={};for(let t in n)e[`${t}.string`]=JSON.stringify(n[t]);return e}var KA={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},fE={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},hE=4,Sa=class{draco;decoder;metadataQuerier;constructor(e){this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(e,t={}){let r=new this.draco.DecoderBuffer;r.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);let s=this.decoder.GetEncodedGeometryType(r),o=s===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let i;switch(s){case this.draco.TRIANGULAR_MESH:i=this.decoder.DecodeBufferToMesh(r,o);break;case this.draco.POINT_CLOUD:i=this.decoder.DecodeBufferToPointCloud(r,o);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!i.ok()||!o.ptr){let h=`DRACO decompression failed: ${i.error_msg()}`;throw new Error(h)}let a=this._getDracoLoaderData(o,s,t),c=this._getMeshData(o,a,t),u=Td(c.attributes),l=PA(c.attributes,a,c.indices);return{loader:"draco",loaderData:a,header:{vertexCount:o.num_points(),boundingBox:u},...c,schema:l}}finally{this.draco.destroy(r),o&&this.draco.destroy(o)}}_getDracoLoaderData(e,t,r){let s=this._getTopLevelMetadata(e),o=this._getDracoAttributes(e,r);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:s,attributes:o}}_getDracoAttributes(e,t){let r={};for(let s=0;s<e.num_attributes();s++){let o=this.decoder.GetAttribute(e,s),i=this._getAttributeMetadata(e,s);r[o.unique_id()]={unique_id:o.unique_id(),attribute_type:o.attribute_type(),data_type:o.data_type(),num_components:o.num_components(),byte_offset:o.byte_offset(),byte_stride:o.byte_stride(),normalized:o.normalized(),attribute_index:s,metadata:i};let a=this._getQuantizationTransform(o,t);a&&(r[o.unique_id()].quantization_transform=a);let c=this._getOctahedronTransform(o,t);c&&(r[o.unique_id()].octahedron_transform=c)}return r}_getMeshData(e,t,r){let s=this._getMeshAttributes(t,e,r);if(!s.POSITION)throw new Error("DRACO: No position attribute found.");if(e instanceof this.draco.Mesh)switch(r.topology){case"triangle-strip":return{topology:"triangle-strip",mode:4,attributes:s,indices:{value:this._getTriangleStripIndices(e),size:1}};case"triangle-list":default:return{topology:"triangle-list",mode:5,attributes:s,indices:{value:this._getTriangleListIndices(e),size:1}}}return{topology:"point-list",mode:0,attributes:s}}_getMeshAttributes(e,t,r){let s={};for(let o of Object.values(e.attributes)){let i=this._deduceAttributeName(o,r);o.name=i;let a=this._getAttributeValues(t,o);if(a){let{value:c,size:u}=a;s[i]={value:c,size:u,byteOffset:o.byte_offset,byteStride:o.byte_stride,normalized:o.normalized}}}return s}_getTriangleListIndices(e){let r=e.num_faces()*3,s=r*hE,o=this.draco._malloc(s);try{return this.decoder.GetTrianglesUInt32Array(e,s,o),new Uint32Array(this.draco.HEAPF32.buffer,o,r).slice()}finally{this.draco._free(o)}}_getTriangleStripIndices(e){let t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),pE(t)}finally{this.draco.destroy(t)}}_getAttributeValues(e,t){let r=fE[t.data_type];if(!r)return console.warn(`DRACO: Unsupported attribute type ${t.data_type}`),null;let s=t.num_components,i=e.num_points()*s,a=i*r.BYTES_PER_ELEMENT,c=mE(this.draco,r),u,l=this.draco._malloc(a);try{let f=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,f,c,a,l),u=new r(this.draco.HEAPF32.buffer,l,i).slice()}finally{this.draco._free(l)}return{value:u,size:s}}_deduceAttributeName(e,t){let r=e.unique_id;for(let[i,a]of Object.entries(t.extraAttributes||{}))if(a===r)return i;let s=e.attribute_type;for(let i in KA)if(this.draco[i]===s)return KA[i];let o=t.attributeNameEntry||"name";return e.metadata[o]?e.metadata[o].string:`CUSTOM_ATTRIBUTE_${r}`}_getTopLevelMetadata(e){let t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}_getAttributeMetadata(e,t){let r=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(r)}_getDracoMetadata(e){if(!e||!e.ptr)return{};let t={},r=this.metadataQuerier.NumEntries(e);for(let s=0;s<r;s++){let o=this.metadataQuerier.GetEntryName(e,s);t[o]=this._getDracoMetadataField(e,o)}return t}_getDracoMetadataField(e,t){let r=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,r);let s=dE(r);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:s}}finally{this.draco.destroy(r)}}_disableAttributeTransforms(e){let{quantizedAttributes:t=[],octahedronAttributes:r=[]}=e,s=[...t,...r];for(let o of s)this.decoder.SkipAttributeTransform(this.draco[o])}_getQuantizationTransform(e,t){let{quantizedAttributes:r=[]}=t,s=e.attribute_type();if(r.map(i=>this.decoder[i]).includes(s)){let i=new this.draco.AttributeQuantizationTransform;try{if(i.InitFromAttribute(e))return{quantization_bits:i.quantization_bits(),range:i.range(),min_values:new Float32Array([1,2,3]).map(a=>i.min_value(a))}}finally{this.draco.destroy(i)}}return null}_getOctahedronTransform(e,t){let{octahedronAttributes:r=[]}=t,s=e.attribute_type();if(r.map(i=>this.decoder[i]).includes(s)){let i=new this.draco.AttributeQuantizationTransform;try{if(i.InitFromAttribute(e))return{quantization_bits:i.quantization_bits()}}finally{this.draco.destroy(i)}}return null}};function mE(n,e){switch(e){case Float32Array:return n.DT_FLOAT32;case Int8Array:return n.DT_INT8;case Int16Array:return n.DT_INT16;case Int32Array:return n.DT_INT32;case Uint8Array:return n.DT_UINT8;case Uint16Array:return n.DT_UINT16;case Uint32Array:return n.DT_UINT32;default:return n.DT_INVALID}}function dE(n){let e=n.size(),t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=n.GetValue(r);return t}function pE(n){let e=n.size(),t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=n.GetValue(r);return t}var gE="1.5.6",yE="1.4.1",Wd=`https://www.gstatic.com/draco/versioned/decoders/${gE}`,_t={DECODER:"draco_wasm_wrapper.js",DECODER_WASM:"draco_decoder.wasm",FALLBACK_DECODER:"draco_decoder.js",ENCODER:"draco_encoder.js"},$d={[_t.DECODER]:`${Wd}/${_t.DECODER}`,[_t.DECODER_WASM]:`${Wd}/${_t.DECODER_WASM}`,[_t.FALLBACK_DECODER]:`${Wd}/${_t.FALLBACK_DECODER}`,[_t.ENCODER]:`https://raw.githubusercontent.com/google/draco/${yE}/javascript/${_t.ENCODER}`},Zd;async function JA(n){let e=n.modules||{};return e.draco3d?Zd||=e.draco3d.createDecoderModule({}).then(t=>({draco:t})):Zd||=xE(n),await Zd}async function xE(n){let e,t;switch(n.draco&&n.draco.decoderType){case"js":e=await _n($d[_t.FALLBACK_DECODER],"draco",n,_t.FALLBACK_DECODER);break;case"wasm":default:[e,t]=await Promise.all([await _n($d[_t.DECODER],"draco",n,_t.DECODER),await _n($d[_t.DECODER_WASM],"draco",n,_t.DECODER_WASM)])}return e=e||globalThis.DracoDecoderModule,await AE(e,t)}function AE(n,e){let t={};return e&&(t.wasmBinary=e),new Promise(r=>{n({...t,onModuleLoaded:s=>r({draco:s})})})}var qA={...zA,parse:bE};async function bE(n,e){let{draco:t}=await JA(e),r=new Sa(t);try{return r.parseSync(n,e?.draco)}finally{r.destroy()}}function XA(n){let e={};for(let t in n){let r=n[t];if(t!=="indices"){let s=ep(r);e[t]=s}}return e}function ep(n){let{buffer:e,size:t,count:r}=vE(n);return{value:e,size:t,byteOffset:0,count:r,type:Gu(t),componentType:Nr(e)}}function vE(n){let e=n,t=1,r=0;return n&&n.value&&(e=n.value,t=n.size||1),e&&(ArrayBuffer.isView(e)||(e=wE(e,Float32Array)),r=e.length/t),{buffer:e,size:t,count:r}}function wE(n,e,t=!1){return n?Array.isArray(n)?new e(n):t&&!(n instanceof e)?new e(n):n:null}var zr="KHR_draco_mesh_compression",_E=zr;function TE(n,e,t){let r=new ne(n);for(let s of YA(r))r.getObjectExtension(s,zr)}async function BE(n,e,t){if(!e?.gltf?.decompressMeshes)return;let r=new ne(n),s=[];for(let o of YA(r))r.getObjectExtension(o,zr)&&s.push(SE(r,o,e,t));await Promise.all(s),r.removeExtension(zr)}function EE(n,e={}){let t=new ne(n);for(let r of t.json.meshes||[])ME(r,e),t.addRequiredExtension(zr)}async function SE(n,e,t,r){let s=n.getObjectExtension(e,zr);if(!s)return;let o=n.getTypedArrayForBufferView(s.bufferView),i=Aa(o.buffer,o.byteOffset),a={...t};delete a["3d-tiles"];let c=await ma(i,qA,a,r),u=XA(c.attributes);for(let[l,f]of Object.entries(u))if(l in e.attributes){let h=e.attributes[l],d=n.getAccessor(h);d?.min&&d?.max&&(f.min=d.min,f.max=d.max)}e.attributes=u,c.indices&&(e.indices=ep(c.indices)),n.removeObjectExtension(e,zr),CE(e)}function ME(n,e,t=4,r,s){if(!r.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");let o=r.DracoWriter.encodeSync({attributes:n}),i=s?.parseSync?.({attributes:n}),a=r._addFauxAttributes(i.attributes),c=r.addBufferView(o);return{primitives:[{attributes:a,mode:t,extensions:{[zr]:{bufferView:c,attributes:a}}}]}}function CE(n){if(!n.attributes&&Object.keys(n.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}function*YA(n){for(let e of n.json.meshes||[])for(let t of e.primitives)yield t}var cp={};Nt(cp,{decode:()=>XE,name:()=>KE});var ZL=1/Math.PI*180,eG=1/180*Math.PI,VE={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1};globalThis.mathgl=globalThis.mathgl||{config:{...VE}};var et=globalThis.mathgl.config;function QA(n,{precision:e=et.precision}={}){return n=RE(n),`${parseFloat(n.toPrecision(e))}`}function Ho(n){return Array.isArray(n)||ArrayBuffer.isView(n)&&!(n instanceof DataView)}function np(n,e,t){let r=et.EPSILON;t&&(et.EPSILON=t);try{if(n===e)return!0;if(Ho(n)&&Ho(e)){if(n.length!==e.length)return!1;for(let s=0;s<n.length;++s)if(!np(n[s],e[s]))return!1;return!0}return n&&n.equals?n.equals(e):e&&e.equals?e.equals(n):typeof n=="number"&&typeof e=="number"?Math.abs(n-e)<=et.EPSILON*Math.max(1,Math.abs(n),Math.abs(e)):!1}finally{et.EPSILON=r}}function RE(n){return Math.round(n/et.EPSILON)*et.EPSILON}var Po=class extends Array{clone(){return new this.constructor().copy(this)}fromArray(e,t=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=e[r+t];return this.check()}toArray(e=[],t=0){for(let r=0;r<this.ELEMENTS;++r)e[t+r]=this[r];return e}toObject(e){return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:Ho(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(et)}formatString(e){let t="";for(let r=0;r<this.ELEMENTS;++r)t+=(r>0?", ":"")+QA(this[r],e);return`${e.printTypes?this.constructor.name:""}[${t}]`}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!np(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,r){if(r===void 0)return this.lerp(this,e,t);for(let s=0;s<this.ELEMENTS;++s){let o=e[s],i=typeof t=="number"?t:t[s];this[s]=o+r*(i-o)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),t[r]);return this.check()}add(...e){for(let t of e)for(let r=0;r<this.ELEMENTS;++r)this[r]+=t[r];return this.check()}subtract(...e){for(let t of e)for(let r=0;r<this.ELEMENTS;++r)this[r]-=t[r];return this.check()}scale(e){if(typeof e=="number")for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;else for(let t=0;t<this.ELEMENTS&&t<e.length;++t)this[t]*=e[t];return this.check()}multiplyByScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}check(){if(et.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,t){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),t);return this.check()}get elements(){return this}};function DE(n,e){if(n.length!==e)return!1;for(let t=0;t<n.length;++t)if(!Number.isFinite(n[t]))return!1;return!0}function st(n){if(!Number.isFinite(n))throw new Error(`Invalid number ${JSON.stringify(n)}`);return n}function WA(n,e,t=""){if(et.debug&&!DE(n,e))throw new Error(`math.gl: ${t} some fields set to invalid numbers'`);return n}function rp(n,e){if(!n)throw new Error(`math.gl assertion ${e}`)}var Xu=class extends Po{get x(){return this[0]}set x(e){this[0]=st(e)}get y(){return this[1]}set y(e){this[1]=st(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let r=0;r<this.ELEMENTS;++r){let s=this[r]-e[r];t+=s*s}return st(t)}dot(e){let t=0;for(let r=0;r<this.ELEMENTS;++r)t+=this[r]*e[r];return st(t)}normalize(){let e=this.magnitude();if(e!==0)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(let t of e)for(let r=0;r<this.ELEMENTS;++r)this[r]*=t[r];return this.check()}divide(...e){for(let t of e)for(let r=0;r<this.ELEMENTS;++r)this[r]/=t[r];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return rp(e>=0&&e<this.ELEMENTS,"index is out of range"),st(this[e])}setComponent(e,t){return rp(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}};var jo=typeof Float32Array<"u"?Float32Array:Array;var fG=Math.PI/180;function LE(){let n=new jo(2);return jo!=Float32Array&&(n[0]=0,n[1]=0),n}function ZA(n,e,t){let r=e[0],s=e[1];return n[0]=t[0]*r+t[3]*s+t[6],n[1]=t[1]*r+t[4]*s+t[7],n}var hG=(function(){let n=LE();return function(e,t,r,s,o,i){let a,c;for(t||(t=2),r||(r=0),s?c=Math.min(s*t+r,e.length):c=e.length,a=r;a<c;a+=t)n[0]=e[a],n[1]=e[a+1],o(n,n,i),e[a]=n[0],e[a+1]=n[1];return e}})();function eb(n,e,t){let r=e[0],s=e[1],o=e[2],i=t[3]*r+t[7]*s+t[11]*o||1;return n[0]=(t[0]*r+t[4]*s+t[8]*o)/i,n[1]=(t[1]*r+t[5]*s+t[9]*o)/i,n[2]=(t[2]*r+t[6]*s+t[10]*o)/i,n}function tb(n,e,t){let r=e[0],s=e[1];return n[0]=t[0]*r+t[2]*s,n[1]=t[1]*r+t[3]*s,n[2]=e[2],n}function nb(n,e,t){let r=e[0],s=e[1],o=e[2];return n[0]=t[0]*r+t[3]*s+t[6]*o,n[1]=t[1]*r+t[4]*s+t[7]*o,n[2]=t[2]*r+t[5]*s+t[8]*o,n[3]=e[3],n}function UE(){let n=new jo(3);return jo!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function FE(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function rb(n,e,t){let r=e[0],s=e[1],o=e[2],i=t[0],a=t[1],c=t[2];return n[0]=s*c-o*a,n[1]=o*i-r*c,n[2]=r*a-s*i,n}function sb(n,e,t){let r=e[0],s=e[1],o=e[2],i=t[3]*r+t[7]*s+t[11]*o+t[15];return i=i||1,n[0]=(t[0]*r+t[4]*s+t[8]*o+t[12])/i,n[1]=(t[1]*r+t[5]*s+t[9]*o+t[13])/i,n[2]=(t[2]*r+t[6]*s+t[10]*o+t[14])/i,n}function Yu(n,e,t){let r=e[0],s=e[1],o=e[2];return n[0]=r*t[0]+s*t[3]+o*t[6],n[1]=r*t[1]+s*t[4]+o*t[7],n[2]=r*t[2]+s*t[5]+o*t[8],n}function ob(n,e,t){let r=t[0],s=t[1],o=t[2],i=t[3],a=e[0],c=e[1],u=e[2],l=s*u-o*c,f=o*a-r*u,h=r*c-s*a,d=s*h-o*f,p=o*l-r*h,A=r*f-s*l,_=i*2;return l*=_,f*=_,h*=_,d*=2,p*=2,A*=2,n[0]=a+l+d,n[1]=c+f+p,n[2]=u+h+A,n}function ib(n,e,t,r){let s=[],o=[];return s[0]=e[0]-t[0],s[1]=e[1]-t[1],s[2]=e[2]-t[2],o[0]=s[0],o[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),o[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2],n}function ab(n,e,t,r){let s=[],o=[];return s[0]=e[0]-t[0],s[1]=e[1]-t[1],s[2]=e[2]-t[2],o[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),o[1]=s[1],o[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2],n}function ub(n,e,t,r){let s=[],o=[];return s[0]=e[0]-t[0],s[1]=e[1]-t[1],s[2]=e[2]-t[2],o[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),o[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),o[2]=s[2],n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2],n}function lb(n,e){let t=n[0],r=n[1],s=n[2],o=e[0],i=e[1],a=e[2],c=Math.sqrt((t*t+r*r+s*s)*(o*o+i*i+a*a)),u=c&&FE(n,e)/c;return Math.acos(Math.min(Math.max(u,-1),1))}var dG=(function(){let n=UE();return function(e,t,r,s,o,i){let a,c;for(t||(t=3),r||(r=0),s?c=Math.min(s*t+r,e.length):c=e.length,a=r;a<c;a+=t)n[0]=e[a],n[1]=e[a+1],n[2]=e[a+2],o(n,n,i),e[a]=n[0],e[a+1]=n[1],e[a+2]=n[2];return e}})();var sp=[0,0,0],Qu,Ma=class n extends Xu{static get ZERO(){return Qu||(Qu=new n(0,0,0),Object.freeze(Qu)),Qu}constructor(e=0,t=0,r=0){super(-0,-0,-0),arguments.length===1&&Ho(e)?this.copy(e):(et.debug&&(st(e),st(t),st(r)),this[0]=e,this[1]=t,this[2]=r)}set(e,t,r){return this[0]=e,this[1]=t,this[2]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return et.debug&&(st(e.x),st(e.y),st(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=st(e)}angle(e){return lb(this,e)}cross(e){return rb(this,this,e),this.check()}rotateX({radians:e,origin:t=sp}){return ib(this,this,t,e),this.check()}rotateY({radians:e,origin:t=sp}){return ab(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=sp}){return ub(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return sb(this,this,e),this.check()}transformAsVector(e){return eb(this,this,e),this.check()}transformByMatrix3(e){return Yu(this,this,e),this.check()}transformByMatrix2(e){return tb(this,this,e),this.check()}transformByQuaternion(e){return ob(this,this,e),this.check()}};var Wu=class extends Po{toString(){let e="[";if(et.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let r=0;r<this.RANK;++r)e+=` ${this[r*this.RANK+t]}`}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=` ${this[t]}`}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,r){return this[t*this.RANK+e]=st(r),this}getColumn(e,t=new Array(this.RANK).fill(-0)){let r=e*this.RANK;for(let s=0;s<this.RANK;++s)t[s]=this[r+s];return t}setColumn(e,t){let r=e*this.RANK;for(let s=0;s<this.RANK;++s)this[r+s]=t[s];return this}};function fb(n,e){if(n===e){let t=e[1],r=e[2],s=e[5];n[1]=e[3],n[2]=e[6],n[3]=t,n[5]=e[7],n[6]=r,n[7]=s}else n[0]=e[0],n[1]=e[3],n[2]=e[6],n[3]=e[1],n[4]=e[4],n[5]=e[7],n[6]=e[2],n[7]=e[5],n[8]=e[8];return n}function hb(n,e){let t=e[0],r=e[1],s=e[2],o=e[3],i=e[4],a=e[5],c=e[6],u=e[7],l=e[8],f=l*i-a*u,h=-l*o+a*c,d=u*o-i*c,p=t*f+r*h+s*d;return p?(p=1/p,n[0]=f*p,n[1]=(-l*r+s*u)*p,n[2]=(a*r-s*i)*p,n[3]=h*p,n[4]=(l*t-s*c)*p,n[5]=(-a*t+s*o)*p,n[6]=d*p,n[7]=(-u*t+r*c)*p,n[8]=(i*t-r*o)*p,n):null}function mb(n){let e=n[0],t=n[1],r=n[2],s=n[3],o=n[4],i=n[5],a=n[6],c=n[7],u=n[8];return e*(u*o-i*c)+t*(-u*s+i*a)+r*(c*s-o*a)}function op(n,e,t){let r=e[0],s=e[1],o=e[2],i=e[3],a=e[4],c=e[5],u=e[6],l=e[7],f=e[8],h=t[0],d=t[1],p=t[2],A=t[3],_=t[4],m=t[5],g=t[6],y=t[7],v=t[8];return n[0]=h*r+d*i+p*u,n[1]=h*s+d*a+p*l,n[2]=h*o+d*c+p*f,n[3]=A*r+_*i+m*u,n[4]=A*s+_*a+m*l,n[5]=A*o+_*c+m*f,n[6]=g*r+y*i+v*u,n[7]=g*s+y*a+v*l,n[8]=g*o+y*c+v*f,n}function db(n,e,t){let r=e[0],s=e[1],o=e[2],i=e[3],a=e[4],c=e[5],u=e[6],l=e[7],f=e[8],h=t[0],d=t[1];return n[0]=r,n[1]=s,n[2]=o,n[3]=i,n[4]=a,n[5]=c,n[6]=h*r+d*i+u,n[7]=h*s+d*a+l,n[8]=h*o+d*c+f,n}function pb(n,e,t){let r=e[0],s=e[1],o=e[2],i=e[3],a=e[4],c=e[5],u=e[6],l=e[7],f=e[8],h=Math.sin(t),d=Math.cos(t);return n[0]=d*r+h*i,n[1]=d*s+h*a,n[2]=d*o+h*c,n[3]=d*i-h*r,n[4]=d*a-h*s,n[5]=d*c-h*o,n[6]=u,n[7]=l,n[8]=f,n}function ip(n,e,t){let r=t[0],s=t[1];return n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=s*e[3],n[4]=s*e[4],n[5]=s*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function gb(n,e){let t=e[0],r=e[1],s=e[2],o=e[3],i=t+t,a=r+r,c=s+s,u=t*i,l=r*i,f=r*a,h=s*i,d=s*a,p=s*c,A=o*i,_=o*a,m=o*c;return n[0]=1-f-p,n[3]=l-m,n[6]=h+_,n[1]=l+m,n[4]=1-u-p,n[7]=d-A,n[2]=h-_,n[5]=d+A,n[8]=1-u-f,n}var ap;(function(n){n[n.COL0ROW0=0]="COL0ROW0",n[n.COL0ROW1=1]="COL0ROW1",n[n.COL0ROW2=2]="COL0ROW2",n[n.COL1ROW0=3]="COL1ROW0",n[n.COL1ROW1=4]="COL1ROW1",n[n.COL1ROW2=5]="COL1ROW2",n[n.COL2ROW0=6]="COL2ROW0",n[n.COL2ROW1=7]="COL2ROW1",n[n.COL2ROW2=8]="COL2ROW2"})(ap||(ap={}));var HE=Object.freeze([1,0,0,0,1,0,0,0,1]),Zn=class extends Wu{static get IDENTITY(){return jE()}static get ZERO(){return PE()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return ap}constructor(e,...t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):t.length>0?this.copy([e,...t]):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}identity(){return this.copy(HE)}fromObject(e){return this.check()}fromQuaternion(e){return gb(this,e),this.check()}set(e,t,r,s,o,i,a,c,u){return this[0]=e,this[1]=t,this[2]=r,this[3]=s,this[4]=o,this[5]=i,this[6]=a,this[7]=c,this[8]=u,this.check()}setRowMajor(e,t,r,s,o,i,a,c,u){return this[0]=e,this[1]=s,this[2]=a,this[3]=t,this[4]=o,this[5]=c,this[6]=r,this[7]=i,this[8]=u,this.check()}determinant(){return mb(this)}transpose(){return fb(this,this),this.check()}invert(){return hb(this,this),this.check()}multiplyLeft(e){return op(this,e,this),this.check()}multiplyRight(e){return op(this,this,e),this.check()}rotate(e){return pb(this,this,e),this.check()}scale(e){return Array.isArray(e)?ip(this,this,e):ip(this,this,[e,e]),this.check()}translate(e){return db(this,this,e),this.check()}transform(e,t){let r;switch(e.length){case 2:r=ZA(t||[-0,-0],e,this);break;case 3:r=Yu(t||[-0,-0,-0],e,this);break;case 4:r=nb(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return WA(r,e.length),r}transformVector(e,t){return this.transform(e,t)}transformVector2(e,t){return this.transform(e,t)}transformVector3(e,t){return this.transform(e,t)}},$u,Zu=null;function PE(){return $u||($u=new Zn([0,0,0,0,0,0,0,0,0]),Object.freeze($u)),$u}function jE(){return Zu||(Zu=new Zn,Object.freeze(Zu)),Zu}var tl="KHR_texture_transform",KE=tl,el=new Ma,JE=new Zn,qE=new Zn;async function XE(n,e){if(!new ne(n).hasExtension(tl)||!e.gltf?.loadBuffers)return;let s=n.json.materials||[];for(let o=0;o<s.length;o++)YE(o,n)}function YE(n,e){let t=e.json.materials?.[n],r=[t?.pbrMetallicRoughness?.baseColorTexture,t?.emissiveTexture,t?.normalTexture,t?.occlusionTexture,t?.pbrMetallicRoughness?.metallicRoughnessTexture],s=[];for(let o of r)o&&o?.extensions?.[tl]&&QE(e,n,o,s)}function QE(n,e,t,r){let s=WE(t,r);if(!s)return;let o=n.json.meshes||[];for(let i of o)for(let a of i.primitives){let c=a.material;Number.isFinite(c)&&e===c&&$E(n,a,s)}}function WE(n,e){let t=n.extensions?.[tl],{texCoord:r=0}=n,{texCoord:s=r}=t;if(!(e.findIndex(([i,a])=>i===r&&a===s)!==-1)){let i=tS(t);return r!==s&&(n.texCoord=s),e.push([r,s]),{originalTexCoord:r,texCoord:s,matrix:i}}return null}function $E(n,e,t){let{originalTexCoord:r,texCoord:s,matrix:o}=t,i=e.attributes[`TEXCOORD_${r}`];if(Number.isFinite(i)){let a=n.json.accessors?.[i];if(a&&a.bufferView){let c=n.json.bufferViews?.[a.bufferView];if(c){let{arrayBuffer:u,byteOffset:l}=n.buffers[c.buffer],f=(l||0)+(a.byteOffset||0)+(c.byteOffset||0),{ArrayType:h,length:d}=ko(a,c),p=Lu[a.componentType],A=Ou[a.type],_=c.byteStride||p*A,m=new Float32Array(d);for(let g=0;g<a.count;g++){let y=new h(u,f+g*_,2);el.set(y[0],y[1],1),el.transformByMatrix3(o),m.set([el[0],el[1]],g*A)}r===s?ZE(a,c,n.buffers,m):eS(s,a,e,n,m)}}}}function ZE(n,e,t,r){n.componentType=5126,t.push({arrayBuffer:r.buffer,byteOffset:0,byteLength:r.buffer.byteLength}),e.buffer=t.length-1,e.byteLength=r.buffer.byteLength,e.byteOffset=0,delete e.byteStride}function eS(n,e,t,r,s){r.buffers.push({arrayBuffer:s.buffer,byteOffset:0,byteLength:s.buffer.byteLength});let o=r.json.bufferViews;if(!o)return;o.push({buffer:r.buffers.length-1,byteLength:s.buffer.byteLength,byteOffset:0});let i=r.json.accessors;i&&(i.push({bufferView:o?.length-1,byteOffset:0,componentType:5126,count:e.count,type:"VEC2"}),t.attributes[`TEXCOORD_${n}`]=i.length-1)}function tS(n){let{offset:e=[0,0],rotation:t=0,scale:r=[1,1]}=n,s=new Zn().set(1,0,0,0,1,0,e[0],e[1],1),o=JE.set(Math.cos(t),Math.sin(t),0,-Math.sin(t),Math.cos(t),0,0,0,1),i=qE.set(r[0],0,0,0,r[1],0,0,0,1);return s.multiplyRight(o).multiplyRight(i)}var up={};Nt(up,{decode:()=>rS,encode:()=>sS,name:()=>nS});var Es="KHR_lights_punctual",nS=Es;async function rS(n){let e=new ne(n),{json:t}=e,r=e.getExtension(Es);r&&(e.json.lights=r.lights,e.removeExtension(Es));for(let s of t.nodes||[]){let o=e.getObjectExtension(s,Es);o&&(s.light=o.light),e.removeObjectExtension(s,Es)}}async function sS(n){let e=new ne(n),{json:t}=e;if(t.lights){let r=e.addExtension(Es);He(!r.lights),r.lights=t.lights,delete t.lights}if(e.json.lights){for(let r of e.json.lights){let s=r.node;e.addObjectExtension(s,Es,r)}delete e.json.lights}}var lp={};Nt(lp,{decode:()=>iS,encode:()=>aS,name:()=>oS});var Ca="KHR_materials_unlit",oS=Ca;async function iS(n){let e=new ne(n),{json:t}=e;for(let r of t.materials||[])r.extensions&&r.extensions.KHR_materials_unlit&&(r.unlit=!0),e.removeObjectExtension(r,Ca);e.removeExtension(Ca)}function aS(n){let e=new ne(n),{json:t}=e;if(e.materials)for(let r of t.materials||[])r.unlit&&(delete r.unlit,e.addObjectExtension(r,Ca,{}),e.addExtension(Ca))}var fp={};Nt(fp,{decode:()=>uS,encode:()=>lS,name:()=>cS});var Va="KHR_techniques_webgl",cS=Va;async function uS(n){let e=new ne(n),{json:t}=e,r=e.getExtension(Va);if(r){let s=fS(r,e);for(let o of t.materials||[]){let i=e.getObjectExtension(o,Va);i&&(o.technique=Object.assign({},i,s[i.technique]),o.technique.values=hS(o.technique,e)),e.removeObjectExtension(o,Va)}e.removeExtension(Va)}}async function lS(n,e){}function fS(n,e){let{programs:t=[],shaders:r=[],techniques:s=[]}=n,o=new TextDecoder;return r.forEach(i=>{if(Number.isFinite(i.bufferView))i.code=o.decode(e.getTypedArrayForBufferView(i.bufferView));else throw new Error("KHR_techniques_webgl: no shader code")}),t.forEach(i=>{i.fragmentShader=r[i.fragmentShader],i.vertexShader=r[i.vertexShader]}),s.forEach(i=>{i.program=t[i.program]}),s}function hS(n,e){let t=Object.assign({},n.values);return Object.keys(n.uniforms||{}).forEach(r=>{n.uniforms[r].value&&!(r in t)&&(t[r]=n.uniforms[r].value)}),Object.keys(t).forEach(r=>{typeof t[r]=="object"&&t[r].index!==void 0&&(t[r].texture=e.getTexture(t[r].index))}),t}var yb=[Ld,Id,Xd,Yd,Qd,tp,up,lp,fp,cp,Gd];function xb(n,e={},t){let r=yb.filter(s=>bb(s.name,e));for(let s of r)s.preprocess?.(n,e,t)}async function Ab(n,e={},t){let r=yb.filter(s=>bb(s.name,e));for(let s of r)await s.decode?.(n,e,t)}function bb(n,e){let t=e?.gltf?.excludeExtensions||{};return!(n in t&&!t[n])}var hp="KHR_binary_glTF";function vb(n){let e=new ne(n),{json:t}=e;for(let r of t.images||[]){let s=e.getObjectExtension(r,hp);s&&Object.assign(r,s),e.removeObjectExtension(r,hp)}t.buffers&&t.buffers[0]&&delete t.buffers[0].uri,e.removeExtension(hp)}var wb={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},dS={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},mp=class{idToIndexMap={animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}};json;normalize(e,t){this.json=e.json;let r=e.json;switch(r.asset&&r.asset.version){case"2.0":return;case void 0:case"1.0":break;default:console.warn(`glTF: Unknown version ${r.asset.version}`);return}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(r),this._convertTopLevelObjectsToArrays(r),vb(e),this._convertObjectIdsToArrayIndices(r),this._updateObjects(r),this._updateMaterial(r)}_addAsset(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(e){for(let t in wb)this._convertTopLevelObjectToArray(e,t)}_convertTopLevelObjectToArray(e,t){let r=e[t];if(!(!r||Array.isArray(r))){e[t]=[];for(let s in r){let o=r[s];o.id=o.id||s;let i=e[t].length;e[t].push(o),this.idToIndexMap[t][s]=i}}}_convertObjectIdsToArrayIndices(e){for(let t in wb)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));for(let t of e.textures)this._convertTextureIds(t);for(let t of e.meshes)this._convertMeshIds(t);for(let t of e.nodes)this._convertNodeIds(t);for(let t of e.scenes)this._convertSceneIds(t)}_convertTextureIds(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}_convertMeshIds(e){for(let t of e.primitives){let{attributes:r,indices:s,material:o}=t;for(let i in r)r[i]=this._convertIdToIndex(r[i],"accessor");s&&(t.indices=this._convertIdToIndex(s,"accessor")),o&&(t.material=this._convertIdToIndex(o,"material"))}}_convertNodeIds(e){e.children&&(e.children=e.children.map(t=>this._convertIdToIndex(t,"node"))),e.meshes&&(e.meshes=e.meshes.map(t=>this._convertIdToIndex(t,"mesh")))}_convertSceneIds(e){e.nodes&&(e.nodes=e.nodes.map(t=>this._convertIdToIndex(t,"node")))}_convertIdsToIndices(e,t){e[t]||(console.warn(`gltf v1: json doesn't contain attribute ${t}`),e[t]=[]);for(let r of e[t])for(let s in r){let o=r[s],i=this._convertIdToIndex(o,s);r[s]=i}}_convertIdToIndex(e,t){let r=dS[t];if(r in this.idToIndexMap){let s=this.idToIndexMap[r][e];if(!Number.isFinite(s))throw new Error(`gltf v1: failed to resolve ${t} with id ${e}`);return s}return e}_updateObjects(e){for(let t of this.json.buffers)delete t.type}_updateMaterial(e){for(let t of e.materials){t.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};let r=t.values?.tex||t.values?.texture2d_0||t.values?.diffuseTex,s=e.textures.findIndex(o=>o.id===r);s!==-1&&(t.pbrMetallicRoughness.baseColorTexture={index:s})}}};function _b(n,e={}){return new mp().normalize(n,e)}async function Tb(n,e,t=0,r,s){return pS(n,e,t,r),_b(n,{normalize:r?.gltf?.normalize}),xb(n,r,s),r?.gltf?.loadBuffers&&n.json.buffers&&await gS(n,r,s),r?.gltf?.loadImages&&await yS(n,r,s),await Ab(n,r,s),n}function pS(n,e,t,r){if(r.uri&&(n.baseUri=r.uri),e instanceof ArrayBuffer&&!GA(e,t,r)&&(e=new TextDecoder().decode(e)),typeof e=="string")n.json=sd(e);else if(e instanceof ArrayBuffer){let i={};t=UA(i,e,t,r.glb),He(i.type==="glTF",`Invalid GLB magic string ${i.type}`),n._glb=i,n.json=i.json}else He(!1,"GLTF: must be ArrayBuffer or string");let s=n.json.buffers||[];if(n.buffers=new Array(s.length).fill(null),n._glb&&n._glb.header.hasBinChunk){let{binChunks:i}=n._glb;n.buffers[0]={arrayBuffer:i[0].arrayBuffer,byteOffset:i[0].byteOffset,byteLength:i[0].byteLength}}let o=n.json.images||[];n.images=new Array(o.length).fill({})}async function gS(n,e,t){let r=n.json.buffers||[];for(let s=0;s<r.length;++s){let o=r[s];if(o.uri){let{fetch:i}=t;He(i);let a=Jd(o.uri,e),u=await(await t?.fetch?.(a))?.arrayBuffer?.();n.buffers[s]={arrayBuffer:u,byteOffset:0,byteLength:u.byteLength},delete o.uri}else n.buffers[s]===null&&(n.buffers[s]={arrayBuffer:new ArrayBuffer(o.byteLength),byteOffset:0,byteLength:o.byteLength})}}async function yS(n,e,t){let r=xS(n),s=n.json.images||[],o=[];for(let i of r)o.push(AS(n,s[i],i,e,t));return await Promise.all(o)}function xS(n){let e=new Set,t=n.json.textures||[];for(let r of t)r.source!==void 0&&e.add(r.source);return Array.from(e).sort()}async function AS(n,e,t,r,s){let o;if(e.uri&&!e.hasOwnProperty("bufferView")){let a=Jd(e.uri,r),{fetch:c}=s;o=await(await c(a)).arrayBuffer(),e.bufferView={data:o}}if(Number.isFinite(e.bufferView)){let a=bA(n.json,n.buffers,e.bufferView);o=Aa(a.buffer,a.byteOffset,a.byteLength)}He(o,"glTF image has no data");let i=await ma(o,[Vd,Hd],{...r,mimeType:e.mimeType,basis:r.basis||{format:ju()}},s);i&&i[0]&&(i={compressed:!0,mipmaps:!1,width:i[0].width,height:i[0].height,data:i[0]}),n.images=n.images||[],n.images[t]=i}var Ko={dataType:null,batchType:null,name:"glTF",id:"gltf",module:"gltf",version:EA,extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:bS,options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0},log:console}};async function bS(n,e={},t){e={...Ko.options,...e},e.gltf={...Ko.options.gltf,...e.gltf};let{byteOffset:r=0}=e;return await Tb({},n,r,e,t)}var vS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},wS={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Zt={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},_S={magFilter:Zt.TEXTURE_MAG_FILTER,minFilter:Zt.TEXTURE_MIN_FILTER,wrapS:Zt.TEXTURE_WRAP_S,wrapT:Zt.TEXTURE_WRAP_T},TS={[Zt.TEXTURE_MAG_FILTER]:Zt.LINEAR,[Zt.TEXTURE_MIN_FILTER]:Zt.NEAREST_MIPMAP_LINEAR,[Zt.TEXTURE_WRAP_S]:Zt.REPEAT,[Zt.TEXTURE_WRAP_T]:Zt.REPEAT};function BS(){return{id:"default-sampler",parameters:TS}}function ES(n){return wS[n]}function SS(n){return vS[n]}var dp=class{baseUri="";jsonUnprocessed;json;buffers=[];images=[];postProcess(e,t={}){let{json:r,buffers:s=[],images:o=[]}=e,{baseUri:i=""}=e;return He(r),this.baseUri=i,this.buffers=s,this.images=o,this.jsonUnprocessed=r,this.json=this._resolveTree(e.json,t),this.json}_resolveTree(e,t={}){let r={...e};return this.json=r,e.bufferViews&&(r.bufferViews=e.bufferViews.map((s,o)=>this._resolveBufferView(s,o))),e.images&&(r.images=e.images.map((s,o)=>this._resolveImage(s,o))),e.samplers&&(r.samplers=e.samplers.map((s,o)=>this._resolveSampler(s,o))),e.textures&&(r.textures=e.textures.map((s,o)=>this._resolveTexture(s,o))),e.accessors&&(r.accessors=e.accessors.map((s,o)=>this._resolveAccessor(s,o))),e.materials&&(r.materials=e.materials.map((s,o)=>this._resolveMaterial(s,o))),e.meshes&&(r.meshes=e.meshes.map((s,o)=>this._resolveMesh(s,o))),e.nodes&&(r.nodes=e.nodes.map((s,o)=>this._resolveNode(s,o)),r.nodes=r.nodes.map((s,o)=>this._resolveNodeChildren(s))),e.skins&&(r.skins=e.skins.map((s,o)=>this._resolveSkin(s,o))),e.scenes&&(r.scenes=e.scenes.map((s,o)=>this._resolveScene(s,o))),typeof this.json.scene=="number"&&r.scenes&&(r.scene=r.scenes[this.json.scene]),r}getScene(e){return this._get(this.json.scenes,e)}getNode(e){return this._get(this.json.nodes,e)}getSkin(e){return this._get(this.json.skins,e)}getMesh(e){return this._get(this.json.meshes,e)}getMaterial(e){return this._get(this.json.materials,e)}getAccessor(e){return this._get(this.json.accessors,e)}getCamera(e){return this._get(this.json.cameras,e)}getTexture(e){return this._get(this.json.textures,e)}getSampler(e){return this._get(this.json.samplers,e)}getImage(e){return this._get(this.json.images,e)}getBufferView(e){return this._get(this.json.bufferViews,e)}getBuffer(e){return this._get(this.json.buffers,e)}_get(e,t){if(typeof t=="object")return t;let r=e&&e[t];return r||console.warn(`glTF file error: Could not find ${e}[${t}]`),r}_resolveScene(e,t){return{...e,id:e.id||`scene-${t}`,nodes:(e.nodes||[]).map(r=>this.getNode(r))}}_resolveNode(e,t){let r={...e,id:e?.id||`node-${t}`};return e.mesh!==void 0&&(r.mesh=this.getMesh(e.mesh)),e.camera!==void 0&&(r.camera=this.getCamera(e.camera)),e.skin!==void 0&&(r.skin=this.getSkin(e.skin)),e.meshes!==void 0&&e.meshes.length&&(r.mesh=e.meshes.reduce((s,o)=>{let i=this.getMesh(o);return s.id=i.id,s.primitives=s.primitives.concat(i.primitives),s},{primitives:[]})),r}_resolveNodeChildren(e){return e.children&&(e.children=e.children.map(t=>this.getNode(t))),e}_resolveSkin(e,t){let r=typeof e.inverseBindMatrices=="number"?this.getAccessor(e.inverseBindMatrices):void 0;return{...e,id:e.id||`skin-${t}`,inverseBindMatrices:r}}_resolveMesh(e,t){let r={...e,id:e.id||`mesh-${t}`,primitives:[]};return e.primitives&&(r.primitives=e.primitives.map(s=>{let o={...s,attributes:{},indices:void 0,material:void 0},i=s.attributes;for(let a in i)o.attributes[a]=this.getAccessor(i[a]);return s.indices!==void 0&&(o.indices=this.getAccessor(s.indices)),s.material!==void 0&&(o.material=this.getMaterial(s.material)),o})),r}_resolveMaterial(e,t){let r={...e,id:e.id||`material-${t}`};if(r.normalTexture&&(r.normalTexture={...r.normalTexture},r.normalTexture.texture=this.getTexture(r.normalTexture.index)),r.occlusionTexture&&(r.occlusionTexture={...r.occlusionTexture},r.occlusionTexture.texture=this.getTexture(r.occlusionTexture.index)),r.emissiveTexture&&(r.emissiveTexture={...r.emissiveTexture},r.emissiveTexture.texture=this.getTexture(r.emissiveTexture.index)),r.emissiveFactor||(r.emissiveFactor=r.emissiveTexture?[1,1,1]:[0,0,0]),r.pbrMetallicRoughness){r.pbrMetallicRoughness={...r.pbrMetallicRoughness};let s=r.pbrMetallicRoughness;s.baseColorTexture&&(s.baseColorTexture={...s.baseColorTexture},s.baseColorTexture.texture=this.getTexture(s.baseColorTexture.index)),s.metallicRoughnessTexture&&(s.metallicRoughnessTexture={...s.metallicRoughnessTexture},s.metallicRoughnessTexture.texture=this.getTexture(s.metallicRoughnessTexture.index))}return r}_resolveAccessor(e,t){let r=ES(e.componentType),s=SS(e.type),o=r*s,i={...e,id:e.id||`accessor-${t}`,bytesPerComponent:r,components:s,bytesPerElement:o,value:void 0,bufferView:void 0,sparse:void 0};if(e.bufferView!==void 0&&(i.bufferView=this.getBufferView(e.bufferView)),i.bufferView){let a=i.bufferView.buffer,{ArrayType:c,byteLength:u}=ko(i,i.bufferView),l=(i.bufferView.byteOffset||0)+(i.byteOffset||0)+a.byteOffset,f=a.arrayBuffer.slice(l,l+u);i.bufferView.byteStride&&(f=this._getValueFromInterleavedBuffer(a,l,i.bufferView.byteStride,i.bytesPerElement,i.count)),i.value=new c(f)}return i}_getValueFromInterleavedBuffer(e,t,r,s,o){let i=new Uint8Array(o*s);for(let a=0;a<o;a++){let c=t+a*r;i.set(new Uint8Array(e.arrayBuffer.slice(c,c+s)),a*s)}return i.buffer}_resolveTexture(e,t){return{...e,id:e.id||`texture-${t}`,sampler:typeof e.sampler=="number"?this.getSampler(e.sampler):BS(),source:typeof e.source=="number"?this.getImage(e.source):void 0}}_resolveSampler(e,t){let r={id:e.id||`sampler-${t}`,...e,parameters:{}};for(let s in r){let o=this._enumSamplerParameter(s);o!==void 0&&(r.parameters[o]=r[s])}return r}_enumSamplerParameter(e){return _S[e]}_resolveImage(e,t){let r={...e,id:e.id||`image-${t}`,image:null,bufferView:e.bufferView!==void 0?this.getBufferView(e.bufferView):void 0},s=this.images[t];return s&&(r.image=s),r}_resolveBufferView(e,t){let r=e.buffer,s=this.buffers[r].arrayBuffer,o=this.buffers[r].byteOffset||0;return e.byteOffset&&(o+=e.byteOffset),{id:`bufferView-${t}`,...e,buffer:this.buffers[r],data:new Uint8Array(s,o,e.byteLength)}}_resolveCamera(e,t){let r={...e,id:e.id||`camera-${t}`};return r.perspective,r.orthographic,r}};function pp(n,e){return new dp().postProcess(n,e)}function nl(n){return{x:n[0],y:n[1],z:n[2]}}function gp(n){return[n.x,n.y,n.z]}var Hr={create(){},brand:"physicsWorld",dependencies:[],globalDependencies:[],init:async()=>{let n=(await import("./rapier-35QE4UIF.js")).default;return console.log(n,n.World),{world:new n.World({x:0,y:-9.81,z:0}),RAPIER:n}},fixedUpdate({state:n,instances:e}){n.world.step()},onDestroy(n){}};function MS(n){let e=Math.sqrt(1-n.w*n.w);return{angle:2*Math.acos(n.w),axis:e===0?[1,0,0]:[n.x/e,n.y/e,n.z/e]}}var En={brand:"rigidBody",dependencies:[Lt],globalDependencies:[Hr],create(n,e,{physicsWorld:t}){return{body:t.state.world.createRigidBody(n)}},onDestroy(n,{physicsWorld:e}){e.state.world.removeRigidBody(n.body)},init:()=>{},fixedUpdate({state:n,instances:e}){for(let t of e){let r=t.data.body.translation(),s=t.data.body.rotation(),o=MS(s);t.entity.transform.matrix=qe(nt([r.x,r.y,r.z]),fi(o.axis,o.angle))}}},Bb={brand:"rigidBodyCollider",dependencies:[En],globalDependencies:[Hr],create(n,e,{physicsWorld:t},r){let s=r(En);return{collider:t.state.world.createCollider(n,s.body)}},onDestroy(n,{physicsWorld:e}){e.state.world.removeCollider(n.collider,!1)},init:()=>{}};function Eb(n,e){return{vertices:Wn(n,e.vertices.buffer,GPUBufferUsage.COPY_DST|GPUBufferUsage.VERTEX),indices:Wn(n,e.indices.buffer,GPUBufferUsage.COPY_DST|GPUBufferUsage.INDEX),drawCount:e.drawCount}}function CS(n,e,t,r){let s=r[1]*r[0],o=(r[1]-1)*(r[0]-1)*6,i=new Float32Array(s*3),a=new Uint32Array(o),[c,u]=e,[l,f]=t,h=(l-c)/(r[0]-1),d=(f-u)/(r[1]-1);for(let p=0;p<r[1];p++)for(let A=0;A<r[0];A++){let _=(p*r[0]+A)*3,m=c+h*A,g=u+d*p,y=n([m,g]);i[_]=y[0],i[_+1]=y[1],i[_+2]=y[2]}for(let p=0;p<r[1]-1;p++)for(let A=0;A<r[0]-1;A++){let _=(p*(r[0]-1)+A)*6,m=p*r[0]+A;a[_]=m,a[_+1]=m+1,a[_+2]=m+r[0],a[_+3]=m+1,a[_+5]=m+r[0],a[_+4]=m+r[0]+1}return console.log(o,s),{vertices:i,indices:a,drawCount:o}}function Sb(n,e){return CS(([t,r])=>{let s=Math.cos(t)*Math.cos(r)*n,o=Math.sin(t)*Math.cos(r)*n,i=Math.sin(r)*n;return[s,i,o]},[0,-Math.PI/2],[Math.PI*2,Math.PI/2],e)}var yp=`struct LightingVertInput {\r
  @location(0) sample_pos: vec3f,\r
}\r
\r
struct LightingFragInput {\r
  @builtin(position) vertex_position : vec4f,\r
  @location(0) tex_pos: vec2f,\r
}\r
\r
struct LightingFragOutput {\r
  @location(0) color : vec4f,\r
}\r
\r
@group(0) @binding(0) var tex_sampler : sampler;\r
@group(0) @binding(1) var tex_pos : texture_2d<f32>;\r
@group(0) @binding(2) var tex_normal : texture_2d<f32>;\r
@group(0) @binding(3) var tex_albedo : texture_2d<f32>;\r
\r
struct Params {\r
  mvp: mat4x4f,\r
  inv_vp: mat4x4f,\r
  m: mat4x4f,\r
  light_pos: vec4f,\r
  light_color: vec3f,\r
  quadratic: f32,\r
  linear: f32,\r
  constant: f32,\r
  cutoff_radius: f32,\r
}\r
\r
@group(1) @binding(0) var<uniform> params : Params;\r
\r
@vertex\r
fn VSMain(input: LightingVertInput) -> LightingFragInput {\r
  var frag: LightingFragInput;\r
  var pos = params.mvp * vec4(input.sample_pos, 1.0);\r
  // var pos2 = params.vp * vec4(input.sample_pos, 1.0);\r
  frag.tex_pos = ((pos.xy ) / ((pos.w - 0.0) * 1.0)) * 0.5 + 0.5;\r
  frag.tex_pos.y = 1.0 - frag.tex_pos.y;\r
  frag.vertex_position = pos;\r
  return frag;\r
}\r
\r
@fragment\r
fn FSMain(input: LightingFragInput) -> LightingFragOutput {\r
  var o: LightingFragOutput;\r
  // _ = tex_pos;\r
  // _ = tex_albedo;\r
  // _ = tex_normal;\r
  let uv = input.vertex_position.xy / vec2f(textureDimensions(tex_pos).xy);\r
  let ipos = vec2i(input.vertex_position.xy);\r
\r
  let albedo = textureSample(tex_albedo, tex_sampler, uv);\r
  let pos = params.inv_vp * textureSample(tex_pos, tex_sampler, uv);\r
  let normal = textureSample(tex_normal, tex_sampler, uv);\r
\r
  let vec_to_light = (params.m * vec4f(0.0,0.0, 0.0, 1.0)).xyz - pos.xyz;\r
  let dist_to_light = length(vec_to_light);\r
  let dir_to_light = vec4f(vec_to_light / dist_to_light, 0.0).xyz;\r
\r
  let attenuation = \r
    params.quadratic * dist_to_light * dist_to_light\r
    + params.linear * dist_to_light\r
    + params.constant;\r
\r
  var brightness = 1.0 / attenuation + 0.3;\r
\r
  brightness = brightness * min(\r
    1.0, \r
    3.0 * (1.0 - dist_to_light / params.cutoff_radius)\r
  );\r
\r
  var brightness_factor = brightness * max(dot(\r
    normal.xyz,\r
    dir_to_light\r
  ), 0.0);\r
\r
  var dither_factor = (brightness_factor * 4.0);\r
\r
  var modulate_color = select(\r
    (ceil(dither_factor) - 1.0) / 4.0,  \r
    ceil(dither_factor) / 4.0,\r
    dither256(fract(dither_factor), ipos),\r
  );\r
\r
  o.color = (albedo * modulate_color);\r
\r
  o.color = max(o.color, vec4f(0.0));\r
\r
  o.color.a = 1.0;\r
\r
  o.color = pow(o.color, vec4(1 / 2.2));\r
\r
  // o.color = vec4f(dir_to_light.xyz * 0.5 + 0.5, 1.0);\r
  // o.color = vec4f(normal.xyz * 0.5 + 0.5, 1.0);\r
  // o.color = vec4f(max(dot(\r
  //  normal.xyz,\r
  //  dir_to_light\r
  // ), 0.0) * 1.0);\r
  \r
  // o.color.a = 1.0;\r
\r
  // o.color = vec4(1.0, 0.0, 0.0, 1.0);\r
\r
  return o;\r
} \r
\r
const DITHER256_THRESHOLDS = array<f32, 256>(\r
  0,\r
  128,\r
  32,\r
  160,\r
  8,\r
  136,\r
  40,\r
  168,\r
  2,\r
  130,\r
  34,\r
  162,\r
  10,\r
  138,\r
  42,\r
  170,\r
  192,\r
  64,\r
  224,\r
  96,\r
  200,\r
  72,\r
  232,\r
  104,\r
  194,\r
  66,\r
  226,\r
  98,\r
  202,\r
  74,\r
  234,\r
  106,\r
  48,\r
  176,\r
  16,\r
  144,\r
  56,\r
  184,\r
  24,\r
  152,\r
  50,\r
  178,\r
  18,\r
  146,\r
  58,\r
  186,\r
  26,\r
  154,\r
  240,\r
  112,\r
  208,\r
  80,\r
  248,\r
  120,\r
  216,\r
  88,\r
  242,\r
  114,\r
  210,\r
  82,\r
  250,\r
  122,\r
  218,\r
  90,\r
  12,\r
  140,\r
  44,\r
  172,\r
  4,\r
  132,\r
  36,\r
  164,\r
  14,\r
  142,\r
  46,\r
  174,\r
  6,\r
  134,\r
  38,\r
  166,\r
  204,\r
  76,\r
  236,\r
  108,\r
  196,\r
  68,\r
  228,\r
  100,\r
  206,\r
  78,\r
  238,\r
  110,\r
  198,\r
  70,\r
  230,\r
  102,\r
  60,\r
  188,\r
  28,\r
  156,\r
  52,\r
  180,\r
  20,\r
  148,\r
  62,\r
  190,\r
  30,\r
  158,\r
  54,\r
  182,\r
  22,\r
  150,\r
  252,\r
  124,\r
  220,\r
  92,\r
  244,\r
  116,\r
  212,\r
  84,\r
  254,\r
  126,\r
  222,\r
  94,\r
  246,\r
  118,\r
  214,\r
  86,\r
  3,\r
  131,\r
  35,\r
  163,\r
  11,\r
  139,\r
  43,\r
  171,\r
  1,\r
  129,\r
  33,\r
  161,\r
  9,\r
  137,\r
  41,\r
  169,\r
  195,\r
  67,\r
  227,\r
  99,\r
  203,\r
  75,\r
  235,\r
  107,\r
  193,\r
  65,\r
  225,\r
  97,\r
  201,\r
  73,\r
  233,\r
  105,\r
  51,\r
  179,\r
  19,\r
  147,\r
  59,\r
  187,\r
  27,\r
  155,\r
  49,\r
  177,\r
  17,\r
  145,\r
  57,\r
  185,\r
  25,\r
  153,\r
  243,\r
  115,\r
  211,\r
  83,\r
  251,\r
  123,\r
  219,\r
  91,\r
  241,\r
  113,\r
  209,\r
  81,\r
  249,\r
  121,\r
  217,\r
  89,\r
  15,\r
  143,\r
  47,\r
  175,\r
  7,\r
  135,\r
  39,\r
  167,\r
  13,\r
  141,\r
  45,\r
  173,\r
  5,\r
  133,\r
  37,\r
  165,\r
  207,\r
  79,\r
  239,\r
  111,\r
  199,\r
  71,\r
  231,\r
  103,\r
  205,\r
  77,\r
  237,\r
  109,\r
  197,\r
  69,\r
  229,\r
  101,\r
  63,\r
  191,\r
  31,\r
  159,\r
  55,\r
  183,\r
  23,\r
  151,\r
  61,\r
  189,\r
  29,\r
  157,\r
  53,\r
  181,\r
  21,\r
  149,\r
  255,\r
  127,\r
  223,\r
  95,\r
  247,\r
  119,\r
  215,\r
  87,\r
  253,\r
  125,\r
  221,\r
  93,\r
  245,\r
  117,\r
  213,\r
  85\r
);\r
\r
fn dither256(factor: f32, coord: vec2i) -> bool {\r
  let x = coord.x % 16;\r
  let y = coord.y % 16;\r
  let threshold = DITHER256_THRESHOLDS[y * 16 + x] / 256.0;\r
  return factor > threshold ;\r
}`;var Mb={bindGroups:[[{name:"tex_sampler",type:{name:"sampler",attributes:[{id:13992,line:14,name:"group",value:"0"},{id:13993,line:14,name:"binding",value:"0"}],size:0,format:null,access:null},group:0,binding:0,attributes:[{id:13992,line:14,name:"group",value:"0"},{id:13993,line:14,name:"binding",value:"0"}],resourceType:3,access:""},{name:"tex_pos",type:{name:"texture_2d",attributes:[{id:13996,line:15,name:"group",value:"0"},{id:13997,line:15,name:"binding",value:"1"}],size:0,format:{name:"f32",attributes:null,size:4},access:null},group:0,binding:1,attributes:[{id:13996,line:15,name:"group",value:"0"},{id:13997,line:15,name:"binding",value:"1"}],resourceType:2,access:"read"},{name:"tex_normal",type:{name:"texture_2d",attributes:[{id:14001,line:16,name:"group",value:"0"},{id:14002,line:16,name:"binding",value:"2"}],size:0,format:{name:"f32",attributes:null,size:4},access:null},group:0,binding:2,attributes:[{id:14001,line:16,name:"group",value:"0"},{id:14002,line:16,name:"binding",value:"2"}],resourceType:2,access:"read"},{name:"tex_albedo",type:{name:"texture_2d",attributes:[{id:14006,line:17,name:"group",value:"0"},{id:14007,line:17,name:"binding",value:"3"}],size:0,format:{name:"f32",attributes:null,size:4},access:null},group:0,binding:3,attributes:[{id:14006,line:17,name:"group",value:"0"},{id:14007,line:17,name:"binding",value:"3"}],resourceType:2,access:"read"}],[{name:"params",type:{name:"Params",attributes:null,size:240,members:[{name:"mvp",type:{name:"mat4x4f",attributes:null,size:64},attributes:null,offset:0,size:64},{name:"inv_vp",type:{name:"mat4x4f",attributes:null,size:64},attributes:null,offset:64,size:64},{name:"m",type:{name:"mat4x4f",attributes:null,size:64},attributes:null,offset:128,size:64},{name:"light_pos",type:{name:"vec4f",attributes:null,size:16},attributes:null,offset:192,size:16},{name:"light_color",type:{name:"vec3f",attributes:null,size:12},attributes:null,offset:208,size:12},{name:"quadratic",type:{name:"f32",attributes:null,size:4},attributes:null,offset:220,size:4},{name:"linear",type:{name:"f32",attributes:null,size:4},attributes:null,offset:224,size:4},{name:"constant",type:{name:"f32",attributes:null,size:4},attributes:null,offset:228,size:4},{name:"cutoff_radius",type:{name:"f32",attributes:null,size:4},attributes:null,offset:232,size:4}],align:16,startLine:19,endLine:29,inUse:!0},group:1,binding:0,attributes:[{id:14030,line:31,name:"group",value:"1"},{id:14031,line:31,name:"binding",value:"0"}],resourceType:0,access:"read"}]]};var X=hn(Pb(),1);var jb=X.default.Matrix?X.default.Matrix:X.Matrix;var Kb=X.inverse;function Ia(n){let e=new jb([n.slice(0,4),n.slice(4,8),n.slice(8,12),n.slice(12,16)]).transpose();return Kb(e).transpose().to1DArray()}var Jb={async init(n){let{device:e,canvasFormat:t,onResize:r}=await n(ue),s=e.createBindGroupLayout({entries:[{binding:0,sampler:{type:"non-filtering"},visibility:GPUShaderStage.FRAGMENT},{binding:1,texture:{sampleType:"unfilterable-float",viewDimension:"2d"},visibility:GPUShaderStage.FRAGMENT},{binding:2,texture:{sampleType:"unfilterable-float",viewDimension:"2d"},visibility:GPUShaderStage.FRAGMENT},{binding:3,texture:{sampleType:"float",viewDimension:"2d"},visibility:GPUShaderStage.FRAGMENT}]}),o=e.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.FRAGMENT|GPUShaderStage.VERTEX,buffer:{type:"uniform"}}]}),i=e.createRenderPipeline({layout:e.createPipelineLayout({bindGroupLayouts:[s,o]}),vertex:{module:e.createShaderModule({code:yp}),buffers:[{arrayStride:12,attributes:[{shaderLocation:0,offset:0,format:"float32x3"}]}]},fragment:{module:e.createShaderModule({code:yp}),targets:[{format:"rgba8unorm",blend:{color:{operation:"add",srcFactor:"one",dstFactor:"one"},alpha:{operation:"add",srcFactor:"one",dstFactor:"zero"}}}]},primitive:{topology:"triangle-list",cullMode:"back"}}),c={pointLightGeometry:Eb(e,Sb(1,[12,12])),lightingPipeline:i,lightingBindGroupLayout:s,lightingUniformBindGroupLayout:o,lightingBindGroup:void 0};return await r(async()=>{let u=(await n(ue)).textures.gbuffer;c.lightingBindGroup=e.createBindGroup({layout:s,entries:[{binding:0,resource:e.createSampler({minFilter:"nearest",magFilter:"nearest"})},{binding:1,resource:u.position},{binding:2,resource:u.normal},{binding:3,resource:u.albedo}]})}),c},create(n,e,{deferredWebgpuRenderer:t}){let{device:r}=t.state,s=r.createBuffer({label:"uniform buffer",size:1024,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM}),o=r.createBindGroup({label:"lighting uniform bind group",entries:[{binding:0,resource:s}],layout:e.state.lightingUniformBindGroupLayout});return{uniformBuffer:s,uniformBindGroup:o,color:n.color,quadratic:n.quadratic,linear:n.linear,constant:n.constant}},renderUpdate({state:n,instances:e,subsystem:t,scheduleTask:r}){r(()=>{let{projectionMatrix:s,viewMatrix:o,device:i,textures:a,ctx:c}=t(ue).state,u=i.createCommandEncoder(),l=u.beginRenderPass({colorAttachments:[{view:a.lighting.color.createView({mipLevelCount:1}),clearValue:[0,0,0,1],loadOp:"clear",storeOp:"store"}]});l.setBindGroup(0,n.lightingBindGroup);let f=5/256;for(let h of e){let d=(-h.data.linear+Math.sqrt(h.data.linear**2-4*h.data.quadratic*(h.data.constant-Math.max(...h.data.color)/f)))/(2*h.data.quadratic),p=qe(h.entity.transform.matrix,hg([d,d,d])),A=qe(s,o),_=qe(A,p),m=li(_,[0,0,0,1]),g=cr(Mb,1,0,{inv_vp:Ia(A),mvp:_,m:p,light_color:h.data.color,light_pos:m,quadratic:h.data.quadratic,linear:h.data.linear,constant:h.data.constant,cutoff_radius:d});i.queue.writeBuffer(h.data.uniformBuffer,0,g),l.setBindGroup(1,h.data.uniformBindGroup),l.setPipeline(n.lightingPipeline),l.setVertexBuffer(0,n.pointLightGeometry.vertices),l.setIndexBuffer(n.pointLightGeometry.indices,"uint32"),l.drawIndexed(n.pointLightGeometry.drawCount)}return l.end(),i.queue.submit([u.finish()]),Promise.resolve()},[wu],[Pm])},dependencies:[Lt],globalDependencies:[ue],brand:"pointLightSource",onDestroy(){}};var Cp=`struct GBufferVertInput {\r
  @location(0) pos: vec3f,\r
  @location(1) normal: vec3f,\r
  //  @location(2) uv: vec2f,\r
}\r
\r
struct GBufferFragInput {\r
  @builtin(position) vertex_position:  vec4f, \r
  @location(0) pos: vec4f,\r
  @location(1) normal: vec4f,\r
  @location(2) albedo: vec4f,\r
}\r
\r
struct GBufferFragOutput {\r
  @location(0) pos: vec4f,\r
  @location(1) normal: vec4f,\r
  @location(2) albedo: vec4f,\r
}\r
\r
struct Params {\r
  mvp: mat4x4f,\r
  m: mat4x4f,\r
  draw_color: vec4f\r
}\r
\r
@group(0) @binding(0) var<uniform> params : Params;\r
\r
@vertex\r
fn VSMain(input: GBufferVertInput) -> GBufferFragInput {\r
  var frag: GBufferFragInput;\r
  let clipspace = params.mvp * vec4f(input.pos, 1.0);\r
  frag.pos = params.mvp * vec4f(input.pos, 1.0);\r
  frag.vertex_position = clipspace;\r
  frag.normal = params.m * vec4f(input.normal, 0.0);\r
  frag.albedo = params.draw_color;\r
  return frag;\r
}\r
\r
const DITHER16_THRESHOLDS = array(\r
  0.0, 8.0, 2.0, 10.0,\r
  12.0, 4.0, 13.0, 6.0,\r
  3.0, 11.0, 1.0, 9.0,\r
  14.0, 7.0, 15.0, 5.0\r
);\r
\r
fn dither16(factor: f32, coord: vec2i) -> bool {\r
  let x = coord.x % 4;\r
  let y = coord.y % 4;\r
  let threshold = DITHER16_THRESHOLDS[y * 4 + x] / 16.0;\r
  return factor > threshold ;\r
}\r
\r
\r
/* \r
function makeDitherKernel(iters) {\r
	if (iters === 0) {\r
		return [0];\r
	}\r
\r
	const kernel = makeDitherKernel(iters - 1);\r
	const oldLength = kernel.length;\r
	const oldSideLength = Math.sqrt(oldLength);\r
	\r
	const newLength = kernel.length * 4;\r
	const newSideLength = Math.sqrt(newLength);\r
\r
	let k = new Array(newLength);\r
	\r
	for (const [x, y, idx] of [[0, 0,0], [1, 1, 1], [1, 0, 2], [0, 1, 3]]) {\r
		let baseIndex = y * newSideLength + x;\r
		for (let i = 0; i < oldSideLength; i++) {\r
			for (let j = 0; j < oldSideLength; j++) {\r
				k[baseIndex + i * 2 * newSideLength + j * 2] = \r
					kernel[i * oldSideLength + j] + idx * kernel.length\r
			}\r
		}\r
	}\r
\r
	return k;\r
	\r
}\r
\r
console.log(makeDitherKernel(4));\r
*/\r
\r
const DITHER256_THRESHOLDS = array<f32, 256>(\r
  0,\r
  128,\r
  32,\r
  160,\r
  8,\r
  136,\r
  40,\r
  168,\r
  2,\r
  130,\r
  34,\r
  162,\r
  10,\r
  138,\r
  42,\r
  170,\r
  192,\r
  64,\r
  224,\r
  96,\r
  200,\r
  72,\r
  232,\r
  104,\r
  194,\r
  66,\r
  226,\r
  98,\r
  202,\r
  74,\r
  234,\r
  106,\r
  48,\r
  176,\r
  16,\r
  144,\r
  56,\r
  184,\r
  24,\r
  152,\r
  50,\r
  178,\r
  18,\r
  146,\r
  58,\r
  186,\r
  26,\r
  154,\r
  240,\r
  112,\r
  208,\r
  80,\r
  248,\r
  120,\r
  216,\r
  88,\r
  242,\r
  114,\r
  210,\r
  82,\r
  250,\r
  122,\r
  218,\r
  90,\r
  12,\r
  140,\r
  44,\r
  172,\r
  4,\r
  132,\r
  36,\r
  164,\r
  14,\r
  142,\r
  46,\r
  174,\r
  6,\r
  134,\r
  38,\r
  166,\r
  204,\r
  76,\r
  236,\r
  108,\r
  196,\r
  68,\r
  228,\r
  100,\r
  206,\r
  78,\r
  238,\r
  110,\r
  198,\r
  70,\r
  230,\r
  102,\r
  60,\r
  188,\r
  28,\r
  156,\r
  52,\r
  180,\r
  20,\r
  148,\r
  62,\r
  190,\r
  30,\r
  158,\r
  54,\r
  182,\r
  22,\r
  150,\r
  252,\r
  124,\r
  220,\r
  92,\r
  244,\r
  116,\r
  212,\r
  84,\r
  254,\r
  126,\r
  222,\r
  94,\r
  246,\r
  118,\r
  214,\r
  86,\r
  3,\r
  131,\r
  35,\r
  163,\r
  11,\r
  139,\r
  43,\r
  171,\r
  1,\r
  129,\r
  33,\r
  161,\r
  9,\r
  137,\r
  41,\r
  169,\r
  195,\r
  67,\r
  227,\r
  99,\r
  203,\r
  75,\r
  235,\r
  107,\r
  193,\r
  65,\r
  225,\r
  97,\r
  201,\r
  73,\r
  233,\r
  105,\r
  51,\r
  179,\r
  19,\r
  147,\r
  59,\r
  187,\r
  27,\r
  155,\r
  49,\r
  177,\r
  17,\r
  145,\r
  57,\r
  185,\r
  25,\r
  153,\r
  243,\r
  115,\r
  211,\r
  83,\r
  251,\r
  123,\r
  219,\r
  91,\r
  241,\r
  113,\r
  209,\r
  81,\r
  249,\r
  121,\r
  217,\r
  89,\r
  15,\r
  143,\r
  47,\r
  175,\r
  7,\r
  135,\r
  39,\r
  167,\r
  13,\r
  141,\r
  45,\r
  173,\r
  5,\r
  133,\r
  37,\r
  165,\r
  207,\r
  79,\r
  239,\r
  111,\r
  199,\r
  71,\r
  231,\r
  103,\r
  205,\r
  77,\r
  237,\r
  109,\r
  197,\r
  69,\r
  229,\r
  101,\r
  63,\r
  191,\r
  31,\r
  159,\r
  55,\r
  183,\r
  23,\r
  151,\r
  61,\r
  189,\r
  29,\r
  157,\r
  53,\r
  181,\r
  21,\r
  149,\r
  255,\r
  127,\r
  223,\r
  95,\r
  247,\r
  119,\r
  215,\r
  87,\r
  253,\r
  125,\r
  221,\r
  93,\r
  245,\r
  117,\r
  213,\r
  85\r
);\r
\r
fn dither256(factor: f32, coord: vec2i) -> bool {\r
  let x = coord.x % 16;\r
  let y = coord.y % 16;\r
  let threshold = DITHER256_THRESHOLDS[y * 16 + x] / 256.0;\r
  return factor > threshold ;\r
}\r
\r
@fragment\r
fn FSMain(input: GBufferFragInput) -> GBufferFragOutput {\r
  var o: GBufferFragOutput;\r
\r
  let ipos = vec2i(input.vertex_position.xy);\r
  if (\r
    !dither256(input.pos.z * 0.5 - 0.5, ipos)\r
    // && (ipos.x + ipos.y) % 4 != 0\r
  ) {\r
    discard;\r
  }\r
\r
\r
  o.pos = input.pos;\r
  o.normal = input.normal;\r
  o.albedo = input.albedo;\r
  return o;\r
} `;var qb={bindGroups:[[{name:"params",type:{name:"Params",attributes:null,size:144,members:[{name:"mvp",type:{name:"mat4x4f",attributes:null,size:64},attributes:null,offset:0,size:64},{name:"m",type:{name:"mat4x4f",attributes:null,size:64},attributes:null,offset:64,size:64},{name:"draw_color",type:{name:"vec4f",attributes:null,size:16},attributes:null,offset:128,size:16}],align:16,startLine:20,endLine:24,inUse:!0},group:0,binding:0,attributes:[{id:13377,line:26,name:"group",value:"0"},{id:13378,line:26,name:"binding",value:"0"}],resourceType:0,access:"read"}]]};var Xb={async init(n){let{device:e}=await n(ue);return{gbufferPipeline:e.createRenderPipeline({layout:"auto",vertex:{module:e.createShaderModule({code:Cp}),buffers:[{arrayStride:12,attributes:[{shaderLocation:0,offset:0,format:"float32x3"}]},{arrayStride:12,attributes:[{shaderLocation:1,offset:0,format:"float32x3"}]}]},fragment:{module:e.createShaderModule({code:Cp}),targets:[{format:"rgba32float"},{format:"rgba16float"},{format:"rgba8unorm"}]},depthStencil:{depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus"},primitive:{topology:"triangle-list",cullMode:"back"}})}},create(n,e,{deferredWebgpuRenderer:t}){let{device:r}=t.state,s=r.createBuffer({label:"uniform buffer",size:1024,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC|GPUBufferUsage.UNIFORM});return{bindGroup:r.createBindGroup({layout:e.state.gbufferPipeline.getBindGroupLayout(0),entries:[{binding:0,resource:s}]}),vertexBuffer:n.vertexBuffer,indexBuffer:n.indexBuffer,normalBuffer:n.normalBuffer,vertexCount:n.size,uniformBuffer:s,indexFormat:n.indexFormat,drawColor:n.drawColor}},renderUpdate({state:n,instances:e,subsystem:t,scheduleTask:r}){r(()=>{let{device:s,viewMatrix:o,projectionMatrix:i,textures:a,gBufferRenderPass:c}=t(ue).state,{gbufferPipeline:u}=n,l=c;for(let f of e){let h=cr(qb,0,0,{m:f.entity.transform.matrix,mvp:qe(i,qe(o,f.entity.transform.matrix)),draw_color:f.data.drawColor});s.queue.writeBuffer(f.data.uniformBuffer,0,h),l.setPipeline(u),l.setVertexBuffer(0,f.data.vertexBuffer),l.setVertexBuffer(1,f.data.normalBuffer),l.setIndexBuffer(f.data.indexBuffer,f.data.indexFormat),l.setBindGroup(0,f.data.bindGroup),l.drawIndexed(f.data.vertexCount)}return Promise.resolve()},[Mo])},onDestroy(){},dependencies:[Lt],globalDependencies:[ue],brand:"sampleWebgpuRendererGeometry"};var Yb=`struct ParticlesVertInput {\r
  @location(0) position: vec3f,\r
  @builtin(vertex_index) vindex : u32,\r
  //  @location(2) uv: vec2f,\r
}\r
\r
struct ParticlesFragInput {\r
  @builtin(position) vertex_position: vec4f, \r
  @location(0) pos: vec4f,\r
  @location(1) normal: vec4f,\r
  @location(2) albedo: vec4f,\r
}\r
\r
struct ParticlesFragOutput {\r
  @location(0) pos: vec4f,\r
  @location(1) normal: vec4f,\r
  @location(2) albedo: vec4f,\r
}\r
\r
struct Params {\r
  mvp: mat4x4f,\r
  draw_color: vec4f,\r
  scale: vec2f,\r
}\r
\r
@group(0) @binding(0) var<uniform> params : Params;\r
\r
@vertex\r
fn VSMain(input: ParticlesVertInput) -> ParticlesFragInput {\r
  var frag: ParticlesFragInput;\r
\r
  let center = params.mvp * vec4f(input.position, 1.0);\r
\r
  frag.normal = params.mvp * vec4f(0.0, 1.0, 0.0, 0.0);\r
  frag.albedo = params.draw_color;\r
\r
  frag.pos = vec4(array(\r
    vec2( 1.0,  1.0),\r
    vec2( 1.0, -1.0), \r
    vec2(-1.0, -1.0),\r
    vec2( 1.0,  1.0),\r
    vec2(-1.0, -1.0),\r
    vec2(-1.0,  1.0),\r
  )[input.vindex] * params.scale, 1.0, 1.0) + center;\r
\r
  frag.vertex_position = frag.pos;\r
\r
  /*\r
  frag.uv = array(\r
    vec2(1.0, 0.0),\r
    vec2(1.0, 1.0),\r
    vec2(0.0, 1.0),\r
    vec2(1.0, 0.0),\r
    vec2(0.0, 1.0),\r
    vec2(0.0, 0.0),\r
  )[input.vindex]; */\r
\r
  return frag;\r
}\r
\r
@fragment\r
fn FSMain(input: ParticlesFragInput) -> ParticlesFragOutput {\r
  var o: ParticlesFragOutput;\r
\r
  let ipos = vec2i(input.vertex_position.xy);\r
\r
  // if (\r
  //   input.pos.z < 10.0\r
  //   && (ipos.x + ipos.y) % 4 != 0\r
  // ) {\r
  //   discard;\r
  // }\r
\r
  o.pos = input.pos;\r
  o.normal = input.normal;\r
  o.albedo = input.albedo;\r
  return o;\r
} `;var Qb={bindGroups:[[{name:"params",type:{name:"Params",attributes:null,size:96,members:[{name:"mvp",type:{name:"mat4x4f",attributes:null,size:64},attributes:null,offset:0,size:64},{name:"draw_color",type:{name:"vec4f",attributes:null,size:16},attributes:null,offset:64,size:16},{name:"scale",type:{name:"vec2f",attributes:null,size:8},attributes:null,offset:80,size:8}],align:16,startLine:20,endLine:24,inUse:!0},group:0,binding:0,attributes:[{id:13856,line:26,name:"group",value:"0"},{id:13857,line:26,name:"binding",value:"0"}],resourceType:0,access:"read"}]]};var Vp=`@group(0) @binding(0)\r
var<storage, read_write> buf_position: array<vec3f>;\r
\r
@group(0) @binding(1)\r
var<storage, read_write> buf_velocity: array<vec3f>;\r
\r
@group(0) @binding(2)\r
var tex_force: texture_storage_3d<rgba8snorm, read>;\r
\r
@compute @workgroup_size(64)\r
fn ComputeMain(\r
  @builtin(global_invocation_id) id3: vec3u\r
) {\r
  let i = id3.x;\r
\r
  let gridOffset = vec3i(16, 16 , 16);\r
\r
  let force_pos = (vec3i(floor(buf_position[i])) + gridOffset + vec3i(320, 320, 320)) % vec3i(32);\r
\r
  var vel = buf_velocity[i];\r
\r
  vel += textureLoad(tex_force, force_pos).xyz * 0.01;\r
  vel *= 0.99;\r
  buf_position[i] += vel;\r
  buf_velocity[i] = vel;\r
}`;var Wb={async init(n){let{device:e}=await n(ue);return{particlesForcefieldPipeline:e.createComputePipeline({layout:"auto",compute:{module:e.createShaderModule({code:Vp})}})}},create(n,e,{deferredWebgpuRenderer:t}){let{device:r}=t.state;return{bindGroup:r.createBindGroup({layout:e.state.particlesForcefieldPipeline.getBindGroupLayout(0),entries:[{resource:n.positionBuffer,binding:0},{resource:n.velocityBuffer,binding:1},{resource:n.forceFieldTexture,binding:2}]}),positionBuffer:n.positionBuffer,particleCount:n.count,velocityBuffer:n.velocityBuffer,forceFieldTexture:n.forceFieldTexture}},renderUpdate({state:n,instances:e,subsystem:t,scheduleTask:r}){r(()=>{let{device:s,viewMatrix:o,projectionMatrix:i,textures:a,gBufferRenderPass:c}=t(ue).state,u=s.createCommandEncoder(),l=u.beginComputePass();l.setPipeline(n.particlesForcefieldPipeline);for(let f of e)l.setBindGroup(0,f.data.bindGroup),l.dispatchWorkgroups(Math.floor(f.data.particleCount/64));return l.end(),s.queue.submit([u.finish()]),Promise.resolve()},[Mo])},dependencies:[Lt],globalDependencies:[ue],onDestroy(){},brand:"particleForcefield"},$b={async init(n){let{device:e}=await n(ue),t=e.createShaderModule({code:Yb}),r={color:{srcFactor:"one",dstFactor:"one-minus-src-alpha"},alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha"}},s=e.createRenderPipeline({layout:"auto",vertex:{module:t,buffers:[{arrayStride:16,stepMode:"instance",attributes:[{shaderLocation:0,offset:0,format:"float32x3"}]}]},fragment:{module:t,targets:[{format:"rgba32float"},{format:"rgba16float"},{format:"rgba8unorm"}]},depthStencil:{depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus"},primitive:{topology:"triangle-list"}}),o=e.createComputePipeline({layout:"auto",compute:{module:e.createShaderModule({code:Vp})}});return{particlesPipeline:s,particlesForcefieldPipeline:o}},create(n,e,{deferredWebgpuRenderer:t}){let{device:r}=t.state,s=r.createBuffer({label:"uniform buffer",size:1024,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC|GPUBufferUsage.UNIFORM});return{bindGroup:r.createBindGroup({layout:e.state.particlesPipeline.getBindGroupLayout(0),entries:[{binding:0,resource:s}]}),positionBuffer:n.positionBuffer,particleCount:n.count,uniformBuffer:s,drawColor:n.drawColor}},renderUpdate({state:n,instances:e,subsystem:t,scheduleTask:r}){r(()=>{let{device:s,viewMatrix:o,projectionMatrix:i,textures:a,gBufferRenderPass:c,aspect:u}=t(ue).state,{particlesPipeline:l}=n,f=c;for(let h of e){let d=cr(Qb,0,0,{scale:[.03*u,.03],mvp:qe(i,qe(o,h.entity.transform.matrix)),draw_color:h.data.drawColor});s.queue.writeBuffer(h.data.uniformBuffer,0,d),f.setPipeline(l),f.setVertexBuffer(0,h.data.positionBuffer),f.setBindGroup(0,h.data.bindGroup),f.draw(6,h.data.particleCount)}return Promise.resolve()},[Mo])},dependencies:[Lt],globalDependencies:[ue],onDestroy(){},brand:"particleSystem"};var Wo={async init(n){let e=new Set,t=new Set;return document.addEventListener("keydown",r=>{e.add(r.key),t.add(r.key.toLowerCase())}),document.addEventListener("keyup",r=>{e.delete(r.key),t.delete(r.key.toLowerCase())}),{isKeyHeldCaseSensitive(r){return e.has(r)},isKeyHeld(r){return t.has(r)}}},onDestroy(){},create(){},dependencies:[],globalDependencies:[],brand:"keyboard"};var Ms={async init(n){let e=[0,0],t=new Set,r=[0,0];document.addEventListener("mousemove",o=>{e=ir(e,[o.movementX,o.movementY]),r=[o.clientX,o.clientY]}),document.addEventListener("mousedown",o=>{t.add(o.button)}),document.addEventListener("mouseup",o=>{t.delete(o.button)}),document.addEventListener("contextmenu",o=>{o.preventDefault()});let s=0;return document.addEventListener("wheel",o=>{s+=Math.sign(o.deltaY)}),{pollMovement(){let o=e;return e=[0,0],o},pollScroll(){let o=s;return s=0,o},isLeftPressed(){return t.has(0)},isRightPressed(){return t.has(2)},pollPosition(){return r}}},onDestroy(){},create(){},dependencies:[],globalDependencies:[],brand:"mouse"},gF={async init(n){let e=[0,0];return document.addEventListener("mousemove",t=>{e=ir(e,[t.movementX,t.movementY])}),document.addEventListener("click",t=>{document.body.requestPointerLock()}),{pollMovement(){let t=e;return e=[0,0],t}}},onDestroy(){},create(){},dependencies:[],globalDependencies:[],brand:"mouesFirstPerson"};var Zb=(n,e,t)=>({async create(r,s,o,i){},onDestroy(){},async init(r){let{device:s,canvas:o,onResize:i,ctx:a}=await r(ue),c={global:await n({device:s,canvas:o,ctx:a}),resolutionDependent:void 0};return i(async()=>{c.resolutionDependent=await e({device:s,canvas:o,ctx:a},[o.width,o.height],c.global)}),c},globalDependencies:[ue],dependencies:[],brand:"postprocessingPipeline",async renderUpdate({state:r,scheduleTask:s,subsystem:o}){s(async()=>{let{device:i,canvas:a,ctx:c,textures:u}=o(ue).state;await t({device:i,canvas:a,ctx:c,position:u.gbuffer.position,normal:u.gbuffer.normal,albedo:u.gbuffer.albedo,lighting:u.lighting.color},[a.width,a.height],r.global,r.resolutionDependent)},[],[wu])}});function ev(n,e){return new RegExp(RegExp.escape(n)+"[\\s\\S]*?"+RegExp.escape(e),"g")}function tv(n,e){for(let t of e)n=n.replaceAll(typeof t.delimiter=="string"?ev(t.delimiter,t.delimiter):ev(t.start,t.end),t.replaceWith);return n}var Bt=class{constructor(e,t){this.name=e,this.attributes=t,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}get isPointer(){return!1}getTypeName(){return this.name}},dl=class{constructor(e,t,r){this.name=e,this.type=t,this.attributes=r,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}},Sn=class extends Bt{constructor(e,t){super(e,t),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}},Mn=class extends Bt{constructor(e,t){super(e,t),this.count=0,this.stride=0}get isArray(){return!0}getTypeName(){return`array<${this.format.getTypeName()}, ${this.count}>`}},Oa=class extends Bt{constructor(e,t,r){super(e,r),this.format=t}get isPointer(){return!0}getTypeName(){return`&${this.format.getTypeName()}`}},nr=class extends Bt{constructor(e,t,r,s){super(e,r),this.format=t,this.access=s}get isTemplate(){return!0}getTypeName(){let e=this.name;if(this.format!==null){if(e==="vec2"||e==="vec3"||e==="vec4"||e==="mat2x2"||e==="mat2x3"||e==="mat2x4"||e==="mat3x2"||e==="mat3x3"||e==="mat3x4"||e==="mat4x2"||e==="mat4x3"||e==="mat4x4"){if(this.format.name==="f32")return e+="f",e;if(this.format.name==="i32")return e+="i",e;if(this.format.name==="u32")return e+="u",e;if(this.format.name==="bool")return e+="b",e;if(this.format.name==="f16")return e+="h",e}e+=`<${this.format.name}>`}else if(e==="vec2"||e==="vec3"||e==="vec4")return e;return e}},jr;(n=>{n[n.Uniform=0]="Uniform",n[n.Storage=1]="Storage",n[n.Texture=2]="Texture",n[n.Sampler=3]="Sampler",n[n.StorageTexture=4]="StorageTexture"})(jr||(jr={}));var $o=class{constructor(e,t,r,s,o,i,a){this.name=e,this.type=t,this.group=r,this.binding=s,this.attributes=o,this.resourceType=i,this.access=a}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}},Ip=class{constructor(e,t){this.name=e,this.type=t}},kp=class{constructor(e,t,r,s){this.name=e,this.type=t,this.locationType=r,this.location=s,this.interpolation=null}},pl=class{constructor(e,t,r,s){this.name=e,this.type=t,this.locationType=r,this.location=s}},Op=class{constructor(e,t,r,s){this.name=e,this.type=t,this.attributes=r,this.id=s}},Lp=class{constructor(e,t,r){this.name=e,this.type=t,this.attributes=r}},Gp=class{constructor(e,t=null,r){this.stage=null,this.inputs=[],this.outputs=[],this.arguments=[],this.returnType=null,this.resources=[],this.overrides=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=e,this.stage=t,this.attributes=r}},Up=class{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}};function CM(n){var e=(32768&n)>>15,t=(31744&n)>>10,r=1023&n;return t==0?(e?-1:1)*Math.pow(2,-14)*(r/Math.pow(2,10)):t==31?r?NaN:1/0*(e?-1:1):(e?-1:1)*Math.pow(2,t-15)*(1+r/Math.pow(2,10))}var sv=new Float32Array(1),VM=new Int32Array(sv.buffer),ot=new Uint16Array(1);function RM(n){sv[0]=n;let e=VM[0],t=e>>31&1,r=e>>23&255,s=8388607&e;if(r===255)return ot[0]=t<<15|31744|(s!==0?512:0),ot[0];if(r===0){if(s===0)return ot[0]=t<<15,ot[0];s|=8388608;let o=113;for(;!(8388608&s);)s<<=1,o--;return r=127-o,s&=8388607,r>0?(s=(s>>126-r)+(s>>127-r&1),ot[0]=t<<15|r<<10|s>>13,ot[0]):(ot[0]=t<<15,ot[0])}return r=r-127+15,r>=31?(ot[0]=t<<15|31744,ot[0]):r<=0?r<-10?(ot[0]=t<<15,ot[0]):(s=(8388608|s)>>1-r,ot[0]=t<<15|s>>13,ot[0]):(s>>=13,ot[0]=t<<15|r<<10|s,ot[0])}var Zp=new Uint32Array(1),ov=new Float32Array(Zp.buffer,0,1);function nv(n){let e=112+(n>>6&31)<<23|(63&n)<<17;return Zp[0]=e,ov[0]}function DM(n,e,t,r,s,o,i,a,c){let u=r*(i>>=s)*(o>>=s)+t*i+e*a;switch(c){case"r8unorm":return[oe(n,u,"8unorm",1)[0]];case"r8snorm":return[oe(n,u,"8snorm",1)[0]];case"r8uint":return[oe(n,u,"8uint",1)[0]];case"r8sint":return[oe(n,u,"8sint",1)[0]];case"rg8unorm":{let l=oe(n,u,"8unorm",2);return[l[0],l[1]]}case"rg8snorm":{let l=oe(n,u,"8snorm",2);return[l[0],l[1]]}case"rg8uint":{let l=oe(n,u,"8uint",2);return[l[0],l[1]]}case"rg8sint":{let l=oe(n,u,"8sint",2);return[l[0],l[1]]}case"rgba8unorm-srgb":case"rgba8unorm":{let l=oe(n,u,"8unorm",4);return[l[0],l[1],l[2],l[3]]}case"rgba8snorm":{let l=oe(n,u,"8snorm",4);return[l[0],l[1],l[2],l[3]]}case"rgba8uint":{let l=oe(n,u,"8uint",4);return[l[0],l[1],l[2],l[3]]}case"rgba8sint":{let l=oe(n,u,"8sint",4);return[l[0],l[1],l[2],l[3]]}case"bgra8unorm-srgb":case"bgra8unorm":{let l=oe(n,u,"8unorm",4);return[l[2],l[1],l[0],l[3]]}case"r16uint":return[oe(n,u,"16uint",1)[0]];case"r16sint":return[oe(n,u,"16sint",1)[0]];case"r16float":return[oe(n,u,"16float",1)[0]];case"rg16uint":{let l=oe(n,u,"16uint",2);return[l[0],l[1]]}case"rg16sint":{let l=oe(n,u,"16sint",2);return[l[0],l[1]]}case"rg16float":{let l=oe(n,u,"16float",2);return[l[0],l[1]]}case"rgba16uint":{let l=oe(n,u,"16uint",4);return[l[0],l[1],l[2],l[3]]}case"rgba16sint":{let l=oe(n,u,"16sint",4);return[l[0],l[1],l[2],l[3]]}case"rgba16float":{let l=oe(n,u,"16float",4);return[l[0],l[1],l[2],l[3]]}case"r32uint":return[oe(n,u,"32uint",1)[0]];case"r32sint":return[oe(n,u,"32sint",1)[0]];case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return[oe(n,u,"32float",1)[0]];case"rg32uint":{let l=oe(n,u,"32uint",2);return[l[0],l[1]]}case"rg32sint":{let l=oe(n,u,"32sint",2);return[l[0],l[1]]}case"rg32float":{let l=oe(n,u,"32float",2);return[l[0],l[1]]}case"rgba32uint":{let l=oe(n,u,"32uint",4);return[l[0],l[1],l[2],l[3]]}case"rgba32sint":{let l=oe(n,u,"32sint",4);return[l[0],l[1],l[2],l[3]]}case"rgba32float":{let l=oe(n,u,"32float",4);return[l[0],l[1],l[2],l[3]]}case"rg11b10ufloat":{let l=new Uint32Array(n.buffer,u,1)[0],f=(4192256&l)>>11,h=(4290772992&l)>>22;return[nv(2047&l),nv(f),(function(d){let p=112+(d>>5&31)<<23|(31&d)<<18;return Zp[0]=p,ov[0]})(h),1]}}return null}function oe(n,e,t,r){let s=[0,0,0,0];for(let o=0;o<r;++o)switch(t){case"8unorm":s[o]=n[e]/255,e++;break;case"8snorm":s[o]=n[e]/255*2-1,e++;break;case"8uint":s[o]=n[e],e++;break;case"8sint":s[o]=n[e]-127,e++;break;case"16uint":s[o]=n[e]|n[e+1]<<8,e+=2;break;case"16sint":s[o]=(n[e]|n[e+1]<<8)-32768,e+=2;break;case"16float":s[o]=CM(n[e]|n[e+1]<<8),e+=2;break;case"32uint":case"32sint":s[o]=n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24,e+=4;break;case"32float":s[o]=new Float32Array(n.buffer,e,1)[0],e+=4}return s}function ie(n,e,t,r,s){for(let o=0;o<r;++o)switch(t){case"8unorm":n[e]=255*s[o],e++;break;case"8snorm":n[e]=.5*(s[o]+1)*255,e++;break;case"8uint":n[e]=s[o],e++;break;case"8sint":n[e]=s[o]+127,e++;break;case"16uint":new Uint16Array(n.buffer,e,1)[0]=s[o],e+=2;break;case"16sint":new Int16Array(n.buffer,e,1)[0]=s[o],e+=2;break;case"16float":{let i=RM(s[o]);new Uint16Array(n.buffer,e,1)[0]=i,e+=2;break}case"32uint":new Uint32Array(n.buffer,e,1)[0]=s[o],e+=4;break;case"32sint":new Int32Array(n.buffer,e,1)[0]=s[o],e+=4;break;case"32float":new Float32Array(n.buffer,e,1)[0]=s[o],e+=4}return s}var Rp={r8unorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8snorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8uint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8sint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg8unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8snorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"rgba8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8snorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},bgra8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bgra8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r16uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16float:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg16uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba16uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r32uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg32uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba32uint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32sint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32float:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rg11b10ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},stencil8:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!1,hasStencil:!0,channels:1},depth16unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},depth24plus:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,depthOnlyFormat:"depth32float",channels:1},"depth24plus-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,depthOnlyFormat:"depth32float",channels:1},depth32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},"depth32float-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,stencilOnlyFormat:"depth32float",channels:1},rgb9e5ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bc1-rgba-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc1-rgba-unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc4-r-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc4-r-snorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc5-rg-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc5-rg-snorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc6h-rgb-ufloat":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc6h-rgb-float":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"eac-r11unorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-r11snorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-rg11unorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"eac-rg11snorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"astc-4x4-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-4x4-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x5-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-5x5-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x6-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-6x6-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-8x5-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x5-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x6-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x6-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x8-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-8x8-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-10x5-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x5-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x6-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x6-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x8-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x8-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x10-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-10x10-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x12-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4},"astc-12x12-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4}},rn=class n{constructor(){this.id=n._id++,this.line=0}get isAstNode(){return!0}get astNodeType(){return""}search(e){e(this)}searchBlock(e,t){if(e){t(oi.instance);for(let r of e)r instanceof Array?this.searchBlock(r,t):r.search(t);t(ii.instance)}}constEvaluate(e,t){throw new Error("Cannot evaluate node")}constEvaluateString(e){return this.constEvaluate(e).toString()}};rn._id=0;var oi=class extends rn{};oi.instance=new oi;var ii=class extends rn{};ii.instance=new ii;var iv=new Set(["all","all","any","select","arrayLength","abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","clamp","cos","cosh","countLeadingZeros","countOneBits","countTrailingZeros","cross","degrees","determinant","distance","dot","dot4U8Packed","dot4I8Packed","exp","exp2","extractBits","faceForward","firstLeadingBit","firstTrailingBit","floor","fma","fract","frexp","insertBits","inverseSqrt","ldexp","length","log","log2","max","min","mix","modf","normalize","pow","quantizeToF16","radians","reflect","refract","reverseBits","round","saturate","sign","sin","sinh","smoothStep","sqrt","step","tan","tanh","transpose","trunc","dpdx","dpdxCoarse","dpdxFine","dpdy","dpdyCoarse","dpdyFine","fwidth","fwidthCoarse","fwidthFine","textureDimensions","textureGather","textureGatherCompare","textureLoad","textureNumLayers","textureNumLevels","textureNumSamples","textureSample","textureSampleBias","textureSampleCompare","textureSampleCompareLevel","textureSampleGrad","textureSampleLevel","textureSampleBaseClampToEdge","textureStore","atomicLoad","atomicStore","atomicAdd","atomicSub","atomicMax","atomicMin","atomicAnd","atomicOr","atomicXor","atomicExchange","atomicCompareExchangeWeak","pack4x8snorm","pack4x8unorm","pack4xI8","pack4xU8","pack4x8Clamp","pack4xU8Clamp","pack2x16snorm","pack2x16unorm","pack2x16float","unpack4x8snorm","unpack4x8unorm","unpack4xI8","unpack4xU8","unpack2x16snorm","unpack2x16unorm","unpack2x16float","storageBarrier","textureBarrier","workgroupBarrier","workgroupUniformLoad","subgroupAdd","subgroupExclusiveAdd","subgroupInclusiveAdd","subgroupAll","subgroupAnd","subgroupAny","subgroupBallot","subgroupBroadcast","subgroupBroadcastFirst","subgroupElect","subgroupMax","subgroupMin","subgroupMul","subgroupExclusiveMul","subgroupInclusiveMul","subgroupOr","subgroupShuffle","subgroupShuffleDown","subgroupShuffleUp","subgroupShuffleXor","subgroupXor","quadBroadcast","quadSwapDiagonal","quadSwapX","quadSwapY"]),ge=class extends rn{constructor(){super()}},Is=class extends ge{constructor(e,t,r,s,o,i){super(),this.calls=new Set,this.name=e,this.args=t,this.returnType=r,this.body=s,this.startLine=o,this.endLine=i}get astNodeType(){return"function"}search(e){if(this.attributes)for(let t of this.attributes)e(t);e(this);for(let t of this.args)e(t);this.searchBlock(this.body,e)}},Fp=class extends ge{constructor(e){super(),this.expression=e}get astNodeType(){return"staticAssert"}search(e){this.expression.search(e)}},gl=class extends ge{constructor(e,t){super(),this.condition=e,this.body=t}get astNodeType(){return"while"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}},La=class extends ge{constructor(e,t){super(),this.body=e,this.loopId=t}get astNodeType(){return"continuing"}search(e){this.searchBlock(this.body,e)}},yl=class extends ge{constructor(e,t,r,s){super(),this.init=e,this.condition=t,this.increment=r,this.body=s}get astNodeType(){return"for"}search(e){var t,r,s;(t=this.init)===null||t===void 0||t.search(e),(r=this.condition)===null||r===void 0||r.search(e),(s=this.increment)===null||s===void 0||s.search(e),this.searchBlock(this.body,e)}},fn=class extends ge{constructor(e,t,r,s,o){super(),this.attributes=null,this.name=e,this.type=t,this.storage=r,this.access=s,this.value=o}get astNodeType(){return"var"}search(e){var t;e(this),(t=this.value)===null||t===void 0||t.search(e)}},Ga=class extends ge{constructor(e,t,r){super(),this.attributes=null,this.name=e,this.type=t,this.value=r}get astNodeType(){return"override"}search(e){var t;(t=this.value)===null||t===void 0||t.search(e)}},Vs=class extends ge{constructor(e,t,r,s,o){super(),this.attributes=null,this.name=e,this.type=t,this.storage=r,this.access=s,this.value=o}get astNodeType(){return"let"}search(e){var t;e(this),(t=this.value)===null||t===void 0||t.search(e)}},ti=class extends ge{constructor(e,t,r,s,o){super(),this.attributes=null,this.name=e,this.type=t,this.storage=r,this.access=s,this.value=o}get astNodeType(){return"const"}constEvaluate(e,t){return this.value.constEvaluate(e,t)}search(e){var t;e(this),(t=this.value)===null||t===void 0||t.search(e)}},Zo,ka,M,B;(n=>{n.increment="++",n.decrement="--"})(Zo||(Zo={})),(n=>{n.parse=function(e){let t=e;if(t=="parse")throw new Error("Invalid value for IncrementOperator");return n[t]}})(Zo||(Zo={}));var xl=class extends ge{constructor(e,t){super(),this.operator=e,this.variable=t}get astNodeType(){return"increment"}search(e){this.variable.search(e)}};(n=>{n.assign="=",n.addAssign="+=",n.subtractAssin="-=",n.multiplyAssign="*=",n.divideAssign="/=",n.moduloAssign="%=",n.andAssign="&=",n.orAssign="|=",n.xorAssign="^=",n.shiftLeftAssign="<<=",n.shiftRightAssign=">>="})(ka||(ka={})),(n=>{n.parse=function(e){let t=e;if(t=="parse")throw new Error("Invalid value for AssignOperator");return t}})(ka||(ka={}));var Al=class extends ge{constructor(e,t,r){super(),this.operator=e,this.variable=t,this.value=r}get astNodeType(){return"assign"}search(e){this.variable.search(e),this.value.search(e)}},Ua=class extends ge{constructor(e,t){super(),this.name=e,this.args=t}get astNodeType(){return"call"}isBuiltin(){return iv.has(this.name)}search(e){for(let t of this.args)t.search(e);e(this)}},bl=class extends ge{constructor(e,t){super(),this.body=e,this.continuing=t}get astNodeType(){return"loop"}search(e){var t;this.searchBlock(this.body,e),(t=this.continuing)===null||t===void 0||t.search(e)}},vl=class extends ge{constructor(e,t){super(),this.condition=e,this.cases=t}get astNodeType(){return"switch"}search(e){e(this);for(let t of this.cases)t.search(e)}},wl=class extends ge{constructor(e,t,r,s){super(),this.condition=e,this.body=t,this.elseif=r,this.else=s}get astNodeType(){return"if"}search(e){this.condition.search(e),this.searchBlock(this.body,e),this.searchBlock(this.elseif,e),this.searchBlock(this.else,e)}},_l=class extends ge{constructor(e){super(),this.value=e}get astNodeType(){return"return"}search(e){var t;(t=this.value)===null||t===void 0||t.search(e)}},Np=class extends ge{constructor(e){super(),this.name=e}get astNodeType(){return"enable"}},zp=class extends ge{constructor(e){super(),this.extensions=e}get astNodeType(){return"requires"}},Tl=class extends ge{constructor(e,t){super(),this.severity=e,this.rule=t}get astNodeType(){return"diagnostic"}},Fa=class extends ge{constructor(e,t){super(),this.name=e,this.type=t}get astNodeType(){return"alias"}},Hp=class extends ge{constructor(){super()}get astNodeType(){return"discard"}},Bl=class extends ge{constructor(){super(),this.condition=null,this.loopId=-1}get astNodeType(){return"break"}},El=class extends ge{constructor(){super(),this.loopId=-1}get astNodeType(){return"continue"}},k=class n extends ge{constructor(e){super(),this.attributes=null,this.name=e}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}static maxFormatType(e){let t=e[0];if(t.name==="f32")return t;for(let r=1;r<e.length;++r){let s=n._priority.get(t.name);n._priority.get(e[r].name)<s&&(t=e[r])}return t.name==="x32"?n.i32:t}getTypeName(){return this.name}};k.x32=new k("x32"),k.f32=new k("f32"),k.i32=new k("i32"),k.u32=new k("u32"),k.f16=new k("f16"),k.bool=new k("bool"),k.void=new k("void"),k._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);var Sl=class extends k{constructor(e){super(e)}},ln=class extends k{constructor(e,t,r,s){super(e),this.members=t,this.startLine=r,this.endLine=s}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(e){for(let t=0;t<this.members.length;t++)if(this.members[t].name==e)return t;return-1}search(e){for(let t of this.members)e(t)}},S=class extends k{constructor(e,t,r){super(e),this.format=t,this.access=r}get astNodeType(){return"template"}getTypeName(){let e=this.name;if(this.format!==null){if(e==="vec2"||e==="vec3"||e==="vec4"||e==="mat2x2"||e==="mat2x3"||e==="mat2x4"||e==="mat3x2"||e==="mat3x3"||e==="mat3x4"||e==="mat4x2"||e==="mat4x3"||e==="mat4x4"){if(this.format.name==="f32")return e+="f",e;if(this.format.name==="i32")return e+="i",e;if(this.format.name==="u32")return e+="u",e;if(this.format.name==="bool")return e+="b",e;if(this.format.name==="f16")return e+="h",e}e+=`<${this.format.name}>`}else if(e==="vec2"||e==="vec3"||e==="vec4")return e;return e}};S.vec2f=new S("vec2",k.f32,null),S.vec3f=new S("vec3",k.f32,null),S.vec4f=new S("vec4",k.f32,null),S.vec2i=new S("vec2",k.i32,null),S.vec3i=new S("vec3",k.i32,null),S.vec4i=new S("vec4",k.i32,null),S.vec2u=new S("vec2",k.u32,null),S.vec3u=new S("vec3",k.u32,null),S.vec4u=new S("vec4",k.u32,null),S.vec2h=new S("vec2",k.f16,null),S.vec3h=new S("vec3",k.f16,null),S.vec4h=new S("vec4",k.f16,null),S.vec2b=new S("vec2",k.bool,null),S.vec3b=new S("vec3",k.bool,null),S.vec4b=new S("vec4",k.bool,null),S.mat2x2f=new S("mat2x2",k.f32,null),S.mat2x3f=new S("mat2x3",k.f32,null),S.mat2x4f=new S("mat2x4",k.f32,null),S.mat3x2f=new S("mat3x2",k.f32,null),S.mat3x3f=new S("mat3x3",k.f32,null),S.mat3x4f=new S("mat3x4",k.f32,null),S.mat4x2f=new S("mat4x2",k.f32,null),S.mat4x3f=new S("mat4x3",k.f32,null),S.mat4x4f=new S("mat4x4",k.f32,null),S.mat2x2h=new S("mat2x2",k.f16,null),S.mat2x3h=new S("mat2x3",k.f16,null),S.mat2x4h=new S("mat2x4",k.f16,null),S.mat3x2h=new S("mat3x2",k.f16,null),S.mat3x3h=new S("mat3x3",k.f16,null),S.mat3x4h=new S("mat3x4",k.f16,null),S.mat4x2h=new S("mat4x2",k.f16,null),S.mat4x3h=new S("mat4x3",k.f16,null),S.mat4x4h=new S("mat4x4",k.f16,null),S.mat2x2i=new S("mat2x2",k.i32,null),S.mat2x3i=new S("mat2x3",k.i32,null),S.mat2x4i=new S("mat2x4",k.i32,null),S.mat3x2i=new S("mat3x2",k.i32,null),S.mat3x3i=new S("mat3x3",k.i32,null),S.mat3x4i=new S("mat3x4",k.i32,null),S.mat4x2i=new S("mat4x2",k.i32,null),S.mat4x3i=new S("mat4x3",k.i32,null),S.mat4x4i=new S("mat4x4",k.i32,null),S.mat2x2u=new S("mat2x2",k.u32,null),S.mat2x3u=new S("mat2x3",k.u32,null),S.mat2x4u=new S("mat2x4",k.u32,null),S.mat3x2u=new S("mat3x2",k.u32,null),S.mat3x3u=new S("mat3x3",k.u32,null),S.mat3x4u=new S("mat3x4",k.u32,null),S.mat4x2u=new S("mat4x2",k.u32,null),S.mat4x3u=new S("mat4x3",k.u32,null),S.mat4x4u=new S("mat4x4",k.u32,null);var ni=class extends k{constructor(e,t,r,s){super(e),this.storage=t,this.type=r,this.access=s}get astNodeType(){return"pointer"}},Rs=class extends k{constructor(e,t,r,s){super(e),this.attributes=t,this.format=r,this.count=s}get astNodeType(){return"array"}get isArray(){return!0}},Cs=class extends k{constructor(e,t,r){super(e),this.format=t,this.access=r}get astNodeType(){return"sampler"}},Ft=class extends rn{constructor(){super(),this.postfix=null}},rr=class extends Ft{constructor(e){super(),this.value=e}get astNodeType(){return"stringExpr"}toString(){return this.value}constEvaluateString(){return this.value}},nn=class extends Ft{constructor(e,t){super(),this.type=e,this.args=t}get astNodeType(){return"createExpr"}search(e){if(e(this),this.args)for(let t of this.args)t.search(e)}constEvaluate(e,t){return t&&(t[0]=this.type),e.evalExpression(this,e.context)}},Na=class extends Ft{constructor(e,t){super(),this.cachedReturnValue=null,this.name=e,this.args=t}get astNodeType(){return"callExpr"}setCachedReturnValue(e){this.cachedReturnValue=e}get isBuiltin(){return iv.has(this.name)}constEvaluate(e,t){return e.evalExpression(this,e.context)}search(e){for(let t of this.args)t.search(e);e(this)}},dt=class extends Ft{constructor(e){super(),this.name=e}get astNodeType(){return"varExpr"}search(e){e(this),this.postfix&&this.postfix.search(e)}constEvaluate(e,t){return e.evalExpression(this,e.context)}},Ml=class extends Ft{constructor(e,t){super(),this.name=e,this.initializer=t}get astNodeType(){return"constExpr"}constEvaluate(e,t){if(this.initializer){let r=e.evalExpression(this.initializer,e.context);return r!==null&&this.postfix?r.getSubData(e,this.postfix,e.context):r}return null}search(e){this.initializer.search(e)}},Re=class extends Ft{constructor(e,t){super(),this.value=e,this.type=t}get astNodeType(){return"literalExpr"}constEvaluate(e,t){return t!==void 0&&(t[0]=this.type),this.value}get isScalar(){return this.value instanceof E}get isVector(){return this.value instanceof b||this.value instanceof H}get scalarValue(){return this.value instanceof E?this.value.value:(console.error("Value is not scalar."),0)}get vectorValue(){return this.value instanceof b||this.value instanceof H?this.value.data:(console.error("Value is not a vector or matrix."),new Float32Array(0))}},Cl=class extends Ft{constructor(e,t){super(),this.type=e,this.value=t}get astNodeType(){return"bitcastExpr"}search(e){this.value.search(e)}};var Jr=class extends Ft{constructor(e){super(),this.index=e}search(e){this.index.search(e)}},Vl=class extends Ft{constructor(){super()}},Me=class extends Vl{constructor(e,t){super(),this.operator=e,this.right=t}get astNodeType(){return"unaryOp"}constEvaluate(e,t){return e.evalExpression(this,e.context)}search(e){this.right.search(e)}},Ut=class extends Vl{constructor(e,t,r){super(),this.operator=e,this.left=t,this.right=r}get astNodeType(){return"binaryOp"}_getPromotedType(e,t){return e.name===t.name?e:e.name==="f32"||t.name==="f32"?k.f32:e.name==="u32"||t.name==="u32"?k.u32:k.i32}constEvaluate(e,t){return e.evalExpression(this,e.context)}search(e){this.left.search(e),this.right.search(e)}},Rl=class extends rn{constructor(e){super(),this.body=e}search(e){e(this),this.searchBlock(this.body,e)}},ri=class extends Ft{constructor(){super()}get astNodeType(){return"default"}},Dl=class extends Rl{constructor(e,t){super(t),this.selectors=e}get astNodeType(){return"case"}search(e){this.searchBlock(this.body,e)}},Il=class extends Rl{constructor(e){super(e)}get astNodeType(){return"default"}search(e){this.searchBlock(this.body,e)}},kl=class extends rn{constructor(e,t,r){super(),this.name=e,this.type=t,this.attributes=r}get astNodeType(){return"argument"}},Pp=class extends rn{constructor(e,t){super(),this.condition=e,this.body=t}get astNodeType(){return"elseif"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}},Ol=class extends rn{constructor(e,t,r){super(),this.name=e,this.type=t,this.attributes=r}get astNodeType(){return"member"}},Ll=class extends rn{constructor(e,t){super(),this.name=e,this.value=t}get astNodeType(){return"attribute"}},sn=class n{constructor(e,t){this.parent=null,this.typeInfo=e,this.parent=t,this.id=n._id++}clone(){throw`Clone: Not implemented for ${this.constructor.name}`}setDataValue(e,t,r,s){console.error(`SetDataValue: Not implemented for ${this.constructor.name}`)}getSubData(e,t,r){return console.error(`GetDataValue: Not implemented for ${this.constructor.name}`),null}toString(){return`<${this.typeInfo.getTypeName()}>`}};sn._id=0;var za=class extends sn{constructor(){super(new Bt("void",null),null)}toString(){return"void"}};za.void=new za;var Kr=class extends sn{constructor(e){super(new Oa("pointer",e.typeInfo,null),null),this.reference=e}clone(){return this}setDataValue(e,t,r,s){this.reference.setDataValue(e,t,r,s)}getSubData(e,t,r){return t?this.reference.getSubData(e,t,r):this}toString(){return`&${this.reference.toString()}`}},E=class n extends sn{constructor(e,t,r=null){super(t,r),e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array?this.data=e:this.typeInfo.name==="x32"?e-Math.floor(e)!==0?this.data=new Float32Array([e]):this.data=e>=0?new Uint32Array([e]):new Int32Array([e]):this.typeInfo.name==="i32"||this.typeInfo.name==="bool"?this.data=new Int32Array([e]):this.typeInfo.name==="u32"?this.data=new Uint32Array([e]):this.typeInfo.name==="f32"||this.typeInfo.name==="f16"?this.data=new Float32Array([e]):console.error("ScalarData2: Invalid type",t)}clone(){if(this.data instanceof Float32Array)return new n(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new n(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new n(new Uint32Array(this.data),this.typeInfo,null);throw"ScalarData: Invalid data type"}get value(){return this.data[0]}set value(e){this.data[0]=e}setDataValue(e,t,r,s){if(r)return void console.error("SetDataValue: Scalar data does not support postfix",r);if(!(t instanceof n))return void console.error("SetDataValue: Invalid value",t);let o=t.data[0];this.typeInfo.name==="i32"||this.typeInfo.name==="u32"?o=Math.floor(o):this.typeInfo.name==="bool"&&(o=o?1:0),this.data[0]=o}getSubData(e,t,r){return t?(console.error("getSubData: Scalar data does not support postfix",t),null):this}toString(){return`${this.value}`}};function IM(n,e,t){let r=e.length;return r===2?t==="f32"?new b(new Float32Array(e),n.getTypeInfo("vec2f")):t==="i32"||t==="bool"?new b(new Int32Array(e),n.getTypeInfo("vec2i")):t==="u32"?new b(new Uint32Array(e),n.getTypeInfo("vec2u")):t==="f16"?new b(new Float32Array(e),n.getTypeInfo("vec2h")):(console.error(`getSubData: Unknown format ${t}`),null):r===3?t==="f32"?new b(new Float32Array(e),n.getTypeInfo("vec3f")):t==="i32"||t==="bool"?new b(new Int32Array(e),n.getTypeInfo("vec3i")):t==="u32"?new b(new Uint32Array(e),n.getTypeInfo("vec3u")):t==="f16"?new b(new Float32Array(e),n.getTypeInfo("vec3h")):(console.error(`getSubData: Unknown format ${t}`),null):r===4?t==="f32"?new b(new Float32Array(e),n.getTypeInfo("vec4f")):t==="i32"||t==="bool"?new b(new Int32Array(e),n.getTypeInfo("vec4i")):t==="u32"?new b(new Uint32Array(e),n.getTypeInfo("vec4u")):t==="f16"?new b(new Float32Array(e),n.getTypeInfo("vec4h")):(console.error(`getSubData: Unknown format ${t}`),null):(console.error(`getSubData: Invalid vector size ${e.length}`),null)}var b=class n extends sn{constructor(e,t,r=null){if(super(t,r),e instanceof Float32Array||e instanceof Uint32Array||e instanceof Int32Array)this.data=e;else{let s=this.typeInfo.name;s==="vec2f"||s==="vec3f"||s==="vec4f"?this.data=new Float32Array(e):s==="vec2i"||s==="vec3i"||s==="vec4i"?this.data=new Int32Array(e):s==="vec2u"||s==="vec3u"||s==="vec4u"?this.data=new Uint32Array(e):s==="vec2h"||s==="vec3h"||s==="vec4h"?this.data=new Float32Array(e):s==="vec2b"||s==="vec3b"||s==="vec4b"?this.data=new Int32Array(e):s==="vec2"||s==="vec3"||s==="vec4"?this.data=new Float32Array(e):console.error(`VectorData: Invalid type ${s}`)}}clone(){if(this.data instanceof Float32Array)return new n(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new n(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new n(new Uint32Array(this.data),this.typeInfo,null);throw"VectorData: Invalid data type"}setDataValue(e,t,r,s){r instanceof rr?console.error("TODO: Set vector postfix"):t instanceof n?this.data=t.data:console.error("SetDataValue: Invalid value",t)}getSubData(e,t,r){if(t===null)return this;let s=e.getTypeInfo("f32");if(this.typeInfo instanceof nr)s=this.typeInfo.format||s;else{let i=this.typeInfo.name;i==="vec2f"||i==="vec3f"||i==="vec4f"?s=e.getTypeInfo("f32"):i==="vec2i"||i==="vec3i"||i==="vec4i"?s=e.getTypeInfo("i32"):i==="vec2b"||i==="vec3b"||i==="vec4b"?s=e.getTypeInfo("bool"):i==="vec2u"||i==="vec3u"||i==="vec4u"?s=e.getTypeInfo("u32"):i==="vec2h"||i==="vec3h"||i==="vec4h"?s=e.getTypeInfo("f16"):console.error(`GetSubData: Unknown type ${i}`)}let o=this;for(;t!==null&&o!==null;){if(t instanceof Jr){let i=t.index,a=-1;if(i instanceof Re){if(!(i.value instanceof E))return console.error(`GetSubData: Invalid array index ${i.value}`),null;a=i.value.value}else{let c=e.evalExpression(i,r);if(!(c instanceof E))return console.error("GetSubData: Unknown index type",i),null;a=c.value}if(a<0||a>=o.data.length)return console.error("GetSubData: Index out of range",a),null;if(o.data instanceof Float32Array){let c=new Float32Array(o.data.buffer,o.data.byteOffset+4*a,1);return new E(c,s)}if(o.data instanceof Int32Array){let c=new Int32Array(o.data.buffer,o.data.byteOffset+4*a,1);return new E(c,s)}if(o.data instanceof Uint32Array){let c=new Uint32Array(o.data.buffer,o.data.byteOffset+4*a,1);return new E(c,s)}throw"GetSubData: Invalid data type"}if(!(t instanceof rr))return console.error("GetSubData: Unknown postfix",t),null;{let i=t.value.toLowerCase();if(i.length===1){let c=0;if(i==="x"||i==="r")c=0;else if(i==="y"||i==="g")c=1;else if(i==="z"||i==="b")c=2;else{if(i!=="w"&&i!=="a")return console.error(`GetSubData: Unknown member ${i}`),null;c=3}if(this.data instanceof Float32Array){let u=new Float32Array(this.data.buffer,this.data.byteOffset+4*c,1);return new E(u,s,this)}if(this.data instanceof Int32Array){let u=new Int32Array(this.data.buffer,this.data.byteOffset+4*c,1);return new E(u,s,this)}if(this.data instanceof Uint32Array){let u=new Uint32Array(this.data.buffer,this.data.byteOffset+4*c,1);return new E(u,s,this)}}let a=[];for(let c of i)c==="x"||c==="r"?a.push(this.data[0]):c==="y"||c==="g"?a.push(this.data[1]):c==="z"||c==="b"?a.push(this.data[2]):c==="w"||c==="a"?a.push(this.data[3]):console.error(`GetDataValue: Unknown member ${c}`);o=IM(e,a,s.name)}t=t.postfix}return o}toString(){let e=`${this.data[0]}`;for(let t=1;t<this.data.length;++t)e+=`, ${this.data[t]}`;return e}},H=class n extends sn{constructor(e,t,r=null){super(t,r),e instanceof Float32Array?this.data=e:this.data=new Float32Array(e)}clone(){return new n(new Float32Array(this.data),this.typeInfo,null)}setDataValue(e,t,r,s){r instanceof rr?console.error("TODO: Set matrix postfix"):t instanceof n?this.data=t.data:console.error("SetDataValue: Invalid value",t)}getSubData(e,t,r){if(t===null)return this;let s=this.typeInfo.name;if(e.getTypeInfo("f32"),this.typeInfo instanceof nr)this.typeInfo.format;else if(s.endsWith("f"))e.getTypeInfo("f32");else if(s.endsWith("i"))e.getTypeInfo("i32");else if(s.endsWith("u"))e.getTypeInfo("u32");else{if(!s.endsWith("h"))return console.error(`GetDataValue: Unknown type ${s}`),null;e.getTypeInfo("f16")}if(t instanceof Jr){let o=t.index,i=-1;if(o instanceof Re){if(!(o.value instanceof E))return console.error(`GetDataValue: Invalid array index ${o.value}`),null;i=o.value.value}else{let u=e.evalExpression(o,r);if(!(u instanceof E))return console.error("GetDataValue: Unknown index type",o),null;i=u.value}if(i<0||i>=this.data.length)return console.error("GetDataValue: Index out of range",i),null;let a=s.endsWith("h")?"h":"f",c;if(s==="mat2x2"||s==="mat2x2f"||s==="mat2x2h"||s==="mat3x2"||s==="mat3x2f"||s==="mat3x2h"||s==="mat4x2"||s==="mat4x2f"||s==="mat4x2h")c=new b(new Float32Array(this.data.buffer,this.data.byteOffset+2*i*4,2),e.getTypeInfo(`vec2${a}`));else if(s==="mat2x3"||s==="mat2x3f"||s==="mat2x3h"||s==="mat3x3"||s==="mat3x3f"||s==="mat3x3h"||s==="mat4x3"||s==="mat4x3f"||s==="mat4x3h")c=new b(new Float32Array(this.data.buffer,this.data.byteOffset+3*i*4,3),e.getTypeInfo(`vec3${a}`));else{if(s!=="mat2x4"&&s!=="mat2x4f"&&s!=="mat2x4h"&&s!=="mat3x4"&&s!=="mat3x4f"&&s!=="mat3x4h"&&s!=="mat4x4"&&s!=="mat4x4f"&&s!=="mat4x4h")return console.error(`GetDataValue: Unknown type ${s}`),null;c=new b(new Float32Array(this.data.buffer,this.data.byteOffset+4*i*4,4),e.getTypeInfo(`vec4${a}`))}return t.postfix?c.getSubData(e,t.postfix,r):c}return console.error("GetDataValue: Invalid postfix",t),null}toString(){let e=`${this.data[0]}`;for(let t=1;t<this.data.length;++t)e+=`, ${this.data[t]}`;return e}},Ge=class n extends sn{constructor(e,t,r=0,s=null){super(t,s),this.buffer=e instanceof ArrayBuffer?e:e.buffer,this.offset=r}clone(){let e=new Uint8Array(new Uint8Array(this.buffer,this.offset,this.typeInfo.size));return new n(e.buffer,this.typeInfo,0,null)}setDataValue(e,t,r,s){if(t===null)return void console.log("setDataValue: NULL data.");let o=this.offset,i=this.typeInfo;for(;r;){if(r instanceof Jr)if(i instanceof Mn){let a=r.index;if(a instanceof Re){if(!(a.value instanceof E))return void console.error(`SetDataValue: Invalid index type ${a.value}`);o+=a.value.value*i.stride}else{let c=e.evalExpression(a,s);if(!(c instanceof E))return void console.error("SetDataValue: Unknown index type",a);o+=c.value*i.stride}i=i.format}else console.error(`SetDataValue: Type ${i.getTypeName()} is not an array`);else{if(!(r instanceof rr))return void console.error("SetDataValue: Unknown postfix type",r);{let a=r.value;if(i instanceof Sn){let c=!1;for(let u of i.members)if(u.name===a){o+=u.offset,i=u.type,c=!0;break}if(!c)return void console.error(`SetDataValue: Member ${a} not found`)}else if(i instanceof Bt){let c=i.getTypeName(),u=0;if(a==="x"||a==="r")u=0;else if(a==="y"||a==="g")u=1;else if(a==="z"||a==="b")u=2;else{if(a!=="w"&&a!=="a")return void console.error(`SetDataValue: Unknown member ${a}`);u=3}if(!(t instanceof E))return void console.error("SetDataValue: Invalid value",t);let l=t.value;return c==="vec2f"?void(new Float32Array(this.buffer,o,2)[u]=l):c==="vec3f"?void(new Float32Array(this.buffer,o,3)[u]=l):c==="vec4f"?void(new Float32Array(this.buffer,o,4)[u]=l):c==="vec2i"?void(new Int32Array(this.buffer,o,2)[u]=l):c==="vec3i"?void(new Int32Array(this.buffer,o,3)[u]=l):c==="vec4i"?void(new Int32Array(this.buffer,o,4)[u]=l):c==="vec2u"?void(new Uint32Array(this.buffer,o,2)[u]=l):c==="vec3u"?void(new Uint32Array(this.buffer,o,3)[u]=l):c==="vec4u"?void(new Uint32Array(this.buffer,o,4)[u]=l):void console.error(`SetDataValue: Type ${c} is not a struct`)}}}r=r.postfix}this.setData(e,t,i,o,s)}setData(e,t,r,s,o){let i=r.getTypeName();if(i!=="f32"&&i!=="f16")if(i!=="i32"&&i!=="atomic<i32>"&&i!=="x32")if(i!=="u32"&&i!=="atomic<u32>")if(i!=="bool"){if(i==="vec2f"||i==="vec2h"){let a=new Float32Array(this.buffer,s,2);return void(t instanceof b?(a[0]=t.data[0],a[1]=t.data[1]):(a[0]=t[0],a[1]=t[1]))}if(i==="vec3f"||i==="vec3h"){let a=new Float32Array(this.buffer,s,3);return void(t instanceof b?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2]):(a[0]=t[0],a[1]=t[1],a[2]=t[2]))}if(i==="vec4f"||i==="vec4h"){let a=new Float32Array(this.buffer,s,4);return void(t instanceof b?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2],a[3]=t.data[3]):(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3]))}if(i==="vec2i"){let a=new Int32Array(this.buffer,s,2);return void(t instanceof b?(a[0]=t.data[0],a[1]=t.data[1]):(a[0]=t[0],a[1]=t[1]))}if(i==="vec3i"){let a=new Int32Array(this.buffer,s,3);return void(t instanceof b?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2]):(a[0]=t[0],a[1]=t[1],a[2]=t[2]))}if(i==="vec4i"){let a=new Int32Array(this.buffer,s,4);return void(t instanceof b?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2],a[3]=t.data[3]):(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3]))}if(i==="vec2u"){let a=new Uint32Array(this.buffer,s,2);return void(t instanceof b?(a[0]=t.data[0],a[1]=t.data[1]):(a[0]=t[0],a[1]=t[1]))}if(i==="vec3u"){let a=new Uint32Array(this.buffer,s,3);return void(t instanceof b?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2]):(a[0]=t[0],a[1]=t[1],a[2]=t[2]))}if(i==="vec4u"){let a=new Uint32Array(this.buffer,s,4);return void(t instanceof b?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2],a[3]=t.data[3]):(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3]))}if(i==="vec2b"){let a=new Uint32Array(this.buffer,s,2);return void(t instanceof b?(a[0]=t.data[0],a[1]=t.data[1]):(a[0]=t[0],a[1]=t[1]))}if(i==="vec3b"){let a=new Uint32Array(this.buffer,s,3);return void(t instanceof b?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2]):(a[0]=t[0],a[1]=t[1],a[2]=t[2]))}if(i==="vec4b"){let a=new Uint32Array(this.buffer,s,4);return void(t instanceof b?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2],a[3]=t.data[3]):(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3]))}if(i==="mat2x2f"||i==="mat2x2h"){let a=new Float32Array(this.buffer,s,4);return void(t instanceof H?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2],a[3]=t.data[3]):(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3]))}if(i==="mat2x3f"||i==="mat2x3h"){let a=new Float32Array(this.buffer,s,6);return void(t instanceof H?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2],a[3]=t.data[3],a[4]=t.data[4],a[5]=t.data[5]):(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5]))}if(i==="mat2x4f"||i==="mat2x4h"){let a=new Float32Array(this.buffer,s,8);return void(t instanceof H?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2],a[3]=t.data[3],a[4]=t.data[4],a[5]=t.data[5],a[6]=t.data[6],a[7]=t.data[7]):(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7]))}if(i==="mat3x2f"||i==="mat3x2h"){let a=new Float32Array(this.buffer,s,6);return void(t instanceof H?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2],a[3]=t.data[3],a[4]=t.data[4],a[5]=t.data[5]):(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5]))}if(i==="mat3x3f"||i==="mat3x3h"){let a=new Float32Array(this.buffer,s,9);return void(t instanceof H?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2],a[3]=t.data[3],a[4]=t.data[4],a[5]=t.data[5],a[6]=t.data[6],a[7]=t.data[7],a[8]=t.data[8]):(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8]))}if(i==="mat3x4f"||i==="mat3x4h"){let a=new Float32Array(this.buffer,s,12);return void(t instanceof H?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2],a[3]=t.data[3],a[4]=t.data[4],a[5]=t.data[5],a[6]=t.data[6],a[7]=t.data[7],a[8]=t.data[8],a[9]=t.data[9],a[10]=t.data[10],a[11]=t.data[11]):(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11]))}if(i==="mat4x2f"||i==="mat4x2h"){let a=new Float32Array(this.buffer,s,8);return void(t instanceof H?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2],a[3]=t.data[3],a[4]=t.data[4],a[5]=t.data[5],a[6]=t.data[6],a[7]=t.data[7]):(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7]))}if(i==="mat4x3f"||i==="mat4x3h"){let a=new Float32Array(this.buffer,s,12);return void(t instanceof H?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2],a[3]=t.data[3],a[4]=t.data[4],a[5]=t.data[5],a[6]=t.data[6],a[7]=t.data[7],a[8]=t.data[8],a[9]=t.data[9],a[10]=t.data[10],a[11]=t.data[11]):(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11]))}if(i==="mat4x4f"||i==="mat4x4h"){let a=new Float32Array(this.buffer,s,16);return void(t instanceof H?(a[0]=t.data[0],a[1]=t.data[1],a[2]=t.data[2],a[3]=t.data[3],a[4]=t.data[4],a[5]=t.data[5],a[6]=t.data[6],a[7]=t.data[7],a[8]=t.data[8],a[9]=t.data[9],a[10]=t.data[10],a[11]=t.data[11],a[12]=t.data[12],a[13]=t.data[13],a[14]=t.data[14],a[15]=t.data[15]):(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]))}if(t instanceof n){if(r===t.typeInfo)return void new Uint8Array(this.buffer,s,t.buffer.byteLength).set(new Uint8Array(t.buffer));console.error("SetDataValue: Type mismatch",i,t.typeInfo.getTypeName())}else console.error(`SetData: Unknown type ${i}`)}else t instanceof E&&(new Int32Array(this.buffer,s,1)[0]=t.value);else t instanceof E&&(new Uint32Array(this.buffer,s,1)[0]=t.value);else t instanceof E&&(new Int32Array(this.buffer,s,1)[0]=t.value);else t instanceof E&&(new Float32Array(this.buffer,s,1)[0]=t.value)}getSubData(e,t,r){var s,o,i;if(t===null)return this;let a=this.offset,c=this.typeInfo;for(;t;){if(t instanceof Jr){let l=t.index,f=l instanceof Ft?e.evalExpression(l,r):l,h=0;if(f instanceof E?h=f.value:typeof f=="number"?h=f:console.error("GetDataValue: Invalid index type",l),c instanceof Mn)a+=h*c.stride,c=c.format;else{let d=c.getTypeName();d==="mat4x4"||d==="mat4x4f"||d==="mat4x4h"?(a+=16*h,c=e.getTypeInfo("vec4f")):console.error(`getDataValue: Type ${c.getTypeName()} is not an array`)}}else{if(!(t instanceof rr))return console.error("GetDataValue: Unknown postfix type",t),null;{let l=t.value;if(c instanceof Sn){let f=!1;for(let h of c.members)if(h.name===l){a+=h.offset,c=h.type,f=!0;break}if(!f)return console.error(`GetDataValue: Member ${l} not found`),null}else if(c instanceof Bt){let f=c.getTypeName();if(f==="vec2f"||f==="vec3f"||f==="vec4f"||f==="vec2i"||f==="vec3i"||f==="vec4i"||f==="vec2u"||f==="vec3u"||f==="vec4u"||f==="vec2b"||f==="vec3b"||f==="vec4b"||f==="vec2h"||f==="vec3h"||f==="vec4h"||f==="vec2"||f==="vec3"||f==="vec4"){if(l.length>0&&l.length<5){let h="f",d=[];for(let p=0;p<l.length;++p){let A=l[p].toLowerCase(),_=0;if(A==="x"||A==="r")_=0;else if(A==="y"||A==="g")_=1;else if(A==="z"||A==="b")_=2;else{if(A!=="w"&&A!=="a")return console.error(`Unknown member ${l}`),null;_=3}if(l.length===1){if(f.endsWith("f"))return this.buffer.byteLength<a+4*_+4?(console.log("Insufficient buffer data"),null):new E(new Float32Array(this.buffer,a+4*_,1),e.getTypeInfo("f32"),this);if(f.endsWith("h"))return new E(new Float32Array(this.buffer,a+4*_,1),e.getTypeInfo("f16"),this);if(f.endsWith("i"))return new E(new Int32Array(this.buffer,a+4*_,1),e.getTypeInfo("i32"),this);if(f.endsWith("b"))return new E(new Int32Array(this.buffer,a+4*_,1),e.getTypeInfo("bool"),this);if(f.endsWith("u"))return new E(new Uint32Array(this.buffer,a+4*_,1),e.getTypeInfo("i32"),this)}if(f==="vec2f")d.push(new Float32Array(this.buffer,a,2)[_]);else if(f==="vec3f"){if(a+12>=this.buffer.byteLength)return console.log("Insufficient buffer data"),null;let m=new Float32Array(this.buffer,a,3);d.push(m[_])}else if(f==="vec4f")d.push(new Float32Array(this.buffer,a,4)[_]);else if(f==="vec2i")h="i",d.push(new Int32Array(this.buffer,a,2)[_]);else if(f==="vec3i")h="i",d.push(new Int32Array(this.buffer,a,3)[_]);else if(f==="vec4i")h="i",d.push(new Int32Array(this.buffer,a,4)[_]);else if(f==="vec2u"){h="u";let m=new Uint32Array(this.buffer,a,2);d.push(m[_])}else f==="vec3u"?(h="u",d.push(new Uint32Array(this.buffer,a,3)[_])):f==="vec4u"&&(h="u",d.push(new Uint32Array(this.buffer,a,4)[_]))}return d.length===2?c=e.getTypeInfo(`vec2${h}`):d.length===3?c=e.getTypeInfo(`vec3${h}`):d.length===4?c=e.getTypeInfo(`vec4${h}`):console.error(`GetDataValue: Invalid vector length ${d.length}`),new b(d,c,null)}return console.error(`GetDataValue: Unknown member ${l}`),null}return console.error(`GetDataValue: Type ${f} is not a struct`),null}}}t=t.postfix}let u=c.getTypeName();return u==="f32"?new E(new Float32Array(this.buffer,a,1),c,this):u==="i32"?new E(new Int32Array(this.buffer,a,1),c,this):u==="u32"?new E(new Uint32Array(this.buffer,a,1),c,this):u==="vec2f"?new b(new Float32Array(this.buffer,a,2),c,this):u==="vec3f"?new b(new Float32Array(this.buffer,a,3),c,this):u==="vec4f"?new b(new Float32Array(this.buffer,a,4),c,this):u==="vec2i"?new b(new Int32Array(this.buffer,a,2),c,this):u==="vec3i"?new b(new Int32Array(this.buffer,a,3),c,this):u==="vec4i"?new b(new Int32Array(this.buffer,a,4),c,this):u==="vec2u"?new b(new Uint32Array(this.buffer,a,2),c,this):u==="vec3u"?new b(new Uint32Array(this.buffer,a,3),c,this):u==="vec4u"?new b(new Uint32Array(this.buffer,a,4),c,this):c instanceof nr&&c.name==="atomic"?((s=c.format)===null||s===void 0?void 0:s.name)==="u32"?new E(new Uint32Array(this.buffer,a,1)[0],c.format,this):((o=c.format)===null||o===void 0?void 0:o.name)==="i32"?new E(new Int32Array(this.buffer,a,1)[0],c.format,this):(console.error(`GetDataValue: Invalid atomic format ${(i=c.format)===null||i===void 0?void 0:i.name}`),null):new n(this.buffer,c,a,this)}toString(){let e="";if(this.typeInfo instanceof Mn)if(this.typeInfo.format.name==="f32"){let t=new Float32Array(this.buffer,this.offset);e=`[${t[0]}`;for(let r=1;r<t.length;++r)e+=`, ${t[r]}`}else if(this.typeInfo.format.name==="i32"){let t=new Int32Array(this.buffer,this.offset);e=`[${t[0]}`;for(let r=1;r<t.length;++r)e+=`, ${t[r]}`}else if(this.typeInfo.format.name==="u32"){let t=new Uint32Array(this.buffer,this.offset);e=`[${t[0]}`;for(let r=1;r<t.length;++r)e+=`, ${t[r]}`}else if(this.typeInfo.format.name==="vec2f"){let t=new Float32Array(this.buffer,this.offset);e=`[${t[0]}, ${t[1]}]`;for(let r=1;r<t.length/2;++r)e+=`, [${t[2*r]}, ${t[2*r+1]}]`}else if(this.typeInfo.format.name==="vec3f"){let t=new Float32Array(this.buffer,this.offset);e=`[${t[0]}, ${t[1]}, ${t[2]}]`;for(let r=4;r<t.length;r+=4)e+=`, [${t[r]}, ${t[r+1]}, ${t[r+2]}]`}else if(this.typeInfo.format.name==="vec4f"){let t=new Float32Array(this.buffer,this.offset);e=`[${t[0]}, ${t[1]}, ${t[2]}, ${t[3]}]`;for(let r=4;r<t.length;r+=4)e+=`, [${t[r]}, ${t[r+1]}, ${t[r+2]}, ${t[r+3]}]`}else e="[...]";else this.typeInfo instanceof Sn?e+="{...}":e="[...]";return e}},tr=class n extends sn{constructor(e,t,r,s){super(t,null),this.data=e,this.descriptor=r,this.view=s}clone(){return new n(this.data,this.typeInfo,this.descriptor,this.view)}get width(){var e,t;let r=this.descriptor.size;return r instanceof Array&&r.length>0?(e=r[0])!==null&&e!==void 0?e:0:r instanceof Object&&(t=r.width)!==null&&t!==void 0?t:0}get height(){var e,t;let r=this.descriptor.size;return r instanceof Array&&r.length>1?(e=r[1])!==null&&e!==void 0?e:0:r instanceof Object&&(t=r.height)!==null&&t!==void 0?t:0}get depthOrArrayLayers(){var e,t;let r=this.descriptor.size;return r instanceof Array&&r.length>2?(e=r[2])!==null&&e!==void 0?e:0:r instanceof Object&&(t=r.depthOrArrayLayers)!==null&&t!==void 0?t:0}get format(){var e;return this.descriptor&&(e=this.descriptor.format)!==null&&e!==void 0?e:"rgba8unorm"}get sampleCount(){var e;return this.descriptor&&(e=this.descriptor.sampleCount)!==null&&e!==void 0?e:1}get mipLevelCount(){var e;return this.descriptor&&(e=this.descriptor.mipLevelCount)!==null&&e!==void 0?e:1}get dimension(){var e;return this.descriptor&&(e=this.descriptor.dimension)!==null&&e!==void 0?e:"2d"}getMipLevelSize(e){if(e>=this.mipLevelCount)return[0,0,0];let t=[this.width,this.height,this.depthOrArrayLayers];for(let r=0;r<t.length;++r)t[r]=Math.max(1,t[r]>>e);return t}get texelByteSize(){let e=this.format,t=Rp[e];return t?t.isDepthStencil?4:t.bytesPerBlock:0}get bytesPerRow(){return this.width*this.texelByteSize}get isDepthStencil(){let e=this.format,t=Rp[e];return!!t&&t.isDepthStencil}getGpuSize(){let e=this.format,t=Rp[e],r=this.width;if(!e||r<=0||!t)return-1;let s=this.height,o=this.depthOrArrayLayers,i=this.dimension;return r/t.blockWidth*(i==="1d"?1:s/t.blockHeight)*t.bytesPerBlock*o}getPixel(e,t,r=0,s=0){let o=this.texelByteSize,i=this.bytesPerRow,a=this.height,c=this.data[s];return DM(new Uint8Array(c),e,t,r,s,a,i,o,this.format)}setPixel(e,t,r,s,o){let i=this.texelByteSize,a=this.bytesPerRow,c=this.height,u=this.data[s];(function(l,f,h,d,p,A,_,m,g,y){let v=d*(_>>=p)*(A>>=p)+h*_+f*m;switch(g){case"r8unorm":return void ie(l,v,"8unorm",1,y);case"r8snorm":return void ie(l,v,"8snorm",1,y);case"r8uint":return void ie(l,v,"8uint",1,y);case"r8sint":return void ie(l,v,"8sint",1,y);case"rg8unorm":return void ie(l,v,"8unorm",2,y);case"rg8snorm":return void ie(l,v,"8snorm",2,y);case"rg8uint":return void ie(l,v,"8uint",2,y);case"rg8sint":return void ie(l,v,"8sint",2,y);case"rgba8unorm-srgb":case"rgba8unorm":case"bgra8unorm-srgb":case"bgra8unorm":return void ie(l,v,"8unorm",4,y);case"rgba8snorm":return void ie(l,v,"8snorm",4,y);case"rgba8uint":return void ie(l,v,"8uint",4,y);case"rgba8sint":return void ie(l,v,"8sint",4,y);case"r16uint":return void ie(l,v,"16uint",1,y);case"r16sint":return void ie(l,v,"16sint",1,y);case"r16float":return void ie(l,v,"16float",1,y);case"rg16uint":return void ie(l,v,"16uint",2,y);case"rg16sint":return void ie(l,v,"16sint",2,y);case"rg16float":return void ie(l,v,"16float",2,y);case"rgba16uint":return void ie(l,v,"16uint",4,y);case"rgba16sint":return void ie(l,v,"16sint",4,y);case"rgba16float":return void ie(l,v,"16float",4,y);case"r32uint":return void ie(l,v,"32uint",1,y);case"r32sint":return void ie(l,v,"32sint",1,y);case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return void ie(l,v,"32float",1,y);case"rg32uint":return void ie(l,v,"32uint",2,y);case"rg32sint":return void ie(l,v,"32sint",2,y);case"rg32float":return void ie(l,v,"32float",2,y);case"rgba32uint":return void ie(l,v,"32uint",4,y);case"rgba32sint":return void ie(l,v,"32sint",4,y);case"rgba32float":return void ie(l,v,"32float",4,y);case"rg11b10ufloat":console.error("TODO: rg11b10ufloat not supported for writing")}})(new Uint8Array(u),e,t,r,s,c,a,i,this.format,o)}};(n=>{n[n.token=0]="token",n[n.keyword=1]="keyword",n[n.reserved=2]="reserved"})(B||(B={}));var T=class{constructor(e,t,r){this.name=e,this.type=t,this.rule=r}toString(){return this.name}},x=class{};M=x,x.none=new T("",B.reserved,""),x.eof=new T("EOF",B.token,""),x.reserved={asm:new T("asm",B.reserved,"asm"),bf16:new T("bf16",B.reserved,"bf16"),do:new T("do",B.reserved,"do"),enum:new T("enum",B.reserved,"enum"),f16:new T("f16",B.reserved,"f16"),f64:new T("f64",B.reserved,"f64"),handle:new T("handle",B.reserved,"handle"),i8:new T("i8",B.reserved,"i8"),i16:new T("i16",B.reserved,"i16"),i64:new T("i64",B.reserved,"i64"),mat:new T("mat",B.reserved,"mat"),premerge:new T("premerge",B.reserved,"premerge"),regardless:new T("regardless",B.reserved,"regardless"),typedef:new T("typedef",B.reserved,"typedef"),u8:new T("u8",B.reserved,"u8"),u16:new T("u16",B.reserved,"u16"),u64:new T("u64",B.reserved,"u64"),unless:new T("unless",B.reserved,"unless"),using:new T("using",B.reserved,"using"),vec:new T("vec",B.reserved,"vec"),void:new T("void",B.reserved,"void")},x.keywords={array:new T("array",B.keyword,"array"),atomic:new T("atomic",B.keyword,"atomic"),bool:new T("bool",B.keyword,"bool"),f32:new T("f32",B.keyword,"f32"),i32:new T("i32",B.keyword,"i32"),mat2x2:new T("mat2x2",B.keyword,"mat2x2"),mat2x3:new T("mat2x3",B.keyword,"mat2x3"),mat2x4:new T("mat2x4",B.keyword,"mat2x4"),mat3x2:new T("mat3x2",B.keyword,"mat3x2"),mat3x3:new T("mat3x3",B.keyword,"mat3x3"),mat3x4:new T("mat3x4",B.keyword,"mat3x4"),mat4x2:new T("mat4x2",B.keyword,"mat4x2"),mat4x3:new T("mat4x3",B.keyword,"mat4x3"),mat4x4:new T("mat4x4",B.keyword,"mat4x4"),ptr:new T("ptr",B.keyword,"ptr"),sampler:new T("sampler",B.keyword,"sampler"),sampler_comparison:new T("sampler_comparison",B.keyword,"sampler_comparison"),struct:new T("struct",B.keyword,"struct"),texture_1d:new T("texture_1d",B.keyword,"texture_1d"),texture_2d:new T("texture_2d",B.keyword,"texture_2d"),texture_2d_array:new T("texture_2d_array",B.keyword,"texture_2d_array"),texture_3d:new T("texture_3d",B.keyword,"texture_3d"),texture_cube:new T("texture_cube",B.keyword,"texture_cube"),texture_cube_array:new T("texture_cube_array",B.keyword,"texture_cube_array"),texture_multisampled_2d:new T("texture_multisampled_2d",B.keyword,"texture_multisampled_2d"),texture_storage_1d:new T("texture_storage_1d",B.keyword,"texture_storage_1d"),texture_storage_2d:new T("texture_storage_2d",B.keyword,"texture_storage_2d"),texture_storage_2d_array:new T("texture_storage_2d_array",B.keyword,"texture_storage_2d_array"),texture_storage_3d:new T("texture_storage_3d",B.keyword,"texture_storage_3d"),texture_depth_2d:new T("texture_depth_2d",B.keyword,"texture_depth_2d"),texture_depth_2d_array:new T("texture_depth_2d_array",B.keyword,"texture_depth_2d_array"),texture_depth_cube:new T("texture_depth_cube",B.keyword,"texture_depth_cube"),texture_depth_cube_array:new T("texture_depth_cube_array",B.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new T("texture_depth_multisampled_2d",B.keyword,"texture_depth_multisampled_2d"),texture_external:new T("texture_external",B.keyword,"texture_external"),u32:new T("u32",B.keyword,"u32"),vec2:new T("vec2",B.keyword,"vec2"),vec3:new T("vec3",B.keyword,"vec3"),vec4:new T("vec4",B.keyword,"vec4"),bitcast:new T("bitcast",B.keyword,"bitcast"),block:new T("block",B.keyword,"block"),break:new T("break",B.keyword,"break"),case:new T("case",B.keyword,"case"),continue:new T("continue",B.keyword,"continue"),continuing:new T("continuing",B.keyword,"continuing"),default:new T("default",B.keyword,"default"),diagnostic:new T("diagnostic",B.keyword,"diagnostic"),discard:new T("discard",B.keyword,"discard"),else:new T("else",B.keyword,"else"),enable:new T("enable",B.keyword,"enable"),fallthrough:new T("fallthrough",B.keyword,"fallthrough"),false:new T("false",B.keyword,"false"),fn:new T("fn",B.keyword,"fn"),for:new T("for",B.keyword,"for"),function:new T("function",B.keyword,"function"),if:new T("if",B.keyword,"if"),let:new T("let",B.keyword,"let"),const:new T("const",B.keyword,"const"),loop:new T("loop",B.keyword,"loop"),while:new T("while",B.keyword,"while"),private:new T("private",B.keyword,"private"),read:new T("read",B.keyword,"read"),read_write:new T("read_write",B.keyword,"read_write"),return:new T("return",B.keyword,"return"),requires:new T("requires",B.keyword,"requires"),storage:new T("storage",B.keyword,"storage"),switch:new T("switch",B.keyword,"switch"),true:new T("true",B.keyword,"true"),alias:new T("alias",B.keyword,"alias"),type:new T("type",B.keyword,"type"),uniform:new T("uniform",B.keyword,"uniform"),var:new T("var",B.keyword,"var"),override:new T("override",B.keyword,"override"),workgroup:new T("workgroup",B.keyword,"workgroup"),write:new T("write",B.keyword,"write"),r8unorm:new T("r8unorm",B.keyword,"r8unorm"),r8snorm:new T("r8snorm",B.keyword,"r8snorm"),r8uint:new T("r8uint",B.keyword,"r8uint"),r8sint:new T("r8sint",B.keyword,"r8sint"),r16uint:new T("r16uint",B.keyword,"r16uint"),r16sint:new T("r16sint",B.keyword,"r16sint"),r16float:new T("r16float",B.keyword,"r16float"),rg8unorm:new T("rg8unorm",B.keyword,"rg8unorm"),rg8snorm:new T("rg8snorm",B.keyword,"rg8snorm"),rg8uint:new T("rg8uint",B.keyword,"rg8uint"),rg8sint:new T("rg8sint",B.keyword,"rg8sint"),r32uint:new T("r32uint",B.keyword,"r32uint"),r32sint:new T("r32sint",B.keyword,"r32sint"),r32float:new T("r32float",B.keyword,"r32float"),rg16uint:new T("rg16uint",B.keyword,"rg16uint"),rg16sint:new T("rg16sint",B.keyword,"rg16sint"),rg16float:new T("rg16float",B.keyword,"rg16float"),rgba8unorm:new T("rgba8unorm",B.keyword,"rgba8unorm"),rgba8unorm_srgb:new T("rgba8unorm_srgb",B.keyword,"rgba8unorm_srgb"),rgba8snorm:new T("rgba8snorm",B.keyword,"rgba8snorm"),rgba8uint:new T("rgba8uint",B.keyword,"rgba8uint"),rgba8sint:new T("rgba8sint",B.keyword,"rgba8sint"),bgra8unorm:new T("bgra8unorm",B.keyword,"bgra8unorm"),bgra8unorm_srgb:new T("bgra8unorm_srgb",B.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new T("rgb10a2unorm",B.keyword,"rgb10a2unorm"),rg11b10float:new T("rg11b10float",B.keyword,"rg11b10float"),rg32uint:new T("rg32uint",B.keyword,"rg32uint"),rg32sint:new T("rg32sint",B.keyword,"rg32sint"),rg32float:new T("rg32float",B.keyword,"rg32float"),rgba16uint:new T("rgba16uint",B.keyword,"rgba16uint"),rgba16sint:new T("rgba16sint",B.keyword,"rgba16sint"),rgba16float:new T("rgba16float",B.keyword,"rgba16float"),rgba32uint:new T("rgba32uint",B.keyword,"rgba32uint"),rgba32sint:new T("rgba32sint",B.keyword,"rgba32sint"),rgba32float:new T("rgba32float",B.keyword,"rgba32float"),static_assert:new T("static_assert",B.keyword,"static_assert")},x.tokens={decimal_float_literal:new T("decimal_float_literal",B.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?[fh]?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+[fh]?)|(-?[0-9]+[fh])/),hex_float_literal:new T("hex_float_literal",B.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+[fh]?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+[fh]?))/),int_literal:new T("int_literal",B.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new T("uint_literal",B.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),name:new T("name",B.token,/([_\p{XID_Start}][\p{XID_Continue}]+)|([\p{XID_Start}])/u),ident:new T("ident",B.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new T("and",B.token,"&"),and_and:new T("and_and",B.token,"&&"),arrow:new T("arrow ",B.token,"->"),attr:new T("attr",B.token,"@"),forward_slash:new T("forward_slash",B.token,"/"),bang:new T("bang",B.token,"!"),bracket_left:new T("bracket_left",B.token,"["),bracket_right:new T("bracket_right",B.token,"]"),brace_left:new T("brace_left",B.token,"{"),brace_right:new T("brace_right",B.token,"}"),colon:new T("colon",B.token,":"),comma:new T("comma",B.token,","),equal:new T("equal",B.token,"="),equal_equal:new T("equal_equal",B.token,"=="),not_equal:new T("not_equal",B.token,"!="),greater_than:new T("greater_than",B.token,">"),greater_than_equal:new T("greater_than_equal",B.token,">="),shift_right:new T("shift_right",B.token,">>"),less_than:new T("less_than",B.token,"<"),less_than_equal:new T("less_than_equal",B.token,"<="),shift_left:new T("shift_left",B.token,"<<"),modulo:new T("modulo",B.token,"%"),minus:new T("minus",B.token,"-"),minus_minus:new T("minus_minus",B.token,"--"),period:new T("period",B.token,"."),plus:new T("plus",B.token,"+"),plus_plus:new T("plus_plus",B.token,"++"),or:new T("or",B.token,"|"),or_or:new T("or_or",B.token,"||"),paren_left:new T("paren_left",B.token,"("),paren_right:new T("paren_right",B.token,")"),semicolon:new T("semicolon",B.token,";"),star:new T("star",B.token,"*"),tilde:new T("tilde",B.token,"~"),underscore:new T("underscore",B.token,"_"),xor:new T("xor",B.token,"^"),plus_equal:new T("plus_equal",B.token,"+="),minus_equal:new T("minus_equal",B.token,"-="),times_equal:new T("times_equal",B.token,"*="),division_equal:new T("division_equal",B.token,"/="),modulo_equal:new T("modulo_equal",B.token,"%="),and_equal:new T("and_equal",B.token,"&="),or_equal:new T("or_equal",B.token,"|="),xor_equal:new T("xor_equal",B.token,"^="),shift_right_equal:new T("shift_right_equal",B.token,">>="),shift_left_equal:new T("shift_left_equal",B.token,"<<=")},x.simpleTokens={"@":M.tokens.attr,"{":M.tokens.brace_left,"}":M.tokens.brace_right,":":M.tokens.colon,",":M.tokens.comma,"(":M.tokens.paren_left,")":M.tokens.paren_right,";":M.tokens.semicolon},x.literalTokens={"&":M.tokens.and,"&&":M.tokens.and_and,"->":M.tokens.arrow,"/":M.tokens.forward_slash,"!":M.tokens.bang,"[":M.tokens.bracket_left,"]":M.tokens.bracket_right,"=":M.tokens.equal,"==":M.tokens.equal_equal,"!=":M.tokens.not_equal,">":M.tokens.greater_than,">=":M.tokens.greater_than_equal,">>":M.tokens.shift_right,"<":M.tokens.less_than,"<=":M.tokens.less_than_equal,"<<":M.tokens.shift_left,"%":M.tokens.modulo,"-":M.tokens.minus,"--":M.tokens.minus_minus,".":M.tokens.period,"+":M.tokens.plus,"++":M.tokens.plus_plus,"|":M.tokens.or,"||":M.tokens.or_or,"*":M.tokens.star,"~":M.tokens.tilde,_:M.tokens.underscore,"^":M.tokens.xor,"+=":M.tokens.plus_equal,"-=":M.tokens.minus_equal,"*=":M.tokens.times_equal,"/=":M.tokens.division_equal,"%=":M.tokens.modulo_equal,"&=":M.tokens.and_equal,"|=":M.tokens.or_equal,"^=":M.tokens.xor_equal,">>=":M.tokens.shift_right_equal,"<<=":M.tokens.shift_left_equal},x.regexTokens={decimal_float_literal:M.tokens.decimal_float_literal,hex_float_literal:M.tokens.hex_float_literal,int_literal:M.tokens.int_literal,uint_literal:M.tokens.uint_literal,ident:M.tokens.ident},x.storage_class=[M.keywords.function,M.keywords.private,M.keywords.workgroup,M.keywords.uniform,M.keywords.storage],x.access_mode=[M.keywords.read,M.keywords.write,M.keywords.read_write],x.sampler_type=[M.keywords.sampler,M.keywords.sampler_comparison],x.sampled_texture_type=[M.keywords.texture_1d,M.keywords.texture_2d,M.keywords.texture_2d_array,M.keywords.texture_3d,M.keywords.texture_cube,M.keywords.texture_cube_array],x.multisampled_texture_type=[M.keywords.texture_multisampled_2d],x.storage_texture_type=[M.keywords.texture_storage_1d,M.keywords.texture_storage_2d,M.keywords.texture_storage_2d_array,M.keywords.texture_storage_3d],x.depth_texture_type=[M.keywords.texture_depth_2d,M.keywords.texture_depth_2d_array,M.keywords.texture_depth_cube,M.keywords.texture_depth_cube_array,M.keywords.texture_depth_multisampled_2d],x.texture_external_type=[M.keywords.texture_external],x.any_texture_type=[...M.sampled_texture_type,...M.multisampled_texture_type,...M.storage_texture_type,...M.depth_texture_type,...M.texture_external_type],x.texel_format=[M.keywords.r8unorm,M.keywords.r8snorm,M.keywords.r8uint,M.keywords.r8sint,M.keywords.r16uint,M.keywords.r16sint,M.keywords.r16float,M.keywords.rg8unorm,M.keywords.rg8snorm,M.keywords.rg8uint,M.keywords.rg8sint,M.keywords.r32uint,M.keywords.r32sint,M.keywords.r32float,M.keywords.rg16uint,M.keywords.rg16sint,M.keywords.rg16float,M.keywords.rgba8unorm,M.keywords.rgba8unorm_srgb,M.keywords.rgba8snorm,M.keywords.rgba8uint,M.keywords.rgba8sint,M.keywords.bgra8unorm,M.keywords.bgra8unorm_srgb,M.keywords.rgb10a2unorm,M.keywords.rg11b10float,M.keywords.rg32uint,M.keywords.rg32sint,M.keywords.rg32float,M.keywords.rgba16uint,M.keywords.rgba16sint,M.keywords.rgba16float,M.keywords.rgba32uint,M.keywords.rgba32sint,M.keywords.rgba32float],x.const_literal=[M.tokens.int_literal,M.tokens.uint_literal,M.tokens.decimal_float_literal,M.tokens.hex_float_literal,M.keywords.true,M.keywords.false],x.literal_or_ident=[M.tokens.ident,M.tokens.int_literal,M.tokens.uint_literal,M.tokens.decimal_float_literal,M.tokens.hex_float_literal,M.tokens.name],x.element_count_expression=[M.tokens.int_literal,M.tokens.uint_literal,M.tokens.ident],x.template_types=[M.keywords.vec2,M.keywords.vec3,M.keywords.vec4,M.keywords.mat2x2,M.keywords.mat2x3,M.keywords.mat2x4,M.keywords.mat3x2,M.keywords.mat3x3,M.keywords.mat3x4,M.keywords.mat4x2,M.keywords.mat4x3,M.keywords.mat4x4,M.keywords.atomic,M.keywords.bitcast,...M.any_texture_type],x.attribute_name=[M.tokens.ident,M.keywords.block,M.keywords.diagnostic],x.assignment_operators=[M.tokens.equal,M.tokens.plus_equal,M.tokens.minus_equal,M.tokens.times_equal,M.tokens.division_equal,M.tokens.modulo_equal,M.tokens.and_equal,M.tokens.or_equal,M.tokens.xor_equal,M.tokens.shift_right_equal,M.tokens.shift_left_equal],x.increment_operators=[M.tokens.plus_plus,M.tokens.minus_minus];var Gl=class{constructor(e,t,r,s,o){this.type=e,this.lexeme=t,this.line=r,this.start=s,this.end=o}toString(){return this.lexeme}isTemplateType(){return x.template_types.indexOf(this.type)!=-1}isArrayType(){return this.type==x.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}},jp=class{constructor(e){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=e??""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new Gl(x.eof,"",this._line,this._current,this._current)),this._tokens}scanToken(){let e=this._advance();if(e==`
`)return this._line++,!0;if(this._isWhitespace(e))return!0;if(e=="/"){if(this._peekAhead()=="/"){for(;e!=`
`;){if(this._isAtEnd())return!0;e=this._advance()}return this._line++,!0}if(this._peekAhead()=="*"){this._advance();let i=1;for(;i>0;){if(this._isAtEnd())return!0;if(e=this._advance(),e==`
`)this._line++;else if(e=="*"){if(this._peekAhead()=="/"&&(this._advance(),i--,i==0))return!0}else e=="/"&&this._peekAhead()=="*"&&(this._advance(),i++)}return!0}}let t=x.simpleTokens[e];if(t)return this._addToken(t),!0;let r=x.none,s=this._isAlpha(e),o=e==="_";if(this._isAlphaNumeric(e)){let i=this._peekAhead();for(;this._isAlphaNumeric(i);)e+=this._advance(),i=this._peekAhead()}if(s){let i=x.keywords[e];if(i)return this._addToken(i),!0}if(s||o)return this._addToken(x.tokens.ident),!0;for(;;){let i=this._findType(e),a=this._peekAhead();if(e=="-"&&this._tokens.length>0){if(a=="=")return this._current++,e+=a,this._addToken(x.tokens.minus_equal),!0;if(a=="-")return this._current++,e+=a,this._addToken(x.tokens.minus_minus),!0;let c=this._tokens.length-1;if((x.literal_or_ident.indexOf(this._tokens[c].type)!=-1||this._tokens[c].type==x.tokens.paren_right)&&a!=">")return this._addToken(i),!0}if(e==">"&&(a==">"||a=="=")){let c=!1,u=this._tokens.length-1;for(let l=0;l<5&&u>=0&&x.assignment_operators.indexOf(this._tokens[u].type)===-1;++l,--u)if(this._tokens[u].type===x.tokens.less_than){u>0&&this._tokens[u-1].isArrayOrTemplateType()&&(c=!0);break}if(c)return this._addToken(i),!0}if(i===x.none){let c=e,u=0,l=2;for(let f=0;f<l;++f)if(c+=this._peekAhead(f),i=this._findType(c),i!==x.none){u=f;break}if(i===x.none)return r!==x.none&&(this._current--,this._addToken(r),!0);e=c,this._current+=u+1}if(r=i,this._isAtEnd())break;e+=this._advance()}return r!==x.none&&(this._addToken(r),!0)}_findType(e){for(let r in x.regexTokens){let s=x.regexTokens[r];if(this._match(e,s.rule))return s}return x.literalTokens[e]||x.none}_match(e,t){let r=t.exec(e);return r&&r.index==0&&r[0]==e}_isAtEnd(){return this._current>=this._source.length}_isAlpha(e){return!this._isNumeric(e)&&!this._isWhitespace(e)&&e!=="_"&&e!=="."&&e!=="("&&e!==")"&&e!=="["&&e!=="]"&&e!=="{"&&e!=="}"&&e!==","&&e!==";"&&e!==":"&&e!=="="&&e!=="!"&&e!=="<"&&e!==">"&&e!=="+"&&e!=="-"&&e!=="*"&&e!=="/"&&e!=="%"&&e!=="&"&&e!=="|"&&e!=="^"&&e!=="~"&&e!=="@"&&e!=="#"&&e!=="?"&&e!=="'"&&e!=="`"&&e!=='"'&&e!=="\\"&&e!==`
`&&e!=="\r"&&e!=="	"&&e!=="\0"}_isNumeric(e){return e>="0"&&e<="9"}_isAlphaNumeric(e){return this._isAlpha(e)||this._isNumeric(e)||e==="_"}_isWhitespace(e){return e==" "||e=="	"||e=="\r"}_advance(e=0){let t=this._source[this._current];return e=e||0,e++,this._current+=e,t}_peekAhead(e=0){return e=e||0,this._current+e>=this._source.length?"\0":this._source[this._current+e]}_addToken(e){let t=this._source.substring(this._start,this._current);this._tokens.push(new Gl(e,t,this._line,this._start,this._current))}};function N(n){return Array.isArray(n)||n?.buffer instanceof ArrayBuffer}var Ul=new Float32Array(1),kM=new Uint32Array(Ul.buffer),OM=new Uint32Array(Ul.buffer),Fl=new Int32Array(1),LM=new Float32Array(Fl.buffer),GM=new Uint32Array(Fl.buffer),Nl=new Uint32Array(1),UM=new Float32Array(Nl.buffer),FM=new Int32Array(Nl.buffer);function rv(n,e,t){if(e===t)return n;if(e==="f32"){if(t==="i32"||t==="x32")return Ul[0]=n,kM[0];if(t==="u32")return Ul[0]=n,OM[0]}else if(e==="i32"||e==="x32"){if(t==="f32")return Fl[0]=n,LM[0];if(t==="u32")return Fl[0]=n,GM[0]}else if(e==="u32"){if(t==="f32")return Nl[0]=n,UM[0];if(t==="i32"||t==="x32")return Nl[0]=n,FM[0]}return console.error(`Unsupported cast from ${e} to ${t}`),n}var Kp=class{constructor(e){this.resources=null,this.inUse=!1,this.info=null,this.node=e}},ei=class{constructor(e,t){this.align=e,this.size=t}},Ds=class n{constructor(){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new Up,this.functions=[],this._types=new Map,this._functions=new Map}_isStorageTexture(e){return e.name=="texture_storage_1d"||e.name=="texture_storage_2d"||e.name=="texture_storage_2d_array"||e.name=="texture_storage_3d"}updateAST(e){for(let t of e)t instanceof Is&&this._functions.set(t.name,new Kp(t));for(let t of e)if(t instanceof ln){let r=this.getTypeInfo(t,null);r instanceof Sn&&this.structs.push(r)}for(let t of e)if(t instanceof Fa)this.aliases.push(this._getAliasInfo(t));else{if(t instanceof Ga){let r=t,s=this._getAttributeNum(r.attributes,"id",0),o=r.type!=null?this.getTypeInfo(r.type,r.attributes):null;this.overrides.push(new Op(r.name,o,r.attributes,s));continue}if(this._isUniformVar(t)){let r=t,s=this._getAttributeNum(r.attributes,"group",0),o=this._getAttributeNum(r.attributes,"binding",0),i=this.getTypeInfo(r.type,r.attributes),a=new $o(r.name,i,s,o,r.attributes,jr.Uniform,r.access);a.access||(a.access="read"),this.uniforms.push(a);continue}if(this._isStorageVar(t)){let r=t,s=this._getAttributeNum(r.attributes,"group",0),o=this._getAttributeNum(r.attributes,"binding",0),i=this.getTypeInfo(r.type,r.attributes),a=this._isStorageTexture(i),c=new $o(r.name,i,s,o,r.attributes,a?jr.StorageTexture:jr.Storage,r.access);c.access||(c.access="read"),this.storage.push(c);continue}if(this._isTextureVar(t)){let r=t,s=this._getAttributeNum(r.attributes,"group",0),o=this._getAttributeNum(r.attributes,"binding",0),i=this.getTypeInfo(r.type,r.attributes),a=this._isStorageTexture(i),c=new $o(r.name,i,s,o,r.attributes,a?jr.StorageTexture:jr.Texture,r.access);c.access||(c.access="read"),a?this.storage.push(c):this.textures.push(c);continue}if(this._isSamplerVar(t)){let r=t,s=this._getAttributeNum(r.attributes,"group",0),o=this._getAttributeNum(r.attributes,"binding",0),i=this.getTypeInfo(r.type,r.attributes),a=new $o(r.name,i,s,o,r.attributes,jr.Sampler,r.access);this.samplers.push(a);continue}}for(let t of e)if(t instanceof Is){let r=this._getAttribute(t,"vertex"),s=this._getAttribute(t,"fragment"),o=this._getAttribute(t,"compute"),i=r||s||o,a=new Gp(t.name,i?.name,t.attributes);a.attributes=t.attributes,a.startLine=t.startLine,a.endLine=t.endLine,this.functions.push(a),this._functions.get(t.name).info=a,i&&(this._functions.get(t.name).inUse=!0,a.inUse=!0,a.resources=this._findResources(t,!!i),a.inputs=this._getInputs(t.args),a.outputs=this._getOutputs(t.returnType),this.entry[i.name].push(a)),a.arguments=t.args.map(c=>new Lp(c.name,this.getTypeInfo(c.type,c.attributes),c.attributes)),a.returnType=t.returnType?this.getTypeInfo(t.returnType,t.attributes):null;continue}for(let t of this._functions.values())t.info&&(t.info.inUse=t.inUse,this._addCalls(t.node,t.info.calls));for(let t of this._functions.values())t.node.search(r=>{var s,o,i;if(r instanceof Ll){if(r.value)if(N(r.value))for(let a of r.value)for(let c of this.overrides)a===c.name&&((s=t.info)===null||s===void 0||s.overrides.push(c));else for(let a of this.overrides)r.value===a.name&&((o=t.info)===null||o===void 0||o.overrides.push(a))}else if(r instanceof dt)for(let a of this.overrides)r.name===a.name&&((i=t.info)===null||i===void 0||i.overrides.push(a))});for(let t of this.uniforms)this._markStructsInUse(t.type);for(let t of this.storage)this._markStructsInUse(t.type)}getFunctionInfo(e){for(let t of this.functions)if(t.name==e)return t;return null}getStructInfo(e){for(let t of this.structs)if(t.name==e)return t;return null}getOverrideInfo(e){for(let t of this.overrides)if(t.name==e)return t;return null}_markStructsInUse(e){if(e)if(e.isStruct){if(e.inUse=!0,e.members)for(let t of e.members)this._markStructsInUse(t.type)}else if(e.isArray)this._markStructsInUse(e.format);else if(e.isTemplate)e.format&&this._markStructsInUse(e.format);else{let t=this._getAlias(e.name);t&&this._markStructsInUse(t)}}_addCalls(e,t){var r;for(let s of e.calls){let o=(r=this._functions.get(s.name))===null||r===void 0?void 0:r.info;o&&t.add(o)}}findResource(e,t,r){if(r){for(let s of this.entry.compute)if(s.name===r){for(let o of s.resources)if(o.group==e&&o.binding==t)return o}for(let s of this.entry.vertex)if(s.name===r){for(let o of s.resources)if(o.group==e&&o.binding==t)return o}for(let s of this.entry.fragment)if(s.name===r){for(let o of s.resources)if(o.group==e&&o.binding==t)return o}}for(let s of this.uniforms)if(s.group==e&&s.binding==t)return s;for(let s of this.storage)if(s.group==e&&s.binding==t)return s;for(let s of this.textures)if(s.group==e&&s.binding==t)return s;for(let s of this.samplers)if(s.group==e&&s.binding==t)return s;return null}_findResource(e){for(let t of this.uniforms)if(t.name==e)return t;for(let t of this.storage)if(t.name==e)return t;for(let t of this.textures)if(t.name==e)return t;for(let t of this.samplers)if(t.name==e)return t;return null}_markStructsFromAST(e){let t=this.getTypeInfo(e,null);this._markStructsInUse(t)}_findResources(e,t){let r=[],s=this,o=[];return e.search(i=>{if(i instanceof oi)o.push({});else if(i instanceof ii)o.pop();else if(i instanceof fn){let a=i;t&&a.type!==null&&this._markStructsFromAST(a.type),o.length>0&&(o[o.length-1][a.name]=a)}else if(i instanceof nn){let a=i;t&&a.type!==null&&this._markStructsFromAST(a.type)}else if(i instanceof Vs){let a=i;t&&a.type!==null&&this._markStructsFromAST(a.type),o.length>0&&(o[o.length-1][a.name]=a)}else if(i instanceof dt){let a=i;if(o.length>0&&o[o.length-1][a.name])return;let c=s._findResource(a.name);c&&r.push(c)}else if(i instanceof Na){let a=i,c=s._functions.get(a.name);c&&(t&&(c.inUse=!0),e.calls.add(c.node),c.resources===null&&(c.resources=s._findResources(c.node,t)),r.push(...c.resources))}else if(i instanceof Ua){let a=i,c=s._functions.get(a.name);c&&(t&&(c.inUse=!0),e.calls.add(c.node),c.resources===null&&(c.resources=s._findResources(c.node,t)),r.push(...c.resources))}}),[...new Map(r.map(i=>[i.name,i])).values()]}getBindGroups(){let e=[];function t(r,s){r>=e.length&&(e.length=r+1),e[r]===void 0&&(e[r]=[]),s>=e[r].length&&(e[r].length=s+1)}for(let r of this.uniforms)t(r.group,r.binding),e[r.group][r.binding]=r;for(let r of this.storage)t(r.group,r.binding),e[r.group][r.binding]=r;for(let r of this.textures)t(r.group,r.binding),e[r.group][r.binding]=r;for(let r of this.samplers)t(r.group,r.binding),e[r.group][r.binding]=r;return e}_getOutputs(e,t=void 0){if(t===void 0&&(t=[]),e instanceof ln)this._getStructOutputs(e,t);else{let r=this._getOutputInfo(e);r!==null&&t.push(r)}return t}_getStructOutputs(e,t){for(let r of e.members)if(r.type instanceof ln)this._getStructOutputs(r.type,t);else{let s=this._getAttribute(r,"location")||this._getAttribute(r,"builtin");if(s!==null){let o=this.getTypeInfo(r.type,r.type.attributes),i=this._parseInt(s.value),a=new pl(r.name,o,s.name,i);t.push(a)}}}_getOutputInfo(e){let t=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(t!==null){let r=this.getTypeInfo(e,e.attributes),s=this._parseInt(t.value);return new pl("",r,t.name,s)}return null}_getInputs(e,t=void 0){t===void 0&&(t=[]);for(let r of e)if(r.type instanceof ln)this._getStructInputs(r.type,t);else{let s=this._getInputInfo(r);s!==null&&t.push(s)}return t}_getStructInputs(e,t){for(let r of e.members)if(r.type instanceof ln)this._getStructInputs(r.type,t);else{let s=this._getInputInfo(r);s!==null&&t.push(s)}}_getInputInfo(e){let t=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(t!==null){let r=this._getAttribute(e,"interpolation"),s=this.getTypeInfo(e.type,e.attributes),o=this._parseInt(t.value),i=new kp(e.name,s,t.name,o);return r!==null&&(i.interpolation=this._parseString(r.value)),i}return null}_parseString(e){return e instanceof Array&&(e=e[0]),e}_parseInt(e){e instanceof Array&&(e=e[0]);let t=parseInt(e);return isNaN(t)?e:t}_getAlias(e){for(let t of this.aliases)if(t.name==e)return t.type;return null}_getAliasInfo(e){return new Ip(e.name,this.getTypeInfo(e.type,null))}getTypeInfoByName(e){for(let t of this.structs)if(t.name==e)return t;for(let t of this.aliases)if(t.name==e)return t.type;return null}getTypeInfo(e,t=null){if(this._types.has(e))return this._types.get(e);if(e instanceof ni){let s=e.type?this.getTypeInfo(e.type,e.attributes):null,o=new Oa(e.name,s,t);return this._types.set(e,o),this._updateTypeInfo(o),o}if(e instanceof Rs){let s=e,o=s.format?this.getTypeInfo(s.format,s.attributes):null,i=new Mn(s.name,t);return i.format=o,i.count=s.count,this._types.set(e,i),this._updateTypeInfo(i),i}if(e instanceof ln){let s=e,o=new Sn(s.name,t);o.startLine=s.startLine,o.endLine=s.endLine;for(let i of s.members){let a=this.getTypeInfo(i.type,i.attributes);o.members.push(new dl(i.name,a,i.attributes))}return this._types.set(e,o),this._updateTypeInfo(o),o}if(e instanceof Cs){let s=e,o=s.format instanceof k,i=s.format?o?this.getTypeInfo(s.format,null):new Bt(s.format,null):null,a=new nr(s.name,i,t,s.access);return this._types.set(e,a),this._updateTypeInfo(a),a}if(e instanceof S){let s=e,o=s.format?this.getTypeInfo(s.format,null):null,i=new nr(s.name,o,t,s.access);return this._types.set(e,i),this._updateTypeInfo(i),i}let r=new Bt(e.name,t);return this._types.set(e,r),this._updateTypeInfo(r),r}_updateTypeInfo(e){var t,r,s;let o=this._getTypeSize(e);if(e.size=(t=o?.size)!==null&&t!==void 0?t:0,e instanceof Mn&&e.format){let i=this._getTypeSize(e.format);e.stride=Math.max((r=i?.size)!==null&&r!==void 0?r:0,(s=i?.align)!==null&&s!==void 0?s:0),this._updateTypeInfo(e.format)}e instanceof Oa&&this._updateTypeInfo(e.format),e instanceof Sn&&this._updateStructInfo(e)}_updateStructInfo(e){var t;let r=0,s=0,o=0,i=0;for(let a=0,c=e.members.length;a<c;++a){let u=e.members[a],l=this._getTypeSize(u);if(!l)continue;(t=this._getAlias(u.type.name))!==null&&t!==void 0||u.type;let f=l.align,h=l.size;r=this._roundUp(f,r+s),s=h,o=r,i=Math.max(i,f),u.offset=r,u.size=h,this._updateTypeInfo(u.type)}e.size=this._roundUp(i,o+s),e.align=i}_getTypeSize(e){var t,r;if(e==null)return null;let s=this._getAttributeNum(e.attributes,"size",0),o=this._getAttributeNum(e.attributes,"align",0);if(e instanceof dl&&(e=e.type),e instanceof Bt){let i=this._getAlias(e.name);i!==null&&(e=i)}{let i=n._typeInfo[e.name];if(i!==void 0){let a=((t=e.format)===null||t===void 0?void 0:t.name)==="f16"?2:1;return new ei(Math.max(o,i.align/a),Math.max(s,i.size/a))}}{let i=n._typeInfo[e.name.substring(0,e.name.length-1)];if(i){let a=e.name[e.name.length-1]==="h"?2:1;return new ei(Math.max(o,i.align/a),Math.max(s,i.size/a))}}if(e instanceof Mn){let i=e,a=8,c=8,u=this._getTypeSize(i.format);return u!==null&&(c=u.size,a=u.align),c=i.count*this._getAttributeNum((r=e?.attributes)!==null&&r!==void 0?r:null,"stride",this._roundUp(a,c)),s&&(c=s),new ei(Math.max(o,a),Math.max(s,c))}if(e instanceof Sn){let i=0,a=0,c=0,u=0,l=0;for(let f of e.members){let h=this._getTypeSize(f.type);h!==null&&(i=Math.max(h.align,i),c=this._roundUp(h.align,c+u),u=h.size,l=c)}return a=this._roundUp(i,l+u),new ei(Math.max(o,i),Math.max(s,a))}return null}_isUniformVar(e){return e instanceof fn&&e.storage=="uniform"}_isStorageVar(e){return e instanceof fn&&e.storage=="storage"}_isTextureVar(e){return e instanceof fn&&e.type!==null&&n._textureTypes.indexOf(e.type.name)!=-1}_isSamplerVar(e){return e instanceof fn&&e.type!==null&&n._samplerTypes.indexOf(e.type.name)!=-1}_getAttribute(e,t){let r=e;if(!r||!r.attributes)return null;let s=r.attributes;for(let o of s)if(o.name==t)return o;return null}_getAttributeNum(e,t,r){if(e===null)return r;for(let s of e)if(s.name==t){let o=s!==null&&s.value!==null?s.value:r;return o instanceof Array&&(o=o[0]),typeof o=="number"?o:typeof o=="string"?parseInt(o):r}return r}_roundUp(e,t){return Math.ceil(t/e)*e}};Ds._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},Ds._textureTypes=x.any_texture_type.map(n=>n.name),Ds._samplerTypes=x.sampler_type.map(n=>n.name);var eg=0,Jp=class n{constructor(e,t,r){this.id=eg++,this.name=e,this.value=t,this.node=r}clone(){return new n(this.name,this.value,this.node)}},qp=class n{constructor(e){this.id=eg++,this.name=e.name,this.node=e}clone(){return new n(this.node)}},Xp=class n{constructor(e){this.parent=null,this.variables=new Map,this.functions=new Map,this.currentFunctionName="",this.id=eg++,e&&(this.parent=e,this.currentFunctionName=e.currentFunctionName)}getVariable(e){var t;return this.variables.has(e)?(t=this.variables.get(e))!==null&&t!==void 0?t:null:this.parent?this.parent.getVariable(e):null}getFunction(e){var t;return this.functions.has(e)?(t=this.functions.get(e))!==null&&t!==void 0?t:null:this.parent?this.parent.getFunction(e):null}createVariable(e,t,r){this.variables.set(e,new Jp(e,t,r??null))}setVariable(e,t,r){let s=this.getVariable(e);s!==null?s.value=t:this.createVariable(e,t,r)}getVariableValue(e){var t;let r=this.getVariable(e);return(t=r?.value)!==null&&t!==void 0?t:null}clone(){return new n(this)}},Yp=class{evalExpression(e,t){return null}getTypeInfo(e){return null}getVariableName(e,t){return""}},Qp=class{constructor(e){this.exec=e}getTypeInfo(e){return this.exec.getTypeInfo(e)}All(e,t){let r=this.exec.evalExpression(e.args[0],t),s=!0;if(r instanceof b)return r.data.forEach(o=>{o||(s=!1)}),new E(s?1:0,this.getTypeInfo("bool"));throw new Error(`All() expects a vector argument. Line ${e.line}`)}Any(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b){let s=r.data.some(o=>o);return new E(s?1:0,this.getTypeInfo("bool"))}throw new Error(`Any() expects a vector argument. Line ${e.line}`)}Select(e,t){let r=this.exec.evalExpression(e.args[2],t);if(!(r instanceof E))throw new Error(`Select() expects a bool condition. Line ${e.line}`);return r.value?this.exec.evalExpression(e.args[1],t):this.exec.evalExpression(e.args[0],t)}ArrayLength(e,t){let r=e.args[0];r instanceof Me&&(r=r.right);let s=this.exec.evalExpression(r,t);if(s instanceof Ge&&s.typeInfo.size===0){let o=s.typeInfo,i=s.buffer.byteLength/o.stride;return new E(i,this.getTypeInfo("u32"))}return new E(s.typeInfo.size,this.getTypeInfo("u32"))}Abs(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.abs(o)),r.typeInfo);let s=r;return new E(Math.abs(s.value),s.typeInfo)}Acos(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.acos(o)),r.typeInfo);let s=r;return new E(Math.acos(s.value),r.typeInfo)}Acosh(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.acosh(o)),r.typeInfo);let s=r;return new E(Math.acosh(s.value),r.typeInfo)}Asin(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.asin(o)),r.typeInfo);let s=r;return new E(Math.asin(s.value),r.typeInfo)}Asinh(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.asinh(o)),r.typeInfo);let s=r;return new E(Math.asinh(s.value),r.typeInfo)}Atan(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.atan(o)),r.typeInfo);let s=r;return new E(Math.atan(s.value),r.typeInfo)}Atanh(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.atanh(o)),r.typeInfo);let s=r;return new E(Math.atanh(s.value),r.typeInfo)}Atan2(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t);if(r instanceof b&&s instanceof b)return new b(r.data.map((a,c)=>Math.atan2(a,s.data[c])),r.typeInfo);let o=r,i=s;return new E(Math.atan2(o.value,i.value),r.typeInfo)}Ceil(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.ceil(o)),r.typeInfo);let s=r;return new E(Math.ceil(s.value),r.typeInfo)}_clamp(e,t,r){return Math.min(Math.max(e,t),r)}Clamp(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t),o=this.exec.evalExpression(e.args[2],t);if(r instanceof b&&s instanceof b&&o instanceof b)return new b(r.data.map((u,l)=>this._clamp(u,s.data[l],o.data[l])),r.typeInfo);let i=r,a=s,c=o;return new E(this._clamp(i.value,a.value,c.value),r.typeInfo)}Cos(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.cos(o)),r.typeInfo);let s=r;return new E(Math.cos(s.value),r.typeInfo)}Cosh(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.cosh(o)),r.typeInfo);let s=r;return new E(Math.cos(s.value),r.typeInfo)}CountLeadingZeros(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.clz32(o)),r.typeInfo);let s=r;return new E(Math.clz32(s.value),r.typeInfo)}_countOneBits(e){let t=0;for(;e!==0;)1&e&&t++,e>>=1;return t}CountOneBits(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>this._countOneBits(o)),r.typeInfo);let s=r;return new E(this._countOneBits(s.value),r.typeInfo)}_countTrailingZeros(e){if(e===0)return 32;let t=0;for(;!(1&e);)e>>=1,t++;return t}CountTrailingZeros(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>this._countTrailingZeros(o)),r.typeInfo);let s=r;return new E(this._countTrailingZeros(s.value),r.typeInfo)}Cross(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t);if(r instanceof b&&s instanceof b){if(r.data.length!==3||s.data.length!==3)return console.error(`Cross() expects 3D vectors. Line ${e.line}`),null;let o=r.data,i=s.data;return new b([o[1]*i[2]-i[1]*o[2],o[2]*i[0]-i[2]*o[0],o[0]*i[1]-i[0]*o[1]],r.typeInfo)}return console.error(`Cross() expects vector arguments. Line ${e.line}`),null}Degrees(e,t){let r=this.exec.evalExpression(e.args[0],t),s=180/Math.PI;return r instanceof b?new b(r.data.map(o=>o*s),r.typeInfo):new E(r.value*s,this.getTypeInfo("f32"))}Determinant(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof H){let s=r.data,o=r.typeInfo.getTypeName(),i=o.endsWith("h")?this.getTypeInfo("f16"):this.getTypeInfo("f32");if(o==="mat2x2"||o==="mat2x2f"||o==="mat2x2h")return new E(s[0]*s[3]-s[1]*s[2],i);if(o==="mat2x3"||o==="mat2x3f"||o==="mat2x3h")return new E(s[0]*(s[4]*s[8]-s[5]*s[7])-s[1]*(s[3]*s[8]-s[5]*s[6])+s[2]*(s[3]*s[7]-s[4]*s[6]),i);if(o==="mat2x4"||o==="mat2x4f"||o==="mat2x4h")console.error(`TODO: Determinant for ${o}`);else if(o==="mat3x2"||o==="mat3x2f"||o==="mat3x2h")console.error(`TODO: Determinant for ${o}`);else{if(o==="mat3x3"||o==="mat3x3f"||o==="mat3x3h")return new E(s[0]*(s[4]*s[8]-s[5]*s[7])-s[1]*(s[3]*s[8]-s[5]*s[6])+s[2]*(s[3]*s[7]-s[4]*s[6]),i);o==="mat3x4"||o==="mat3x4f"||o==="mat3x4h"||o==="mat4x2"||o==="mat4x2f"||o==="mat4x2h"||o==="mat4x3"||o==="mat4x3f"||o==="mat4x3h"?console.error(`TODO: Determinant for ${o}`):o!=="mat4x4"&&o!=="mat4x4f"&&o!=="mat4x4h"||console.error(`TODO: Determinant for ${o}`)}}return console.error(`Determinant expects a matrix argument. Line ${e.line}`),null}Distance(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t);if(r instanceof b&&s instanceof b){let a=0;for(let c=0;c<r.data.length;++c)a+=(r.data[c]-s.data[c])*(r.data[c]-s.data[c]);return new E(Math.sqrt(a),this.getTypeInfo("f32"))}let o=r,i=s;return new E(Math.abs(o.value-i.value),r.typeInfo)}_dot(e,t){let r=0;for(let s=0;s<e.length;++s)r+=t[s]*e[s];return r}Dot(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t);return r instanceof b&&s instanceof b?new E(this._dot(r.data,s.data),this.getTypeInfo("f32")):(console.error(`Dot() expects vector arguments. Line ${e.line}`),null)}Dot4U8Packed(e,t){return console.error(`TODO: dot4U8Packed. Line ${e.line}`),null}Dot4I8Packed(e,t){return console.error(`TODO: dot4I8Packed. Line ${e.line}`),null}Exp(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.exp(o)),r.typeInfo);let s=r;return new E(Math.exp(s.value),r.typeInfo)}Exp2(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.pow(2,o)),r.typeInfo);let s=r;return new E(Math.pow(2,s.value),r.typeInfo)}ExtractBits(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t),o=this.exec.evalExpression(e.args[2],t);if(s.typeInfo.name!=="u32"&&s.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 offset argument. Line ${e.line}`),null;if(o.typeInfo.name!=="u32"&&o.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 count argument. Line ${e.line}`),null;let i=s.value,a=o.value;if(r instanceof b)return new b(r.data.map(u=>u>>i&(1<<a)-1),r.typeInfo);if(r.typeInfo.name!=="i32"&&r.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 argument. Line ${e.line}`),null;let c=r.value;return new E(c>>i&(1<<a)-1,this.getTypeInfo("i32"))}FaceForward(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t),o=this.exec.evalExpression(e.args[2],t);if(r instanceof b&&s instanceof b&&o instanceof b){let i=this._dot(s.data,o.data);return new b(i<0?Array.from(r.data):r.data.map(a=>-a),r.typeInfo)}return console.error(`FaceForward() expects vector arguments. Line ${e.line}`),null}_firstLeadingBit(e){return e===0?-1:31-Math.clz32(e)}FirstLeadingBit(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>this._firstLeadingBit(o)),r.typeInfo);let s=r;return new E(this._firstLeadingBit(s.value),r.typeInfo)}_firstTrailingBit(e){return e===0?-1:Math.log2(e&-e)}FirstTrailingBit(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>this._firstTrailingBit(o)),r.typeInfo);let s=r;return new E(this._firstTrailingBit(s.value),r.typeInfo)}Floor(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.floor(o)),r.typeInfo);let s=r;return new E(Math.floor(s.value),r.typeInfo)}Fma(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t),o=this.exec.evalExpression(e.args[2],t);if(r instanceof b&&s instanceof b&&o instanceof b)return r.data.length!==s.data.length||r.data.length!==o.data.length?(console.error(`Fma() expects vectors of the same length. Line ${e.line}`),null):new b(r.data.map((u,l)=>u*s.data[l]+o.data[l]),r.typeInfo);let i=r,a=s,c=o;return new E(i.value*a.value+c.value,i.typeInfo)}Fract(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>o-Math.floor(o)),r.typeInfo);let s=r;return new E(s.value-Math.floor(s.value),r.typeInfo)}Frexp(e,t){return console.error(`TODO: frexp. Line ${e.line}`),null}InsertBits(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t),o=this.exec.evalExpression(e.args[2],t),i=this.exec.evalExpression(e.args[3],t);if(o.typeInfo.name!=="u32"&&o.typeInfo.name!=="x32")return console.error(`InsertBits() expects an i32 offset argument. Line ${e.line}`),null;let a=o.value,c=(1<<i.value)-1<<a,u=~c;if(r instanceof b&&s instanceof b)return new b(r.data.map((h,d)=>h&u|s.data[d]<<a&c),r.typeInfo);let l=r.value,f=s.value;return new E(l&u|f<<a&c,r.typeInfo)}InverseSqrt(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>1/Math.sqrt(o)),r.typeInfo);let s=r;return new E(1/Math.sqrt(s.value),r.typeInfo)}Ldexp(e,t){return console.error(`TODO: ldexp. Line ${e.line}`),null}Length(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b){let o=0;return r.data.forEach(i=>{o+=i*i}),new E(Math.sqrt(o),this.getTypeInfo("f32"))}let s=r;return new E(Math.abs(s.value),r.typeInfo)}Log(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.log(o)),r.typeInfo);let s=r;return new E(Math.log(s.value),r.typeInfo)}Log2(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.log2(o)),r.typeInfo);let s=r;return new E(Math.log2(s.value),r.typeInfo)}Max(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t);if(r instanceof b&&s instanceof b)return new b(r.data.map((a,c)=>Math.max(a,s.data[c])),r.typeInfo);let o=r,i=s;return new E(Math.max(o.value,i.value),r.typeInfo)}Min(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t);if(r instanceof b&&s instanceof b)return new b(r.data.map((a,c)=>Math.min(a,s.data[c])),r.typeInfo);let o=r,i=s;return new E(Math.min(o.value,i.value),r.typeInfo)}Mix(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t),o=this.exec.evalExpression(e.args[2],t);if(r instanceof b&&s instanceof b&&o instanceof b)return new b(r.data.map((c,u)=>r.data[u]*(1-o.data[u])+s.data[u]*o.data[u]),r.typeInfo);let i=s,a=o;return new E(r.value*(1-a.value)+i.value*a.value,r.typeInfo)}Modf(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t);if(r instanceof b&&s instanceof b)return new b(r.data.map((i,a)=>i%s.data[a]),r.typeInfo);let o=s;return new E(r.value%o.value,r.typeInfo)}Normalize(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b){let s=this.Length(e,t).value;return new b(r.data.map(o=>o/s),r.typeInfo)}return console.error(`Normalize() expects a vector argument. Line ${e.line}`),null}Pow(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t);if(r instanceof b&&s instanceof b)return new b(r.data.map((a,c)=>Math.pow(a,s.data[c])),r.typeInfo);let o=r,i=s;return new E(Math.pow(o.value,i.value),r.typeInfo)}QuantizeToF16(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof b?new b(r.data.map(s=>s),r.typeInfo):new E(r.value,r.typeInfo)}Radians(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof b?new b(r.data.map(s=>s*Math.PI/180),r.typeInfo):new E(r.value*Math.PI/180,this.getTypeInfo("f32"))}Reflect(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t);if(r instanceof b&&s instanceof b){let o=this._dot(r.data,s.data);return new b(r.data.map((i,a)=>i-2*o*s.data[a]),r.typeInfo)}return console.error(`Reflect() expects vector arguments. Line ${e.line}`),null}Refract(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t),o=this.exec.evalExpression(e.args[2],t);if(r instanceof b&&s instanceof b&&o instanceof E){let i=this._dot(s.data,r.data);return new b(r.data.map((a,c)=>{let u=1-o.value*o.value*(1-i*i);if(u<0)return 0;let l=Math.sqrt(u);return o.value*a-(o.value*i+l)*s.data[c]}),r.typeInfo)}return console.error(`Refract() expects vector arguments and a scalar argument. Line ${e.line}`),null}ReverseBits(e,t){return console.error(`TODO: reverseBits. Line ${e.line}`),null}Round(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.round(o)),r.typeInfo);let s=r;return new E(Math.round(s.value),r.typeInfo)}Saturate(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.min(Math.max(o,0),1)),r.typeInfo);let s=r;return new E(Math.min(Math.max(s.value,0),1),r.typeInfo)}Sign(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.sign(o)),r.typeInfo);let s=r;return new E(Math.sign(s.value),r.typeInfo)}Sin(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.sin(o)),r.typeInfo);let s=r;return new E(Math.sin(s.value),r.typeInfo)}Sinh(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.sinh(o)),r.typeInfo);let s=r;return new E(Math.sinh(s.value),r.typeInfo)}_smoothstep(e,t,r){let s=Math.min(Math.max((r-e)/(t-e),0),1);return s*s*(3-2*s)}SmoothStep(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t),o=this.exec.evalExpression(e.args[2],t);if(o instanceof b&&r instanceof b&&s instanceof b)return new b(o.data.map((u,l)=>this._smoothstep(r.data[l],s.data[l],u)),o.typeInfo);let i=r,a=s,c=o;return new E(this._smoothstep(i.value,a.value,c.value),o.typeInfo)}Sqrt(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.sqrt(o)),r.typeInfo);let s=r;return new E(Math.sqrt(s.value),r.typeInfo)}Step(e,t){let r=this.exec.evalExpression(e.args[0],t),s=this.exec.evalExpression(e.args[1],t);if(s instanceof b&&r instanceof b)return new b(s.data.map((i,a)=>i<r.data[a]?0:1),s.typeInfo);let o=r;return new E(s.value<o.value?0:1,o.typeInfo)}Tan(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.tan(o)),r.typeInfo);let s=r;return new E(Math.tan(s.value),r.typeInfo)}Tanh(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.tanh(o)),r.typeInfo);let s=r;return new E(Math.tanh(s.value),r.typeInfo)}_getTransposeType(e){let t=e.getTypeName();return t==="mat2x2f"||t==="mat2x2h"?e:t==="mat2x3f"?this.getTypeInfo("mat3x2f"):t==="mat2x3h"?this.getTypeInfo("mat3x2h"):t==="mat2x4f"?this.getTypeInfo("mat4x2f"):t==="mat2x4h"?this.getTypeInfo("mat4x2h"):t==="mat3x2f"?this.getTypeInfo("mat2x3f"):t==="mat3x2h"?this.getTypeInfo("mat2x3h"):t==="mat3x3f"||t==="mat3x3h"?e:t==="mat3x4f"?this.getTypeInfo("mat4x3f"):t==="mat3x4h"?this.getTypeInfo("mat4x3h"):t==="mat4x2f"?this.getTypeInfo("mat2x4f"):t==="mat4x2h"?this.getTypeInfo("mat2x4h"):t==="mat4x3f"?this.getTypeInfo("mat3x4f"):t==="mat4x3h"?this.getTypeInfo("mat3x4h"):(t==="mat4x4f"||t==="mat4x4h"||console.error(`Invalid matrix type ${t}`),e)}Transpose(e,t){let r=this.exec.evalExpression(e.args[0],t);if(!(r instanceof H))return console.error(`Transpose() expects a matrix argument. Line ${e.line}`),null;let s=this._getTransposeType(r.typeInfo);if(r.typeInfo.name==="mat2x2"||r.typeInfo.name==="mat2x2f"||r.typeInfo.name==="mat2x2h"){let o=r.data;return new H([o[0],o[2],o[1],o[3]],s)}if(r.typeInfo.name==="mat2x3"||r.typeInfo.name==="mat2x3f"||r.typeInfo.name==="mat2x3h"){let o=r.data;return new H([o[0],o[3],o[6],o[1],o[4],o[7]],s)}if(r.typeInfo.name==="mat2x4"||r.typeInfo.name==="mat2x4f"||r.typeInfo.name==="mat2x4h"){let o=r.data;return new H([o[0],o[4],o[8],o[12],o[1],o[5],o[9],o[13]],s)}if(r.typeInfo.name==="mat3x2"||r.typeInfo.name==="mat3x2f"||r.typeInfo.name==="mat3x2h"){let o=r.data;return new H([o[0],o[3],o[1],o[4],o[2],o[5]],s)}if(r.typeInfo.name==="mat3x3"||r.typeInfo.name==="mat3x3f"||r.typeInfo.name==="mat3x3h"){let o=r.data;return new H([o[0],o[3],o[6],o[1],o[4],o[7],o[2],o[5],o[8]],s)}if(r.typeInfo.name==="mat3x4"||r.typeInfo.name==="mat3x4f"||r.typeInfo.name==="mat3x4h"){let o=r.data;return new H([o[0],o[4],o[8],o[12],o[1],o[5],o[9],o[13],o[2],o[6],o[10],o[14]],s)}if(r.typeInfo.name==="mat4x2"||r.typeInfo.name==="mat4x2f"||r.typeInfo.name==="mat4x2h"){let o=r.data;return new H([o[0],o[4],o[1],o[5],o[2],o[6]],s)}if(r.typeInfo.name==="mat4x3"||r.typeInfo.name==="mat4x3f"||r.typeInfo.name==="mat4x3h"){let o=r.data;return new H([o[0],o[4],o[8],o[1],o[5],o[9],o[2],o[6],o[10]],s)}if(r.typeInfo.name==="mat4x4"||r.typeInfo.name==="mat4x4f"||r.typeInfo.name==="mat4x4h"){let o=r.data;return new H([o[0],o[4],o[8],o[12],o[1],o[5],o[9],o[13],o[2],o[6],o[10],o[14],o[3],o[7],o[11],o[15]],s)}return console.error(`Invalid matrix type ${r.typeInfo.name}`),null}Trunc(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof b)return new b(r.data.map(o=>Math.trunc(o)),r.typeInfo);let s=r;return new E(Math.trunc(s.value),r.typeInfo)}Dpdx(e,t){return console.error(`TODO: dpdx. Line ${e.line}`),null}DpdxCoarse(e,t){return console.error(`TODO: dpdxCoarse. Line ${e.line}`),null}DpdxFine(e,t){return console.error("TODO: dpdxFine"),null}Dpdy(e,t){return console.error("TODO: dpdy"),null}DpdyCoarse(e,t){return console.error("TODO: dpdyCoarse"),null}DpdyFine(e,t){return console.error("TODO: dpdyFine"),null}Fwidth(e,t){return console.error("TODO: fwidth"),null}FwidthCoarse(e,t){return console.error("TODO: fwidthCoarse"),null}FwidthFine(e,t){return console.error("TODO: fwidthFine"),null}TextureDimensions(e,t){let r=e.args[0],s=e.args.length>1?this.exec.evalExpression(e.args[1],t).value:0;if(r instanceof dt){let o=r.name,i=t.getVariableValue(o);if(i instanceof tr){if(s<0||s>=i.mipLevelCount)return console.error(`Invalid mip level for textureDimensions. Line ${e.line}`),null;let a=i.getMipLevelSize(s),c=i.dimension;return c==="1d"?new E(a[0],this.getTypeInfo("u32")):c==="3d"?new b(a,this.getTypeInfo("vec3u")):c==="2d"?new b(a.slice(0,2),this.getTypeInfo("vec2u")):(console.error(`Invalid texture dimension ${c} not found. Line ${e.line}`),null)}return console.error(`Texture ${o} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureDimensions. Line ${e.line}`),null}TextureGather(e,t){return console.error("TODO: textureGather"),null}TextureGatherCompare(e,t){return console.error("TODO: textureGatherCompare"),null}TextureLoad(e,t){let r=e.args[0],s=this.exec.evalExpression(e.args[1],t),o=e.args.length>2?this.exec.evalExpression(e.args[2],t).value:0;if(!(s instanceof b)||s.data.length!==2)return console.error(`Invalid UV argument for textureLoad. Line ${e.line}`),null;if(r instanceof dt){let i=r.name,a=t.getVariableValue(i);if(a instanceof tr){let c=Math.floor(s.data[0]),u=Math.floor(s.data[1]);if(c<0||c>=a.width||u<0||u>=a.height)return console.error(`Texture ${i} out of bounds. Line ${e.line}`),null;let l=a.getPixel(c,u,0,o);return l===null?(console.error(`Invalid texture format for textureLoad. Line ${e.line}`),null):new b(l,this.getTypeInfo("vec4f"))}return console.error(`Texture ${i} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureLoad. Line ${e.line}`),null}TextureNumLayers(e,t){let r=e.args[0];if(r instanceof dt){let s=r.name,o=t.getVariableValue(s);return o instanceof tr?new E(o.depthOrArrayLayers,this.getTypeInfo("u32")):(console.error(`Texture ${s} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLayers. Line ${e.line}`),null}TextureNumLevels(e,t){let r=e.args[0];if(r instanceof dt){let s=r.name,o=t.getVariableValue(s);return o instanceof tr?new E(o.mipLevelCount,this.getTypeInfo("u32")):(console.error(`Texture ${s} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLevels. Line ${e.line}`),null}TextureNumSamples(e,t){let r=e.args[0];if(r instanceof dt){let s=r.name,o=t.getVariableValue(s);return o instanceof tr?new E(o.sampleCount,this.getTypeInfo("u32")):(console.error(`Texture ${s} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumSamples. Line ${e.line}`),null}TextureSample(e,t){return console.error("TODO: textureSample"),null}TextureSampleBias(e,t){return console.error("TODO: textureSampleBias"),null}TextureSampleCompare(e,t){return console.error("TODO: textureSampleCompare"),null}TextureSampleCompareLevel(e,t){return console.error("TODO: textureSampleCompareLevel"),null}TextureSampleGrad(e,t){return console.error("TODO: textureSampleGrad"),null}TextureSampleLevel(e,t){return console.error("TODO: textureSampleLevel"),null}TextureSampleBaseClampToEdge(e,t){return console.error("TODO: textureSampleBaseClampToEdge"),null}TextureStore(e,t){let r=e.args[0],s=this.exec.evalExpression(e.args[1],t),o=e.args.length===4?this.exec.evalExpression(e.args[2],t).value:0,i=e.args.length===4?this.exec.evalExpression(e.args[3],t).data:this.exec.evalExpression(e.args[2],t).data;if(i.length!==4)return console.error(`Invalid value argument for textureStore. Line ${e.line}`),null;if(!(s instanceof b)||s.data.length!==2)return console.error(`Invalid UV argument for textureStore. Line ${e.line}`),null;if(r instanceof dt){let a=r.name,c=t.getVariableValue(a);if(c instanceof tr){let u=c.getMipLevelSize(0),l=Math.floor(s.data[0]),f=Math.floor(s.data[1]);return l<0||l>=u[0]||f<0||f>=u[1]?(console.error(`Texture ${a} out of bounds. Line ${e.line}`),null):(c.setPixel(l,f,0,o,Array.from(i)),null)}return console.error(`Texture ${a} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureStore. Line ${e.line}`),null}AtomicLoad(e,t){let r=e.args[0];r instanceof Me&&(r=r.right);let s=this.exec.getVariableName(r,t);return t.getVariable(s).value.getSubData(this.exec,r.postfix,t)}AtomicStore(e,t){let r=e.args[0];r instanceof Me&&(r=r.right);let s=this.exec.getVariableName(r,t),o=t.getVariable(s),i=e.args[1],a=this.exec.evalExpression(i,t),c=o.value.getSubData(this.exec,r.postfix,t);return c instanceof E&&a instanceof E&&(c.value=a.value),o.value instanceof Ge&&o.value.setDataValue(this.exec,c,r.postfix,t),null}AtomicAdd(e,t){let r=e.args[0];r instanceof Me&&(r=r.right);let s=this.exec.getVariableName(r,t),o=t.getVariable(s),i=e.args[1],a=this.exec.evalExpression(i,t),c=o.value.getSubData(this.exec,r.postfix,t),u=new E(c.value,c.typeInfo);return c instanceof E&&a instanceof E&&(c.value+=a.value),o.value instanceof Ge&&o.value.setDataValue(this.exec,c,r.postfix,t),u}AtomicSub(e,t){let r=e.args[0];r instanceof Me&&(r=r.right);let s=this.exec.getVariableName(r,t),o=t.getVariable(s),i=e.args[1],a=this.exec.evalExpression(i,t),c=o.value.getSubData(this.exec,r.postfix,t),u=new E(c.value,c.typeInfo);return c instanceof E&&a instanceof E&&(c.value-=a.value),o.value instanceof Ge&&o.value.setDataValue(this.exec,c,r.postfix,t),u}AtomicMax(e,t){let r=e.args[0];r instanceof Me&&(r=r.right);let s=this.exec.getVariableName(r,t),o=t.getVariable(s),i=e.args[1],a=this.exec.evalExpression(i,t),c=o.value.getSubData(this.exec,r.postfix,t),u=new E(c.value,c.typeInfo);return c instanceof E&&a instanceof E&&(c.value=Math.max(c.value,a.value)),o.value instanceof Ge&&o.value.setDataValue(this.exec,c,r.postfix,t),u}AtomicMin(e,t){let r=e.args[0];r instanceof Me&&(r=r.right);let s=this.exec.getVariableName(r,t),o=t.getVariable(s),i=e.args[1],a=this.exec.evalExpression(i,t),c=o.value.getSubData(this.exec,r.postfix,t),u=new E(c.value,c.typeInfo);return c instanceof E&&a instanceof E&&(c.value=Math.min(c.value,a.value)),o.value instanceof Ge&&o.value.setDataValue(this.exec,c,r.postfix,t),u}AtomicAnd(e,t){let r=e.args[0];r instanceof Me&&(r=r.right);let s=this.exec.getVariableName(r,t),o=t.getVariable(s),i=e.args[1],a=this.exec.evalExpression(i,t),c=o.value.getSubData(this.exec,r.postfix,t),u=new E(c.value,c.typeInfo);return c instanceof E&&a instanceof E&&(c.value=c.value&a.value),o.value instanceof Ge&&o.value.setDataValue(this.exec,c,r.postfix,t),u}AtomicOr(e,t){let r=e.args[0];r instanceof Me&&(r=r.right);let s=this.exec.getVariableName(r,t),o=t.getVariable(s),i=e.args[1],a=this.exec.evalExpression(i,t),c=o.value.getSubData(this.exec,r.postfix,t),u=new E(c.value,c.typeInfo);return c instanceof E&&a instanceof E&&(c.value=c.value|a.value),o.value instanceof Ge&&o.value.setDataValue(this.exec,c,r.postfix,t),u}AtomicXor(e,t){let r=e.args[0];r instanceof Me&&(r=r.right);let s=this.exec.getVariableName(r,t),o=t.getVariable(s),i=e.args[1],a=this.exec.evalExpression(i,t),c=o.value.getSubData(this.exec,r.postfix,t),u=new E(c.value,c.typeInfo);return c instanceof E&&a instanceof E&&(c.value=c.value^a.value),o.value instanceof Ge&&o.value.setDataValue(this.exec,c,r.postfix,t),u}AtomicExchange(e,t){let r=e.args[0];r instanceof Me&&(r=r.right);let s=this.exec.getVariableName(r,t),o=t.getVariable(s),i=e.args[1],a=this.exec.evalExpression(i,t),c=o.value.getSubData(this.exec,r.postfix,t),u=new E(c.value,c.typeInfo);return c instanceof E&&a instanceof E&&(c.value=a.value),o.value instanceof Ge&&o.value.setDataValue(this.exec,c,r.postfix,t),u}AtomicCompareExchangeWeak(e,t){return console.error("TODO: atomicCompareExchangeWeak"),null}Pack4x8snorm(e,t){return console.error("TODO: pack4x8snorm"),null}Pack4x8unorm(e,t){return console.error("TODO: pack4x8unorm"),null}Pack4xI8(e,t){return console.error("TODO: pack4xI8"),null}Pack4xU8(e,t){return console.error("TODO: pack4xU8"),null}Pack4x8Clamp(e,t){return console.error("TODO: pack4x8Clamp"),null}Pack4xU8Clamp(e,t){return console.error("TODO: pack4xU8Clamp"),null}Pack2x16snorm(e,t){return console.error("TODO: pack2x16snorm"),null}Pack2x16unorm(e,t){return console.error("TODO: pack2x16unorm"),null}Pack2x16float(e,t){return console.error("TODO: pack2x16float"),null}Unpack4x8snorm(e,t){return console.error("TODO: unpack4x8snorm"),null}Unpack4x8unorm(e,t){return console.error("TODO: unpack4x8unorm"),null}Unpack4xI8(e,t){return console.error("TODO: unpack4xI8"),null}Unpack4xU8(e,t){return console.error("TODO: unpack4xU8"),null}Unpack2x16snorm(e,t){return console.error("TODO: unpack2x16snorm"),null}Unpack2x16unorm(e,t){return console.error("TODO: unpack2x16unorm"),null}Unpack2x16float(e,t){return console.error("TODO: unpack2x16float"),null}StorageBarrier(e,t){return null}TextureBarrier(e,t){return null}WorkgroupBarrier(e,t){return null}WorkgroupUniformLoad(e,t){return null}SubgroupAdd(e,t){return console.error("TODO: subgroupAdd"),null}SubgroupExclusiveAdd(e,t){return console.error("TODO: subgroupExclusiveAdd"),null}SubgroupInclusiveAdd(e,t){return console.error("TODO: subgroupInclusiveAdd"),null}SubgroupAll(e,t){return console.error("TODO: subgroupAll"),null}SubgroupAnd(e,t){return console.error("TODO: subgroupAnd"),null}SubgroupAny(e,t){return console.error("TODO: subgroupAny"),null}SubgroupBallot(e,t){return console.error("TODO: subgroupBallot"),null}SubgroupBroadcast(e,t){return console.error("TODO: subgroupBroadcast"),null}SubgroupBroadcastFirst(e,t){return console.error("TODO: subgroupBroadcastFirst"),null}SubgroupElect(e,t){return console.error("TODO: subgroupElect"),null}SubgroupMax(e,t){return console.error("TODO: subgroupMax"),null}SubgroupMin(e,t){return console.error("TODO: subgroupMin"),null}SubgroupMul(e,t){return console.error("TODO: subgroupMul"),null}SubgroupExclusiveMul(e,t){return console.error("TODO: subgroupExclusiveMul"),null}SubgroupInclusiveMul(e,t){return console.error("TODO: subgroupInclusiveMul"),null}SubgroupOr(e,t){return console.error("TODO: subgroupOr"),null}SubgroupShuffle(e,t){return console.error("TODO: subgroupShuffle"),null}SubgroupShuffleDown(e,t){return console.error("TODO: subgroupShuffleDown"),null}SubgroupShuffleUp(e,t){return console.error("TODO: subgroupShuffleUp"),null}SubgroupShuffleXor(e,t){return console.error("TODO: subgroupShuffleXor"),null}SubgroupXor(e,t){return console.error("TODO: subgroupXor"),null}QuadBroadcast(e,t){return console.error("TODO: quadBroadcast"),null}QuadSwapDiagonal(e,t){return console.error("TODO: quadSwapDiagonal"),null}QuadSwapX(e,t){return console.error("TODO: quadSwapX"),null}QuadSwapY(e,t){return console.error("TODO: quadSwapY"),null}},Dp={vec2:2,vec2f:2,vec2i:2,vec2u:2,vec2b:2,vec2h:2,vec3:3,vec3f:3,vec3i:3,vec3u:3,vec3b:3,vec3h:3,vec4:4,vec4f:4,vec4i:4,vec4u:4,vec4b:4,vec4h:4},mt={mat2x2:[2,2,4],mat2x2f:[2,2,4],mat2x2h:[2,2,4],mat2x3:[2,3,6],mat2x3f:[2,3,6],mat2x3h:[2,3,6],mat2x4:[2,4,8],mat2x4f:[2,4,8],mat2x4h:[2,4,8],mat3x2:[3,2,6],mat3x2f:[3,2,6],mat3x2h:[3,2,6],mat3x3:[3,3,9],mat3x3f:[3,3,9],mat3x3h:[3,3,9],mat3x4:[3,4,12],mat3x4f:[3,4,12],mat3x4h:[3,4,12],mat4x2:[4,2,8],mat4x2f:[4,2,8],mat4x2h:[4,2,8],mat4x3:[4,3,12],mat4x3f:[4,3,12],mat4x3h:[4,3,12],mat4x4:[4,4,16],mat4x4f:[4,4,16],mat4x4h:[4,4,16]},si=class n extends Yp{constructor(e,t){var r;super(),this.ast=e??[],this.reflection=new Ds,this.reflection.updateAST(this.ast),this.context=(r=t?.clone())!==null&&r!==void 0?r:new Xp,this.builtins=new Qp(this),this.typeInfo={bool:this.getTypeInfo(k.bool),i32:this.getTypeInfo(k.i32),u32:this.getTypeInfo(k.u32),f32:this.getTypeInfo(k.f32),f16:this.getTypeInfo(k.f16),vec2f:this.getTypeInfo(S.vec2f),vec2u:this.getTypeInfo(S.vec2u),vec2i:this.getTypeInfo(S.vec2i),vec2h:this.getTypeInfo(S.vec2h),vec3f:this.getTypeInfo(S.vec3f),vec3u:this.getTypeInfo(S.vec3u),vec3i:this.getTypeInfo(S.vec3i),vec3h:this.getTypeInfo(S.vec3h),vec4f:this.getTypeInfo(S.vec4f),vec4u:this.getTypeInfo(S.vec4u),vec4i:this.getTypeInfo(S.vec4i),vec4h:this.getTypeInfo(S.vec4h),mat2x2f:this.getTypeInfo(S.mat2x2f),mat2x3f:this.getTypeInfo(S.mat2x3f),mat2x4f:this.getTypeInfo(S.mat2x4f),mat3x2f:this.getTypeInfo(S.mat3x2f),mat3x3f:this.getTypeInfo(S.mat3x3f),mat3x4f:this.getTypeInfo(S.mat3x4f),mat4x2f:this.getTypeInfo(S.mat4x2f),mat4x3f:this.getTypeInfo(S.mat4x3f),mat4x4f:this.getTypeInfo(S.mat4x4f)}}getVariableValue(e){var t,r;let s=(r=(t=this.context.getVariable(e))===null||t===void 0?void 0:t.value)!==null&&r!==void 0?r:null;if(s===null)return null;if(s instanceof E)return s.value;if(s instanceof b||s instanceof H)return Array.from(s.data);if(s instanceof Ge&&s.typeInfo instanceof Mn){if(s.typeInfo.format.name==="u32")return Array.from(new Uint32Array(s.buffer,s.offset,s.typeInfo.count));if(s.typeInfo.format.name==="i32")return Array.from(new Int32Array(s.buffer,s.offset,s.typeInfo.count));if(s.typeInfo.format.name==="f32")return Array.from(new Float32Array(s.buffer,s.offset,s.typeInfo.count))}return console.error(`Unsupported return variable type ${s.typeInfo.name}`),null}execute(e){(e=e??{}).constants&&this._setOverrides(e.constants,this.context),this._execStatements(this.ast,this.context)}dispatchWorkgroups(e,t,r,s){let o=this.context.clone();(s=s??{}).constants&&this._setOverrides(s.constants,o),this._execStatements(this.ast,o);let i=o.getFunction(e);if(!i)return void console.error(`Function ${e} not found`);if(typeof t=="number")t=[t,1,1];else{if(t.length===0)return void console.error("Invalid dispatch count");t.length===1?t=[t[0],1,1]:t.length===2?t=[t[0],t[1],1]:t.length>3&&(t=[t[0],t[1],t[2]])}let a=t[0],c=t[1],u=t[2],l=this.getTypeInfo("vec3u");o.setVariable("@num_workgroups",new b(t,l));let f=this.reflection.getFunctionInfo(e);f===null&&console.error(`Function ${e} not found in reflection data`);for(let h in r)for(let d in r[h]){let p=r[h][d];o.variables.forEach(A=>{var _;let m=A.node;if(m?.attributes){let g=null,y=null;for(let v of m.attributes)v.name==="binding"?g=v.value:v.name==="group"&&(y=v.value);if(d==g&&h==y){let v=!1;for(let V of f.resources)if(V.name===A.name&&V.group===parseInt(h)&&V.binding===parseInt(d)){v=!0;break}if(v)if(p.texture!==void 0&&p.descriptor!==void 0){let V=new tr(p.texture,this.getTypeInfo(m.type),p.descriptor,(_=p.texture.view)!==null&&_!==void 0?_:null);A.value=V}else p.uniform!==void 0?A.value=new Ge(p.uniform,this.getTypeInfo(m.type)):A.value=new Ge(p,this.getTypeInfo(m.type))}}})}for(let h=0;h<u;++h)for(let d=0;d<c;++d)for(let p=0;p<a;++p)o.setVariable("@workgroup_id",new b([p,d,h],this.getTypeInfo("vec3u"))),this._dispatchWorkgroup(i,[p,d,h],o)}execStatement(e,t){if(e instanceof _l)return this.evalExpression(e.value,t);if(e instanceof Bl){if(e.condition){let r=this.evalExpression(e.condition,t);if(!(r instanceof E))throw new Error("Invalid break-if condition");if(!r.value)return null}return n._breakObj}if(e instanceof El)return n._continueObj;if(e instanceof Vs)this._let(e,t);else if(e instanceof fn)this._var(e,t);else if(e instanceof ti)this._const(e,t);else if(e instanceof Is)this._function(e,t);else{if(e instanceof wl)return this._if(e,t);if(e instanceof vl)return this._switch(e,t);if(e instanceof yl)return this._for(e,t);if(e instanceof gl)return this._while(e,t);if(e instanceof bl)return this._loop(e,t);if(e instanceof La){let r=t.clone();return r.currentFunctionName=t.currentFunctionName,this._execStatements(e.body,r)}if(e instanceof Al)this._assign(e,t);else if(e instanceof xl)this._increment(e,t);else{if(e instanceof ln)return null;if(e instanceof Ga){let r=e.name;t.getVariable(r)===null&&t.setVariable(r,new E(0,this.getTypeInfo("u32")))}else if(e instanceof Ua)this._call(e,t);else{if(e instanceof Tl||e instanceof Fa)return null;console.error("Invalid statement type.",e,`Line ${e.line}`)}}}return null}evalExpression(e,t){return e instanceof Ut?this._evalBinaryOp(e,t):e instanceof Re?this._evalLiteral(e,t):e instanceof dt?this._evalVariable(e,t):e instanceof Na?this._evalCall(e,t):e instanceof nn?this._evalCreate(e,t):e instanceof Ml?this._evalConst(e,t):e instanceof Cl?this._evalBitcast(e,t):e instanceof Me?this._evalUnaryOp(e,t):(console.error("Invalid expression type",e,`Line ${e.line}`),null)}getTypeInfo(e){var t;if(e instanceof k){let s=this.reflection.getTypeInfo(e);if(s!==null)return s}let r=(t=this.typeInfo[e])!==null&&t!==void 0?t:null;return r!==null||(r=this.reflection.getTypeInfoByName(e)),r}_setOverrides(e,t){for(let r in e){let s=e[r],o=this.reflection.getOverrideInfo(r);o!==null?(o.type===null&&(o.type=this.getTypeInfo("u32")),o.type.name==="u32"||o.type.name==="i32"||o.type.name==="f32"||o.type.name==="f16"?t.setVariable(r,new E(s,o.type)):o.type.name==="bool"?t.setVariable(r,new E(s?1:0,o.type)):o.type.name==="vec2"||o.type.name==="vec3"||o.type.name==="vec4"||o.type.name==="vec2f"||o.type.name==="vec3f"||o.type.name==="vec4f"||o.type.name==="vec2i"||o.type.name==="vec3i"||o.type.name==="vec4i"||o.type.name==="vec2u"||o.type.name==="vec3u"||o.type.name==="vec4u"||o.type.name==="vec2h"||o.type.name==="vec3h"||o.type.name==="vec4h"?t.setVariable(r,new b(s,o.type)):console.error(`Invalid constant type for ${r}`)):console.error(`Override ${r} does not exist in the shader.`)}}_dispatchWorkgroup(e,t,r){let s=[1,1,1];for(let l of e.node.attributes)if(l.name==="workgroup_size"){if(l.value.length>0){let f=r.getVariableValue(l.value[0]);s[0]=f instanceof E?f.value:parseInt(l.value[0])}if(l.value.length>1){let f=r.getVariableValue(l.value[1]);s[1]=f instanceof E?f.value:parseInt(l.value[1])}if(l.value.length>2){let f=r.getVariableValue(l.value[2]);s[2]=f instanceof E?f.value:parseInt(l.value[2])}}let o=this.getTypeInfo("vec3u"),i=this.getTypeInfo("u32");r.setVariable("@workgroup_size",new b(s,o));let a=s[0],c=s[1],u=s[2];for(let l=0,f=0;l<u;++l)for(let h=0;h<c;++h)for(let d=0;d<a;++d,++f){let p=[d,h,l],A=[d+t[0]*s[0],h+t[1]*s[1],l+t[2]*s[2]];r.setVariable("@local_invocation_id",new b(p,o)),r.setVariable("@global_invocation_id",new b(A,o)),r.setVariable("@local_invocation_index",new E(f,i)),this._dispatchExec(e,r)}}_dispatchExec(e,t){for(let r of e.node.args)for(let s of r.attributes)if(s.name==="builtin"){let o=`@${s.value}`,i=t.getVariable(o);i!==void 0&&t.variables.set(r.name,i)}this._execStatements(e.node.body,t)}getVariableName(e,t){for(;e instanceof Me;)e=e.right;return e instanceof dt?e.name:(console.error("Unknown variable type",e,"Line",e.line),null)}_execStatements(e,t){for(let r of e){if(r instanceof Array){let o=t.clone(),i=this._execStatements(r,o);if(i)return i;continue}let s=this.execStatement(r,t);if(s)return s}return null}_call(e,t){let r=t.clone();r.currentFunctionName=e.name;let s=t.getFunction(e.name);if(s){for(let o=0;o<s.node.args.length;++o){let i=s.node.args[o],a=this.evalExpression(e.args[o],r);r.setVariable(i.name,a,i)}this._execStatements(s.node.body,r)}else e.isBuiltin?this._callBuiltinFunction(e,r):this.getTypeInfo(e.name)&&this._evalCreate(e,t)}_increment(e,t){let r=this.getVariableName(e.variable,t),s=t.getVariable(r);s?e.operator==="++"?s.value instanceof E?s.value.value++:console.error(`Variable ${r} is not a scalar. Line ${e.line}`):e.operator==="--"?s.value instanceof E?s.value.value--:console.error(`Variable ${r} is not a scalar. Line ${e.line}`):console.error(`Unknown increment operator ${e.operator}. Line ${e.line}`):console.error(`Variable ${r} not found. Line ${e.line}`)}_getVariableData(e,t){if(e instanceof dt){let r=this.getVariableName(e,t),s=t.getVariable(r);return s===null?(console.error(`Variable ${r} not found. Line ${e.line}`),null):s.value.getSubData(this,e.postfix,t)}if(e instanceof Me){if(e.operator==="*"){let r=this._getVariableData(e.right,t);return r instanceof Kr?r.reference.getSubData(this,e.postfix,t):(console.error(`Variable ${e.right} is not a pointer. Line ${e.line}`),null)}if(e.operator==="&"){let r=this._getVariableData(e.right,t);return new Kr(r)}}return null}_assign(e,t){let r=null,s="<var>",o=null;if(e.variable instanceof Me){let c=this._getVariableData(e.variable,t),u=this.evalExpression(e.value,t),l=e.operator;if(l==="="){if(c instanceof E||c instanceof b||c instanceof H){if(u instanceof E||u instanceof b||u instanceof H&&c.data.length===u.data.length)return void c.data.set(u.data);console.error(`Invalid assignment. Line ${e.line}`)}else if(c instanceof Ge&&u instanceof Ge&&c.buffer.byteLength-c.offset>=u.buffer.byteLength-u.offset)return void(c.buffer.byteLength%4==0?new Uint32Array(c.buffer,c.offset,c.typeInfo.size/4).set(new Uint32Array(u.buffer,u.offset,u.typeInfo.size/4)):new Uint8Array(c.buffer,c.offset,c.typeInfo.size).set(new Uint8Array(u.buffer,u.offset,u.typeInfo.size)));return console.error(`Invalid assignment. Line ${e.line}`),null}if(l==="+=")return c instanceof E||c instanceof b||c instanceof H?u instanceof E||u instanceof b||u instanceof H?void c.data.set(u.data.map((f,h)=>c.data[h]+f)):void console.error(`Invalid assignment . Line ${e.line}`):void console.error(`Invalid assignment. Line ${e.line}`);if(l==="-=")return(c instanceof E||c instanceof b||c instanceof H)&&(u instanceof E||u instanceof b||u instanceof H)?void c.data.set(u.data.map((f,h)=>c.data[h]-f)):void console.error(`Invalid assignment. Line ${e.line}`)}if(e.variable instanceof Me){if(e.variable.operator==="*"){s=this.getVariableName(e.variable.right,t);let c=t.getVariable(s);if(!(c&&c.value instanceof Kr))return void console.error(`Variable ${s} is not a pointer. Line ${e.line}`);r=c.value.reference;let u=e.variable.postfix;if(!u){let l=e.variable.right;for(;l instanceof Me;){if(l.postfix){u=l.postfix;break}l=l.right}}u&&(r=r.getSubData(this,u,t))}}else{o=e.variable.postfix,s=this.getVariableName(e.variable,t);let c=t.getVariable(s);if(c===null)return void console.error(`Variable ${s} not found. Line ${e.line}`);r=c.value}if(r instanceof Kr&&(r=r.reference),r===null)return void console.error(`Variable ${s} not found. Line ${e.line}`);let i=this.evalExpression(e.value,t),a=e.operator;if(a!=="="){let c=r.getSubData(this,o,t);if(c instanceof b&&i instanceof E){let u=c.data,l=i.value;if(a==="+=")for(let f=0;f<u.length;++f)u[f]+=l;else if(a==="-=")for(let f=0;f<u.length;++f)u[f]-=l;else if(a==="*=")for(let f=0;f<u.length;++f)u[f]*=l;else if(a==="/=")for(let f=0;f<u.length;++f)u[f]/=l;else if(a==="%=")for(let f=0;f<u.length;++f)u[f]%=l;else if(a==="&=")for(let f=0;f<u.length;++f)u[f]&=l;else if(a==="|=")for(let f=0;f<u.length;++f)u[f]|=l;else if(a==="^=")for(let f=0;f<u.length;++f)u[f]^=l;else if(a==="<<=")for(let f=0;f<u.length;++f)u[f]<<=l;else if(a===">>=")for(let f=0;f<u.length;++f)u[f]>>=l;else console.error(`Invalid operator ${a}. Line ${e.line}`)}else if(c instanceof b&&i instanceof b){let u=c.data,l=i.data;if(u.length!==l.length)return void console.error(`Vector length mismatch. Line ${e.line}`);if(a==="+=")for(let f=0;f<u.length;++f)u[f]+=l[f];else if(a==="-=")for(let f=0;f<u.length;++f)u[f]-=l[f];else if(a==="*=")for(let f=0;f<u.length;++f)u[f]*=l[f];else if(a==="/=")for(let f=0;f<u.length;++f)u[f]/=l[f];else if(a==="%=")for(let f=0;f<u.length;++f)u[f]%=l[f];else if(a==="&=")for(let f=0;f<u.length;++f)u[f]&=l[f];else if(a==="|=")for(let f=0;f<u.length;++f)u[f]|=l[f];else if(a==="^=")for(let f=0;f<u.length;++f)u[f]^=l[f];else if(a==="<<=")for(let f=0;f<u.length;++f)u[f]<<=l[f];else if(a===">>=")for(let f=0;f<u.length;++f)u[f]>>=l[f];else console.error(`Invalid operator ${a}. Line ${e.line}`)}else{if(!(c instanceof E&&i instanceof E))return void console.error(`Invalid type for ${e.operator} operator. Line ${e.line}`);a==="+="?c.value+=i.value:a==="-="?c.value-=i.value:a==="*="?c.value*=i.value:a==="/="?c.value/=i.value:a==="%="?c.value%=i.value:a==="&="?c.value&=i.value:a==="|="?c.value|=i.value:a==="^="?c.value^=i.value:a==="<<="?c.value<<=i.value:a===">>="?c.value>>=i.value:console.error(`Invalid operator ${a}. Line ${e.line}`)}return void(r instanceof Ge&&r.setDataValue(this,c,o,t))}if(r instanceof Ge)r.setDataValue(this,i,o,t);else if(o){if(!(r instanceof b||r instanceof H))return void console.error(`Variable ${s} is not a vector or matrix. Line ${e.line}`);if(o instanceof Jr){let c=this.evalExpression(o.index,t).value;if(r instanceof b){if(!(i instanceof E))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[c]=i.value}else{if(!(r instanceof H))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);{let u=this.evalExpression(o.index,t).value;if(u<0)return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);if(!(i instanceof b))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);{let l=r.typeInfo.getTypeName();if(l==="mat2x2"||l==="mat2x2f"||l==="mat2x2h"){if(!(u<2&&i.data.length===2))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[2*u]=i.data[0],r.data[2*u+1]=i.data[1]}else if(l==="mat2x3"||l==="mat2x3f"||l==="mat2x3h"){if(!(u<2&&i.data.length===3))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[3*u]=i.data[0],r.data[3*u+1]=i.data[1],r.data[3*u+2]=i.data[2]}else if(l==="mat2x4"||l==="mat2x4f"||l==="mat2x4h"){if(!(u<2&&i.data.length===4))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[4*u]=i.data[0],r.data[4*u+1]=i.data[1],r.data[4*u+2]=i.data[2],r.data[4*u+3]=i.data[3]}else if(l==="mat3x2"||l==="mat3x2f"||l==="mat3x2h"){if(!(u<3&&i.data.length===2))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[2*u]=i.data[0],r.data[2*u+1]=i.data[1]}else if(l==="mat3x3"||l==="mat3x3f"||l==="mat3x3h"){if(!(u<3&&i.data.length===3))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[3*u]=i.data[0],r.data[3*u+1]=i.data[1],r.data[3*u+2]=i.data[2]}else if(l==="mat3x4"||l==="mat3x4f"||l==="mat3x4h"){if(!(u<3&&i.data.length===4))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[4*u]=i.data[0],r.data[4*u+1]=i.data[1],r.data[4*u+2]=i.data[2],r.data[4*u+3]=i.data[3]}else if(l==="mat4x2"||l==="mat4x2f"||l==="mat4x2h"){if(!(u<4&&i.data.length===2))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[2*u]=i.data[0],r.data[2*u+1]=i.data[1]}else if(l==="mat4x3"||l==="mat4x3f"||l==="mat4x3h"){if(!(u<4&&i.data.length===3))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[3*u]=i.data[0],r.data[3*u+1]=i.data[1],r.data[3*u+2]=i.data[2]}else{if(l!=="mat4x4"&&l!=="mat4x4f"&&l!=="mat4x4h")return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);if(!(u<4&&i.data.length===4))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[4*u]=i.data[0],r.data[4*u+1]=i.data[1],r.data[4*u+2]=i.data[2],r.data[4*u+3]=i.data[3]}}}}}else if(o instanceof rr){let c=o.value;if(!(r instanceof b))return void console.error(`Invalid assignment to ${c}. Variable ${s} is not a vector. Line ${e.line}`);if(i instanceof E){if(c.length>1)return void console.error(`Invalid assignment to ${c} for variable ${s}. Line ${e.line}`);if(c==="x")r.data[0]=i.value;else if(c==="y"){if(r.data.length<2)return void console.error(`Invalid assignment to ${c} for variable ${s}. Line ${e.line}`);r.data[1]=i.value}else if(c==="z"){if(r.data.length<3)return void console.error(`Invalid assignment to ${c} for variable ${s}. Line ${e.line}`);r.data[2]=i.value}else if(c==="w"){if(r.data.length<4)return void console.error(`Invalid assignment to ${c} for variable ${s}. Line ${e.line}`);r.data[3]=i.value}}else{if(!(i instanceof b))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);if(c.length!==i.data.length)return void console.error(`Invalid assignment to ${c} for variable ${s}. Line ${e.line}`);for(let u=0;u<c.length;++u){let l=c[u];if(l==="x"||l==="r")r.data[0]=i.data[u];else if(l==="y"||l==="g"){if(i.data.length<2)return void console.error(`Invalid assignment to ${l} for variable ${s}. Line ${e.line}`);r.data[1]=i.data[u]}else if(l==="z"||l==="b"){if(i.data.length<3)return void console.error(`Invalid assignment to ${l} for variable ${s}. Line ${e.line}`);r.data[2]=i.data[u]}else{if(l!=="w"&&l!=="a")return void console.error(`Invalid assignment to ${l} for variable ${s}. Line ${e.line}`);if(i.data.length<4)return void console.error(`Invalid assignment to ${l} for variable ${s}. Line ${e.line}`);r.data[3]=i.data[u]}}}}}else r instanceof E&&i instanceof E?r.value=i.value:r instanceof b&&i instanceof b||r instanceof H&&i instanceof H?r.data.set(i.data):console.error(`Invalid assignment to ${s}. Line ${e.line}`)}_function(e,t){let r=new qp(e);t.functions.set(e.name,r)}_const(e,t){let r=null;e.value!==null&&(r=this.evalExpression(e.value,t)),t.createVariable(e.name,r,e)}_let(e,t){let r=null;if(e.value!==null){if(r=this.evalExpression(e.value,t),r===null)return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof Me||(r=r.clone())}else{let s=e.type.name;if(s==="f32"||s==="i32"||s==="u32"||s==="bool"||s==="f16"||s==="vec2"||s==="vec3"||s==="vec4"||s==="vec2f"||s==="vec3f"||s==="vec4f"||s==="vec2i"||s==="vec3i"||s==="vec4i"||s==="vec2u"||s==="vec3u"||s==="vec4u"||s==="vec2h"||s==="vec3h"||s==="vec4h"||s==="vec2b"||s==="vec3b"||s==="vec4b"||s==="mat2x2"||s==="mat2x3"||s==="mat2x4"||s==="mat3x2"||s==="mat3x3"||s==="mat3x4"||s==="mat4x2"||s==="mat4x3"||s==="mat4x4"||s==="mat2x2f"||s==="mat2x3f"||s==="mat2x4f"||s==="mat3x2f"||s==="mat3x3f"||s==="mat3x4f"||s==="mat4x2f"||s==="mat4x3f"||s==="mat4x4f"||s==="mat2x2h"||s==="mat2x3h"||s==="mat2x4h"||s==="mat3x2h"||s==="mat3x3h"||s==="mat3x4h"||s==="mat4x2h"||s==="mat4x3h"||s==="mat4x4h"||s==="array"){let o=new nn(e.type,[]);r=this._evalCreate(o,t)}}t.createVariable(e.name,r,e)}_var(e,t){let r=null;if(e.value!==null){if(r=this.evalExpression(e.value,t),r===null)return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof Me||(r=r.clone())}else{if(e.type===null)return void console.error(`Variable ${e.name} has no type. Line ${e.line}`);let s=e.type.name;if(s==="f32"||s==="i32"||s==="u32"||s==="bool"||s==="f16"||s==="vec2"||s==="vec3"||s==="vec4"||s==="vec2f"||s==="vec3f"||s==="vec4f"||s==="vec2i"||s==="vec3i"||s==="vec4i"||s==="vec2u"||s==="vec3u"||s==="vec4u"||s==="vec2h"||s==="vec3h"||s==="vec4h"||s==="vec2b"||s==="vec3b"||s==="vec4b"||s==="mat2x2"||s==="mat2x3"||s==="mat2x4"||s==="mat3x2"||s==="mat3x3"||s==="mat3x4"||s==="mat4x2"||s==="mat4x3"||s==="mat4x4"||s==="mat2x2f"||s==="mat2x3f"||s==="mat2x4f"||s==="mat3x2f"||s==="mat3x3f"||s==="mat3x4f"||s==="mat4x2f"||s==="mat4x3f"||s==="mat4x4f"||s==="mat2x2h"||s==="mat2x3h"||s==="mat2x4h"||s==="mat3x2h"||s==="mat3x3h"||s==="mat3x4h"||s==="mat4x2h"||s==="mat4x3h"||s==="mat4x4h"||e.type instanceof Rs||e.type instanceof ln||e.type instanceof S){let o=new nn(e.type,[]);r=this._evalCreate(o,t)}}t.createVariable(e.name,r,e)}_switch(e,t){t=t.clone();let r=this.evalExpression(e.condition,t);if(!(r instanceof E))return console.error(`Invalid if condition. Line ${e.line}`),null;let s=null;for(let o of e.cases)if(o instanceof Dl)for(let i of o.selectors){if(i instanceof ri){s=o;continue}let a=this.evalExpression(i,t);if(!(a instanceof E))return console.error(`Invalid case selector. Line ${e.line}`),null;if(a.value===r.value)return this._execStatements(o.body,t)}else o instanceof Il&&(s=o);return s?this._execStatements(s.body,t):null}_if(e,t){t=t.clone();let r=this.evalExpression(e.condition,t);if(!(r instanceof E))return console.error(`Invalid if condition. Line ${e.line}`),null;if(r.value)return this._execStatements(e.body,t);for(let s of e.elseif){let o=this.evalExpression(s.condition,t);if(!(o instanceof E))return console.error(`Invalid if condition. Line ${e.line}`),null;if(o.value)return this._execStatements(s.body,t)}return e.else?this._execStatements(e.else,t):null}_getScalarValue(e){return e instanceof E?e.value:(console.error("Expected scalar value.",e),0)}_for(e,t){for(t=t.clone(),this.execStatement(e.init,t);this._getScalarValue(this.evalExpression(e.condition,t));){let r=this._execStatements(e.body,t);if(r===n._breakObj)break;if(r!==null&&r!==n._continueObj)return r;this.execStatement(e.increment,t)}return null}_loop(e,t){for(t=t.clone();;){let r=this._execStatements(e.body,t);if(r===n._breakObj)break;if(r===n._continueObj){if(e.continuing&&this._execStatements(e.continuing.body,t)===n._breakObj)break}else if(r!==null)return r}return null}_while(e,t){for(t=t.clone();this._getScalarValue(this.evalExpression(e.condition,t));){let r=this._execStatements(e.body,t);if(r===n._breakObj)break;if(r!==n._continueObj&&r!==null)return r}return null}_evalBitcast(e,t){let r=this.evalExpression(e.value,t),s=e.type;if(r instanceof E){let o=rv(r.value,r.typeInfo.name,s.name);return new E(o,this.getTypeInfo(s))}if(r instanceof b){let o=r.typeInfo.getTypeName(),i="";if(o.endsWith("f"))i="f32";else if(o.endsWith("i"))i="i32";else if(o.endsWith("u"))i="u32";else if(o.endsWith("b"))i="bool";else{if(!o.endsWith("h"))return console.error(`Unknown vector type ${o}. Line ${e.line}`),null;i="f16"}let a=s.getTypeName(),c="";if(a.endsWith("f"))c="f32";else if(a.endsWith("i"))c="i32";else if(a.endsWith("u"))c="u32";else if(a.endsWith("b"))c="bool";else{if(!a.endsWith("h"))return console.error(`Unknown vector type ${c}. Line ${e.line}`),null;c="f16"}let u=(function(l,f,h){if(f===h)return l;let d=new Array(l.length);for(let p=0;p<l.length;p++)d[p]=rv(l[p],f,h);return d})(Array.from(r.data),i,c);return new b(u,this.getTypeInfo(s))}return console.error(`TODO: bitcast for ${r.typeInfo.name}. Line ${e.line}`),null}_evalConst(e,t){return t.getVariableValue(e.name).clone().getSubData(this,e.postfix,t)}_evalCreate(e,t){var r;if(e instanceof nn){if(e.type===null)return za.void;switch(e.type.getTypeName()){case"bool":case"i32":case"u32":case"f32":case"f16":return this._callConstructorValue(e,t);case"vec2":case"vec3":case"vec4":case"vec2f":case"vec3f":case"vec4f":case"vec2h":case"vec3h":case"vec4h":case"vec2i":case"vec3i":case"vec4i":case"vec2u":case"vec3u":case"vec4u":case"vec2b":case"vec3b":case"vec4b":return this._callConstructorVec(e,t);case"mat2x2":case"mat2x2f":case"mat2x2h":case"mat2x3":case"mat2x3f":case"mat2x3h":case"mat2x4":case"mat2x4f":case"mat2x4h":case"mat3x2":case"mat3x2f":case"mat3x2h":case"mat3x3":case"mat3x3f":case"mat3x3h":case"mat3x4":case"mat3x4f":case"mat3x4h":case"mat4x2":case"mat4x2f":case"mat4x2h":case"mat4x3":case"mat4x3f":case"mat4x3h":case"mat4x4":case"mat4x4f":case"mat4x4h":return this._callConstructorMatrix(e,t)}}let s=e instanceof nn?e.type.name:e.name,o=e instanceof nn?this.getTypeInfo(e.type):this.getTypeInfo(e.name);if(o===null)return console.error(`Unknown type ${s}. Line ${e.line}`),null;if(o.size===0)return null;let i=new Ge(new ArrayBuffer(o.size),o,0);if(o instanceof Sn){if(e.args)for(let a=0;a<e.args.length;++a){let c=o.members[a],u=e.args[a],l=this.evalExpression(u,t);i.setData(this,l,c.type,c.offset,t)}}else if(o instanceof Mn){let a=0;if(e.args)for(let c=0;c<e.args.length;++c){let u=e.args[c],l=this.evalExpression(u,t);o.format===null&&(((r=l.typeInfo)===null||r===void 0?void 0:r.name)==="x32"?o.format=this.getTypeInfo("i32"):o.format=l.typeInfo),i.setData(this,l,o.format,a,t),a+=o.stride}}else console.error(`Unknown type "${s}". Line ${e.line}`);return e instanceof nn?i.getSubData(this,e.postfix,t):i}_evalLiteral(e,t){let r=this.getTypeInfo(e.type),s=r.name;return s==="x32"||s==="u32"||s==="f32"||s==="f16"||s==="i32"||s==="bool"?new E(e.scalarValue,r):s==="vec2"||s==="vec3"||s==="vec4"||s==="vec2f"||s==="vec3f"||s==="vec4f"||s==="vec2h"||s==="vec3h"||s==="vec4h"||s==="vec2i"||s==="vec3i"||s==="vec4i"||s==="vec2u"||s==="vec3u"||s==="vec4u"?this._callConstructorVec(e,t):s==="mat2x2"||s==="mat2x3"||s==="mat2x4"||s==="mat3x2"||s==="mat3x3"||s==="mat3x4"||s==="mat4x2"||s==="mat4x3"||s==="mat4x4"||s==="mat2x2f"||s==="mat2x3f"||s==="mat2x4f"||s==="mat3x2f"||s==="mat3x3f"||s==="mat3x4f"||s==="mat4x2f"||s==="mat4x3f"||s==="mat4x4f"||s==="mat2x2h"||s==="mat2x3h"||s==="mat2x4h"||s==="mat3x2h"||s==="mat3x3h"||s==="mat3x4h"||s==="mat4x2h"||s==="mat4x3h"||s==="mat4x4h"?this._callConstructorMatrix(e,t):e.value}_evalVariable(e,t){let r=t.getVariableValue(e.name);return r===null?r:r.getSubData(this,e.postfix,t)}_maxFormatTypeInfo(e){let t=e[0];if(t.name==="f32")return t;for(let r=1;r<e.length;++r){let s=n._priority.get(t.name);n._priority.get(e[r].name)<s&&(t=e[r])}return t.name==="x32"?this.getTypeInfo("i32"):t}_evalUnaryOp(e,t){let r=this.evalExpression(e.right,t);if(e.operator==="&")return new Kr(r);if(e.operator==="*")return r instanceof Kr?r.reference.getSubData(this,e.postfix,t):(console.error(`Invalid dereference. Line ${e.line}`),null);let s=r instanceof E?r.value:r instanceof b?Array.from(r.data):null;switch(e.operator){case"+":{if(N(s)){let a=s.map((c,u)=>+c);return new b(a,r.typeInfo)}let o=s,i=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new E(+o,i)}case"-":{if(N(s)){let a=s.map((c,u)=>-c);return new b(a,r.typeInfo)}let o=s,i=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new E(-o,i)}case"!":{if(N(s)){let a=s.map((c,u)=>c?0:1);return new b(a,r.typeInfo)}let o=s,i=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new E(o?0:1,i)}case"~":{if(N(s)){let a=s.map((c,u)=>~c);return new b(a,r.typeInfo)}let o=s,i=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new E(~o,i)}}return console.error(`Invalid unary operator ${e.operator}. Line ${e.line}`),null}_evalBinaryOp(e,t){let r=this.evalExpression(e.left,t),s=this.evalExpression(e.right,t),o=r instanceof E?r.value:r instanceof b||r instanceof H?Array.from(r.data):null,i=s instanceof E?s.value:s instanceof b||s instanceof H?Array.from(s.data):null;switch(e.operator){case"+":{if(N(o)&&N(i)){let l=o,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let h=l.map((d,p)=>d+f[p]);return new b(h,r.typeInfo)}if(N(o)){let l=i,f=o.map((h,d)=>h+l);return new b(f,r.typeInfo)}if(N(i)){let l=o,f=i.map((h,d)=>l+h);return new b(f,s.typeInfo)}let a=o,c=i,u=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new E(a+c,u)}case"-":{if(N(o)&&N(i)){let l=o,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let h=l.map((d,p)=>d-f[p]);return new b(h,r.typeInfo)}if(N(o)){let l=i,f=o.map((h,d)=>h-l);return new b(f,r.typeInfo)}if(N(i)){let l=o,f=i.map((h,d)=>l-h);return new b(f,s.typeInfo)}let a=o,c=i,u=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new E(a-c,u)}case"*":{if(N(o)&&N(i)){let l=o,f=i;if(r instanceof H&&s instanceof H){let h=(function(_,m,g,y){if(mt[m.name]===void 0||mt[y.name]===void 0)return null;let v=mt[m.name][0],V=mt[m.name][1],L=mt[y.name][0];if(v!==mt[y.name][1])return null;let C=new Array(L*V);for(let D=0;D<V;D++)for(let G=0;G<L;G++){let w=0;for(let R=0;R<v;R++)w+=_[R*V+D]*g[G*v+R];C[D*L+G]=w}return C})(l,r.typeInfo,f,s.typeInfo);if(h===null)return console.error(`Matrix multiplication failed. Line ${e.line}.`),null;let d=mt[s.typeInfo.name][0],p=mt[r.typeInfo.name][1],A=this.getTypeInfo(`mat${d}x${p}f`);return new H(h,A)}if(r instanceof H&&s instanceof b){let h=(function(d,p,A,_){if(mt[p.name]===void 0||Dp[_.name]===void 0)return null;let m=mt[p.name][0],g=mt[p.name][1];if(m!==A.length)return null;let y=new Array(g);for(let v=0;v<g;v++){let V=0;for(let L=0;L<m;L++)V+=d[L*g+v]*A[L];y[v]=V}return y})(l,r.typeInfo,f,s.typeInfo);return h===null?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new b(h,s.typeInfo)}if(r instanceof b&&s instanceof H){let h=(function(d,p,A,_){if(Dp[p.name]===void 0||mt[_.name]===void 0)return null;let m=mt[_.name][0],g=mt[_.name][1];if(g!==d.length)return null;let y=[];for(let v=0;v<m;v++){let V=0;for(let L=0;L<g;L++)V+=d[L]*A[L*m+v];y[v]=V}return y})(l,r.typeInfo,f,s.typeInfo);return h===null?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new b(h,r.typeInfo)}{if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let h=l.map((d,p)=>d*f[p]);return new b(h,r.typeInfo)}}if(N(o)){let l=i,f=o.map((h,d)=>h*l);return r instanceof H?new H(f,r.typeInfo):new b(f,r.typeInfo)}if(N(i)){let l=o,f=i.map((h,d)=>l*h);return s instanceof H?new H(f,s.typeInfo):new b(f,s.typeInfo)}let a=o,c=i,u=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new E(a*c,u)}case"%":{if(N(o)&&N(i)){let l=o,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let h=l.map((d,p)=>d%f[p]);return new b(h,r.typeInfo)}if(N(o)){let l=i,f=o.map((h,d)=>h%l);return new b(f,r.typeInfo)}if(N(i)){let l=o,f=i.map((h,d)=>l%h);return new b(f,s.typeInfo)}let a=o,c=i,u=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new E(a%c,u)}case"/":{if(N(o)&&N(i)){let l=o,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let h=l.map((d,p)=>d/f[p]);return new b(h,r.typeInfo)}if(N(o)){let l=i,f=o.map((h,d)=>h/l);return new b(f,r.typeInfo)}if(N(i)){let l=o,f=i.map((h,d)=>l/h);return new b(f,s.typeInfo)}let a=o,c=i,u=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new E(a/c,u)}case"&":{if(N(o)&&N(i)){let l=o,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let h=l.map((d,p)=>d&f[p]);return new b(h,r.typeInfo)}if(N(o)){let l=i,f=o.map((h,d)=>h&l);return new b(f,r.typeInfo)}if(N(i)){let l=o,f=i.map((h,d)=>l&h);return new b(f,s.typeInfo)}let a=o,c=i,u=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new E(a&c,u)}case"|":{if(N(o)&&N(i)){let l=o,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let h=l.map((d,p)=>d|f[p]);return new b(h,r.typeInfo)}if(N(o)){let l=i,f=o.map((h,d)=>h|l);return new b(f,r.typeInfo)}if(N(i)){let l=o,f=i.map((h,d)=>l|h);return new b(f,s.typeInfo)}let a=o,c=i,u=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new E(a|c,u)}case"^":{if(N(o)&&N(i)){let l=o,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let h=l.map((d,p)=>d^f[p]);return new b(h,r.typeInfo)}if(N(o)){let l=i,f=o.map((h,d)=>h^l);return new b(f,r.typeInfo)}if(N(i)){let l=o,f=i.map((h,d)=>l^h);return new b(f,s.typeInfo)}let a=o,c=i,u=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new E(a^c,u)}case"<<":{if(N(o)&&N(i)){let l=o,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let h=l.map((d,p)=>d<<f[p]);return new b(h,r.typeInfo)}if(N(o)){let l=i,f=o.map((h,d)=>h<<l);return new b(f,r.typeInfo)}if(N(i)){let l=o,f=i.map((h,d)=>l<<h);return new b(f,s.typeInfo)}let a=o,c=i,u=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new E(a<<c,u)}case">>":{if(N(o)&&N(i)){let l=o,f=i;if(l.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let h=l.map((d,p)=>d>>f[p]);return new b(h,r.typeInfo)}if(N(o)){let l=i,f=o.map((h,d)=>h>>l);return new b(f,r.typeInfo)}if(N(i)){let l=o,f=i.map((h,d)=>l>>h);return new b(f,s.typeInfo)}let a=o,c=i,u=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new E(a>>c,u)}case">":if(N(o)&&N(i)){let a=o,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l>c[f]?1:0);return new b(u,r.typeInfo)}if(N(o)){let a=i,c=o.map((u,l)=>u>a?1:0);return new b(c,r.typeInfo)}if(N(i)){let a=o,c=i.map((u,l)=>a>u?1:0);return new b(c,s.typeInfo)}return new E(o>i?1:0,this.getTypeInfo("bool"));case"<":if(N(o)&&N(i)){let a=o,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l<c[f]?1:0);return new b(u,r.typeInfo)}if(N(o)){let a=i,c=o.map((u,l)=>u<a?1:0);return new b(c,r.typeInfo)}if(N(i)){let a=o,c=i.map((u,l)=>a<u?1:0);return new b(c,s.typeInfo)}return new E(o<i?1:0,this.getTypeInfo("bool"));case"==":if(N(o)&&N(i)){let a=o,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l===c[f]?1:0);return new b(u,r.typeInfo)}if(N(o)){let a=i,c=o.map((u,l)=>u==a?1:0);return new b(c,r.typeInfo)}if(N(i)){let a=o,c=i.map((u,l)=>a==u?1:0);return new b(c,s.typeInfo)}return new E(o===i?1:0,this.getTypeInfo("bool"));case"!=":if(N(o)&&N(i)){let a=o,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l!==c[f]?1:0);return new b(u,r.typeInfo)}if(N(o)){let a=i,c=o.map((u,l)=>u!==a?1:0);return new b(c,r.typeInfo)}if(N(i)){let a=o,c=i.map((u,l)=>a!==u?1:0);return new b(c,s.typeInfo)}return new E(o!==i?1:0,this.getTypeInfo("bool"));case">=":if(N(o)&&N(i)){let a=o,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l>=c[f]?1:0);return new b(u,r.typeInfo)}if(N(o)){let a=i,c=o.map((u,l)=>u>=a?1:0);return new b(c,r.typeInfo)}if(N(i)){let a=o,c=i.map((u,l)=>a>=u?1:0);return new b(c,s.typeInfo)}return new E(o>=i?1:0,this.getTypeInfo("bool"));case"<=":if(N(o)&&N(i)){let a=o,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l<=c[f]?1:0);return new b(u,r.typeInfo)}if(N(o)){let a=i,c=o.map((u,l)=>u<=a?1:0);return new b(c,r.typeInfo)}if(N(i)){let a=o,c=i.map((u,l)=>a<=u?1:0);return new b(c,s.typeInfo)}return new E(o<=i?1:0,this.getTypeInfo("bool"));case"&&":if(N(o)&&N(i)){let a=o,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l&&c[f]?1:0);return new b(u,r.typeInfo)}if(N(o)){let a=i,c=o.map((u,l)=>u&&a?1:0);return new b(c,r.typeInfo)}if(N(i)){let a=o,c=i.map((u,l)=>a&&u?1:0);return new b(c,s.typeInfo)}return new E(o&&i?1:0,this.getTypeInfo("bool"));case"||":if(N(o)&&N(i)){let a=o,c=i;if(a.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;let u=a.map((l,f)=>l||c[f]?1:0);return new b(u,r.typeInfo)}if(N(o)){let a=i,c=o.map((u,l)=>u||a?1:0);return new b(c,r.typeInfo)}if(N(i)){let a=o,c=i.map((u,l)=>a||u?1:0);return new b(c,s.typeInfo)}return new E(o||i?1:0,this.getTypeInfo("bool"))}return console.error(`Unknown operator ${e.operator}. Line ${e.line}`),null}_evalCall(e,t){if(e.cachedReturnValue!==null)return e.cachedReturnValue;let r=t.clone();r.currentFunctionName=e.name;let s=t.getFunction(e.name);if(!s)return e.isBuiltin?this._callBuiltinFunction(e,r):this.getTypeInfo(e.name)?this._evalCreate(e,t):(console.error(`Unknown function "${e.name}". Line ${e.line}`),null);for(let o=0;o<s.node.args.length;++o){let i=s.node.args[o],a=this.evalExpression(e.args[o],r);r.createVariable(i.name,a,i)}return this._execStatements(s.node.body,r)}_callBuiltinFunction(e,t){switch(e.name){case"all":return this.builtins.All(e,t);case"any":return this.builtins.Any(e,t);case"select":return this.builtins.Select(e,t);case"arrayLength":return this.builtins.ArrayLength(e,t);case"abs":return this.builtins.Abs(e,t);case"acos":return this.builtins.Acos(e,t);case"acosh":return this.builtins.Acosh(e,t);case"asin":return this.builtins.Asin(e,t);case"asinh":return this.builtins.Asinh(e,t);case"atan":return this.builtins.Atan(e,t);case"atanh":return this.builtins.Atanh(e,t);case"atan2":return this.builtins.Atan2(e,t);case"ceil":return this.builtins.Ceil(e,t);case"clamp":return this.builtins.Clamp(e,t);case"cos":return this.builtins.Cos(e,t);case"cosh":return this.builtins.Cosh(e,t);case"countLeadingZeros":return this.builtins.CountLeadingZeros(e,t);case"countOneBits":return this.builtins.CountOneBits(e,t);case"countTrailingZeros":return this.builtins.CountTrailingZeros(e,t);case"cross":return this.builtins.Cross(e,t);case"degrees":return this.builtins.Degrees(e,t);case"determinant":return this.builtins.Determinant(e,t);case"distance":return this.builtins.Distance(e,t);case"dot":return this.builtins.Dot(e,t);case"dot4U8Packed":return this.builtins.Dot4U8Packed(e,t);case"dot4I8Packed":return this.builtins.Dot4I8Packed(e,t);case"exp":return this.builtins.Exp(e,t);case"exp2":return this.builtins.Exp2(e,t);case"extractBits":return this.builtins.ExtractBits(e,t);case"faceForward":return this.builtins.FaceForward(e,t);case"firstLeadingBit":return this.builtins.FirstLeadingBit(e,t);case"firstTrailingBit":return this.builtins.FirstTrailingBit(e,t);case"floor":return this.builtins.Floor(e,t);case"fma":return this.builtins.Fma(e,t);case"fract":return this.builtins.Fract(e,t);case"frexp":return this.builtins.Frexp(e,t);case"insertBits":return this.builtins.InsertBits(e,t);case"inverseSqrt":return this.builtins.InverseSqrt(e,t);case"ldexp":return this.builtins.Ldexp(e,t);case"length":return this.builtins.Length(e,t);case"log":return this.builtins.Log(e,t);case"log2":return this.builtins.Log2(e,t);case"max":return this.builtins.Max(e,t);case"min":return this.builtins.Min(e,t);case"mix":return this.builtins.Mix(e,t);case"modf":return this.builtins.Modf(e,t);case"normalize":return this.builtins.Normalize(e,t);case"pow":return this.builtins.Pow(e,t);case"quantizeToF16":return this.builtins.QuantizeToF16(e,t);case"radians":return this.builtins.Radians(e,t);case"reflect":return this.builtins.Reflect(e,t);case"refract":return this.builtins.Refract(e,t);case"reverseBits":return this.builtins.ReverseBits(e,t);case"round":return this.builtins.Round(e,t);case"saturate":return this.builtins.Saturate(e,t);case"sign":return this.builtins.Sign(e,t);case"sin":return this.builtins.Sin(e,t);case"sinh":return this.builtins.Sinh(e,t);case"smoothstep":return this.builtins.SmoothStep(e,t);case"sqrt":return this.builtins.Sqrt(e,t);case"step":return this.builtins.Step(e,t);case"tan":return this.builtins.Tan(e,t);case"tanh":return this.builtins.Tanh(e,t);case"transpose":return this.builtins.Transpose(e,t);case"trunc":return this.builtins.Trunc(e,t);case"dpdx":return this.builtins.Dpdx(e,t);case"dpdxCoarse":return this.builtins.DpdxCoarse(e,t);case"dpdxFine":return this.builtins.DpdxFine(e,t);case"dpdy":return this.builtins.Dpdy(e,t);case"dpdyCoarse":return this.builtins.DpdyCoarse(e,t);case"dpdyFine":return this.builtins.DpdyFine(e,t);case"fwidth":return this.builtins.Fwidth(e,t);case"fwidthCoarse":return this.builtins.FwidthCoarse(e,t);case"fwidthFine":return this.builtins.FwidthFine(e,t);case"textureDimensions":return this.builtins.TextureDimensions(e,t);case"textureGather":return this.builtins.TextureGather(e,t);case"textureGatherCompare":return this.builtins.TextureGatherCompare(e,t);case"textureLoad":return this.builtins.TextureLoad(e,t);case"textureNumLayers":return this.builtins.TextureNumLayers(e,t);case"textureNumLevels":return this.builtins.TextureNumLevels(e,t);case"textureNumSamples":return this.builtins.TextureNumSamples(e,t);case"textureSample":return this.builtins.TextureSample(e,t);case"textureSampleBias":return this.builtins.TextureSampleBias(e,t);case"textureSampleCompare":return this.builtins.TextureSampleCompare(e,t);case"textureSampleCompareLevel":return this.builtins.TextureSampleCompareLevel(e,t);case"textureSampleGrad":return this.builtins.TextureSampleGrad(e,t);case"textureSampleLevel":return this.builtins.TextureSampleLevel(e,t);case"textureSampleBaseClampToEdge":return this.builtins.TextureSampleBaseClampToEdge(e,t);case"textureStore":return this.builtins.TextureStore(e,t);case"atomicLoad":return this.builtins.AtomicLoad(e,t);case"atomicStore":return this.builtins.AtomicStore(e,t);case"atomicAdd":return this.builtins.AtomicAdd(e,t);case"atomicSub":return this.builtins.AtomicSub(e,t);case"atomicMax":return this.builtins.AtomicMax(e,t);case"atomicMin":return this.builtins.AtomicMin(e,t);case"atomicAnd":return this.builtins.AtomicAnd(e,t);case"atomicOr":return this.builtins.AtomicOr(e,t);case"atomicXor":return this.builtins.AtomicXor(e,t);case"atomicExchange":return this.builtins.AtomicExchange(e,t);case"atomicCompareExchangeWeak":return this.builtins.AtomicCompareExchangeWeak(e,t);case"pack4x8snorm":return this.builtins.Pack4x8snorm(e,t);case"pack4x8unorm":return this.builtins.Pack4x8unorm(e,t);case"pack4xI8":return this.builtins.Pack4xI8(e,t);case"pack4xU8":return this.builtins.Pack4xU8(e,t);case"pack4x8Clamp":return this.builtins.Pack4x8Clamp(e,t);case"pack4xU8Clamp":return this.builtins.Pack4xU8Clamp(e,t);case"pack2x16snorm":return this.builtins.Pack2x16snorm(e,t);case"pack2x16unorm":return this.builtins.Pack2x16unorm(e,t);case"pack2x16float":return this.builtins.Pack2x16float(e,t);case"unpack4x8snorm":return this.builtins.Unpack4x8snorm(e,t);case"unpack4x8unorm":return this.builtins.Unpack4x8unorm(e,t);case"unpack4xI8":return this.builtins.Unpack4xI8(e,t);case"unpack4xU8":return this.builtins.Unpack4xU8(e,t);case"unpack2x16snorm":return this.builtins.Unpack2x16snorm(e,t);case"unpack2x16unorm":return this.builtins.Unpack2x16unorm(e,t);case"unpack2x16float":return this.builtins.Unpack2x16float(e,t);case"storageBarrier":return this.builtins.StorageBarrier(e,t);case"textureBarrier":return this.builtins.TextureBarrier(e,t);case"workgroupBarrier":return this.builtins.WorkgroupBarrier(e,t);case"workgroupUniformLoad":return this.builtins.WorkgroupUniformLoad(e,t);case"subgroupAdd":return this.builtins.SubgroupAdd(e,t);case"subgroupExclusiveAdd":return this.builtins.SubgroupExclusiveAdd(e,t);case"subgroupInclusiveAdd":return this.builtins.SubgroupInclusiveAdd(e,t);case"subgroupAll":return this.builtins.SubgroupAll(e,t);case"subgroupAnd":return this.builtins.SubgroupAnd(e,t);case"subgroupAny":return this.builtins.SubgroupAny(e,t);case"subgroupBallot":return this.builtins.SubgroupBallot(e,t);case"subgroupBroadcast":return this.builtins.SubgroupBroadcast(e,t);case"subgroupBroadcastFirst":return this.builtins.SubgroupBroadcastFirst(e,t);case"subgroupElect":return this.builtins.SubgroupElect(e,t);case"subgroupMax":return this.builtins.SubgroupMax(e,t);case"subgroupMin":return this.builtins.SubgroupMin(e,t);case"subgroupMul":return this.builtins.SubgroupMul(e,t);case"subgroupExclusiveMul":return this.builtins.SubgroupExclusiveMul(e,t);case"subgroupInclusiveMul":return this.builtins.SubgroupInclusiveMul(e,t);case"subgroupOr":return this.builtins.SubgroupOr(e,t);case"subgroupShuffle":return this.builtins.SubgroupShuffle(e,t);case"subgroupShuffleDown":return this.builtins.SubgroupShuffleDown(e,t);case"subgroupShuffleUp":return this.builtins.SubgroupShuffleUp(e,t);case"subgroupShuffleXor":return this.builtins.SubgroupShuffleXor(e,t);case"subgroupXor":return this.builtins.SubgroupXor(e,t);case"quadBroadcast":return this.builtins.QuadBroadcast(e,t);case"quadSwapDiagonal":return this.builtins.QuadSwapDiagonal(e,t);case"quadSwapX":return this.builtins.QuadSwapX(e,t);case"quadSwapY":return this.builtins.QuadSwapY(e,t)}let r=t.getFunction(e.name);if(r){let s=t.clone();for(let o=0;o<r.node.args.length;++o){let i=r.node.args[o],a=this.evalExpression(e.args[o],s);s.setVariable(i.name,a,i)}return this._execStatements(r.node.body,s)}return null}_callConstructorValue(e,t){if(!e.args||e.args.length===0)return new E(0,this.getTypeInfo(e.type));let r=this.evalExpression(e.args[0],t);return r.typeInfo=this.getTypeInfo(e.type),r.getSubData(this,e.postfix,t).clone()}_callConstructorVec(e,t){let r=this.getTypeInfo(e.type),s=e.type.getTypeName(),o=Dp[s];if(o===void 0)return console.error(`Invalid vec constructor ${s}. Line ${e.line}`),null;let i=[];if(e instanceof Re)if(e.isVector){let a=e.vectorValue;for(let c of a)i.push(c)}else i.push(e.scalarValue);else if(e.args)for(let a of e.args){let c=this.evalExpression(a,t);if(c instanceof b){let u=c.data;for(let l=0;l<u.length;++l){let f=u[l];i.push(f)}}else if(c instanceof E){let u=c.value;i.push(u)}}if(e.type instanceof S&&e.type.format===null&&(e.type.format=S.f32),i.length===0){let a=new Array(o).fill(0);return new b(a,r).getSubData(this,e.postfix,t)}if(i.length===1)for(;i.length<o;)i.push(i[0]);return i.length<o?(console.error(`Invalid vec constructor. Line ${e.line}`),null):new b(i.length>o?i.slice(0,o):i,r).getSubData(this,e.postfix,t)}_callConstructorMatrix(e,t){let r=this.getTypeInfo(e.type),s=e.type.getTypeName(),o=mt[s];if(o===void 0)return console.error(`Invalid matrix constructor ${s}. Line ${e.line}`),null;let i=[];if(e instanceof Re)if(e.isVector){let a=e.vectorValue;for(let c of a)i.push(c)}else i.push(e.scalarValue);else if(e.args)for(let a of e.args){let c=this.evalExpression(a,t);c instanceof b?i.push(...c.data):c instanceof E?i.push(c.value):c instanceof H&&i.push(...c.data)}if(r instanceof nr&&r.format===null&&(r.format=this.getTypeInfo("f32")),i.length===0){let a=new Array(o[2]).fill(0);return new H(a,r).getSubData(this,e.postfix,t)}return i.length!==o[2]?(console.error(`Invalid matrix constructor. Line ${e.line}`),null):new H(i,r).getSubData(this,e.postfix,t)}};si._breakObj=new sn(new Bt("BREAK",null),null),si._continueObj=new sn(new Bt("CONTINUE",null),null),si._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);var Wp=class{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}},$p=class{constructor(){this._tokens=[],this._current=0,this._currentLine=1,this._deferArrayCountEval=[],this._currentLoop=[],this._context=new Wp,this._exec=new si,this._forwardTypeCount=0}parse(e){this._initialize(e),this._deferArrayCountEval.length=0;let t=[];for(;!this._isAtEnd();){let r=this._global_decl_or_directive();if(!r)break;t.push(r)}if(this._deferArrayCountEval.length>0){for(let r of this._deferArrayCountEval){let s=r.arrayType,o=r.countNode;if(o instanceof dt){let i=o.name,a=this._context.constants.get(i);if(a)try{let c=a.constEvaluate(this._exec);s.count=c}catch{}}}this._deferArrayCountEval.length=0}if(this._forwardTypeCount>0)for(let r of t)r.search(s=>{s instanceof Ol||s instanceof ni?s.type=this._forwardType(s.type):s instanceof Rs?s.format=this._forwardType(s.format):s instanceof fn||s instanceof Vs||s instanceof ti?s.type=this._forwardType(s.type):s instanceof Is?s.returnType=this._forwardType(s.returnType):s instanceof kl&&(s.type=this._forwardType(s.type))});return t}_forwardType(e){if(e instanceof Sl){let t=this._getType(e.name);if(t)return t}else e instanceof ni?e.type=this._forwardType(e.type):e instanceof Rs&&(e.format=this._forwardType(e.format));return e}_initialize(e){if(e)if(typeof e=="string"){let t=new jp(e);this._tokens=t.scanTokens()}else this._tokens=e;else this._tokens=[];this._current=0}_updateNode(e,t){return e.line=t??this._currentLine,e}_error(e,t){return{token:e,message:t,toString:()=>`${t}`}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==x.eof}_match(e){if(e instanceof T)return!!this._check(e)&&(this._advance(),!0);for(let t=0,r=e.length;t<r;++t){let s=e[t];if(this._check(s))return this._advance(),!0}return!1}_consume(e,t){if(this._check(e))return this._advance();throw this._error(this._peek(),`${t}. Line:${this._currentLine}`)}_check(e){if(this._isAtEnd())return!1;let t=this._peek();if(e instanceof Array){let r=t.type,s=!1;for(let o of e){if(r===o)return!0;o===x.tokens.name&&(s=!0)}if(s){let o=x.tokens.name.rule.exec(t.lexeme);if(o&&o.index==0&&o[0]==t.lexeme)return!0}return!1}if(t.type===e)return!0;if(e===x.tokens.name){let r=x.tokens.name.rule.exec(t.lexeme);return r&&r.index==0&&r[0]==t.lexeme}return!1}_advance(){var e,t;return this._currentLine=(t=(e=this._peek())===null||e===void 0?void 0:e.line)!==null&&t!==void 0?t:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(x.tokens.semicolon)&&!this._isAtEnd(););if(this._match(x.keywords.alias)){let t=this._type_alias();return this._consume(x.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([t]),t}if(this._match(x.keywords.diagnostic)){let t=this._diagnostic();return this._consume(x.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([t]),t}if(this._match(x.keywords.requires)){let t=this._requires_directive();return this._consume(x.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([t]),t}if(this._match(x.keywords.enable)){let t=this._enable_directive();return this._consume(x.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([t]),t}let e=this._attribute();if(this._check(x.keywords.var)){let t=this._global_variable_decl();return t!=null&&(t.attributes=e),this._consume(x.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([t]),t}if(this._check(x.keywords.override)){let t=this._override_variable_decl();return t!=null&&(t.attributes=e),this._consume(x.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([t]),t}if(this._check(x.keywords.let)){let t=this._global_let_decl();return t!=null&&(t.attributes=e),this._consume(x.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([t]),t}if(this._check(x.keywords.const)){let t=this._global_const_decl();return t!=null&&(t.attributes=e),this._consume(x.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([t]),t}if(this._check(x.keywords.struct)){let t=this._struct_decl();return t!=null&&(t.attributes=e),this._exec.reflection.updateAST([t]),t}if(this._check(x.keywords.fn)){let t=this._function_decl();return t!=null&&(t.attributes=e),this._exec.reflection.updateAST([t]),t}return null}_function_decl(){if(!this._match(x.keywords.fn))return null;let e=this._currentLine,t=this._consume(x.tokens.ident,"Expected function name.").toString();this._consume(x.tokens.paren_left,"Expected '(' for function arguments.");let r=[];if(!this._check(x.tokens.paren_right))do{if(this._check(x.tokens.paren_right))break;let a=this._attribute(),c=this._consume(x.tokens.name,"Expected argument name.").toString();this._consume(x.tokens.colon,"Expected ':' for argument type.");let u=this._attribute(),l=this._type_decl();l!=null&&(l.attributes=u,r.push(this._updateNode(new kl(c,l,a))))}while(this._match(x.tokens.comma));this._consume(x.tokens.paren_right,"Expected ')' after function arguments.");let s=null;if(this._match(x.tokens.arrow)){let a=this._attribute();s=this._type_decl(),s!=null&&(s.attributes=a)}let o=this._compound_statement(),i=this._currentLine;return this._updateNode(new Is(t,r,s,o,e,i),e)}_compound_statement(){let e=[];for(this._consume(x.tokens.brace_left,"Expected '{' for block.");!this._check(x.tokens.brace_right);){let t=this._statement();t!==null&&e.push(t)}return this._consume(x.tokens.brace_right,"Expected '}' for block."),e}_statement(){for(;this._match(x.tokens.semicolon)&&!this._isAtEnd(););if(this._check(x.tokens.attr)&&this._attribute(),this._check(x.keywords.if))return this._if_statement();if(this._check(x.keywords.switch))return this._switch_statement();if(this._check(x.keywords.loop))return this._loop_statement();if(this._check(x.keywords.for))return this._for_statement();if(this._check(x.keywords.while))return this._while_statement();if(this._check(x.keywords.continuing))return this._continuing_statement();if(this._check(x.keywords.static_assert))return this._static_assert_statement();if(this._check(x.tokens.brace_left))return this._compound_statement();let e=null;if(this._check(x.keywords.return))e=this._return_statement();else if(this._check([x.keywords.var,x.keywords.let,x.keywords.const]))e=this._variable_statement();else if(this._match(x.keywords.discard))e=this._updateNode(new Hp);else if(this._match(x.keywords.break)){let t=this._updateNode(new Bl);if(this._currentLoop.length>0){let r=this._currentLoop[this._currentLoop.length-1];t.loopId=r.id}e=t,this._check(x.keywords.if)&&(this._advance(),t.condition=this._optional_paren_expression())}else if(this._match(x.keywords.continue)){let t=this._updateNode(new El);if(!(this._currentLoop.length>0))throw this._error(this._peek(),`Continue statement must be inside a loop. Line: ${t.line}`);{let r=this._currentLoop[this._currentLoop.length-1];t.loopId=r.id}e=t}else e=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement();return e!=null&&this._consume(x.tokens.semicolon,"Expected ';' after statement."),e}_static_assert_statement(){if(!this._match(x.keywords.static_assert))return null;let e=this._currentLine,t=this._optional_paren_expression();return this._updateNode(new Fp(t),e)}_while_statement(){if(!this._match(x.keywords.while))return null;let e=this._updateNode(new gl(null,null));return this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(x.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_continuing_statement(){let e=this._currentLoop.length>0?this._currentLoop[this._currentLoop.length-1].id:-1;if(!this._match(x.keywords.continuing))return null;let t=this._currentLine,r=this._compound_statement();return this._updateNode(new La(r,e),t)}_for_statement(){if(!this._match(x.keywords.for))return null;this._consume(x.tokens.paren_left,"Expected '('.");let e=this._updateNode(new yl(null,null,null,null));return this._currentLoop.push(e),e.init=this._check(x.tokens.semicolon)?null:this._for_init(),this._consume(x.tokens.semicolon,"Expected ';'."),e.condition=this._check(x.tokens.semicolon)?null:this._short_circuit_or_expression(),this._consume(x.tokens.semicolon,"Expected ';'."),e.increment=this._check(x.tokens.paren_right)?null:this._for_increment(),this._consume(x.tokens.paren_right,"Expected ')'."),this._check(x.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(x.keywords.var)){let e=this._variable_decl();if(e===null)throw this._error(this._peek(),"Variable declaration expected.");let t=null;return this._match(x.tokens.equal)&&(t=this._short_circuit_or_expression()),this._updateNode(new fn(e.name,e.type,e.storage,e.access,t),e.line)}if(this._match(x.keywords.let)){let e=this._currentLine,t=this._consume(x.tokens.name,"Expected name for let.").toString(),r=null;if(this._match(x.tokens.colon)){let o=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=o)}this._consume(x.tokens.equal,"Expected '=' for let.");let s=this._short_circuit_or_expression();return this._updateNode(new Vs(t,r,null,null,s),e)}if(this._match(x.keywords.const)){let e=this._currentLine,t=this._consume(x.tokens.name,"Expected name for const.").toString(),r=null;if(this._match(x.tokens.colon)){let o=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=o)}this._consume(x.tokens.equal,"Expected '=' for const.");let s=this._short_circuit_or_expression();return r===null&&s instanceof Re&&(r=s.type),this._updateNode(new ti(t,r,null,null,s),e)}return null}_increment_decrement_statement(){let e=this._current,t=this._unary_expression();if(t==null)return null;if(!this._check(x.increment_operators))return this._current=e,null;let r=this._consume(x.increment_operators,"Expected increment operator");return this._updateNode(new xl(r.type===x.tokens.plus_plus?Zo.increment:Zo.decrement,t))}_assignment_statement(){let e=null,t=this._currentLine;if(this._check(x.tokens.brace_right))return null;let r=this._match(x.tokens.underscore);if(r||(e=this._unary_expression()),!r&&e==null)return null;let s=this._consume(x.assignment_operators,"Expected assignment operator."),o=this._short_circuit_or_expression();return this._updateNode(new Al(ka.parse(s.lexeme),e,o),t)}_func_call_statement(){if(!this._check(x.tokens.ident))return null;let e=this._currentLine,t=this._current,r=this._consume(x.tokens.ident,"Expected function name."),s=this._argument_expression_list();return s===null?(this._current=t,null):this._updateNode(new Ua(r.lexeme,s),e)}_loop_statement(){if(!this._match(x.keywords.loop))return null;this._check(x.tokens.attr)&&this._attribute(),this._consume(x.tokens.brace_left,"Expected '{' for loop.");let e=this._updateNode(new bl([],null));this._currentLoop.push(e);let t=this._statement();for(;t!==null;){if(Array.isArray(t))for(let r of t)e.body.push(r);else e.body.push(t);if(t instanceof La){e.continuing=t;break}t=this._statement()}return this._currentLoop.pop(),this._consume(x.tokens.brace_right,"Expected '}' for loop."),e}_switch_statement(){if(!this._match(x.keywords.switch))return null;let e=this._updateNode(new vl(null,[]));if(this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(x.tokens.attr)&&this._attribute(),this._consume(x.tokens.brace_left,"Expected '{' for switch."),e.cases=this._switch_body(),e.cases==null||e.cases.length==0)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(x.tokens.brace_right,"Expected '}' for switch."),this._currentLoop.pop(),e}_switch_body(){let e=[],t=!1;for(;this._check([x.keywords.default,x.keywords.case]);){if(this._match(x.keywords.case)){let r=this._case_selectors();for(let o of r)if(o instanceof ri){if(t)throw this._error(this._previous(),"Multiple default cases in switch statement.");t=!0;break}this._match(x.tokens.colon),this._check(x.tokens.attr)&&this._attribute(),this._consume(x.tokens.brace_left,"Exected '{' for switch case.");let s=this._case_body();this._consume(x.tokens.brace_right,"Exected '}' for switch case."),e.push(this._updateNode(new Dl(r,s)))}if(this._match(x.keywords.default)){if(t)throw this._error(this._previous(),"Multiple default cases in switch statement.");this._match(x.tokens.colon),this._check(x.tokens.attr)&&this._attribute(),this._consume(x.tokens.brace_left,"Exected '{' for switch default.");let r=this._case_body();this._consume(x.tokens.brace_right,"Exected '}' for switch default."),e.push(this._updateNode(new Il(r)))}}return e}_case_selectors(){let e=[];for(this._match(x.keywords.default)?e.push(this._updateNode(new ri)):e.push(this._shift_expression());this._match(x.tokens.comma);)this._match(x.keywords.default)?e.push(this._updateNode(new ri)):e.push(this._shift_expression());return e}_case_body(){if(this._match(x.keywords.fallthrough))return this._consume(x.tokens.semicolon,"Expected ';'"),[];let e=this._statement();if(e==null)return[];e instanceof Array||(e=[e]);let t=this._case_body();return t.length==0?e:[...e,t[0]]}_if_statement(){if(!this._match(x.keywords.if))return null;let e=this._currentLine,t=this._optional_paren_expression();this._check(x.tokens.attr)&&this._attribute();let r=this._compound_statement(),s=[];this._match_elseif()&&(this._check(x.tokens.attr)&&this._attribute(),s=this._elseif_statement(s));let o=null;return this._match(x.keywords.else)&&(this._check(x.tokens.attr)&&this._attribute(),o=this._compound_statement()),this._updateNode(new wl(t,r,s,o),e)}_match_elseif(){return this._tokens[this._current].type===x.keywords.else&&this._tokens[this._current+1].type===x.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement(e=[]){let t=this._optional_paren_expression(),r=this._compound_statement();return e.push(this._updateNode(new Pp(t,r))),this._match_elseif()&&(this._check(x.tokens.attr)&&this._attribute(),this._elseif_statement(e)),e}_return_statement(){if(!this._match(x.keywords.return))return null;let e=this._short_circuit_or_expression();return this._updateNode(new _l(e))}_short_circuit_or_expression(){let e=this._short_circuit_and_expr();for(;this._match(x.tokens.or_or);)e=this._updateNode(new Ut(this._previous().toString(),e,this._short_circuit_and_expr()));return e}_short_circuit_and_expr(){let e=this._inclusive_or_expression();for(;this._match(x.tokens.and_and);)e=this._updateNode(new Ut(this._previous().toString(),e,this._inclusive_or_expression()));return e}_inclusive_or_expression(){let e=this._exclusive_or_expression();for(;this._match(x.tokens.or);)e=this._updateNode(new Ut(this._previous().toString(),e,this._exclusive_or_expression()));return e}_exclusive_or_expression(){let e=this._and_expression();for(;this._match(x.tokens.xor);)e=this._updateNode(new Ut(this._previous().toString(),e,this._and_expression()));return e}_and_expression(){let e=this._equality_expression();for(;this._match(x.tokens.and);)e=this._updateNode(new Ut(this._previous().toString(),e,this._equality_expression()));return e}_equality_expression(){let e=this._relational_expression();return this._match([x.tokens.equal_equal,x.tokens.not_equal])?this._updateNode(new Ut(this._previous().toString(),e,this._relational_expression())):e}_relational_expression(){let e=this._shift_expression();for(;this._match([x.tokens.less_than,x.tokens.greater_than,x.tokens.less_than_equal,x.tokens.greater_than_equal]);)e=this._updateNode(new Ut(this._previous().toString(),e,this._shift_expression()));return e}_shift_expression(){let e=this._additive_expression();for(;this._match([x.tokens.shift_left,x.tokens.shift_right]);)e=this._updateNode(new Ut(this._previous().toString(),e,this._additive_expression()));return e}_additive_expression(){let e=this._multiplicative_expression();for(;this._match([x.tokens.plus,x.tokens.minus]);)e=this._updateNode(new Ut(this._previous().toString(),e,this._multiplicative_expression()));return e}_multiplicative_expression(){let e=this._unary_expression();for(;this._match([x.tokens.star,x.tokens.forward_slash,x.tokens.modulo]);)e=this._updateNode(new Ut(this._previous().toString(),e,this._unary_expression()));return e}_unary_expression(){return this._match([x.tokens.minus,x.tokens.bang,x.tokens.tilde,x.tokens.star,x.tokens.and])?this._updateNode(new Me(this._previous().toString(),this._unary_expression())):this._singular_expression()}_singular_expression(){let e=this._primary_expression(),t=this._postfix_expression();return t&&(e.postfix=t),e}_postfix_expression(){if(this._match(x.tokens.bracket_left)){let e=this._short_circuit_or_expression();this._consume(x.tokens.bracket_right,"Expected ']'.");let t=this._updateNode(new Jr(e)),r=this._postfix_expression();return r&&(t.postfix=r),t}if(this._match(x.tokens.period)){let e=this._consume(x.tokens.name,"Expected member name."),t=this._postfix_expression(),r=this._updateNode(new rr(e.lexeme));return t&&(r.postfix=t),r}return null}_getStruct(e){return this._context.aliases.has(e)?this._context.aliases.get(e).type:this._context.structs.has(e)?this._context.structs.get(e):null}_getType(e){let t=this._getStruct(e);if(t!==null)return t;switch(e){case"void":return k.void;case"bool":return k.bool;case"i32":return k.i32;case"u32":return k.u32;case"f32":return k.f32;case"f16":return k.f16;case"vec2f":return S.vec2f;case"vec3f":return S.vec3f;case"vec4f":return S.vec4f;case"vec2i":return S.vec2i;case"vec3i":return S.vec3i;case"vec4i":return S.vec4i;case"vec2u":return S.vec2u;case"vec3u":return S.vec3u;case"vec4u":return S.vec4u;case"vec2h":return S.vec2h;case"vec3h":return S.vec3h;case"vec4h":return S.vec4h;case"mat2x2f":return S.mat2x2f;case"mat2x3f":return S.mat2x3f;case"mat2x4f":return S.mat2x4f;case"mat3x2f":return S.mat3x2f;case"mat3x3f":return S.mat3x3f;case"mat3x4f":return S.mat3x4f;case"mat4x2f":return S.mat4x2f;case"mat4x3f":return S.mat4x3f;case"mat4x4f":return S.mat4x4f;case"mat2x2h":return S.mat2x2h;case"mat2x3h":return S.mat2x3h;case"mat2x4h":return S.mat2x4h;case"mat3x2h":return S.mat3x2h;case"mat3x3h":return S.mat3x3h;case"mat3x4h":return S.mat3x4h;case"mat4x2h":return S.mat4x2h;case"mat4x3h":return S.mat4x3h;case"mat4x4h":return S.mat4x4h;case"mat2x2i":return S.mat2x2i;case"mat2x3i":return S.mat2x3i;case"mat2x4i":return S.mat2x4i;case"mat3x2i":return S.mat3x2i;case"mat3x3i":return S.mat3x3i;case"mat3x4i":return S.mat3x4i;case"mat4x2i":return S.mat4x2i;case"mat4x3i":return S.mat4x3i;case"mat4x4i":return S.mat4x4i;case"mat2x2u":return S.mat2x2u;case"mat2x3u":return S.mat2x3u;case"mat2x4u":return S.mat2x4u;case"mat3x2u":return S.mat3x2u;case"mat3x3u":return S.mat3x3u;case"mat3x4u":return S.mat3x4u;case"mat4x2u":return S.mat4x2u;case"mat4x3u":return S.mat4x3u;case"mat4x4u":return S.mat4x4u}return null}_validateTypeRange(e,t){if(t.name==="i32"){if(e<-2147483648||e>2147483647)throw this._error(this._previous(),`Value out of range for i32: ${e}. Line: ${this._currentLine}.`)}else if(t.name==="u32"&&(e<0||e>4294967295))throw this._error(this._previous(),`Value out of range for u32: ${e}. Line: ${this._currentLine}.`)}_primary_expression(){if(this._match(x.tokens.ident)){let r=this._previous().toString();if(this._check(x.tokens.paren_left)){let s=this._argument_expression_list(),o=this._getType(r);return o!==null?this._updateNode(new nn(o,s)):this._updateNode(new Na(r,s))}if(this._context.constants.has(r)){let s=this._context.constants.get(r);return this._updateNode(new Ml(r,s.value))}return this._updateNode(new dt(r))}if(this._match(x.tokens.int_literal)){let r=this._previous().toString(),s=r.endsWith("i")||r.endsWith("i")?k.i32:r.endsWith("u")||r.endsWith("U")?k.u32:k.x32,o=parseInt(r);return this._validateTypeRange(o,s),this._updateNode(new Re(new E(o,this._exec.getTypeInfo(s)),s))}if(this._match(x.tokens.uint_literal)){let r=parseInt(this._previous().toString());return this._validateTypeRange(r,k.u32),this._updateNode(new Re(new E(r,this._exec.getTypeInfo(k.u32)),k.u32))}if(this._match([x.tokens.decimal_float_literal,x.tokens.hex_float_literal])){let r=this._previous().toString(),s=r.endsWith("h");s&&(r=r.substring(0,r.length-1));let o=parseFloat(r);this._validateTypeRange(o,s?k.f16:k.f32);let i=s?k.f16:k.f32;return this._updateNode(new Re(new E(o,this._exec.getTypeInfo(i)),i))}if(this._match([x.keywords.true,x.keywords.false])){let r=this._previous().toString()===x.keywords.true.rule;return this._updateNode(new Re(new E(r?1:0,this._exec.getTypeInfo(k.bool)),k.bool))}if(this._check(x.tokens.paren_left))return this._paren_expression();if(this._match(x.keywords.bitcast)){this._consume(x.tokens.less_than,"Expected '<'.");let r=this._type_decl();this._consume(x.tokens.greater_than,"Expected '>'.");let s=this._paren_expression();return this._updateNode(new Cl(r,s))}let e=this._type_decl(),t=this._argument_expression_list();return this._updateNode(new nn(e,t))}_argument_expression_list(){if(!this._match(x.tokens.paren_left))return null;let e=[];do{if(this._check(x.tokens.paren_right))break;let t=this._short_circuit_or_expression();e.push(t)}while(this._match(x.tokens.comma));return this._consume(x.tokens.paren_right,"Expected ')' for agument list"),e}_optional_paren_expression(){this._match(x.tokens.paren_left);let e=this._short_circuit_or_expression();return this._match(x.tokens.paren_right),e}_paren_expression(){this._consume(x.tokens.paren_left,"Expected '('.");let e=this._short_circuit_or_expression();return this._consume(x.tokens.paren_right,"Expected ')'."),e}_struct_decl(){if(!this._match(x.keywords.struct))return null;let e=this._currentLine,t=this._consume(x.tokens.ident,"Expected name for struct.").toString();this._consume(x.tokens.brace_left,"Expected '{' for struct body.");let r=[];for(;!this._check(x.tokens.brace_right);){let i=this._attribute(),a=this._consume(x.tokens.name,"Expected variable name.").toString();this._consume(x.tokens.colon,"Expected ':' for struct member type.");let c=this._attribute(),u=this._type_decl();u!=null&&(u.attributes=c),this._check(x.tokens.brace_right)?this._match(x.tokens.comma):this._consume(x.tokens.comma,"Expected ',' for struct member."),r.push(this._updateNode(new Ol(a,u,i)))}this._consume(x.tokens.brace_right,"Expected '}' after struct body.");let s=this._currentLine,o=this._updateNode(new ln(t,r,e,s),e);return this._context.structs.set(t,o),o}_global_variable_decl(){let e=this._variable_decl();if(!e)return null;if(this._match(x.tokens.equal)){let t=this._const_expression();e.value=t}if(e.type!==null&&e.value instanceof Re){if(e.value.type.name!=="x32"&&e.type.getTypeName()!==e.value.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${e.value.type.name} to ${e.type.name}. Line:${this._currentLine}`);e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type),e.value.type=e.type}else e.type===null&&e.value instanceof Re&&(e.type=e.value.type.name==="x32"?k.i32:e.value.type,e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type));return e}_override_variable_decl(){let e=this._override_decl();return e&&this._match(x.tokens.equal)&&(e.value=this._const_expression()),e}_global_const_decl(){var e;if(!this._match(x.keywords.const))return null;let t=this._consume(x.tokens.name,"Expected variable name"),r=this._currentLine,s=null;if(this._match(x.tokens.colon)){let c=this._attribute();s=this._type_decl(),s!=null&&(s.attributes=c)}let o=null;this._consume(x.tokens.equal,"const declarations require an assignment");let i=this._short_circuit_or_expression();try{let c=[k.f32],u=i.constEvaluate(this._exec,c);u instanceof E&&this._validateTypeRange(u.value,c[0]),c[0]instanceof S&&c[0].format===null&&u.typeInfo instanceof nr&&u.typeInfo.format!==null&&(u.typeInfo.format.name==="f16"?c[0].format=k.f16:u.typeInfo.format.name==="f32"?c[0].format=k.f32:u.typeInfo.format.name==="i32"?c[0].format=k.i32:u.typeInfo.format.name==="u32"?c[0].format=k.u32:u.typeInfo.format.name==="bool"?c[0].format=k.bool:console.error(`TODO: impelement template format type ${u.typeInfo.format.name}`)),o=this._updateNode(new Re(u,c[0])),this._exec.context.setVariable(t.toString(),u)}catch{o=i}if(s!==null&&o instanceof Re){if(o.type.name!=="x32"&&s.getTypeName()!==o.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${o.type.name} to ${s.name}. Line:${this._currentLine}`);o.type=s,o.isScalar&&this._validateTypeRange(o.scalarValue,o.type)}else s===null&&o instanceof Re&&(s=(e=o?.type)!==null&&e!==void 0?e:k.f32,s===k.x32&&(s=k.i32));let a=this._updateNode(new ti(t.toString(),s,"","",o),r);return this._context.constants.set(a.name,a),a}_global_let_decl(){if(!this._match(x.keywords.let))return null;let e=this._currentLine,t=this._consume(x.tokens.name,"Expected variable name"),r=null;if(this._match(x.tokens.colon)){let o=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=o)}let s=null;if(this._match(x.tokens.equal)&&(s=this._const_expression()),r!==null&&s instanceof Re){if(s.type.name!=="x32"&&r.getTypeName()!==s.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${s.type.name} to ${r.name}. Line:${this._currentLine}`);s.type=r}else r===null&&s instanceof Re&&(r=s.type.name==="x32"?k.i32:s.type);return s instanceof Re&&s.isScalar&&this._validateTypeRange(s.scalarValue,r),this._updateNode(new Vs(t.toString(),r,"","",s),e)}_const_expression(){return this._short_circuit_or_expression()}_variable_decl(){if(!this._match(x.keywords.var))return null;let e=this._currentLine,t="",r="";this._match(x.tokens.less_than)&&(t=this._consume(x.storage_class,"Expected storage_class.").toString(),this._match(x.tokens.comma)&&(r=this._consume(x.access_mode,"Expected access_mode.").toString()),this._consume(x.tokens.greater_than,"Expected '>'."));let s=this._consume(x.tokens.name,"Expected variable name"),o=null;if(this._match(x.tokens.colon)){let i=this._attribute();o=this._type_decl(),o!=null&&(o.attributes=i)}return this._updateNode(new fn(s.toString(),o,t,r,null),e)}_override_decl(){if(!this._match(x.keywords.override))return null;let e=this._consume(x.tokens.name,"Expected variable name"),t=null;if(this._match(x.tokens.colon)){let r=this._attribute();t=this._type_decl(),t!=null&&(t.attributes=r)}return this._updateNode(new Ga(e.toString(),t,null))}_diagnostic(){this._consume(x.tokens.paren_left,"Expected '('");let e=this._consume(x.tokens.ident,"Expected severity control name.");this._consume(x.tokens.comma,"Expected ','");let t=this._consume(x.tokens.ident,"Expected diagnostic rule name.").toString();return this._match(x.tokens.period)&&(t+=`.${this._consume(x.tokens.ident,"Expected diagnostic message.").toString()}`),this._consume(x.tokens.paren_right,"Expected ')'"),this._updateNode(new Tl(e.toString(),t))}_enable_directive(){let e=this._consume(x.tokens.ident,"identity expected.");return this._updateNode(new Np(e.toString()))}_requires_directive(){let e=[this._consume(x.tokens.ident,"identity expected.").toString()];for(;this._match(x.tokens.comma);){let t=this._consume(x.tokens.ident,"identity expected.");e.push(t.toString())}return this._updateNode(new zp(e))}_type_alias(){let e=this._consume(x.tokens.ident,"identity expected.");this._consume(x.tokens.equal,"Expected '=' for type alias.");let t=this._type_decl();if(t===null)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(t.name)&&(t=this._context.aliases.get(t.name).type);let r=this._updateNode(new Fa(e.toString(),t));return this._context.aliases.set(r.name,r),r}_type_decl(){if(this._check([x.tokens.ident,...x.texel_format,x.keywords.bool,x.keywords.f32,x.keywords.i32,x.keywords.u32])){let r=this._advance().toString();if(this._context.structs.has(r))return this._context.structs.get(r);if(this._context.aliases.has(r))return this._context.aliases.get(r).type;if(!this._getType(r)){let s=this._updateNode(new Sl(r));return this._forwardTypeCount++,s}return this._updateNode(new k(r))}let e=this._texture_sampler_types();if(e)return e;if(this._check(x.template_types)){let r=this._advance().toString(),s=null,o=null;return this._match(x.tokens.less_than)&&(s=this._type_decl(),o=null,this._match(x.tokens.comma)&&(o=this._consume(x.access_mode,"Expected access_mode for pointer").toString()),this._consume(x.tokens.greater_than,"Expected '>' for type.")),this._updateNode(new S(r,s,o))}if(this._match(x.keywords.ptr)){let r=this._previous().toString();this._consume(x.tokens.less_than,"Expected '<' for pointer.");let s=this._consume(x.storage_class,"Expected storage_class for pointer");this._consume(x.tokens.comma,"Expected ',' for pointer.");let o=this._type_decl(),i=null;return this._match(x.tokens.comma)&&(i=this._consume(x.access_mode,"Expected access_mode for pointer").toString()),this._consume(x.tokens.greater_than,"Expected '>' for pointer."),this._updateNode(new ni(r,s.toString(),o,i))}let t=this._attribute();if(this._match(x.keywords.array)){let r=null,s=-1,o=this._previous(),i=null;if(this._match(x.tokens.less_than)){r=this._type_decl(),this._context.aliases.has(r.name)&&(r=this._context.aliases.get(r.name).type);let c="";if(this._match(x.tokens.comma)){i=this._shift_expression();try{c=i.constEvaluate(this._exec).toString(),i=null}catch{c="1"}}this._consume(x.tokens.greater_than,"Expected '>' for array."),s=c?parseInt(c):0}let a=this._updateNode(new Rs(o.toString(),t,r,s));return i&&this._deferArrayCountEval.push({arrayType:a,countNode:i}),a}return null}_texture_sampler_types(){if(this._match(x.sampler_type))return this._updateNode(new Cs(this._previous().toString(),null,null));if(this._match(x.depth_texture_type))return this._updateNode(new Cs(this._previous().toString(),null,null));if(this._match(x.sampled_texture_type)||this._match(x.multisampled_texture_type)){let e=this._previous();this._consume(x.tokens.less_than,"Expected '<' for sampler type.");let t=this._type_decl();return this._consume(x.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new Cs(e.toString(),t,null))}if(this._match(x.storage_texture_type)){let e=this._previous();this._consume(x.tokens.less_than,"Expected '<' for sampler type.");let t=this._consume(x.texel_format,"Invalid texel format.").toString();this._consume(x.tokens.comma,"Expected ',' after texel format.");let r=this._consume(x.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(x.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new Cs(e.toString(),t,r))}return null}_attribute(){let e=[];for(;this._match(x.tokens.attr);){let t=this._consume(x.attribute_name,"Expected attribute name"),r=this._updateNode(new Ll(t.toString(),null));if(this._match(x.tokens.paren_left)){if(r.value=this._consume(x.literal_or_ident,"Expected attribute value").toString(),this._check(x.tokens.comma)){this._advance();do{let s=this._consume(x.literal_or_ident,"Expected attribute value").toString();r.value instanceof Array||(r.value=[r.value]),r.value.push(s)}while(this._match(x.tokens.comma))}this._consume(x.tokens.paren_right,"Expected ')'")}e.push(r)}return e.length==0?null:e}},zl=class extends Ds{constructor(e){super(),e&&this.update(e)}update(e){let t=new $p().parse(e);this.updateAST(t)}};var av=`/*TEXTURES*/\r
\r
/*TEXTURES*/\r
\r
\r
/*GLOBALS*/\r
\r
/*GLOBALS*/\r
\r
struct FragInput {\r
  @builtin(position) position : vec4f,\r
  @location(0) uv : vec2f,\r
}\r
\r
@vertex\r
fn VSMain(@builtin(vertex_index) vertexIndex: u32) -> FragInput {\r
  var output: FragInput;\r
\r
  output.position = vec4(array(\r
    vec2( 1.0,  1.0),\r
    vec2( 1.0, -1.0),\r
    vec2(-1.0, -1.0),\r
    vec2( 1.0,  1.0),\r
    vec2(-1.0, -1.0),\r
    vec2(-1.0,  1.0),\r
  )[vertexIndex], 0.5, 1.0);\r
\r
  output.uv = array(\r
    vec2(1.0, 0.0),\r
    vec2(1.0, 1.0),\r
    vec2(0.0, 1.0),\r
    vec2(1.0, 0.0),\r
    vec2(0.0, 1.0),\r
    vec2(0.0, 0.0),\r
  )[vertexIndex];\r
\r
  return output;\r
}\r
\r
struct Output {\r
/*OUTPUT_STRUCT*/\r
\r
/*OUTPUT_STRUCT*/\r
}\r
\r
@fragment\r
fn FSMain(@location(0) uv : vec2f) -> Output  {\r
  /*FRAGMENT_BODY*/\r
\r
  /*FRAGMENT_BODY*/\r
}`;function zM(n){return tv(av,[{delimiter:"/*TEXTURES*/",replaceWith:n.textures},{delimiter:"/*GLOBALS*/",replaceWith:n.globals},{delimiter:"/*OUTPUT_STRUCT*/",replaceWith:n.outputStruct},{delimiter:"/*FRAGMENT_BODY*/",replaceWith:n.fragmentBody}])}var cv={r8unorm:"f32",r8snorm:"f32",r8uint:"u32",r8sint:"i32",r16unorm:"u32",r16snorm:"i32",r16uint:"u32",r16sint:"i32",r16float:"f32",rg8unorm:"vec2f",rg8snorm:"vec2f",rg8uint:"vec2u",rg8sint:"vec2i",r32uint:"u32",r32sint:"i32",r32float:"f32",rg16unorm:"vec2f",rg16snorm:"vec2f",rg16uint:"vec2u",rg16sint:"vec2i",rg16float:"vec2f",rgba8unorm:"vec4f","rgba8unorm-srgb":"vec4f",rgba8snorm:"vec4f",rgba8uint:"vec4u",rgba8sint:"vec4i",bgra8unorm:"vec4f","bgra8unorm-srgb":"vec4f",rgb9e5ufloat:"vec4f",rgb10a2uint:"vec4u",rgb10a2unorm:"vec4f",rg11b10ufloat:"vec4f",rg32uint:"vec2u",rg32sint:"vec2i",rg32float:"vec2f",rgba16unorm:"vec4u",rgba16snorm:"vec4i",rgba16uint:"vec4u",rgba16sint:"vec4i",rgba16float:"vec4f",rgba32uint:"vec4u",rgba32sint:"vec4i",rgba32float:"vec4f"};function uv(n,e){let t="",r="",s=0,o=[];for(let y of e.samplers??[{}])r+=`@group(0) @binding(${s})
var sampler${s}: sampler;
`,o.push(n.createSampler(y)),s++;s=0;let i=new Map,a=new Map,c=Object.entries(e.inputs);for(let[y,v]of c)r+=`@group(1) @binding(${s}) 
var tex_${y}: texture_${v.dimensionality??"2d"}<${v.type??"f32"}>;`,i.set(y,s),t+=`  var ${y} = textureSample(tex_${y}, sampler${v.sampleWith??0}, uv);
`,s++;let u="",l=0;for(let[y,v]of Object.entries(e.outputs))u+=`  @location(${l}) ${y}: ${cv[v]},
`,a.set(y,l),t+=`  var ${y}: ${cv[v]};
`,l++;t+=e.source,t+=`
  var OUTPUT: Output;
`;let f=Object.entries(e.outputs);for(let[y,v]of f)t+=`  OUTPUT.${y} = ${y};
`;t+="return OUTPUT;";let h="";if(h+=e.globals??"",e.uniforms){h+=`@group(2) @binding(0) var<uniform> params : Params;
struct Params {
`;for(let[y,v]of Object.entries(e.uniforms??{}))h+=`  ${y}: ${v},
`;h+="}"}let d=zM({textures:r,globals:h,outputStruct:u,fragmentBody:t}),A=new zl(d).getBindGroups(),_=n.createShaderModule({code:d}),m=n.createRenderPipeline({layout:"auto",vertex:{module:_},fragment:{module:_,targets:f.map(([y,v])=>({format:v}))}}),g=n.createBindGroup({layout:m.getBindGroupLayout(0),entries:o.map((y,v)=>({resource:y,binding:v}))});return{pipeline:m,makeUniformBuffer(){let y=n.createBuffer({size:1024,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM}),v=n.createBindGroup({layout:m.getBindGroupLayout(2),entries:[{resource:y,binding:0}]}),V={buffer:y,bindGroup:v,setBuffer(L){let C=cr({bindGroups:A},2,0,L);return n.queue.writeBuffer(y,0,C),V}};return V},withInputs(y){let v=n.createBindGroup({layout:m.getBindGroupLayout(1),entries:c.map(([V,L],C)=>({resource:y[V],binding:C}))});return V=>(L,C,D)=>{let G=L.beginRenderPass({colorAttachments:f.map(([w,R])=>C[w]instanceof GPUTextureView?{view:C[w],clearValue:[0,0,0,1],loadOp:"clear",storeOp:"store"}:C[w])});G.setPipeline(m),G.setBindGroup(0,g),G.setBindGroup(1,v),V&&G.setBindGroup(2,V.bindGroup),G.draw(6),G.end()}}}}function HM(n,e,t,r,s){let o=Math.tan(r/2),i=li(t,[(n[0]/e[0]-.5)*2*s*o,(n[1]/e[1]-.5)*-2*o,-1,0]);return Ql(Xl(i))}var lv={create(){return{}},init(n){},dependencies:[En],globalDependencies:[Ms,Wo,Hr,ue],brand:"physicalPlayerController",onDestroy(){},fixedUpdate({subsystem:n,instances:e}){let t=n(Wo).state;for(let c of e){let u=[0,0,0];t.isKeyHeld("w")&&(u=ar(u,[0,0,-1])),t.isKeyHeld("s")&&(u=ar(u,[0,0,1])),t.isKeyHeld("a")&&(u=ar(u,[-1,0,0])),t.isKeyHeld("d")&&(u=ar(u,[1,0,0])),c.entity.rigidBody.body.applyImpulse({x:u[0],y:u[1],z:u[2]},!0)}let r=n(Ms),s=n(ue),o=r.state.pollPosition();if(!r.state.isLeftPressed())return;let i=Ia(s.state.viewMatrix),a=Ia(qe(s.state.projectionMatrix,s.state.viewMatrix));for(let c of e){let{RAPIER:u,world:l}=n(Hr).state,f=c.entity.rigidBody.body.translation(),h=Xl(li(i,[0,0,0,1])),d=HM(o,[window.innerWidth,window.innerHeight],i,s.state.fov,s.state.aspect),p=new u.Ray(nl(h),nl(d)),A=l.castRay(p,100,!1);if(A){let _=gp(p.pointAt(A.timeOfImpact)),m=gp(c.entity.rigidBody.body.translation()),g=Ql(Yl(_,m));c.entity.rigidBody.body.applyImpulse(nl(g),!0)}}}},fv={create(){return{rotation:nt([0,0,0]),angles:[0,0],distance:15}},init(){},dependencies:[Lt],globalDependencies:[ue,Ms],onDestroy(){},renderUpdate(n){for(let e of n.instances){let t=e.entity.transform.matrix;n.subsystem(ue).state.viewMatrix=qe(qe(nt([0,0,-e.data.distance]),e.data.rotation),nt([-t[12],-t[13],-t[14]]))}},fixedUpdate({state:n,instances:e,subsystem:t}){let r=t(Ms).state,s=r.pollMovement(),o=r.pollScroll();for(let i of e)if(i.data.distance*=Math.pow(1.1,o),r.isRightPressed()){i.data.angles=ir(i.data.angles,$l(s,.008));let a=[1,0,0],c=[0,1,0];i.data.rotation=qe(fi(a,i.data.angles[1]),fi(c,i.data.angles[0]))}},brand:"trackCamera"};function Hl(n,e){let t=[];for(let r of e.primitives){let s={attributes:{},count:0};for(let[o,i]of Object.entries(r.attributes)){let a=Wn(n,i.value.buffer,GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST);s.attributes[o]=a,s.count=i.count}if(r.indices){let o=Wn(n,r.indices.value.buffer,GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST);s.indices={buffer:o,format:r.indices.bytesPerElement===2?"uint16":"uint32"},s.count=r.indices.count}t.push(s)}return t}function PM(n,e){let t=e.primitives[0],r=Object.entries(t.attributes).find(o=>o[0]==="POSITION")?.[1];if(!r)throw new Error("No position!");let s=t.indices;if(!s)throw new Error("Mesh should be indexed!");return s.bytesPerElement===2?n.ColliderDesc.trimesh(new Float32Array(r.value.buffer),new Uint32Array([...new Uint16Array(s.value.buffer)])):n.ColliderDesc.trimesh(new Float32Array(r.value.buffer),new Uint32Array(s.value.buffer))}async function jM(){let n=await(await fetch("assets/models.glb")).blob();console.log("sdsdsdfds",await Io(await(await fetch("assets/models.glb")).blob(),Ko));let e=await Io(n,Ko),t=pp(e);console.log(t);let r=await o2([Lt,ue,Xb,En,Hr,Bb,vu,Jb,$b,Wb,Wo,Ms,Zb(({device:z,canvas:K})=>({blitToCanvas:uv(z,{inputs:{x:{}},outputs:{y:navigator.gpu.getPreferredCanvasFormat()},source:"y = mix(vec4f(1.0,0.0,0.0,1.0), vec4f(x.rgb, 1.0), x.a);"})}),()=>{},({device:z,canvas:K,ctx:Y,lighting:te},we,Ue)=>{let le=z.createCommandEncoder();Ue.blitToCanvas.withInputs({x:te.createView()})(void 0)(le,{y:Y.getCurrentTexture().createView()}),z.queue.submit([le.finish()])}),lv,fv]),s=r.subsystem(ue).global.device,o=Hl(s,t.meshes[0]),i=Hl(s,t.meshes[2]),a=Hl(s,t.meshes[4]),c=Hl(s,t.meshes[5]),u=[],{world:l,RAPIER:f}=r.subsystem(Hr).global,h=4*16**3,d=Wn(s,new Float32Array(Cn(h).flatMap(z=>[Qr(-10,10),Qr(-10,10),Qr(-40,0),0])),GPUBufferUsage.COPY_DST|GPUBufferUsage.VERTEX|GPUBufferUsage.STORAGE),p=Wn(s,new Float32Array(Cn(h).flatMap(z=>[0,0,0,0])),GPUBufferUsage.COPY_DST|GPUBufferUsage.VERTEX|GPUBufferUsage.STORAGE),A=s.createTexture({dimension:"3d",size:[32,32,32],usage:GPUTextureUsage.STORAGE_BINDING|GPUTextureUsage.COPY_DST,format:"rgba8snorm"}),_=new Int8Array(og(Cn(32),Cn(32),Cn(32)).flatMap(([z,K,Y])=>[Qr(-4,4),Qr(-4,4),Qr(-4,4),0]));for(let z=0;z<1024*32*4;z+=4)_[z]==0&&_[z+1]===0&&_[z+2];s.queue.writeTexture({texture:A},_,{bytesPerRow:128,rowsPerImage:32},[32,32,32]),r.entity({transform:nt([0,0,-15]),particleForcefield:{positionBuffer:d,velocityBuffer:p,forceFieldTexture:A,count:h}});let m=r.entity({transform:nt([0,0,-15]),particleSystem:{drawColor:[1,1,1,1],count:h,positionBuffer:d}}),g=r.entity({transform:nt([0,0,-90]),sampleWebgpuRendererGeometry:{vertexBuffer:i[0].attributes.POSITION,normalBuffer:i[0].attributes.NORMAL,size:i[0].count,indexBuffer:i[0].indices.buffer,indexFormat:"uint16",drawColor:[.2,.4,1,1]}});r.entity({transform:nt([0,0,0]),sampleWebgpuRendererGeometry:{vertexBuffer:a[0].attributes.POSITION,normalBuffer:a[0].attributes.NORMAL,size:a[0].count,indexBuffer:a[0].indices.buffer,indexFormat:"uint16",drawColor:[.27,.29,.31,1]},rigidBody:f.RigidBodyDesc.fixed().setTranslation(0,-10,-10),rigidBodyCollider:PM(f,t.meshes[4]).setFriction(.1)});let y={vertexBuffer:c[0].attributes.POSITION,normalBuffer:c[0].attributes.NORMAL,size:c[0].count,indexBuffer:c[0].indices.buffer,indexFormat:"uint16",drawColor:[1,.5,1,1]},v=1,V=r.entity({transform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],sampleWebgpuRendererGeometry:y,rigidBody:f.RigidBodyDesc.dynamic().setTranslation(0,5,-10),rigidBodyCollider:f.ColliderDesc.ball(.5).setFriction(.1).setCollisionGroups(v|~v<<16),physicalPlayerController:{},trackCamera:{}}),L=[];for(let z=0;z<20;z++)L.push(r.entity({transform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],sampleWebgpuRendererGeometry:y,rigidBody:f.RigidBodyDesc.dynamic().setTranslation(0,5+z,-10).setCcdEnabled(!0),rigidBodyCollider:f.ColliderDesc.ball(.4).setFriction(z==10?1:.1).setCollisionGroups(v|~v<<16)}));for(let z=0;z<19;z++){let K=L[z].component(En),Y=L[z+1].component(En),te=f.JointData.spring(.1,100,.2,{x:0,y:.3,z:0},{x:0,y:-.3,z:0});l.createImpulseJoint(te,K.body,Y.body,!0)}l.createImpulseJoint(f.JointData.spring(.1,100,.2,{x:0,y:.3,z:0},{x:0,y:-.3,z:0}),V.component(En).body,L[0].component(En).body,!0),r.entity({transform:nt([0,30,-20]),pointLightSource:{color:[1,1,1],quadratic:.02,linear:.01,constant:1}}),r.entity({transform:nt([0,30,0]),pointLightSource:{color:[1,1,1],quadratic:.02,linear:.01,constant:1}});let C=0,D=r.subsystem(ue),G=r.subsystem(Wo).global,w=[0,0,0],R=[0,0,0],U=[0,0];async function O(){D.global.aspect=window.innerWidth/window.innerHeight,D.global.fov=1,D.global.near=.1,D.global.far=200,await r.renderUpdate(),await r.fixedUpdate(),C++,requestAnimationFrame(O)}O()}jM();
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
//# sourceMappingURL=index.demo.js.map
